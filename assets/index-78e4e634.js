import{d as k,r as C,c as A,w as z,t as T,l as U,o as i,a as y,b as $,e as h,f as b,g as Q,h as Me,n as P,i as H,j as I,F as j,T as Kt,u as c,k as we,m as Xt,p as Zt,q as M,s as _,v as ea,x,y as te,z as bt,A as ne,B as re,C as be,D as ze,E as V,G as ta,H as aa,I as sa,J as Se,K as xe,L as Ne,M as oa,N as la,O as na,P as ra,Y as ce,Q as oe,R as ia,S as de,U as ca,V as ua,W as da,X as _a,Z as pa}from"./vendor-463a65c4.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function a(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(o){if(o.ep)return;o.ep=!0;const l=a(o);fetch(o.href,l)}})();function _e(s,e=0,a=".",t=","){const o=isFinite(+s)?+s:0,l=isFinite(+e)?Math.abs(e):0,n=typeof t>"u"?",":t,d=typeof a>"u"?".":a,u=function(m,g){const S=Math.pow(10,g);return Math.round(m*S)/S},r=(l?u(o,l):Math.round(o)).toString().split(".");return r[0].length>3&&(r[0]=r[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,n)),(r[1]||"").length<l&&(r[1]=r[1]||"",r[1]+=new Array(l-r[1].length+1).join("0")),r.join(d)}function J(s,e){const a=Math.abs(s);return e==="percentage"?"%":e==="dollar"?a>=1*10**12?"t":a>=1*10**9?"b":a>=1*10**6?"m":a>=1*10**3?"k":"":""}function K(s,e,a){const t=Math.abs(s);return a==="percentage"?_e(s,e):a==="dollar"?t>=1*10**12?_e(s/10**12,e):t>=1*10**9?_e(s/10**9,e):t>=1*10**6?_e(s/10**6,e):t>=1*10**3?_e(s/10**3,e):_e(s,e):s.toString()}function Pe(s,e){return(Array.isArray(s)?s:[s]).some(t=>e.path.indexOf(t)===0)}const va="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",ma="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",ha="0x657ce046d98d163ef4f846210f25919fa7b31944",fa="https://api.llama.airforce/";async function ga(s,e,a){return await fetch(s,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:a})}async function ba(s,e,a){return await(await ga(s,e,a)).json()}class ya{constructor(e){this.host=e}async fetch(e,a,t){return ba(e,a,t)}}const $a="|/-\\",L=k({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(s){let e=0,a=0;const t=C("|"),o=A(()=>s.value?K(s.value,s.precision,s.type??""):s.value===0&&s.showZero?"0":s.value===null||s.value===void 0?t.value:"?"),l=A(()=>!s.value||!s.type||!U.isFinite(s.value)?s.showUnit&&s.type?J(0,s.type):"":J(s.value,s.type));return z(()=>s.value,n=>{if(clearInterval(a),e=0,n)return;const d=()=>{e=(e+1)%4,t.value=$a[e]};a=window.setInterval(d,250)},{immediate:!0}),(n,d)=>T(n.showSymbol&&n.type==="dollar"?"$":"")+T(o.value)+T(n.showUnit?l.value:"")}}),Ca={key:0,class:"fas fa-chevron-right"},wa=k({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(s,{emit:e}){const a=o=>{var l;return s.active?s.active.id===o.id:((l=s.crumbs.at(-1))==null?void 0:l.id)===o.id},t=o=>{var l;return((l=s.crumbs.at(-1))==null?void 0:l.id)===o.id};return(o,l)=>(i(),y(c(Y),null,{default:$(()=>[h(Kt,{name:"fade",tag:"ul"},{default:$(()=>[(i(!0),b(j,null,Q(o.crumbs,n=>(i(),b("li",{key:n.id},[(i(),y(Me(a(n)?"span":"a"),{class:P({active:a(n)}),onClick:d=>e("crumb",n)},{default:$(()=>[H(T(n.label),1)]),_:2},1032,["class","onClick"])),!t(n)||o.crumbs.length===1?(i(),b("i",Ca)):I("",!0)]))),128))]),_:1})]),_:1}))}});const w=(s,e)=>{const a=s.__vccOpts||s;for(const[t,o]of e)a[t]=o;return a},ka=w(wa,[["__scopeId","data-v-997741c8"]]);function Sa(){return!1}we({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(s){this.address=s==null?void 0:s.toLocaleLowerCase()}}});Xt();Zt({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"});function le(s,e=6){if(!s)return"0x000...000";const a=e/2+2,t=s.length-e/2;return`${s.substring(0,a)}...${s.substring(t)}`}const Da=k({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(s,{emit:e}){const a=async t=>{t.stopImmediatePropagation(),!(s.web3&&Sa())&&e("click")};return(t,o)=>(i(),b("button",{class:P({primary:t.primary}),onClick:a},[M(t.$slots,"default",{},()=>[t.icon?(i(),b("i",{key:0,class:P(["icon",[t.icon,{noValue:!!t.value}]])},null,2)):I("",!0),H(" "+T(t.value),1)],!0)],2))}});const ie=w(Da,[["__scopeId","data-v-71e224f0"]]),Aa=k({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(s,{emit:e}){const a=()=>{e("update:modelValue",!s.modelValue)};return(t,o)=>(i(),b("button",{class:P({toggled:t.modelValue}),onClick:a},[M(t.$slots,"default",{},()=>[t.icon?(i(),b("i",{key:0,class:P(["icon",t.icon])},null,2)):I("",!0),H(" "+T(t.value),1)],!0)],2))}});const ke=w(Aa,[["__scopeId","data-v-38d61379"]]),Ia={class:"card"},Ta={class:"text"},za=k({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(s){return(e,a)=>(i(),b("div",Ia,[e.loading?(i(),y(c(wt),{key:0,class:"loader"})):I("",!0),_("div",{class:P(["card-container",{loading:e.loading}])},[e.title?(i(),b("div",{key:0,class:P(["card-header",{collapsible:e.collapsible}])},[_("div",Ta,[e.icon?(i(),b("i",{key:0,class:P(["icon",e.icon])},null,2)):I("",!0),H(" "+T(e.title),1)]),M(e.$slots,"actions",{},void 0,!0)],2)):(i(),b("div",{key:1,class:P(["card-no-header",{compact:e.compact}])},null,2)),_("div",{class:P(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[M(e.$slots,"default",{},void 0,!0)],2)],2)]))}});const Y=w(za,[["__scopeId","data-v-317ddfe2"]]),Pa=k({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(s){return(e,a)=>(i(),y(c(Y),{class:"card-graph",title:e.title,loading:e.loading},{default:$(()=>[h(c(ts),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),M(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const Z=w(Pa,[["__scopeId","data-v-4e0fd9b7"]]),Oa={class:"chip"},La={class:"label"},Ma=k({__name:"Chip",props:{label:{default:""}},setup(s){return(e,a)=>(i(),b("div",Oa,[_("div",La,T(e.label),1)]))}});const xa=w(Ma,[["__scopeId","data-v-1eb2caf8"]]);const Va={class:"collapsible-inside"},Ra=k({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(s){return(e,a)=>(i(),b("div",{class:P(["collapsible-outside",{expanded:e.expanded}])},[_("div",Va,[M(e.$slots,"default",{},void 0,!0)])],2))}});const Ve=w(Ra,[["__scopeId","data-v-25b74378"]]),Ba={key:1,class:"header"},Wa={key:0,class:"header-icon"},Fa={class:"header-actions"},Na={key:2,class:"list"},Ea=["onClick"],Ha={key:0,class:"sorting-arrows"},Ua={key:0,class:"sorting-arrow fa fa-caret-up"},qa={key:1,class:"sorting-arrow fa fa-caret-down"},Ga={key:2,class:"sorting-arrow"},ja={class:"rows"},Qa={key:3,class:"no-data"},Re=k({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(s,{emit:e}){const a=C(""),t=C(se.Ascending),o=A(()=>`grid-template-columns: ${s.columnsHeader}`),l=A(()=>{if(s.rowsMin===null)return[];const v=Math.max(0,s.rowsMin-s.rows.length);return new Array(v)});ea(()=>{s.sortingDefaultColumn&&(a.value=s.sortingDefaultColumn),s.sortingDefaultDir&&(t.value=s.sortingDefaultDir===se.Ascending?se.Ascending:se.Descending)});const n=v=>{e("selected",v)},{t:d}=x(),u=v=>{const f=v+1;return!!(s.rows[v+1]&&s.rows.findIndex(O=>O===s.selectedRow)===f)},r=v=>s.expanded.includes(v),m=v=>{const f=s.sortingColumns[v];return s.sortingColumnsEnabled.includes(f)},g=v=>a.value===s.sortingColumns[v]&&t.value==="Ascending",S=v=>a.value===s.sortingColumns[v]&&t.value==="Descending",p=v=>{if(!s.sorting||!s.sortingColumns||!m(v))return;const f=s.sortingColumns[v];f===a.value?t.value=t.value===se.Ascending?se.Descending:se.Ascending:t.value=se.Ascending,a.value=f,e("sortColumn",a.value,t.value)};return(v,f)=>(i(),b("div",{class:P(["datatable",{loading:v.loading}])},[v.loading?(i(),y(c(wt),{key:0,class:"loader"})):I("",!0),v.header?(i(),b("div",Ba,[v.icon?(i(),b("div",Wa,[_("i",{class:P(v.icon)},null,2)])):I("",!0),_("div",{class:"header-title",style:te(o.value)},[M(v.$slots,"header-title",{},void 0,!0)],4),_("div",Fa,[M(v.$slots,"header-actions",{},void 0,!0)])])):I("",!0),v.rowsMin||v.rows&&v.rows.length>0?(i(),b("div",Na,[_("div",{class:P(["row-data",[v.columnsData,{"selected-below":u(-1)}]])},[M(v.$slots,"column-headers",{},()=>[(i(!0),b(j,null,Q(v.columns,(D,F)=>(i(),b("div",{key:D,class:P(["column-header",{"sortable-header":v.sorting&&m(F),"current-sort":a.value==v.sortingColumns[F]}]),onClick:O=>p(F)},[H(T(D)+" ",1),v.sorting&&m(F)?(i(),b("div",Ha,[g(F)?(i(),b("i",Ua)):S(F)?(i(),b("i",qa)):(i(),b("span",Ga," — "))])):I("",!0)],10,Ea))),128))],!0)],2),_("div",ja,[(i(!0),b(j,null,Q(v.rows,(D,F)=>(i(),y(c(Ae),{key:D,data:D,class:P({"selected-below":u(F)}),columns:v.columnsData,selected:v.selectedRow===D,expanded:r(D),onClick:n},{row:$(()=>[M(v.$slots,"row",{item:D},void 0,!0)]),"row-details":$(()=>[M(v.$slots,"row-details",{item:D},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(i(!0),b(j,null,Q(l.value,D=>(i(),y(c(Ae),{key:D}))),128)),v.$slots["row-aggregation"]?(i(),y(c(Ae),{key:0,class:"aggregation",columns:v.columnsData},{row:$(()=>[M(v.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):I("",!0)])])):!v.rowsMin&&!v.loading?(i(),b("div",Qa,[M(v.$slots,"no-data",{},()=>[H(T(c(d)("no-data")),1)],!0)])):I("",!0)],2))}});function Ee(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":a=>{const{normalize:t}=a;return t(["No data :("])}}})}function He(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":a=>{const{normalize:t}=a;return t(["没有数据 :("])}}})}typeof Ee=="function"&&Ee(Re);typeof He=="function"&&He(Re);const Ce=w(Re,[["__scopeId","data-v-50e85b9c"]]),Ja=s=>(ne("data-v-45ff862c"),s=s(),re(),s),Ya=Ja(()=>_("i",{class:"fas fa-chevron-up"},null,-1)),Ka=[Ya],Xa={class:"row-details"},Za=k({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(s,{emit:e}){const a=bt(),t=A(()=>{var n;const l=a["row-details"];if(l){const d=(n=l()[0])==null?void 0:n.children;if(d)return d.length>0}return!1}),o=()=>{e("click",s.data)};return(l,n)=>(i(),b("div",{class:P(["row",{expanded:l.expanded}])},[_("div",{class:P(["row-data item",[l.columns,{active:l.selected,expandable:t.value}]]),onClick:o},[M(l.$slots,"row",{},void 0,!0),t.value?(i(),b("div",{key:0,class:P(["expander",{expanded:l.expanded}])},Ka,2)):I("",!0)],2),h(c(Ve),{expanded:l.expanded},{default:$(()=>[_("div",Xa,[M(l.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const Ae=w(Za,[["__scopeId","data-v-45ff862c"]]),es=k({__name:"GraphApex",props:{options:{},series:{}},setup(s){return(e,a)=>{const t=be("apexchart");return i(),y(t,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const ts=w(es,[["__scopeId","data-v-3e2879ed"]]);const as=s=>(ne("data-v-e9d8f446"),s=s(),re(),s),ss={class:"input-text"},os={key:0,class:"icon"},ls=as(()=>_("i",{class:"fas fa-search"},null,-1)),ns=[ls],rs=["type","value","placeholder","onInput"],is=["onClick"],cs=k({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(s,{emit:e}){const a=A(()=>{const o=s.options.filter(n=>s.filter(s.modelValue,n));return s.sort?[...o].sort(s.sort):o}),t=o=>{const l=o.target.value;e("update:modelValue",l),e("input",l)};return(o,l)=>(i(),b("div",ss,[o.search?(i(),b("span",os,ns)):I("",!0),_("input",{type:o.search?"search":"text",value:o.modelValue,placeholder:o.placeholder,onInput:ze(t,["stop"]),onSelect:l[0]||(l[0]=ze(()=>{},["stop"]))},null,40,rs),o.options&&o.autoComplete?(i(),b("div",{key:1,class:P(["items",{selectHide:!o.autoComplete}])},[(i(!0),b(j,null,Q(a.value,(n,d)=>(i(),b("div",{key:d,onClick:u=>e("select",n)},[M(o.$slots,"item",{item:n,idx:d},()=>[H(T(n),1)],!0)],8,is))),128))],2)):I("",!0)]))}});const us=w(cs,[["__scopeId","data-v-e9d8f446"]]),ds={key:0,class:"value"},_s={key:1,class:"value"},ps=["innerHTML"],vs={key:0,class:"value"},ms={key:1,class:"value"},hs=["innerHTML"],fs={class:"labels"},gs={class:"label"},bs={class:"label-second"},ys=k({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(s){return(e,a)=>(i(),b("div",{class:P(["kpi",{disabled:!e.hasValue}])},[_("div",{class:P(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[M(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(i(),y(c(Oe),{key:0},{item:$(()=>[e.hasValue?(i(),b("span",ds,T(e.value),1)):(i(),b("span",_s," ? "))]),default:$(()=>[M(e.$slots,"tooltip",{},()=>[_("span",{innerHTML:e.tooltip},null,8,ps)],!0)]),_:3})):(i(),b(j,{key:1},[e.hasValue?(i(),b("span",vs,T(e.value),1)):(i(),b("span",ms," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(i(),y(c(Oe),{key:0},{default:$(()=>[_("span",{innerHTML:e.tooltip},null,8,hs)]),_:1})):I("",!0)],2),_("div",fs,[M(e.$slots,"label",{},()=>[_("div",gs,T(e.label),1)],!0),M(e.$slots,"label-second",{},()=>[_("div",bs,T(e.labelSecond),1)],!0)])],2))}});const G=w(ys,[["__scopeId","data-v-0123c061"]]),$s={key:0,class:"modal"},Cs={class:"modal-popup"},ws=k({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(s,{emit:e}){return z(()=>s.show,a=>{document.body.style.overflow=a?"hidden":""}),(a,t)=>a.show?(i(),b("div",$s,[_("div",{class:"modal-mask",onClick:t[0]||(t[0]=o=>e("close"))}),_("div",Cs,[M(a.$slots,"default",{},void 0,!0)])])):I("",!0)}});const ks=w(ws,[["__scopeId","data-v-49c4143d"]]),Ss={class:"buttons"},Ds={key:1,class:"not-ready"},yt=k({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(s,{emit:e}){const{t:a}=x();return(t,o)=>(i(),y(c(ks),{show:t.show},{default:$(()=>[h(c(Y),{title:t.title},{default:$(()=>[M(t.$slots,"default",{},void 0,!0),_("div",Ss,[h(c(ie),{class:"no",value:c(a)("no"),onClick:o[0]||(o[0]=l=>e("no"))},null,8,["value"]),t.ready?(i(),y(c(ie),{key:0,class:"yes",value:c(a)("yes"),onClick:o[1]||(o[1]=l=>e("yes"))},null,8,["value"])):(i(),b("div",Ds,T(t.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function Ue(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:a=>{const{normalize:t}=a;return t(["Yes"])},no:a=>{const{normalize:t}=a;return t(["No"])}}})}function qe(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:a=>{const{normalize:t}=a;return t(["是的"])},no:a=>{const{normalize:t}=a;return t(["不是"])}}})}typeof Ue=="function"&&Ue(yt);typeof qe=="function"&&qe(yt);const As=s=>(ne("data-v-18a4b249"),s=s(),re(),s),Is={class:"select"},Ts={class:"item"},zs={key:0,class:"label"},Ps=["onClick"],Os=As(()=>_("div",{class:"chevrons"},[_("i",{class:"fas fa-chevron-up"}),_("i",{class:"fas fa-chevron-down"})],-1)),Ls=k({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(s,{emit:e}){return(a,t)=>(i(),b("div",{class:"select-container",tabindex:"0",onClick:t[0]||(t[0]=ze(o=>e("open"),["stop"])),onBlur:t[1]||(t[1]=o=>e("close"))},[_("div",Is,[_("div",{class:P(["selected",{open:a.open}])},[M(a.$slots,"item",{item:a.selected},()=>[_("div",Ts,T(a.selected),1)],!0),a.label?(i(),b("div",zs,T(a.label),1)):I("",!0)],2),_("div",{class:P(["items",{selectHide:!a.open}])},[(i(!0),b(j,null,Q(a.options,(o,l)=>(i(),b("div",{key:l,onClick:n=>e("input",o)},[M(a.$slots,"item",{item:o},()=>[H(T(o),1)],!0)],8,Ps))),128))],2)]),Os],32))}});const $t=w(Ls,[["__scopeId","data-v-18a4b249"]]),Ms={class:"item"},xs={class:"label"},Ge="locale",Vs=k({__name:"SelectLanguage",props:{locales:{default:()=>Rs},direction:{default:"up"}},setup(s){const{t:e}=x(),{locale:a}=x({useScope:"global"}),t=C("en"),o=C(!1);V(()=>{const d=localStorage.getItem(Ge);d&&s.locales.some(u=>u===d)&&n(d)});const l=()=>{o.value=!o.value},n=d=>{t.value=d,a.value=t.value,localStorage.setItem(Ge,t.value)};return(d,u)=>(i(),y(c($t),{class:P(["select",{"direction-up":d.direction==="up"}]),options:d.locales.map(r=>r),selected:t.value,open:o.value,onOpen:l,onClose:u[0]||(u[0]=r=>o.value=!1),onInput:n},{item:$(r=>[_("div",Ms,[_("div",xs,T(c(e)(r.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function je(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:a=>{const{normalize:t}=a;return t(["English"])},zh:a=>{const{normalize:t}=a;return t(["中文"])},fr:a=>{const{normalize:t}=a;return t(["Français"])}}})}typeof je=="function"&&je(Vs);const Rs=["en","zh","fr"];var se=(s=>(s.Ascending="Ascending",s.Descending="Descending",s))(se||{});const Bs={},Ct=s=>(ne("data-v-ad2adcec"),s=s(),re(),s),Ws={class:"lds-ripple"},Fs=Ct(()=>_("div",null,null,-1)),Ns=Ct(()=>_("div",null,null,-1)),Es=[Fs,Ns];function Hs(s,e){return i(),b("div",Ws,Es)}const wt=w(Bs,[["render",Hs],["__scopeId","data-v-ad2adcec"]]),pe=k({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(s){return(e,a)=>M(e.$slots,"default")}}),Us={class:"tab-view"},qs={class:"tab-headers"},Gs=["onClick"],js={class:"tabs"},Qs=k({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(s,{emit:e}){const a=C(null),t=bt(),o=A(()=>t!=null&&t.default?t.default():[]);z(()=>s.active,n=>{a.value=n,e("tab",{tab:o.value[n],index:a.value})},{immediate:!0});const l=(n,d)=>{n.props.disabled||(a.value=d,e("tab",{tab:o.value[d],index:a.value}))};return(n,d)=>(i(),b("div",Us,[_("ul",qs,[(i(!0),b(j,null,Q(o.value,(u,r)=>(i(),b("li",{key:r,class:P(["tab-header",{active:a.value===r,disabled:u.props.disabled}]),onClick:m=>l(u,r)},T(u.props.header),11,Gs))),128))]),_("div",js,[(i(!0),b(j,null,Q(o.value,(u,r)=>ta((i(),b("div",{key:r,class:"tab"},[(i(),y(Me(u)))])),[[aa,a.value===r]])),128))])]))}});const Js=w(Qs,[["__scopeId","data-v-4a99a489"]]),Ys="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",Ks={key:1,src:Ys},Xs=k({__name:"Tooltip",props:{icon:{default:""}},setup(s){const e=C(!1);return(a,t)=>(i(),y(c(sa),{class:"tooltip",show:e.value},{content:$(()=>[M(a.$slots,"default",{},void 0,!0)]),default:$(()=>[_("div",{onMouseover:t[0]||(t[0]=o=>e.value=!0),onMouseleave:t[1]||(t[1]=o=>e.value=!1)},[M(a.$slots,"item",{},()=>[a.icon?(i(),b("i",{key:0,class:P(a.icon)},null,2)):(i(),b("img",Ks))],!0)],32)]),_:3},8,["show"]))}});const Oe=w(Xs,[["__scopeId","data-v-2158cb4b"]]),Zs={class:"legend"},eo=["onClick"],to={class:"label"},ao=k({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(s,{emit:e}){const a=t=>s.colors[t];return(t,o)=>(i(),b("div",Zs,[(i(!0),b(j,null,Q(t.items,(l,n)=>(i(),b("div",{key:l,class:P(["item",{clickable:t.clickable,disabled:t.disabled.includes(l)}]),onClick:d=>{t.clickable&&e("click",l)}},[_("div",{class:"color",style:te({"background-color":a(n)})},null,4),_("div",to,T(l),1)],10,eo))),128))]))}});const so=w(ao,[["__scopeId","data-v-b0a9ca48"]]);function Ie(s){return(s==null?void 0:s.children)!==void 0}function Qe(s){return(s==null?void 0:s.to)!==void 0}const oo={key:0},lo={class:"nav-link-container"},no={class:"nav-link-container"},ro={class:"left"},io={class:"right"},co=k({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(s,{emit:e}){const a=Se(),t=C(!0),o=A(()=>Qe(s.item)?[s.item]:Ie(s.item)?s.item.children:[]),l=()=>{Ie(s.item)&&s.item.children.filter(u=>Pe(u.to,a)).length>0&&(t.value=!0)};z(()=>s.item,()=>{l()},{immediate:!0}),z(()=>a.fullPath,()=>{l()},{immediate:!0});const n=()=>{t.value=!t.value};return(d,u)=>{const r=be("router-link");return i(),b(j,null,[c(Ie)(d.item)?(i(),b("li",oo,[_("a",{class:"nav-link node",onClick:n},[_("div",lo,[H(T(d.item.label)+" ",1),_("i",{class:P(["expander fas fa-chevron-up",{expanded:t.value}])},null,2)])])])):I("",!0),h(c(Ve),{class:"items",expanded:t.value},{default:$(()=>[_("ul",null,[(i(!0),b(j,null,Q(o.value,m=>(i(),b("li",{key:m.label},[c(Qe)(m)?(i(),y(r,{key:0,to:m.to,class:P(["nav-link leaf",{"router-link-active":c(Pe)(m.to,c(a))}]),onClick:u[0]||(u[0]=g=>e("navigated"))},{default:$(()=>[_("div",no,[_("div",ro,T(m.label),1),_("div",io,[m.tag==="beta"?(i(),y(c(xa),{key:0,label:"BETA"})):I("",!0)])])]),_:2},1032,["to","class"])):I("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const uo=w(co,[["__scopeId","data-v-d8ba8816"]]),_o=k({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(s,{emit:e}){const a=Se(),t=A(()=>s.pages.find(l=>Pe(l.titleRoute,a))),o=A(()=>{var l;return((l=t.value)==null?void 0:l.menuItems)??[]});return(l,n)=>(i(),b("nav",null,[(i(!0),b(j,null,Q(o.value,d=>(i(),b("ul",{key:d.label},[h(uo,{item:d,onNavigated:n[0]||(n[0]=u=>e("navigated"))},null,8,["item"])]))),128))]))}});const po=w(_o,[["__scopeId","data-v-59493144"]]),vo="/assets/prisma-b38af1f3.png",mo="/assets/hat-80c6c9b1.png";const ho={},kt=s=>(ne("data-v-f01d266e"),s=s(),re(),s),fo={class:"logo"},go=kt(()=>_("div",{class:"visual"},[_("img",{src:vo}),_("img",{src:mo})],-1)),bo=kt(()=>_("span",null,"prisma.monitor",-1)),yo=[go,bo];function $o(s,e){return i(),b("div",fo,yo)}const Co=w(ho,[["render",$o],["__scopeId","data-v-f01d266e"]]),wo={class:"header"},ko={class:"buttons"},So=k({__name:"Header",emits:["toggle-expansion","navigated"],setup(s,{emit:e}){return(a,t)=>{const o=be("router-link");return i(),b("div",wo,[h(o,{class:"logo",to:"/",onClick:t[0]||(t[0]=l=>e("navigated"))},{default:$(()=>[h(Co,{class:"logo"})]),_:1}),_("div",ko,[h(c(ie),{icon:"fas fa-bars",onClick:t[1]||(t[1]=l=>e("toggle-expansion"))})])])}}});const Do=w(So,[["__scopeId","data-v-a5771fce"]]),ve={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"};ve.blue,ve.yellow,ve.green,ve.red,ve.purple;const me={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"};me.blue,me.yellow,me.green,me.red,me.purple;const he={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"};he.blue,he.yellow,he.green,he.red,he.purple;function Je(s){return s==="chad"?he:s==="light"?me:ve}const E=we({id:"settingsStore",state:()=>({theme:"light"})}),Ao={class:"theme"},Io={class:"label"},To={class:"colors"},zo=k({__name:"SelectTheme",setup(s){const e=[{id:"dark",colors:Je("dark")},{id:"light",colors:Je("light")}],a=E(),t=C(e[0]),o=C(!1);V(()=>{const d=window.matchMedia("(prefers-color-scheme: dark)").matches,u=localStorage.getItem("theme");if(!u&&d)n(e.find(r=>r.id==="dark"));else{const r=e.find(m=>m.id===u)??e.find(m=>m.id==="light")??e[0];n(r)}});const l=()=>{o.value=!o.value},n=d=>{t.value=d,window.document.documentElement.setAttribute("data-theme",t.value.id),a.theme=t.value.id,localStorage.setItem("theme",t.value.id)};return(d,u)=>(i(),y(c($t),{class:"select direction-up",options:e.map(r=>r),selected:t.value,open:o.value,onOpen:l,onClose:u[0]||(u[0]=r=>o.value=!1),onInput:n},{item:$(r=>[_("div",Ao,[_("div",Io,T(r.item.id),1),_("div",To,[_("div",{class:"color",style:te({"background-color":r.item.colors.backgroundColor})},null,4),_("div",{class:"color",style:te({"background-color":r.item.colors.level1})},null,4),_("div",{class:"color",style:te({"background-color":r.item.colors.level2})},null,4),_("div",{class:"color",style:te({"background-color":r.item.colors.blue})},null,4),_("div",{class:"color",style:te({"background-color":r.item.colors.yellow})},null,4),_("div",{class:"color",style:te({"background-color":r.item.colors.green})},null,4),_("div",{class:"color",style:te({"background-color":r.item.colors.red})},null,4),_("div",{class:"color",style:te({"background-color":r.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const Po=w(zo,[["__scopeId","data-v-12a81df3"]]),Oo={class:"bottom"},Lo={class:"buttons"},Mo={href:"https://twitter.com/0xAlunara",target:"_blank"},xo={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},Vo={class:"selectors"},Ro=k({__name:"Bottom",emits:["navigated"],setup(s,{emit:e}){const a=async()=>{await navigator.clipboard.writeText(window.location.href)};return(t,o)=>{const l=be("router-link");return i(),b("div",Oo,[_("div",Lo,[h(c(ie),{class:"copy",icon:"fas fa-link",onClick:a}),_("a",Mo,[h(c(ie),{icon:"fab fa-twitter"})]),_("a",xo,[h(c(ie),{icon:"fab fa-github"})]),h(l,{to:"/code"},{default:$(()=>[h(c(ie),{icon:"fas fa-code",onClick:o[0]||(o[0]=n=>e("navigated"))})]),_:1})]),_("div",Vo,[h(Po,{class:"themes"})])])}}});const Bo=w(Ro,[["__scopeId","data-v-949dc793"]]),Be=we({id:"pageStore",state:()=>({pages:[]})}),Wo=k({__name:"Navigation",emits:["navigated"],setup(s,{emit:e}){const a=Be(),t=C(!1),o=()=>{t.value=!1,e("navigated")};return(l,n)=>(i(),b("div",{class:P(["menu-desktop",{expanded:t.value}])},[h(Do,{onToggleExpansion:n[0]||(n[0]=d=>t.value=!t.value),onNavigated:o}),h(c(Ve),{class:"menu-content",expanded:t.value},{default:$(()=>[h(c(po),{pages:c(a).pages,onNavigated:o},null,8,["pages"]),h(Bo,{onNavigated:o})]),_:1},8,["expanded"])],2))}});const Fo=w(Wo,[["__scopeId","data-v-07323d4e"]]),We=we({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),No={class:"root"},Eo={class:"main"},Ho={class:"content"},Uo=k({__name:"App",setup(s){const e=We(),a=Se(),t=xe();z(()=>a.fullPath,l=>{(l.includes("pool")||l.includes("mkusd"))&&(e.show=!1)});const o=async l=>{l.pathName&&await t.push({name:l.pathName})};return(l,n)=>{const d=be("notifications"),u=be("router-view");return i(),b("div",No,[h(d,{width:600,duration:-1}),h(Fo,{class:"navigation"}),_("main",Eo,[h(Ne,{name:"fade",mode:"out-in"},{default:$(()=>[c(e).show?(i(),y(c(ka),{key:0,class:"breadcrumb",crumbs:c(e).crumbs,onCrumb:o},null,8,["crumbs"])):I("",!0)]),_:1}),_("div",Ho,[h(u,null,{default:$(({Component:r})=>[h(Ne,{name:"fade",mode:"out-in"},{default:$(()=>[(i(),y(Me(r)))]),_:2},1024)]),_:1})])])])}}});const qo=w(Uo,[["__scopeId","data-v-961314b9"]]),Go="/assets/404-3a4df870.png",jo=s=>(ne("data-v-c157f3ee"),s=s(),re(),s),Qo={class:"not-found"},Jo={class:"not-found-container"},Yo=jo(()=>_("img",{src:Go},null,-1)),St=k({__name:"NotFound",setup(s){const{t:e}=x();return(a,t)=>(i(),b("div",Qo,[_("div",Jo,[h(c(Y),null,{default:$(()=>[H(T(c(e)("404")),1)]),_:1}),Yo])]))}});function Ye(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:a=>{const{normalize:t}=a;return t(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof Ye=="function"&&Ye(St);const Ko=w(St,[["__scopeId","data-v-c157f3ee"]]),Xo={class:"contracts"},Zo={class:"row"},el=["href"],tl=["href"],Dt=k({__name:"Code",setup(s){const{t:e}=x(),t=[{name:"Llama Airforce",contracts:[{contract:va,description:"multisig",gnosis:!0},{contract:ma,description:"treasury",gnosis:!0},{contract:ha,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]}],o=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}],l=n=>{switch(n.network){case"arbitrum":return n.gnosis?`https://app.safe.global/arb1:${n.contract}`:`https://arbiscan.io/address/${n.contract}`;case"ethereum":default:return n.gnosis?`https://app.safe.global/eth:${n.contract}`:`https://etherscan.io/address/${n.contract}`}};return(n,d)=>(i(),b("div",Xo,[_("div",Zo,[h(c(Ce),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:o,columns:[c(e)("repository"),c(e)("description")]},{"header-title":$(()=>[_("div",null,T(c(e)("repositories")),1)]),row:$(u=>[_("div",null,[_("a",{href:u.item.url,target:"_blank"},T(u.item.name),9,el)]),_("div",null,T(c(e)(u.item.description)),1)]),_:1},8,["columns"])]),(i(),b(j,null,Q(t,(u,r)=>h(c(Ce),{key:r,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:u.contracts,columns:[c(e)("contract"),c(e)("description")]},{"header-title":$(()=>[_("div",null,T(c(e)(u.name)),1)]),row:$(m=>[_("div",null,[_("a",{href:l(m.item),target:"_blank"},T(m.item.contract),9,tl)]),_("div",null,T(c(e)(m.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function Ke(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:a=>{const{normalize:t}=a;return t(["Repositories"])},repository:a=>{const{normalize:t}=a;return t(["Repository"])},description:a=>{const{normalize:t}=a;return t(["Description"])},contract:a=>{const{normalize:t}=a;return t(["Contract"])},other:a=>{const{normalize:t}=a;return t(["Other"])},"repo-laf":a=>{const{normalize:t}=a;return t(["This website's front-end, excluding the Union"])},multisig:a=>{const{normalize:t}=a;return t(["Multisig"])},treasury:a=>{const{normalize:t}=a;return t(["Treasury"])},"treasury-arbitrum":a=>{const{normalize:t}=a;return t(["Treasury Arbitrum"])}}})}typeof Ke=="function"&&Ke(Dt);const al=w(Dt,[["__scopeId","data-v-ed0a11dc"]]);function sl(){const s=Be(),e=[{path:"/code",component:al},...s.pages.flatMap(t=>t.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:Ko}];return oa({history:la(),routes:e})}const ol=s=>({chart:{id:"chart",background:"transparant",foreColor:s.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:s.colorsArray,grid:{borderColor:s.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:s.colors.level5,height:1},axisTicks:{color:s.colors.level5},title:{color:s.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:s.colors.level5},axisTicks:{color:s.colors.level5},title:{color:s.colors.level5}}});function ee(s,e){const a=ol(s),t=(o,l)=>{if(typeof l=="object"){U.mergeWith(o,l,t);return}else return o||l};return U.mergeWith(e,a,t)}const fe={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},ll=[fe.blue,fe.yellow,fe.green,fe.red,fe.purple,"#ff8f33"],ge={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},nl=[ge.blue,ge.yellow,ge.green,ge.red,ge.purple];function N(s){return s==="light"?ge:fe}function X(s){return s==="light"?nl:ll}function B(){return fa}const R="https://api.prismamonitor.com/v1";class W extends ya{async getHistoricalOpenTrovesOverview(e,a){return this.fetch(`${R}/managers/${e}/open_troves?period=${a}`)}async getHistoricalCollateralRatiosOverview(e,a){return this.fetch(`${R}/managers/${e}/collateral_ratios?period=${a}`)}async getCollateralRatioGrouped(e,a){return this.fetch(`${R}/managers/${e}/global_collateral_ratio?period=${a}`)}async getHistoricalCollateralOverview(e,a){return this.fetch(`${R}/managers/${e}/collateral?period=${a}`)}async getRatioDistributionGrouped(e){return this.fetch(`${R}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,a,t){return this.fetch(`${R}/managers/${e}/${a}/large_positions?unit=${t}`)}async getVaultCollateralRatio(e,a,t){return this.fetch(`${R}/managers/${e}/${a}/collateral_ratio?period=${t}`)}async getVaultTroveCount(e,a,t){return this.fetch(`${R}/managers/${e}/${a}/open_trove_count?period=${t}`)}async getTroveDistribution(e,a,t){return this.fetch(`${R}/managers/${e}/${a}/histograms?unit=${t}`)}async getCollateralPrices(e,a,t){return this.fetch(`${R}/collateral/${e}/${a}/prices?period=${t}`)}async getCollateralPriceImpact(e,a){return this.fetch(`${R}/collateral/${e}/${a}/impact`)}async getCollateralInfo(e,a){return this.fetch(`${R}/collateral/${e}/${a}/info`)}async getPoolTvl(e,a){return this.fetch(`${R}/pool/${e}/deposits?period=${a}`)}async getStableFlow(e,a){return this.fetch(`${R}/pool/${e}/stable_operations?period=${a}`)}async getStableDistribution(e){return this.fetch(`${R}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,a){return this.fetch(`${R}/pool/${e}/cumulative_withdrawals?period=${a}`)}async getTopStableDeposits(e,a,t){return this.fetch(`${R}/pool/${e}/top/stable_deposits?top=${a}&period=${t}`)}async getTopStableWithdrawals(e,a,t){return this.fetch(`${R}/pool/${e}/top/stable_withdrawals?top=${a}&period=${t}`)}async getPriceHistory(e,a){return this.fetch(`${R}/mkusd/${e}/history?period=${a}`)}async getPriceHistogram(e,a,t){return this.fetch(`${R}/mkusd/${e}/histogram?period=${t}&bins=${a}`)}async getLargeStableCoinHolders(e){return this.fetch(`${R}/mkusd/${e}/holders`)}async getStableCoinKPI(e){return this.fetch(`${R}/mkusd/${e}/general`)}async getCurvePoolDepth(e){return this.fetch(`${R}/mkusd/${e}/depth`)}}const At=k({__name:"ChartOpenTroves",setup(s){const{t:e}=x(),a=new W(B()),t=E(),o=C(!0),l=C([]);V(async()=>{o.value=!0,l.value=await a.getHistoricalOpenTrovesOverview("ethereum","6m").then(m=>m.managers),o.value=!1});const n=A(()=>{const m=N(t.theme),g=X(t.theme);return ee({colors:m,colorsArray:g},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:d.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:S,dataPointIndex:p,w:v})=>{let f=0;const D=S.map((F,O)=>{const q=F[p];return f+=q,`<div><b>${v.globals.seriesNames[O]}</b>: ${q}</div>`});return D.push(`<div><b>Total</b>: ${f}</div>`),D.join("")}}})}),d=A(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),u=A(()=>l.value.length===0?[]:l.value.map(m=>({name:m.manager,data:m.data.map(g=>g.value)}))),r=m=>m;return(m,g)=>(i(),y(c(Z),{class:"chart",title:c(e)("title"),loading:o.value,options:n.value,series:u.value},null,8,["title","loading","options","series"]))}});function Xe(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Open troves"])}}})}typeof Xe=="function"&&Xe(At);const rl=w(At,[["__scopeId","data-v-f0279ef3"]]),il=(s,e)=>{const a=N(e);return{width:s.clientWidth,height:s.clientHeight,layout:{background:{type:na.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:ra.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ue(s,e,a){const t=il(s,e),o=(l,n)=>{if(typeof n=="object"){U.mergeWith(l,n,o);return}else return l||n};return U.mergeWith(a,t,o)}const It=k({__name:"ChartCollateralRatio",setup(s){const{t:e}=x(),a=new W(B());let t,o;const l=E(),n=C(null),d=C([]),u=C(!1),r=async()=>{u.value=!0,d.value=await a.getCollateralRatioGrouped("ethereum","all").then(p=>p.data),u.value=!1};V(async()=>{await r(),n.value&&(t=ce(n.value,m(n.value,l.theme)),o=t.addAreaSeries(g(l.theme)),S(d.value))}),z(()=>l.theme,p=>{n.value&&(t.applyOptions(m(n.value,p)),o.applyOptions(g(p)))}),z(d,p=>{S(p)});const m=(p,v)=>ue(p,v,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),g=p=>{const v=N(p);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:oe.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},S=p=>{if(!t||!o)return;const v=U.chain(p).map(f=>({time:f.timestamp,value:f.value*100})).uniqWith((f,D)=>f.time===D.time).orderBy(f=>f.time,"asc").value();v.length>0&&o.setData(v),t.timeScale().fitContent()};return(p,v)=>(i(),y(c(Y),{class:"chart-container",title:c(e)("title"),loading:u.value},{default:$(()=>[_("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ze(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Global collateral ratio"])}}})}typeof Ze=="function"&&Ze(It);const cl=w(It,[["__scopeId","data-v-a444f59a"]]),Tt=k({__name:"ChartRatioDeciles",setup(s){const{t:e}=x(),a=new W(B()),t=E(),o=C(!0),l=C([]);V(async()=>{o.value=!0,l.value=await a.getRatioDistributionGrouped("ethereum").then(g=>g.deciles),o.value=!1});const n=A(()=>{const g=N(t.theme),S=X(t.theme);return ee({colors:g,colorsArray:S},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:d.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:m}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),d=A(()=>l.value.map(g=>g.label)),u=A(()=>[{name:e("debt"),data:Object.values(l.value).map(g=>g.data)}]),r=g=>g,m=g=>`$${K(g,0,"dollar")}${J(g,"dollar")}`;return(g,S)=>(i(),y(c(Z),{class:"chart",title:c(e)("title"),loading:o.value,options:n.value,series:u.value},null,8,["title","loading","options","series"]))}});function et(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Debt per Collateral Ratio Deciles"])},debt:a=>{const{normalize:t}=a;return t(["Debt"])}}})}typeof et=="function"&&et(Tt);const ul=w(Tt,[["__scopeId","data-v-42965e77"]]),zt=k({__name:"ChartGlobalCollateral",setup(s){const{t:e}=x(),a=new W(B()),t=E(),o=C(!0),l=C([]);V(async()=>{o.value=!0,l.value=await a.getHistoricalCollateralOverview("ethereum","6m").then(g=>g.managers),o.value=!1});const n=A(()=>{const g=N(t.theme),S=X(t.theme);return ee({colors:g,colorsArray:S},{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:d.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:m}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),d=A(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(g=>new Date(g.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),u=A(()=>l.value.length===0?[]:l.value.map(g=>({name:g.manager,data:g.data.map(S=>S.value)}))),r=g=>g,m=g=>`$${K(g,1,"dollar")}${J(g,"dollar")}`;return(g,S)=>(i(),y(c(Z),{class:"chart",title:c(e)("title"),loading:o.value,options:n.value,series:u.value},null,8,["title","loading","options","series"]))}});function tt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Collateral value"])}}})}typeof tt=="function"&&tt(zt);const dl=w(zt,[["__scopeId","data-v-1ac4a007"]]),Pt=class $e{constructor(e){this.url=e,this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={},this.channelSubscriptionParsers={},this.reconnectDelay=1e3,this.maxReconnectDelay=3e4,this.reconnectMultiplier=2,this.connect()}static getInstance(e){return $e.instances[e]||($e.instances[e]=new $e(e)),$e.instances[e]}connect(){this.ws||(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.processMessageQueue(),this.reconnectDelay=1e3},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>{this.connect(),this.reconnectDelay*=this.reconnectMultiplier,this.reconnectDelay>this.maxReconnectDelay&&(this.reconnectDelay=this.maxReconnectDelay)},this.reconnectDelay)},this.ws.onmessage=e=>{var n;const a=JSON.parse(e.data),t=this.channelSubscriptionParsers[a.channel],o=t?t(e.data):"",l=(n=this.listeners[a.channel])==null?void 0:n[o];l==null||l(e.data)})}registerListener(e,a,t,o){this.listeners[e]||(this.listeners[e]={}),this.listeners[e][a]=o,this.channelSubscriptionParsers[e]=t;const l=this.messageQueue.filter(n=>JSON.parse(n).channel===e);l.forEach(o),this.messageQueue=this.messageQueue.filter(n=>!l.includes(n))}send(e){var a;((a=this.ws)==null?void 0:a.readyState)===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length;)this.send(this.messageQueue.shift()??"")}closeConnection(){var e;this.shouldReconnect=!1,(e=this.ws)==null||e.close()}getConnection(){return this.ws}};Pt.instances={};let _l=Pt;var Le=(s=>(s.subscribe="subscribe",s.unsubscribe="unsubscribe",s.snapshots="snapshots",s))(Le||{});const pl="wss://api.prismamonitor.com/v1/prisma/ws",Te="troves_overview";class Ot{constructor(e){this.chain=e,this.currentData=C([]),this.parseSubscriptionFromMessage=a=>JSON.parse(a).subscription.chain,this.wsManager=_l.getInstance(pl),this.wsManager.registerListener(Te,e,this.parseSubscriptionFromMessage,a=>{try{const t=JSON.parse(a);t.subscription.chain===this.chain&&(this.currentData.value=t.payload)}catch(t){console.error("Error parsing WebSocket message:",t,"Raw data:",a)}}),this.requestSnapshots(),this.subscribeToUpdates()}getCurrentData(){return this.currentData.value}requestSnapshots(){const e={action:Le.snapshots,channel:Te,settings:[{chain:this.chain}]};this.send(e)}subscribeToUpdates(){const e={action:Le.subscribe,channel:Te,settings:[{chain:this.chain}]};this.send(e)}send(e){this.wsManager.send(JSON.stringify(e))}}const De=s=>(ne("data-v-81576177"),s=s(),re(),s),vl={class:"number"},ml={class:"number"},hl={class:"number"},fl={class:"number"},gl={class:"number"},bl={class:"number"},yl=De(()=>_("div",null,null,-1)),$l={class:"number"},Cl={class:"number"},wl=De(()=>_("div",null,null,-1)),kl=De(()=>_("div",null,null,-1)),Sl={class:"number"},Dl=De(()=>_("div",null,null,-1)),Lt=k({__name:"TableVaults",setup(s){const{t:e}=x(),a=new Ot("ethereum"),t=C(!0),o=C(""),l=C([]),n=A(()=>U.chain(l.value).filter(d=>{const u=o.value.toLocaleLowerCase().split(" "),r=m=>u.some(g=>m.toLocaleLowerCase().includes(g));return r(d.name)||r(d.address)}).value());return z(a.currentData,d=>{t.value=!0,l.value=d,t.value=!1}),V(()=>{t.value=!0,l.value=a.currentData.value,t.value=!1}),(d,u)=>(i(),y(c(Ce),{class:"datatable-vaults","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"troves-columns-data",loading:t.value,rows:n.value,columns:["Name","TVL","Debt","CR","MCR","Troves","Price"]},{"header-title":$(()=>[_("div",null,T(c(e)("title")),1),h(c(us),{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=r=>o.value=r),class:"search",search:!0,placeholder:c(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:$(r=>[_("div",null,T(r.item.name),1),_("div",vl,[h(c(L),{value:r.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_("div",ml,[h(c(L),{value:r.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_("div",hl,[h(c(L),{value:r.item.cr*100,precision:2,type:"percentage"},null,8,["value"])]),_("div",fl,[h(c(L),{value:r.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])]),_("div",gl,T(r.item.open_troves),1),_("div",bl,"$"+T(Math.round(r.item.price)),1)]),"row-aggregation":$(()=>[yl,_("div",$l,[h(c(L),{value:n.value.reduce((r,m)=>r+m.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_("div",Cl,[h(c(L),{value:n.value.reduce((r,m)=>r+m.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),wl,kl,_("div",Sl,[h(c(L),{value:n.value.reduce((r,m)=>r+m.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),Dl]),"row-details":$(()=>[H("   ")]),_:1},8,["loading","rows"]))}});function at(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vaults"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof at=="function"&&at(Lt);const Al=w(Lt,[["__scopeId","data-v-81576177"]]),Mt=we({id:"vaultStore",state:()=>({vault:null})}),Il={class:"vaults"},Tl=k({__name:"Vaults",setup(s){const e=We(),a=Mt(),t=xe();V(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const o=async l=>{a.vault=l,await t.push({name:"prismavault",params:{tab:"",vaultAddr:l.address}})};return(l,n)=>(i(),b("div",Il,[h(Al,{style:{"grid-column":"1 / -1"},onSelected:o}),h(cl),h(ul),h(dl),h(rl)]))}});const zl=w(Tl,[["__scopeId","data-v-47785ba8"]]),xt=k({__name:"ChartPoolTvl",setup(s){const{t:e}=x(),a=new W(B());let t,o;const l=E(),n=C(null),d=C([]),u=C(!1);V(()=>{n.value&&(t=ce(n.value,r(n.value,l.theme)),o=t.addAreaSeries(m(l.theme)),g(d.value))}),V(async()=>{u.value=!0,d.value=await a.getPoolTvl("ethereum","1m").then(p=>p.deposits),u.value=!1}),z(()=>l.theme,p=>{n.value&&(t.applyOptions(r(n.value,p)),o.applyOptions(m(p)))}),z(d,p=>{g(p)});const r=(p,v)=>ue(p,v,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>S(f)}}),m=p=>{const v=N(p);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:oe.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=p=>{if(!t||!o)return;const v=U.chain(p).map(f=>({time:f.timestamp,value:f.value})).uniqWith((f,D)=>f.time===D.time).orderBy(f=>f.time,"asc").value();v.length>0&&o.setData(v),t.timeScale().fitContent()},S=p=>`$${K(p,1,"dollar")}${J(p,"dollar")}`;return(p,v)=>(i(),y(c(Y),{class:"chart-container",title:c(e)("title"),loading:u.value},{default:$(()=>[_("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function st(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Total deposits in stability pool"])}}})}typeof st=="function"&&st(xt);const Pl=w(xt,[["__scopeId","data-v-b29756a6"]]),Vt=k({__name:"ChartStableFlow",setup(s){const{t:e}=x(),a=new W(B()),t=E(),o=C(!0),l=C({deposits:[],withdrawals:[]});V(async()=>{o.value=!0,l.value=await a.getStableFlow("ethereum","1m"),o.value=!1});const n=A(()=>{const g=N(t.theme),S=X(t.theme);return ee({colors:g,colorsArray:S},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[g.green,g.red],xaxis:{categories:d.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:m}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:p,dataPointIndex:v,w:f})=>{let D=0;const F=p.map((O,q)=>{const ae=O[v];return D+=ae,`<div><b>${f.globals.seriesNames[q]}</b>:	${m(ae)}</div>`});return F.push(`<div><b>Total</b>:	${m(D)}</div>`),F.join("")}}})}),d=A(()=>l.value.deposits.length===0?[]:l.value.deposits.map(g=>new Date(g.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),u=A(()=>[{name:e("deposits"),data:Object.values(l.value.deposits).map(g=>g.value)},{name:e("withdrawals"),data:Object.values(l.value.withdrawals).map(g=>g.value)}]),r=g=>g,m=g=>`$${K(g,0,"dollar")}${J(g,"dollar")}`;return(g,S)=>(i(),y(c(Z),{title:c(e)("title"),loading:o.value,options:n.value,series:u.value},null,8,["title","loading","options","series"]))}});function ot(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD deposits and withdrawals"])},deposits:a=>{const{normalize:t}=a;return t(["Deposits"])},withdrawals:a=>{const{normalize:t}=a;return t(["Withdrawals"])}}})}typeof ot=="function"&&ot(Vt);const Ol=w(Vt,[["__scopeId","data-v-5eeab674"]]),Rt=k({__name:"ChartDepositDistribution",setup(s){const{t:e}=x(),a=new W(B()),t=E(),o=C(!0),l=C([]);V(async()=>{o.value=!0,l.value=await a.getStableDistribution("ethereum").then(r=>r.distribution),o.value=!1});const n=A(()=>{const r=N(t.theme),m=X(t.theme);return ee({colors:r,colorsArray:m},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:u.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),d=A(()=>[{name:e("numPos"),data:Object.values(l.value).map(r=>r.value)}]),u=A(()=>l.value.map(r=>r.label));return(r,m)=>(i(),y(c(Z),{title:c(e)("title"),loading:o.value,series:d.value,options:n.value},null,8,["title","loading","series","options"]))}});function lt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Distribution of current user deposits"])},numPos:a=>{const{normalize:t}=a;return t(["# of positions"])}}})}typeof lt=="function"&&lt(Rt);const Ll=w(Rt,[["__scopeId","data-v-c9dcdeeb"]]),Bt=k({__name:"ChartCumulativeWithdrawals",setup(s){const{t:e}=x(),a=new W(B());let t,o;const l=E(),n=C(null),d=C([]),u=C(!1);V(()=>{n.value&&(t=ce(n.value,r(n.value,l.theme)),o=t.addAreaSeries(m(l.theme)),g(d.value))}),V(async()=>{u.value=!0,d.value=await a.getCumulativeWithdrawals("ethereum","all").then(p=>p.withdrawals),u.value=!1}),z(()=>l.theme,p=>{n.value&&(t.applyOptions(r(n.value,p)),o.applyOptions(m(p)))}),z(d,p=>{g(p)});const r=(p,v)=>ue(p,v,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>S(f)}}),m=p=>{const v=N(p);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:oe.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=p=>{if(!t||!o)return;const v=U.chain(p).map(f=>({time:f.timestamp,value:f.value})).uniqWith((f,D)=>f.time===D.time).orderBy(f=>f.time,"asc").value();v.length>0&&o.setData(v),t.timeScale().fitContent()},S=p=>`$${K(p,1,"dollar")}${J(p,"dollar")}`;return(p,v)=>(i(),y(c(Y),{class:"chart-container",title:c(e)("title"),loading:u.value},{default:$(()=>[_("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function nt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Cumulative value of collaterals withdrawn"])}}})}typeof nt=="function"&&nt(Bt);const Ml=w(Bt,[["__scopeId","data-v-c8aeb6c2"]]),xl={class:"address"},Vl=["href"],Rl={class:"number"},Bl={class:"number"},Wl={class:"address"},Fl=["href"],Wt=k({__name:"TableTopDeposits",setup(s){const{t:e}=x(),a=new W(B()),t=C(!0),o=C([]),l=A(()=>U.chain(o.value).map(n=>n).value());return V(async()=>{t.value=!0,o.value=await a.getTopStableDeposits("ethereum",5,"7d").then(n=>n.operations),t.value=!1}),(n,d)=>(i(),y(c(Ce),{class:"datatable-deposits","columns-header":"1fr","columns-data":"deposits-columns-data",loading:t.value,rows:l.value,columns:["Address","Amount","Date","Tx"]},{"header-title":$(()=>[_("div",null,T(c(e)("title")),1)]),row:$(u=>[_("div",xl,[_("a",{href:`https://etherscan.io/address/${u.item.user}`,target:"_blank"},T(c(le)(u.item.user,8)),9,Vl)]),_("div",Rl,[h(c(L),{value:u.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),_("div",Bl,T(new Date(u.item.timestamp*1e3).toLocaleDateString()),1),_("div",Wl,[_("a",{href:`https://etherscan.io/tx/${u.item.hash}`,target:"_blank"},T(c(le)(u.item.hash,8)),9,Fl)])]),_:1},8,["loading","rows"]))}});function rt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest deposits past 7 days"])}}})}typeof rt=="function"&&rt(Wt);const Nl=w(Wt,[["__scopeId","data-v-dcc50675"]]),El={class:"address"},Hl=["href"],Ul={class:"number"},ql={class:"number"},Gl={class:"address"},jl=["href"],Ft=k({__name:"TableTopWithdrawals",setup(s){const{t:e}=x(),a=new W(B()),t=C(!0),o=C([]),l=A(()=>U.chain(o.value).map(n=>n).value());return V(async()=>{t.value=!0,o.value=await a.getTopStableWithdrawals("ethereum",5,"7d").then(n=>n.operations),t.value=!1}),(n,d)=>(i(),y(c(Ce),{class:"datatable-withdrawals","columns-header":"1fr","columns-data":"withdrawals-columns-data",loading:t.value,rows:l.value,columns:["Address","Amount","Date","Tx"]},{"header-title":$(()=>[_("div",null,T(c(e)("title")),1)]),row:$(u=>[_("div",El,[_("a",{href:`https://etherscan.io/address/${u.item.user}`,target:"_blank"},T(c(le)(u.item.user,8)),9,Hl)]),_("div",Ul,[h(c(L),{value:u.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),_("div",ql,T(new Date(u.item.timestamp*1e3).toLocaleDateString()),1),_("div",Gl,[_("a",{href:`https://etherscan.io/tx/${u.item.hash}`,target:"_blank"},T(c(le)(u.item.hash,8)),9,jl)])]),_:1},8,["loading","rows"]))}});function it(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest withdrawals past 7 days"])}}})}typeof it=="function"&&it(Ft);const Ql=w(Ft,[["__scopeId","data-v-b7406841"]]),Jl={class:"pool"},Yl=k({__name:"StabilityPool",setup(s){return(e,a)=>(i(),b("div",Jl,[h(Pl),h(Ol),h(Ll),h(Ml),h(Nl),h(Ql)]))}});const Kl=w(Yl,[["__scopeId","data-v-c433301c"]]),Xl=s=>(ne("data-v-c29417c9"),s=s(),re(),s),Zl=Xl(()=>_("div",null,[H(" Price data is sourced from Coingecko via Defi Llama."),_("br"),H(" Due to a bug in the way Coingecko aggregates mkUSD price data, "),_("br"),H("the chart may erroneously report large price variations. A fix is on its way. ")],-1)),Nt=k({__name:"ChartPrice",setup(s){const{t:e}=x(),a=new W(B());let t,o;const l=E(),n=C(null),d=C([]),u=C(!1);V(()=>{n.value&&(t=ce(n.value,r(n.value,l.theme)),o=t.addAreaSeries(m(l.theme)),g(d.value))}),V(async()=>{u.value=!0,d.value=await a.getPriceHistory("ethereum","1m").then(p=>p.prices),u.value=!1}),z(()=>l.theme,p=>{n.value&&(t.applyOptions(r(n.value,p)),o.applyOptions(m(p)))}),z(d,p=>{g(p)});const r=(p,v)=>ue(p,v,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>S(f)}}),m=p=>{const v=N(p);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:oe.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=p=>{if(!t||!o)return;const v=U.chain(p).map(f=>({time:f.timestamp,value:f.value})).uniqWith((f,D)=>f.time===D.time).orderBy(f=>f.time,"asc").value();v.length>0&&o.setData(v),t.timeScale().fitContent()},S=p=>`$${K(p,2,"dollar")}${J(p,"dollar")}`;return(p,v)=>(i(),y(c(Y),{class:"chart-container",title:c(e)("title"),loading:u.value},{actions:$(()=>[h(c(Oe),null,{default:$(()=>[Zl]),_:1})]),default:$(()=>[_("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ct(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD price (last 30 days)"])}}})}typeof ct=="function"&&ct(Nt);const en=w(Nt,[["__scopeId","data-v-c29417c9"]]),Et=k({__name:"ChartPriceDistribution",setup(s){const{t:e}=x(),a=new W(B()),t=E(),o=C(!0),l=C([]);V(async()=>{o.value=!0,l.value=await a.getPriceHistogram("ethereum",10,"all").then(r=>r.histogram),o.value=!1});const n=A(()=>{const r=N(t.theme),m=X(t.theme);return ee({colors:r,colorsArray:m},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:u.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),d=A(()=>[{name:e("numPos"),data:Object.values(l.value).map(r=>r.value)}]),u=A(()=>l.value.map(r=>r.label));return(r,m)=>(i(),y(c(Z),{title:c(e)("title"),loading:o.value,series:d.value,options:n.value},null,8,["title","loading","series","options"]))}});function ut(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Price histogram"])},numPos:a=>{const{normalize:t}=a;return t(["# of hourly price records"])}}})}typeof ut=="function"&&ut(Et);const tn=w(Et,[["__scopeId","data-v-a3e00105"]]),Ht=k({__name:"ChartHolders",setup(s){const{t:e}=x(),a=new W(B()),t=E(),o=C(!0),l=C([]);V(async()=>{o.value=!0,l.value=await a.getLargeStableCoinHolders("ethereum").then(m=>m.holders),o.value=!1});const n=A(()=>{const m=N(t.theme),g=X(t.theme);return ee({colors:m,colorsArray:g},{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:S=>{let p=u.value[S.seriesIndex];p=p.length>10&&p.startsWith("0x")?le(p):p;const v=S.series[S.seriesIndex];return[`<div><b>${p}</b>:</div><div>${r(v)}</div>`].join("")}},labels:l.value.map(S=>S.label.length>10&&S.label.startsWith("0x")?le(S.label):S.label)})}),d=A(()=>l.value.map(m=>m.value)),u=A(()=>l.value.map(m=>m.label)),r=m=>`$${K(Math.abs(m),1,"dollar")}${J(m,"dollar")}`;return(m,g)=>(i(),y(c(Z),{class:"graph",title:c(e)("title"),loading:o.value,options:n.value,series:d.value},null,8,["title","loading","options","series"]))}});function dt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest holders"])},numPos:a=>{const{normalize:t}=a;return t(["mkUSD balance:"])}}})}typeof dt=="function"&&dt(Ht);const an=w(Ht,[["__scopeId","data-v-b4e1e389"]]),sn={class:"kpis"},on=k({__name:"KPIs",setup(s){const e=new W(B()),a=C(null);return V(async()=>{try{a.value=await e.getStableCoinKPI("ethereum").then(t=>t.info)}catch{a.value=null}}),(t,o)=>(i(),b("div",sn,[h(c(G),{label:"mkUSD price","has-value":!!a.value},{default:$(()=>[a.value?(i(),y(c(L),{key:0,value:a.value.price,precision:4,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(c(G),{label:"Total supply","has-value":!!a.value},{default:$(()=>[a.value?(i(),y(c(L),{key:0,value:a.value.supply,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(c(G),{label:"24h Volume (Curve)","has-value":!!a.value},{default:$(()=>[a.value?(i(),y(c(L),{key:0,value:a.value.volume,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(c(G),{label:"Aggregate -2% Depth (Curve)","has-value":!!a.value},{default:$(()=>[a.value?(i(),y(c(L),{key:0,value:a.value.depth,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"])]))}});const ln=w(on,[["__scopeId","data-v-14251c1f"]]),Ut=k({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(s){const{t:e}=x(),a=E(),t=A(()=>{const d=N(a.theme),u=X(a.theme);return ee({colors:d,colorsArray:u},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:r=>n(r)}},yaxis:{seriesName:"amounts",labels:{formatter:r=>n(r)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:r=>n(r)}},colors:[r=>r.value===0?d.blue:d.green,r=>r.value===0?d.blue:d.red]})}),o=A(()=>{if(!s.depth)return[];const d=[...s.depth.ask.prices.map(r=>({x:r,y:0})),...s.depth.bid.prices.map((r,m)=>({x:r,y:s.depth.bid.amounts[m]}))],u=[...s.depth.ask.prices.map((r,m)=>({x:r,y:s.depth.ask.amounts[m]}))];return[{name:"Bid",data:d},{name:"Ask",data:u}]}),l=A(()=>{var u;if(!((u=s.depth)!=null&&u.tokens)||s.depth.tokens.length===0)return e("title");const d=s.depth.tokens.join(" / ");return`${e("title")} - ${d} (Curve)`}),n=d=>`$${K(Math.abs(d),2,"dollar")}${J(d,"dollar")}`;return(d,u)=>(i(),y(c(Z),{class:"chart",title:l.value,loading:d.loading,options:t.value,series:o.value},null,8,["title","loading","options","series"]))}});function _t(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidity Depth"])}}})}typeof _t=="function"&&_t(Ut);const nn=w(Ut,[["__scopeId","data-v-defdef9f"]]),rn=k({__name:"ChartDepthContainer",setup(s){const e=new W(B()),a=C(!0),t=C([]);return V(async()=>{a.value=!0,t.value=await e.getCurvePoolDepth("ethereum").then(o=>o.depth),a.value=!1}),(o,l)=>(i(!0),b(j,null,Q(t.value,n=>(i(),y(nn,{key:n.name,loading:a.value,depth:n},null,8,["loading","depth"]))),128))}});const cn=w(rn,[["__scopeId","data-v-40365e2a"]]),un={class:"mkusd"},dn=k({__name:"Stablecoin",setup(s){return(e,a)=>(i(),b("div",un,[h(ln,{style:{"grid-column":"1 / -1"}}),h(en),h(tn),h(an),h(cn)]))}});const _n=w(dn,[["__scopeId","data-v-738142b2"]]),pn=k({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(s){const e=E(),a=A(()=>{const n=N(e.theme),d=X(e.theme);return ee({colors:n,colorsArray:d},{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:u=>{let r=o.value[u.seriesIndex];r=r.length>10?le(r):r;const m=u.series[u.seriesIndex];return[`<div><b>${r}</b>:</div><div>${l(m)}</div>`].join("")}},labels:s.data.map(u=>u.label.length>10?le(u.label):u.label)})}),t=A(()=>s.data.map(n=>n.value)),o=A(()=>s.data.map(n=>n.label)),l=n=>`$${K(Math.abs(n),1,"dollar")}${J(n,"dollar")}`;return(n,d)=>(i(),y(c(Z),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const vn=w(pn,[["__scopeId","data-v-5e27d0e1"]]),mn={class:"actions"},qt=k({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(s){const{t:e}=x(),a=new W(B()),t=C("collateral"),o=C(!0),l=C([]),n=async()=>{o.value=!0,s.vault&&(l.value=await a.getLargeTrovePositions("ethereum",s.vault.address,t.value).then(u=>u.positions),o.value=!1)};z(()=>t.value,()=>{n().catch(u=>{console.error("Error fetching data:",u)})},{immediate:!0}),z(()=>s.vault,async(u,r)=>{u!==r&&await n()},{immediate:!0});const d=async u=>{t.value!==u&&(t.value=u,await n())};return(u,r)=>(i(),y(c(Y),{class:"chart-container",title:c(e)("title"),loading:o.value},{actions:$(()=>[_("div",mn,[h(c(ke),{value:"Coll.","model-value":t.value==="collateral",onClick:r[0]||(r[0]=m=>d("collateral"))},null,8,["model-value"]),h(c(ke),{value:"Debt","model-value":t.value==="debt",onClick:r[1]||(r[1]=m=>d("debt"))},null,8,["model-value"])])]),default:$(()=>[h(vn,{data:l.value},null,8,["data"])]),_:1},8,["title","loading"]))}});function pt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["5 Largest Troves vs Others"])}}})}typeof pt=="function"&&pt(qt);const hn=w(qt,[["__scopeId","data-v-5e490920"]]),fn=k({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(s){const e=E(),a=A(()=>{const l=N(e.theme),n=X(e.theme);return ee({colors:l,colorsArray:n},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:o.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),t=A(()=>[{name:"# of troves",data:Object.values(s.data).map(l=>l.value)}]),o=A(()=>s.data.map(l=>l.label));return(l,n)=>(i(),y(c(Z),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const gn=w(fn,[["__scopeId","data-v-726b6957"]]),bn={class:"actions"},Gt=k({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(s){const{t:e}=x(),a=new W(B()),t=C("collateral"),o=C(!0),l=C([]),n=async()=>{o.value=!0,s.vault&&(l.value=await a.getTroveDistribution("ethereum",s.vault.address,t.value).then(u=>u.distribution),o.value=!1)};z(()=>t.value,()=>{n().catch(u=>{console.error("Error fetching data:",u)})},{immediate:!0}),z(()=>s.vault,async(u,r)=>{u!==r&&await n()},{immediate:!0});const d=async u=>{t.value!==u&&(t.value=u,await n())};return(u,r)=>(i(),y(c(Y),{class:"chart-container",title:c(e)("title"),loading:o.value},{actions:$(()=>[_("div",bn,[h(c(ke),{value:"Coll.","model-value":t.value==="collateral",onClick:r[0]||(r[0]=m=>d("collateral"))},null,8,["model-value"]),h(c(ke),{value:"Debt","model-value":t.value==="debt",onClick:r[1]||(r[1]=m=>d("debt"))},null,8,["model-value"])])]),default:$(()=>[h(gn,{data:l.value},null,8,["data"])]),_:1},8,["title","loading"]))}});function vt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Troves Distribution"])}}})}typeof vt=="function"&&vt(Gt);const yn=w(Gt,[["__scopeId","data-v-329e4729"]]),$n={class:"kpis"},Cn=k({__name:"VaultKPIs",props:{vault:{default:null}},setup(s){return(e,a)=>(i(),b("div",$n,[h(c(G),{label:"TVL","has-value":!!e.vault},{default:$(()=>[e.vault?(i(),y(c(L),{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(c(G),{label:"Debt / Debt Cap","has-value":!!e.vault},{default:$(()=>[e.vault?(i(),y(c(L),{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):I("",!0),H(" / "),e.vault?(i(),y(c(L),{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(c(G),{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:$(()=>[e.vault?(i(),y(c(L),{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):I("",!0),H(" / "),e.vault?(i(),y(c(L),{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(c(G),{label:"Interest rate","has-value":!!e.vault},{default:$(()=>[e.vault?(i(),y(c(L),{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(c(G),{label:"Troves open / total","has-value":!!e.vault},{default:$(()=>[e.vault?(i(),y(c(L),{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0),H(" / "),e.vault?(i(),y(c(L),{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(c(G),{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:$(()=>[e.vault?(i(),y(c(L),{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0),H(" / "),e.vault?(i(),y(c(L),{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0)]),_:1},8,["has-value"])]))}});const wn=w(Cn,[["__scopeId","data-v-12fbfe11"]]),jt=k({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(s){const{t:e}=x(),a=new W(B());let t,o;const l=E(),n=C(null),d=C([]),u=C(!1),r=async()=>{!n.value||!s.vault||(u.value=!0,d.value=await a.getVaultCollateralRatio("ethereum",s.vault.address,"1m").then(p=>p.ratio),u.value=!1)};V(async()=>{await r(),n.value&&(t=ce(n.value,m(n.value,l.theme)),o=t.addAreaSeries(g(l.theme)),S(d.value))}),z(()=>l.theme,p=>{n.value&&(t.applyOptions(m(n.value,p)),o.applyOptions(g(p)))}),z(()=>s.vault,async(p,v)=>{p!==null&&p!==v&&await r()},{immediate:!0}),z(d,p=>{S(p)});const m=(p,v)=>ue(p,v,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),g=p=>{const v=N(p);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:oe.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},S=p=>{if(!t||!o)return;const v=U.chain(p).map(f=>({time:f.timestamp,value:f.value*100})).uniqWith((f,D)=>f.time===D.time).orderBy(f=>f.time,"asc").value();v.length>0&&o.setData(v),t.timeScale().fitContent()};return(p,v)=>(i(),y(c(Y),{class:"chart-container",title:c(e)("title"),loading:u.value},{default:$(()=>[_("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function mt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vault collateral ratio"])}}})}typeof mt=="function"&&mt(jt);const kn=w(jt,[["__scopeId","data-v-1beb0088"]]),Qt=k({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(s){const{t:e}=x(),a=new W(B());let t,o;const l=E(),n=C(null),d=C([]),u=C(!1),r=async()=>{s.vault&&(u.value=!0,d.value=await a.getVaultTroveCount("ethereum",s.vault.address,"1m").then(p=>p.count),u.value=!1)};V(async()=>{await r(),n.value&&(t=ce(n.value,m(n.value,l.theme)),o=t.addAreaSeries(g(l.theme)),S(d.value))}),z(()=>l.theme,p=>{n.value&&(t.applyOptions(m(n.value,p)),o.applyOptions(g(p)))}),z(()=>s.vault,async(p,v)=>{p!==null&&p!==v&&await r()},{immediate:!0}),z(d,p=>{S(p)});const m=(p,v)=>ue(p,v,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),g=p=>{const v=N(p);return{priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:oe.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},S=p=>{if(!t||!o)return;const v=U.chain(p).map(f=>({time:f.timestamp,value:f.value})).uniqWith((f,D)=>f.time===D.time).orderBy(f=>f.time,"asc").value();v.length>0&&o.setData(v),t.timeScale().fitContent()};return(p,v)=>(i(),y(c(Y),{class:"chart-container",title:c(e)("title"),loading:u.value},{default:$(()=>[_("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ht(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Number of open troves"])}}})}typeof ht=="function"&&ht(Qt);const Sn=w(Qt,[["__scopeId","data-v-23dc0cc1"]]),Dn={class:"vault-overview"},An=k({__name:"VaultOverview",props:{vault:{}},setup(s){return(e,a)=>(i(),b("div",Dn,[h(wn,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(yn,{vault:e.vault},null,8,["vault"]),h(hn,{vault:e.vault},null,8,["vault"]),h(kn,{vault:e.vault},null,8,["vault"]),h(Sn,{vault:e.vault},null,8,["vault"])]))}});const In=w(An,[["__scopeId","data-v-ad4ff57f"]]),Tn={class:"actions"},Jt=k({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(s){const{t:e}=x(),a=new W(B());let t,o,l;const n=E(),d=C(null),u=C({oracle:[],market:[]}),r=C(!1);V(async()=>{d.value&&(await ia(),t=ce(d.value,g(d.value,n.theme)),o=t.addAreaSeries(p(n.theme)),l=t.addAreaSeries(S(n.theme)),v(u.value))}),z(()=>s.vault,async f=>{if(r.value=!0,!f)return;const D=await a.getCollateralPrices("ethereum",f.collateral,"7d");u.value=m(D.oracle,D.market),r.value=!1},{immediate:!0}),z(()=>n.theme,f=>{d.value&&(t.applyOptions(g(d.value,f)),o.applyOptions(p(f)),l.applyOptions(S(f)))}),z(u,f=>{v(f)});const m=(f,D)=>{const F=Math.max(f[0].timestamp,D[0].timestamp),O=Math.min(f[f.length-1].timestamp,D[D.length-1].timestamp),q=f.filter(ye=>ye.timestamp>=F&&ye.timestamp<=O),ae=D.filter(ye=>ye.timestamp>=F&&ye.timestamp<=O);return q[q.length-1].timestamp<O&&q.push({timestamp:O,value:q[q.length-1].value}),ae[ae.length-1].timestamp<O&&ae.push({timestamp:O,value:ae[ae.length-1].value}),{oracle:q,market:ae}},g=(f,D)=>ue(f,D,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),S=f=>{const D=N(f);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:oe.WithSteps,lineColor:D.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},p=f=>{const D=N(f);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:oe.WithSteps,lineColor:D.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},v=f=>{if(!t||!o)return;const D=U.chain(f.oracle).map(O=>({time:O.timestamp,value:O.value})).uniqWith((O,q)=>O.time===q.time).orderBy(O=>O.time,"asc").value(),F=U.chain(f.market).map(O=>({time:O.timestamp,value:O.value})).uniqWith((O,q)=>O.time===q.time).orderBy(O=>O.time,"asc").value();F.length>0&&l.setData(F),D.length>0&&o.setData(D),t.timeScale().fitContent()};return(f,D)=>(i(),y(c(Y),{class:"chart-container",title:c(e)("title"),loading:r.value},{actions:$(()=>[_("div",Tn,[h(c(so),{items:["Oracle","Market"],colors:c(X)(c(n).theme)},null,8,["colors"])])]),default:$(()=>[_("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ft(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Oracle & Market price"])}}})}typeof ft=="function"&&ft(Jt);const zn=w(Jt,[["__scopeId","data-v-941f6fd1"]]),Yt=k({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(s){const{t:e}=x(),a=new W(B()),t=E(),o=C([]),l=C(!1),n=A(()=>{const S=N(t.theme),p=X(t.theme);return ee({colors:S,colorsArray:p},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:u.value,labels:{formatter:v=>r(v)}},yaxis:{seriesName:"impact",labels:{formatter:v=>m(v)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:v=>{if(!s.vault)return"";const f=u.value[v.dataPointIndex],D=r(f*s.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${r(f)} ${s.vault.name} ($${D})</div>

          <div><b>Price impact:</b>:</div>
          <div>${m(v.series[0][v.dataPointIndex])}</div>
          `}}})}),d=A(()=>[{name:e("priceImpact"),data:Object.values(o.value).map(S=>S.impact)}]),u=A(()=>o.value.map(S=>s.vault?S.amount/s.vault.price:0)),r=S=>`${K(Math.abs(S),1,"dollar")}${J(S,"dollar")}`,m=S=>`${K(S,2,"percentage")}${J(S,"percentage")}`;return z(()=>s.vault,async()=>{s.vault&&(l.value=!0,o.value=await a.getCollateralPriceImpact("ethereum",s.vault.collateral).then(S=>S.impact),l.value=!1)},{immediate:!0}),(S,p)=>(i(),y(c(Z),{class:"chart",title:c(e)("title"),loading:l.value,options:n.value,series:d.value},null,8,["title","loading","options","series"]))}});function gt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["On-chain Selling Price Impact"])},priceImpact:a=>{const{normalize:t}=a;return t(["Price impact"])}}})}typeof gt=="function"&&gt(Yt);const Pn=w(Yt,[["__scopeId","data-v-c121e794"]]),On={class:"kpis"},Ln=["href"],Mn=k({__name:"CollateralKPIs",props:{vault:{default:null}},setup(s){const e=new W(B()),a=C(null);return z(()=>s.vault,async()=>{s.vault&&(a.value=await e.getCollateralInfo("ethereum",s.vault.collateral).then(o=>o.info))},{immediate:!0}),(o,l)=>(i(),b("div",On,[h(c(G),{label:"Oracle price","has-value":!!a.value},{default:$(()=>[a.value?(i(),y(c(L),{key:0,value:a.value.price,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(c(G),{label:"Total supply","has-value":!!a.value},{default:$(()=>[a.value?(i(),y(c(L),{key:0,value:a.value.supply,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(c(G),{label:"TVL","has-value":!!a.value},{default:$(()=>[a.value?(i(),y(c(L),{key:0,value:a.value.tvl,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(c(G),{label:"Share of the ETH LSD market","has-value":!!a.value},{default:$(()=>[a.value?(i(),y(c(L),{key:0,value:a.value.share,precision:1,type:"percentage"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(c(G),{label:"Full risk analysis by Prisma Risk team","has-value":!!a.value},{default:$(()=>[a.value?(i(),b("a",{key:0,href:a.value.risk}," Risk Report ",8,Ln)):I("",!0)]),_:1},8,["has-value"])]))}});const xn=w(Mn,[["__scopeId","data-v-6ffbdfdf"]]),Vn={class:"collateral"},Rn=k({__name:"Collateral",props:{vault:{}},setup(s){return(e,a)=>(i(),b("div",Vn,[h(xn,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(zn,{vault:e.vault},null,8,["vault"]),h(Pn,{vault:e.vault},null,8,["vault"])]))}});const Bn=w(Rn,[["__scopeId","data-v-a7083765"]]);const Wn={},Fn={class:"liquidations"};function Nn(s,e){return i(),b("div",Fn,"TODO")}const En=w(Wn,[["render",Nn],["__scopeId","data-v-5225d811"]]);const Hn={},Un={class:"redemptions"};function qn(s,e){return i(),b("div",Un,"TODO")}const Gn=w(Hn,[["render",qn],["__scopeId","data-v-f4b7711a"]]);const jn={},Qn={class:"find-trove"};function Jn(s,e){return i(),b("div",Qn,"TODO")}const Yn=w(jn,[["render",Jn],["__scopeId","data-v-cd8992af"]]);const Kn={},Xn={class:"simulation"};function Zn(s,e){return i(),b("div",Xn,"TODO")}const er=w(Kn,[["render",Zn],["__scopeId","data-v-a5df65ee"]]),tr={class:"vault-manager"},ar=k({__name:"VaultManager",setup(s){const e=new Ot("ethereum"),a=Se(),t=xe(),o=We(),l=Mt(),n=C(0),d=A(()=>a.params.vaultAddr),u=A(()=>l.vault);return V(()=>{var m;const r=a.params.tab;r&&typeof r=="string"&&(r==="collateral"?n.value=1:r==="trove"?n.value=2:r==="liquidations"?n.value=3:r==="redemptions"?n.value=4:r==="simulation"&&(n.value=5)),o.show=!0,o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((m=u.value)==null?void 0:m.name)??"?"}`}]}),z(e.currentData,r=>{const m=r.find(g=>g.address===d.value);m&&(l.vault=m)}),z(u,r=>{o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(r==null?void 0:r.name)??"?"}`}]}),z(n,async r=>{r===0?await t.push({name:"prismavault",params:{tab:"",vaultAddr:d.value}}):r===1?await t.push({name:"prismavault",params:{tab:"collateral",vaultAddr:d.value}}):r===2?await t.push({name:"prismavault",params:{tab:"trove",vaultAddr:d.value}}):r===3?await t.push({name:"prismavault",params:{tab:"liquidations",vaultAddr:d.value}}):r===4?await t.push({name:"prismavault",params:{tab:"redemptions",vaultAddr:d.value}}):r===5&&await t.push({name:"prismavault",params:{tab:"simulation",vaultAddr:d.value}})}),(r,m)=>(i(),b("div",tr,[h(c(Js),{active:n.value,onTab:m[0]||(m[0]=g=>n.value=g.index)},{default:$(()=>[h(c(pe),{header:"Overview"},{default:$(()=>[(i(),y(de,null,[n.value===0?(i(),y(In,{key:0,vault:u.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(c(pe),{header:"Collateral"},{default:$(()=>[(i(),y(de,null,[n.value===1&&u.value?(i(),y(Bn,{key:0,vault:u.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(c(pe),{header:"Troves",disabled:!0},{default:$(()=>[(i(),y(de,null,[n.value===2&&u.value?(i(),y(Yn,{key:0,vault:u.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(c(pe),{header:"Liquidations",disabled:!0},{default:$(()=>[(i(),y(de,null,[n.value===3&&u.value?(i(),y(En,{key:0,vault:u.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(c(pe),{header:"Redemptions",disabled:!0},{default:$(()=>[(i(),y(de,null,[n.value===4&&u.value?(i(),y(Gn,{key:0,vault:u.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(c(pe),{header:"Simulation",disabled:!0},{default:$(()=>[(i(),y(de,null,[n.value===5&&u.value?(i(),y(er,{key:0,vault:u.value},null,8,["vault"])):I("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const sr=w(ar,[["__scopeId","data-v-6ee67e29"]]),or={titleRoute:"/",routes:[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:Kl},{path:"/mkusd",name:"mkusd",component:_n},{path:"/vaults",name:"vaults",component:zl},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:sr}],menuItems:[{to:"/vaults",label:"Vaults"},{to:"/mkusd",label:"mkUSD"},{to:"/pool",label:"Stability pool"}]},Fe=ca(qo),lr=ua({legacy:!1,locale:"en",fallbackLocale:"en"});Fe.use(lr);const nr=da();Fe.use(nr);const rr=[or],ir=Be();ir.pages=rr;const cr=sl();Fe.use(cr).use(_a).use(pa).mount("#app");
