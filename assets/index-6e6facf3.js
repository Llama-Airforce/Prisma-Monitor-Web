import{L as $o,d as z,r as P,c as C,w as M,t as k,l as H,o as d,a as D,b as $,e as h,f as w,g as de,h as dt,n as E,i as Q,j as V,F as ae,T as wo,u as n,k as Ue,m as Co,p as ko,q as So,W as To,s as Do,v as Po,x as Y,y as u,z as zo,A as q,B as ge,C as $a,D as pe,E as he,G as Re,H as oe,I as B,J as xo,K as Lo,M as Io,N as Ao,O as qe,P as He,Q as Ct,R as Oo,S as Mo,U as Vo,V as Ro,X as ke,Y as ye,Z as qo,_ as We,$ as Bo,a0 as Wo,a1 as Eo,a2 as Fo,a3 as No}from"./vendor-40bd07cf.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();function ze(o,e=0,a=".",t=","){const s=isFinite(+o)?+o:0,l=isFinite(+e)?Math.abs(e):0,r=typeof t>"u"?",":t,i=typeof a>"u"?".":a,_=function(m,f){const p=Math.pow(10,f);return Math.round(m*p)/p},c=(l?_(s,l):Math.round(s)).toString().split(".");return c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(c[1]||"").length<l&&(c[1]=c[1]||"",c[1]+=new Array(l-c[1].length+1).join("0")),c.join(i)}function ne(o,e){const a=Math.abs(o);return e==="percentage"?"%":e==="dollar"?a>=1*10**12?"t":a>=1*10**9?"b":a>=1*10**6?"m":a>=1*10**3?"k":"":""}function le(o,e,a){const t=Math.abs(o);return a==="percentage"?ze(o,e):a==="dollar"?t>=1*10**12?ze(o/10**12,e):t>=1*10**9?ze(o/10**9,e):t>=1*10**6?ze(o/10**6,e):t>=1*10**3?ze(o/10**3,e):ze(o,e):o.toString()}async function Le(o,e=0,a=1e3){const t=await o(e,a),s=await(t.length>=a?Le(o,e+1,a):Promise.resolve([]));return t.concat(s)}function it(o,e){return(Array.isArray(o)?o:[o]).some(t=>e.path.startsWith(t))}const Uo="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",Ho="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",jo="0x657ce046d98d163ef4f846210f25919fa7b31944",Go="https://api.llama.airforce/";async function Qo(o,e,a){return await fetch(o,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:a}).then(t=>{if(t.ok)return t;throw new Error(`Fetch error ${t.status} for URL: ${o}`)})}async function Jo(o,e,a){return await(await Qo(o,e,a)).json()}class Yo{constructor(e){this.host=e}async fetch(e,a,t){return Jo(e,a,t)}}async function Ko(o){try{return await o()}catch(e){e instanceof Error&&$o({text:e.message,type:"error"});return}}const Xo="|/-\\",F=z({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(o){let e=0,a=0;const t=P("|"),s=C(()=>o.value?le(o.value,typeof o.precision=="function"?o.precision(o.value):o.precision,o.type??""):o.value===0&&o.showZero?"0":o.value===null||o.value===void 0?t.value:"?"),l=C(()=>!o.value||!o.type||!H.isFinite(o.value)?o.showUnit&&o.type?ne(0,o.type):"":ne(o.value,o.type));return M(()=>o.value,r=>{if(clearInterval(a),e=0,r)return;const i=()=>{e=(e+1)%4,t.value=Xo[e]};a=window.setInterval(i,250)},{immediate:!0}),(r,i)=>k(r.showSymbol&&r.type==="dollar"?"$":"")+k(s.value)+k(r.showUnit?l.value:"")}}),Zo={key:0,class:"fas fa-chevron-right"},en=z({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(o,{emit:e}){const a=e,t=l=>{var r;return o.active?o.active.id===l.id:((r=o.crumbs.at(-1))==null?void 0:r.id)===l.id},s=l=>{var r;return((r=o.crumbs.at(-1))==null?void 0:r.id)===l.id};return(l,r)=>(d(),D(n(re),null,{default:$(()=>[h(wo,{name:"fade",tag:"ul"},{default:$(()=>[(d(!0),w(ae,null,de(l.crumbs,i=>(d(),w("li",{key:i.id},[(d(),D(dt(t(i)?"span":"a"),{class:E({active:t(i)}),onClick:_=>a("crumb",i)},{default:$(()=>[Q(k(i.label),1)]),_:2},1032,["class","onClick"])),!s(i)||l.crumbs.length===1?(d(),w("i",Zo)):V("",!0)]))),128))]),_:1})]),_:1}))}});const L=(o,e)=>{const a=o.__vccOpts||o;for(const[t,s]of e)a[t]=s;return a},tn=L(en,[["__scopeId","data-v-997741c8"]]);function an(){return!1}const _t=Ue({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(o){this.address=o==null?void 0:o.toLocaleLowerCase()}}}),on=Co(),nn=ko({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"}),sn=Do({darkMode:!0}),ln=Po();let be=null;function rn(){const o=So({wallets:[on,nn,sn,ln],chains:[{id:"0x1",token:"ETH",label:"Ethereum Mainnet",rpcUrl:"https://mainnet.infura.io/v3/878382a352b14db1b7ad52a89a886207"}],appMetadata:{name:"Llama Airforce",icon:"/wallet-icon.png",description:"Airdropping knowledge bombs about the Curve ecosystem"},theme:"dark"});return o.state.actions.updateAccountCenter({enabled:!1}),o}let ct=null;async function wa(o=!1){be||(be=rn());let[e]=be.state.get().wallets;if(!e){const a=window.localStorage.getItem("connectedWallet");a?[e]=await be.connectWallet({autoSelect:{label:a,disableModals:!0}}):o&&([e]=await(be==null?void 0:be.connectWallet())??[null],e&&window.localStorage.setItem("connectedWallet",e.label))}ct=e||null}function Fe(){return ct?new To(ct.provider):void 0}async function cn(){if(!be)return;const[o]=be.state.get().wallets;await be.disconnectWallet({label:o.label}),window.localStorage.removeItem("connectedWallet")}async function Ca(o){if(!o)return!1;try{const a=await o.getSigner().getAddress();return!0}catch{return!1}}async function ka(o){if(!o)return!1;try{const{name:e,chainId:a}=await o.getNetwork();return e==="homestead"&&a===1}catch{return!1}}async function un(o){return await o.getSigner().getAddress()}function te(o,e=6){if(!o)return"0x000...000";const a=e/2+2,t=o.length-e/2;return`${o.substring(0,a)}...${o.substring(t)}`}const dn=z({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const a=e,t=async s=>{if(s.stopImmediatePropagation(),o.web3&&an()){const l=Fe();if(!l)return;await ka(l)||(await l.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())}a("click")};return(s,l)=>(d(),w("button",{class:E({primary:s.primary}),onClick:t},[Y(s.$slots,"default",{},()=>[s.icon?(d(),w("i",{key:0,class:E(["icon",[s.icon,{noValue:!!s.value}]])},null,2)):V("",!0),Q(" "+k(s.value),1)],!0)],2))}});const ve=L(dn,[["__scopeId","data-v-b051a687"]]),_n=z({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(o,{emit:e}){const a=e,t=()=>{a("update:modelValue",!o.modelValue)};return(s,l)=>(d(),w("button",{class:E({toggled:s.modelValue}),onClick:t},[Y(s.$slots,"default",{},()=>[s.icon?(d(),w("i",{key:0,class:E(["icon",s.icon])},null,2)):V("",!0),Q(" "+k(s.value),1)],!0)],2))}});const at=L(_n,[["__scopeId","data-v-a2cabc6a"]]),mn={class:"card"},vn={class:"text"},pn=z({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(o){return(e,a)=>(d(),w("div",mn,[e.loading?(d(),D(n(Pa),{key:0,class:"loader"})):V("",!0),u("div",{class:E(["card-container",{loading:e.loading}])},[e.title?(d(),w("div",{key:0,class:E(["card-header",{collapsible:e.collapsible}])},[u("div",vn,[e.icon?(d(),w("i",{key:0,class:E(["icon",e.icon])},null,2)):V("",!0),Q(" "+k(e.title),1)]),Y(e.$slots,"actions",{},void 0,!0)],2)):(d(),w("div",{key:1,class:E(["card-no-header",{compact:e.compact}])},null,2)),u("div",{class:E(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[Y(e.$slots,"default",{},void 0,!0)],2)],2)]))}});const re=L(pn,[["__scopeId","data-v-317ddfe2"]]),hn=z({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(o){return(e,a)=>(d(),D(n(re),{class:"card-graph",title:e.title,loading:e.loading},{default:$(()=>[h(n(Sa),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),Y(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const _e=L(hn,[["__scopeId","data-v-4e0fd9b7"]]),fn={class:"chip"},gn={class:"label"},bn=z({__name:"Chip",props:{label:{default:""}},setup(o){return(e,a)=>(d(),w("div",fn,[u("div",gn,k(e.label),1)]))}});const yn=L(bn,[["__scopeId","data-v-1eb2caf8"]]);const $n={class:"collapsible-inside"},wn=z({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(o){return(e,a)=>(d(),w("div",{class:E(["collapsible-outside",{expanded:e.expanded}])},[u("div",$n,[Y(e.$slots,"default",{},void 0,!0)])],2))}});const mt=L(wn,[["__scopeId","data-v-25b74378"]]),Cn={key:1,class:"header"},kn={key:0,class:"header-icon"},Sn={class:"header-actions"},Tn={key:2,class:"list"},Dn=["onClick"],Pn={key:0,class:"sorting-arrows"},zn={key:0,class:"sorting-arrow fa fa-caret-up"},xn={key:1,class:"sorting-arrow fa fa-caret-down"},Ln={key:2,class:"sorting-arrow"},In={class:"rows"},An={key:3,class:"no-data"},vt=z({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(o,{emit:e}){const a=e,t=P(""),s=P(Z.Ascending),l=C(()=>`grid-template-columns: ${o.columnsHeader}`),r=C(()=>{if(o.rowsMin===null)return[];const b=Math.max(0,o.rowsMin-o.rows.length);return new Array(b)});zo(()=>{o.sortingDefaultColumn&&(t.value=o.sortingDefaultColumn),o.sortingDefaultDir&&(s.value=o.sortingDefaultDir===Z.Ascending?Z.Ascending:Z.Descending)});const i=b=>{a("selected",b)},{t:_}=q(),c=b=>{const S=b+1;return!!(o.rows[b+1]&&o.rows.findIndex(W=>W===o.selectedRow)===S)},m=b=>o.expanded.includes(b),f=b=>{const S=o.sortingColumns[b];return o.sortingColumnsEnabled.includes(S)},p=b=>t.value===o.sortingColumns[b]&&s.value==="Ascending",y=b=>t.value===o.sortingColumns[b]&&s.value==="Descending",v=b=>{if(!o.sorting||!o.sortingColumns||!f(b))return;const S=o.sortingColumns[b];S===t.value?s.value=s.value===Z.Ascending?Z.Descending:Z.Ascending:s.value=Z.Ascending,t.value=S,a("sortColumn",t.value,s.value)};return(b,S)=>(d(),w("div",{class:E(["datatable",{loading:b.loading}])},[b.loading?(d(),D(n(Pa),{key:0,class:"loader"})):V("",!0),b.header?(d(),w("div",Cn,[b.icon?(d(),w("div",kn,[u("i",{class:E(b.icon)},null,2)])):V("",!0),u("div",{class:"header-title",style:ge(l.value)},[Y(b.$slots,"header-title",{},void 0,!0)],4),u("div",Sn,[Y(b.$slots,"header-actions",{},void 0,!0)])])):V("",!0),b.rowsMin||b.rows&&b.rows.length>0?(d(),w("div",Tn,[u("div",{class:E(["row-data",[b.columnsData,{"selected-below":c(-1)}]])},[Y(b.$slots,"column-headers",{},()=>[(d(!0),w(ae,null,de(b.columns,(x,R)=>(d(),w("div",{key:x,class:E(["column-header",{"sortable-header":b.sorting&&f(R),"current-sort":t.value==b.sortingColumns[R]}]),onClick:W=>v(R)},[Q(k(x)+" ",1),b.sorting&&f(R)?(d(),w("div",Pn,[p(R)?(d(),w("i",zn)):y(R)?(d(),w("i",xn)):(d(),w("span",Ln," — "))])):V("",!0)],10,Dn))),128))],!0)],2),u("div",In,[(d(!0),w(ae,null,de(b.rows,(x,R)=>(d(),D(n(st),{key:x,data:x,class:E({"selected-below":c(R)}),columns:b.columnsData,selected:b.selectedRow===x,expanded:m(x),onClick:i},{row:$(()=>[Y(b.$slots,"row",{item:x},void 0,!0)]),"row-details":$(()=>[Y(b.$slots,"row-details",{item:x},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(d(!0),w(ae,null,de(r.value,x=>(d(),D(n(st),{key:x}))),128)),b.$slots["row-aggregation"]?(d(),D(n(st),{key:0,class:"aggregation",columns:b.columnsData},{row:$(()=>[Y(b.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):V("",!0)])])):!b.rowsMin&&!b.loading?(d(),w("div",An,[Y(b.$slots,"no-data",{},()=>[Q(k(n(_)("no-data")),1)],!0)])):V("",!0)],2))}});function kt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":a=>{const{normalize:t}=a;return t(["No data :("])}}})}function St(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":a=>{const{normalize:t}=a;return t(["没有数据 :("])}}})}typeof kt=="function"&&kt(vt);typeof St=="function"&&St(vt);const ie=L(vt,[["__scopeId","data-v-50e85b9c"]]),On=o=>(pe("data-v-45ff862c"),o=o(),he(),o),Mn=On(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),Vn=[Mn],Rn={class:"row-details"},qn=z({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const a=e,t=$a(),s=C(()=>{var i;const r=t["row-details"];if(r){const _=(i=r()[0])==null?void 0:i.children;if(_)return _.length>0}return!1}),l=()=>{a("click",o.data)};return(r,i)=>(d(),w("div",{class:E(["row",{expanded:r.expanded}])},[u("div",{class:E(["row-data item",[r.columns,{active:r.selected,expandable:s.value}]]),onClick:l},[Y(r.$slots,"row",{},void 0,!0),s.value?(d(),w("div",{key:0,class:E(["expander",{expanded:r.expanded}])},Vn,2)):V("",!0)],2),h(n(mt),{expanded:r.expanded},{default:$(()=>[u("div",Rn,[Y(r.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const st=L(qn,[["__scopeId","data-v-45ff862c"]]),Bn=z({__name:"GraphApex",props:{options:{},series:{}},setup(o){return(e,a)=>{const t=Re("apexchart");return d(),D(t,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const Sa=L(Bn,[["__scopeId","data-v-3e2879ed"]]);const Wn=o=>(pe("data-v-a7ae5e73"),o=o(),he(),o),En={class:"input-text"},Fn={key:0,class:"icon"},Nn=Wn(()=>u("i",{class:"fas fa-search"},null,-1)),Un=[Nn],Hn=["type","value","placeholder","onInput"],jn=["onClick"],Gn=z({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(o,{emit:e}){const a=e,t=C(()=>{const l=o.options.filter(i=>o.filter(o.modelValue,i));return o.sort?[...l].sort(o.sort):l}),s=l=>{const r=l.target.value;a("update:modelValue",r),a("input",r)};return(l,r)=>(d(),w("div",En,[l.search?(d(),w("span",Fn,Un)):V("",!0),u("input",{type:l.search?"search":"text",value:l.modelValue,placeholder:l.placeholder,onInput:oe(s,["stop"]),onSelect:r[0]||(r[0]=oe(()=>{},["stop"]))},null,40,Hn),l.options&&l.autoComplete?(d(),w("div",{key:1,class:E(["items",{selectHide:!l.autoComplete}])},[(d(!0),w(ae,null,de(t.value,(i,_)=>(d(),w("div",{key:_,onClick:c=>a("select",i)},[Y(l.$slots,"item",{item:i,idx:_},()=>[Q(k(i),1)],!0)],8,jn))),128))],2)):V("",!0)]))}});const fe=L(Gn,[["__scopeId","data-v-a7ae5e73"]]),Qn={key:0,class:"value"},Jn={key:1,class:"value"},Yn=["innerHTML"],Kn={key:0,class:"value"},Xn={key:1,class:"value"},Zn=["innerHTML"],es={class:"labels"},ts={class:"label"},as={class:"label-second"},os=z({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(o){return(e,a)=>(d(),w("div",{class:E(["kpi",{disabled:!e.hasValue}])},[u("div",{class:E(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[Y(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(d(),D(n(Ne),{key:0},{item:$(()=>[e.hasValue?(d(),w("span",Qn,k(e.value),1)):(d(),w("span",Jn," ? "))]),default:$(()=>[Y(e.$slots,"tooltip",{},()=>[u("span",{innerHTML:e.tooltip},null,8,Yn)],!0)]),_:3})):(d(),w(ae,{key:1},[e.hasValue?(d(),w("span",Kn,k(e.value),1)):(d(),w("span",Xn," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(d(),D(n(Ne),{key:0},{default:$(()=>[u("span",{innerHTML:e.tooltip},null,8,Zn)]),_:1})):V("",!0)],2),u("div",es,[Y(e.$slots,"label",{},()=>[u("div",ts,k(e.label),1)],!0),Y(e.$slots,"label-second",{},()=>[u("div",as,k(e.labelSecond),1)],!0)])],2))}});const se=L(os,[["__scopeId","data-v-0123c061"]]),ns={key:0,class:"modal"},ss={class:"modal-popup"},ls=z({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(o,{emit:e}){const a=e,t=s=>{s.code==="Escape"&&a("close")};return B(()=>{document.addEventListener("keydown",t)}),xo(()=>{document.removeEventListener("keydown",t)}),M(()=>o.show,s=>{document.body.style.overflow=s?"hidden":""}),(s,l)=>s.show?(d(),w("div",ns,[u("div",{class:"modal-mask",onClick:l[0]||(l[0]=r=>a("close"))}),u("div",ss,[Y(s.$slots,"default",{},void 0,!0)])])):V("",!0)}});const xe=L(ls,[["__scopeId","data-v-8f349360"]]),rs={class:"buttons"},is={key:1,class:"not-ready"},Ta=z({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(o,{emit:e}){const a=e,{t}=q();return(s,l)=>(d(),D(n(xe),{show:s.show},{default:$(()=>[h(n(re),{title:s.title},{default:$(()=>[Y(s.$slots,"default",{},void 0,!0),u("div",rs,[h(n(ve),{class:"no",value:n(t)("no"),onClick:l[0]||(l[0]=r=>a("no"))},null,8,["value"]),s.ready?(d(),D(n(ve),{key:0,class:"yes",value:n(t)("yes"),onClick:l[1]||(l[1]=r=>a("yes"))},null,8,["value"])):(d(),w("div",is,k(s.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function Tt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:a=>{const{normalize:t}=a;return t(["Yes"])},no:a=>{const{normalize:t}=a;return t(["No"])}}})}function Dt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:a=>{const{normalize:t}=a;return t(["是的"])},no:a=>{const{normalize:t}=a;return t(["不是"])}}})}typeof Tt=="function"&&Tt(Ta);typeof Dt=="function"&&Dt(Ta);const pt=o=>(pe("data-v-6ab859e6"),o=o(),he(),o),cs=pt(()=>u("button",null,"1",-1)),us=[cs],ds=pt(()=>u("button",null,[u("i",{class:"fas fa-chevron-left"})],-1)),_s=[ds],ms=["onClick"],vs=pt(()=>u("button",null,[u("i",{class:"fas fa-chevron-right"})],-1)),ps=[vs],hs=z({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(o,{emit:e}){const a=e,t=C(()=>Math.ceil(o.itemsCount/o.itemsPerPage)),s=C(()=>{const f=[...Array(12).keys()].map(x=>x-6+o.page).filter(x=>x>=1&&x<=t.value),p=f.findIndex(x=>x===o.page),y=[],v=[],b=o.page!==1&&o.page!==t.value?[o.page]:[];let S=1;for(;;){const x=f[p-S];if(x&&x!==1&&y.unshift(x),y.length+v.length+b.length>=5||S>f.length)break;const R=f[p+S];if(R&&R!==t.value&&v.push(R),S++,y.length+v.length+b.length>=5||S>f.length)break}return[...y,...b,...v]}),l=(c,m,f)=>Math.min(Math.max(c,m),f),r=()=>a("page",l(o.page-1,1,t.value)),i=()=>a("page",l(o.page+1,1,t.value)),_=c=>a("page",l(c,1,t.value));return(c,m)=>(d(),w("ul",null,[u("li",{class:E({active:c.page===1}),onClick:m[0]||(m[0]=f=>_(1))},us,2),t.value>2?(d(),w("li",{key:0,onClick:r},_s)):V("",!0),(d(!0),w(ae,null,de(s.value,f=>(d(),w("li",{key:f,class:E({active:f===c.page}),onClick:p=>_(f)},[u("button",null,k(f),1)],10,ms))),128)),t.value>2?(d(),w("li",{key:1,onClick:i},ps)):V("",!0),t.value>1?(d(),w("li",{key:2,class:E({active:c.page===t.value}),onClick:m[1]||(m[1]=f=>_(t.value))},[u("button",null,k(t.value),1)],2)):V("",!0)]))}});const Pe=L(hs,[["__scopeId","data-v-6ab859e6"]]),fs=o=>(pe("data-v-8e55132f"),o=o(),he(),o),gs={class:"select"},bs={class:"item"},ys={key:0,class:"label"},$s=["onClick"],ws=fs(()=>u("div",{class:"chevrons"},[u("i",{class:"fas fa-chevron-up"}),u("i",{class:"fas fa-chevron-down"})],-1)),Cs=z({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(o,{emit:e}){const a=e;return(t,s)=>(d(),w("div",{class:"select-container",tabindex:"0",onClick:s[0]||(s[0]=oe(l=>a("open"),["stop"])),onBlur:s[1]||(s[1]=l=>a("close"))},[u("div",gs,[u("div",{class:E(["selected",{open:t.open}])},[Y(t.$slots,"item",{item:t.selected},()=>[u("div",bs,k(t.selected),1)],!0),t.label?(d(),w("div",ys,k(t.label),1)):V("",!0)],2),u("div",{class:E(["items",{selectHide:!t.open}])},[(d(!0),w(ae,null,de(t.options,(l,r)=>(d(),w("div",{key:r,onClick:i=>a("input",l)},[Y(t.$slots,"item",{item:l},()=>[Q(k(l),1)],!0)],8,$s))),128))],2)]),ws],32))}});const ht=L(Cs,[["__scopeId","data-v-8e55132f"]]),ks={class:"item"},Ss={class:"label"},Pt="locale",Ts=z({__name:"SelectLanguage",props:{locales:{default:()=>Ds},direction:{default:"up"}},setup(o){const{t:e}=q(),{locale:a}=q({useScope:"global"}),t=P("en"),s=P(!1);B(()=>{const i=localStorage.getItem(Pt);i&&o.locales.some(_=>_===i)&&r(i)});const l=()=>{s.value=!s.value},r=i=>{t.value=i,a.value=t.value,localStorage.setItem(Pt,t.value)};return(i,_)=>(d(),D(n(ht),{class:E(["select",{"direction-up":i.direction==="up"}]),options:i.locales.map(c=>c),selected:t.value,open:s.value,onOpen:l,onClose:_[0]||(_[0]=c=>s.value=!1),onInput:r},{item:$(c=>[u("div",ks,[u("div",Ss,k(n(e)(c.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function zt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:a=>{const{normalize:t}=a;return t(["English"])},zh:a=>{const{normalize:t}=a;return t(["中文"])},fr:a=>{const{normalize:t}=a;return t(["Français"])}}})}typeof zt=="function"&&zt(Ts);const Ds=["en","zh","fr"];var Z=(o=>(o.Ascending="Ascending",o.Descending="Descending",o))(Z||{});const Ps={},Da=o=>(pe("data-v-ad2adcec"),o=o(),he(),o),zs={class:"lds-ripple"},xs=Da(()=>u("div",null,null,-1)),Ls=Da(()=>u("div",null,null,-1)),Is=[xs,Ls];function As(o,e){return d(),w("div",zs,Is)}const Pa=L(Ps,[["render",As],["__scopeId","data-v-ad2adcec"]]),we=z({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(o){return(e,a)=>Y(e.$slots,"default")}}),Os={class:"tab-view"},Ms={class:"tab-headers"},Vs=["onClick"],Rs={class:"tabs"},qs=z({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(o,{emit:e}){const a=e,t=P(null),s=$a(),l=C(()=>s!=null&&s.default?s.default():[]);M(()=>o.active,i=>{t.value=i,a("tab",{tab:l.value[i],index:t.value})},{immediate:!0});const r=(i,_)=>{i.props.disabled||(t.value=_,a("tab",{tab:l.value[_],index:t.value}))};return(i,_)=>(d(),w("div",Os,[u("ul",Ms,[(d(!0),w(ae,null,de(l.value,(c,m)=>(d(),w("li",{key:m,class:E(["tab-header",{active:t.value===m,disabled:c.props.disabled}]),onClick:f=>r(c,m)},k(c.props.header),11,Vs))),128))]),u("div",Rs,[(d(!0),w(ae,null,de(l.value,(c,m)=>Lo((d(),w("div",{key:m,class:"tab"},[(d(),D(dt(c)))])),[[Io,t.value===m]])),128))])]))}});const ft=L(qs,[["__scopeId","data-v-4a99a489"]]),Bs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",Ws={key:1,src:Bs},Es=z({__name:"Tooltip",props:{icon:{default:""}},setup(o){const e=P(!1);return(a,t)=>(d(),D(n(Ao),{class:"tooltip",show:e.value},{content:$(()=>[Y(a.$slots,"default",{},void 0,!0)]),default:$(()=>[u("div",{onMouseover:t[0]||(t[0]=s=>e.value=!0),onMouseleave:t[1]||(t[1]=s=>e.value=!1)},[Y(a.$slots,"item",{},()=>[a.icon?(d(),w("i",{key:0,class:E(a.icon)},null,2)):(d(),w("img",Ws))],!0)],32)]),_:3},8,["show"]))}});const Ne=L(Es,[["__scopeId","data-v-2158cb4b"]]);function j(o,e){const a=P(!1),t=P(e);return{loading:a,data:t,loadData:()=>(a.value=!0,Ko(async()=>{t.value=await o(),a.value=!1}))}}const Fs={class:"legend"},Ns=["onClick"],Us={class:"label"},Hs=z({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(o,{emit:e}){const a=e,t=s=>o.colors[s];return(s,l)=>(d(),w("div",Fs,[(d(!0),w(ae,null,de(s.items,(r,i)=>(d(),w("div",{key:r,class:E(["item",{clickable:s.clickable,disabled:s.disabled.includes(r)}]),onClick:_=>{s.clickable&&a("click",r)}},[u("div",{class:"color",style:ge({"background-color":t(i)})},null,4),u("div",Us,k(r),1)],10,Ns))),128))]))}});const js=L(Hs,[["__scopeId","data-v-b0a9ca48"]]);function lt(o){return(o==null?void 0:o.children)!==void 0}function xt(o){return(o==null?void 0:o.to)!==void 0}const Gs={key:0},Qs={class:"nav-link-container"},Js={class:"nav-link-container"},Ys={class:"left"},Ks={class:"right"},Xs=z({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(o,{emit:e}){const a=e,t=qe(),s=P(!0),l=C(()=>xt(o.item)?[o.item]:lt(o.item)?o.item.children:[]),r=()=>{lt(o.item)&&o.item.children.filter(c=>it(c.to,t)).length>0&&(s.value=!0)};M(()=>o.item,()=>{r()},{immediate:!0}),M(()=>t.fullPath,()=>{r()},{immediate:!0});const i=()=>{s.value=!s.value};return(_,c)=>{const m=Re("router-link");return d(),w(ae,null,[n(lt)(_.item)?(d(),w("li",Gs,[u("a",{class:"nav-link node",onClick:i},[u("div",Qs,[Q(k(_.item.label)+" ",1),u("i",{class:E(["expander fas fa-chevron-up",{expanded:s.value}])},null,2)])])])):V("",!0),h(n(mt),{class:"items",expanded:s.value},{default:$(()=>[u("ul",null,[(d(!0),w(ae,null,de(l.value,f=>(d(),w("li",{key:f.label},[n(xt)(f)?(d(),D(m,{key:0,to:f.to,class:E(["nav-link leaf",{"router-link-active":n(it)(f.to,n(t))}]),onClick:c[0]||(c[0]=p=>a("navigated"))},{default:$(()=>[u("div",Js,[u("div",Ys,k(f.label),1),u("div",Ks,[f.tag==="beta"?(d(),D(n(yn),{key:0,label:"BETA"})):V("",!0)])])]),_:2},1032,["to","class"])):V("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const Zs=L(Xs,[["__scopeId","data-v-d8ba8816"]]),el=z({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(o,{emit:e}){const a=e,t=qe(),s=C(()=>o.pages.find(r=>it(r.titleRoute,t))),l=C(()=>{var r;return((r=s.value)==null?void 0:r.menuItems)??[]});return(r,i)=>(d(),w("nav",null,[(d(!0),w(ae,null,de(l.value,_=>(d(),w("ul",{key:_.label},[h(Zs,{item:_,onNavigated:i[0]||(i[0]=c=>a("navigated"))},null,8,["item"])]))),128))]))}});const tl=L(el,[["__scopeId","data-v-59493144"]]),al="/assets/prisma-b38af1f3.png",ol="/assets/hat-80c6c9b1.png";const nl={},za=o=>(pe("data-v-f01d266e"),o=o(),he(),o),sl={class:"logo"},ll=za(()=>u("div",{class:"visual"},[u("img",{src:al}),u("img",{src:ol})],-1)),rl=za(()=>u("span",null,"prisma.monitor",-1)),il=[ll,rl];function cl(o,e){return d(),w("div",sl,il)}const ul=L(nl,[["render",cl],["__scopeId","data-v-f01d266e"]]),dl={class:"header"},_l={class:"buttons"},ml=z({__name:"Header",emits:["toggle-expansion","navigated"],setup(o,{emit:e}){const a=e;return(t,s)=>{const l=Re("router-link");return d(),w("div",dl,[h(l,{class:"logo",to:"/",onClick:s[0]||(s[0]=r=>a("navigated"))},{default:$(()=>[h(ul,{class:"logo"})]),_:1}),u("div",_l,[h(n(ve),{icon:"fas fa-bars",onClick:s[1]||(s[1]=r=>a("toggle-expansion"))})])])}}});const vl=L(ml,[["__scopeId","data-v-a5771fce"]]),pl=o=>(pe("data-v-2a3f89a0"),o=o(),he(),o),hl={class:"buttons"},fl=pl(()=>u("i",{class:"fas fa-trash"},null,-1)),gl=["innerHTML"],gt=z({__name:"WalletConnectButton",emits:["connected"],setup(o,{emit:e}){const{t:a}=q(),t=e,s=_t(),l=async()=>{await wa(!0);const i=Fe(),_=await Ca(i);s.connected=_,_&&t("connected")},r=()=>{window.localStorage.removeItem("connectedWallet")};return(i,_)=>(d(),w("div",hl,[h(n(ve),{class:"button",primary:!0,onClick:l},{default:$(()=>[Q(k(n(a)("connect-your-wallet")),1)]),_:1}),h(n(Ne),{class:"tooltip"},{item:$(()=>[h(n(ve),{class:"button clear",onClick:r},{default:$(()=>[fl]),_:1})]),default:$(()=>[u("div",{class:"ping",innerHTML:n(a)("clear-cache")},null,8,gl)]),_:1})]))}});function Lt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"connect-your-wallet":a=>{const{normalize:t}=a;return t(["Connect Wallet"])},"clear-cache":a=>{const{normalize:t}=a;return t(["<b>Clear Cache</b><br /> Press this button to possibly solve the issue of a non-working connect button.<br /> This problem often occurs when you switch between wallet extensions in your browser.<br /> Try to connect again after pressing this button."])}}})}function It(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"connect-your-wallet":a=>{const{normalize:t}=a;return t(["连接你的钱包"])},"clear-cache":a=>{const{normalize:t}=a;return t(["<b>清除缓存</b><br /> 按下这个按钮，可能会解决连接按钮不工作的问题.<br /> 这个问题经常发生在你在浏览器中切换钱包扩展时.<br /> 按下这个按钮后，尝试再次连接."])}}})}typeof Lt=="function"&&Lt(gt);typeof It=="function"&&It(gt);const bl=L(gt,[["__scopeId","data-v-2a3f89a0"]]),yl={class:"wallet"},$l={key:0,class:"connected"},wl={key:0,class:"incorrectNetwork"},Cl={class:"info"},kl={key:1,class:"notConnected"},Sl={key:0,class:"info"},xa=z({__name:"Wallet",props:{labelPleaseConnect:{}},setup(o){const{t:e}=q(),a=_t(),t=C(()=>a.connected),s=C(()=>a.correctNetwork),l=C(()=>te(a.address));B(async()=>{await wa();const _=Fe(),c=await Ca(_);a.connected=c;const m=await ka(_);a.correctNetwork=m}),M(()=>a.connected,async _=>{const c=Fe(),m=c&&_?await un(c):void 0;a.setAddress(m)},{immediate:!0});const r=async()=>{const _=Fe();_&&(await _.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())},i=async()=>{await cn(),a.connected=!1};return(_,c)=>(d(),w("div",yl,[t.value?(d(),w("div",$l,[s.value?V("",!0):(d(),w("div",wl,[h(n(ve),{class:"changeNetwork",value:"Change Network",primary:!0,onClick:r}),u("span",Cl,k(n(e)("incorrect-network")),1)])),h(n(ve),{class:"disconnect",icon:"fas fa-check",value:l.value,onClick:i},null,8,["value"])])):(d(),w("div",kl,[h(bl),_.labelPleaseConnect?(d(),w("span",Sl,k(_.labelPleaseConnect),1)):V("",!0)]))]))}});function At(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"incorrect-network":a=>{const{normalize:t}=a;return t(["You are not on the correct network; should be Ethereum"])}}})}typeof At=="function"&&At(xa);const Tl=L(xa,[["__scopeId","data-v-7d2ec4f7"]]),Ie={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"};Ie.blue,Ie.yellow,Ie.green,Ie.red,Ie.purple;const Ae={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"};Ae.blue,Ae.yellow,Ae.green,Ae.red,Ae.purple;const Oe={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"};Oe.blue,Oe.yellow,Oe.green,Oe.red,Oe.purple;function Ot(o){return o==="chad"?Oe:o==="light"?Ae:Ie}const ee=Ue({id:"settingsStore",state:()=>({theme:"light"})}),Dl={class:"theme"},Pl={class:"label"},zl={class:"colors"},xl=z({__name:"SelectTheme",setup(o){const e=[{id:"dark",colors:Ot("dark")},{id:"light",colors:Ot("light")}],a=ee(),t=P(e[0]),s=P(!1);B(()=>{const i=window.matchMedia("(prefers-color-scheme: dark)").matches,_=localStorage.getItem("theme");if(!_&&i)r(e.find(c=>c.id==="dark"));else{const c=e.find(m=>m.id===_)??e.find(m=>m.id==="light")??e[0];r(c)}});const l=()=>{s.value=!s.value},r=i=>{t.value=i,window.document.documentElement.setAttribute("data-theme",t.value.id),a.theme=t.value.id,localStorage.setItem("theme",t.value.id)};return(i,_)=>(d(),D(n(ht),{class:"select direction-up",options:e.map(c=>c),selected:t.value,open:s.value,onOpen:l,onClose:_[0]||(_[0]=c=>s.value=!1),onInput:r},{item:$(c=>[u("div",Dl,[u("div",Pl,k(c.item.id),1),u("div",zl,[u("div",{class:"color",style:ge({"background-color":c.item.colors.backgroundColor})},null,4),u("div",{class:"color",style:ge({"background-color":c.item.colors.level1})},null,4),u("div",{class:"color",style:ge({"background-color":c.item.colors.level2})},null,4),u("div",{class:"color",style:ge({"background-color":c.item.colors.blue})},null,4),u("div",{class:"color",style:ge({"background-color":c.item.colors.yellow})},null,4),u("div",{class:"color",style:ge({"background-color":c.item.colors.green})},null,4),u("div",{class:"color",style:ge({"background-color":c.item.colors.red})},null,4),u("div",{class:"color",style:ge({"background-color":c.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const Ll=L(xl,[["__scopeId","data-v-12a81df3"]]),Il={class:"bottom"},Al={class:"buttons"},Ol={href:"https://twitter.com/0xAlunara",target:"_blank"},Ml={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},Vl={class:"selectors"},Rl=z({__name:"Bottom",emits:["navigated"],setup(o,{emit:e}){const a=e,t=async()=>{await navigator.clipboard.writeText(window.location.href)};return(s,l)=>{const r=Re("router-link");return d(),w("div",Il,[u("div",Al,[h(n(ve),{class:"copy",icon:"fas fa-link",onClick:t}),u("a",Ol,[h(n(ve),{icon:"fab fa-twitter"})]),u("a",Ml,[h(n(ve),{icon:"fab fa-github"})]),h(r,{to:"/code"},{default:$(()=>[h(n(ve),{icon:"fas fa-code",onClick:l[0]||(l[0]=i=>a("navigated"))})]),_:1})]),u("div",Vl,[h(Ll,{class:"themes"})]),h(Tl)])}}});const ql=L(Rl,[["__scopeId","data-v-0cf9bbd9"]]),bt=Ue({id:"pageStore",state:()=>({pages:[]})}),Bl=z({__name:"Navigation",emits:["navigated"],setup(o,{emit:e}){const a=e,t=bt(),s=P(!1),l=()=>{s.value=!1,a("navigated")};return(r,i)=>(d(),w("div",{class:E(["menu-desktop",{expanded:s.value}])},[h(vl,{onToggleExpansion:i[0]||(i[0]=_=>s.value=!s.value),onNavigated:l}),h(n(mt),{class:"menu-content",expanded:s.value},{default:$(()=>[h(n(tl),{pages:n(t).pages,onNavigated:l},null,8,["pages"]),h(ql,{onNavigated:l})]),_:1},8,["expanded"])],2))}});const Wl=L(Bl,[["__scopeId","data-v-07323d4e"]]),ot=Ue({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),El={class:"root"},Fl={class:"main"},Nl={class:"content"},Ul=z({__name:"App",setup(o){const e=ot(),a=qe(),t=He();M(()=>a.fullPath,l=>{["/pool","/mkusd","/redemptions","/profile"].some(i=>l.startsWith(i))&&(e.show=!1)});const s=async l=>{l.pathName&&await t.push({name:l.pathName})};return(l,r)=>{const i=Re("notifications"),_=Re("router-view");return d(),w("div",El,[h(i,{width:600,duration:-1}),h(Wl,{class:"navigation"}),u("main",Fl,[h(Ct,{name:"fade",mode:"out-in"},{default:$(()=>[n(e).show?(d(),D(n(tn),{key:0,class:"breadcrumb",crumbs:n(e).crumbs,onCrumb:s},null,8,["crumbs"])):V("",!0)]),_:1}),u("div",Nl,[h(_,null,{default:$(({Component:c})=>[h(Ct,{name:"fade",mode:"out-in"},{default:$(()=>[(d(),D(dt(c)))]),_:2},1024)]),_:1})])])])}}});const Hl=L(Ul,[["__scopeId","data-v-6dcc5c4c"]]),jl="/assets/404-3a4df870.png",Gl=o=>(pe("data-v-c157f3ee"),o=o(),he(),o),Ql={class:"not-found"},Jl={class:"not-found-container"},Yl=Gl(()=>u("img",{src:jl},null,-1)),La=z({__name:"NotFound",setup(o){const{t:e}=q();return(a,t)=>(d(),w("div",Ql,[u("div",Jl,[h(n(re),null,{default:$(()=>[Q(k(n(e)("404")),1)]),_:1}),Yl])]))}});function Mt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:a=>{const{normalize:t}=a;return t(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof Mt=="function"&&Mt(La);const Kl=L(La,[["__scopeId","data-v-c157f3ee"]]),Xl={class:"contracts"},Zl={class:"row"},er=["href"],tr=["href"],Ia=z({__name:"Code",setup(o){const{t:e}=q(),t=[{name:"Llama Airforce",contracts:[{contract:Uo,description:"multisig",gnosis:!0},{contract:Ho,description:"treasury",gnosis:!0},{contract:jo,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]}],s=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}],l=r=>{switch(r.network){case"arbitrum":return r.gnosis?`https://app.safe.global/arb1:${r.contract}`:`https://arbiscan.io/address/${r.contract}`;case"ethereum":default:return r.gnosis?`https://app.safe.global/eth:${r.contract}`:`https://etherscan.io/address/${r.contract}`}};return(r,i)=>(d(),w("div",Xl,[u("div",Zl,[h(n(ie),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:s,columns:[n(e)("repository"),n(e)("description")]},{"header-title":$(()=>[u("div",null,k(n(e)("repositories")),1)]),row:$(_=>[u("div",null,[u("a",{href:_.item.url,target:"_blank"},k(_.item.name),9,er)]),u("div",null,k(n(e)(_.item.description)),1)]),_:1},8,["columns"])]),(d(),w(ae,null,de(t,(_,c)=>h(n(ie),{key:c,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:_.contracts,columns:[n(e)("contract"),n(e)("description")]},{"header-title":$(()=>[u("div",null,k(n(e)(_.name)),1)]),row:$(m=>[u("div",null,[u("a",{href:l(m.item),target:"_blank"},k(m.item.contract),9,tr)]),u("div",null,k(n(e)(m.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function Vt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:a=>{const{normalize:t}=a;return t(["Repositories"])},repository:a=>{const{normalize:t}=a;return t(["Repository"])},description:a=>{const{normalize:t}=a;return t(["Description"])},contract:a=>{const{normalize:t}=a;return t(["Contract"])},other:a=>{const{normalize:t}=a;return t(["Other"])},"repo-laf":a=>{const{normalize:t}=a;return t(["This website's front-end, excluding the Union"])},multisig:a=>{const{normalize:t}=a;return t(["Multisig"])},treasury:a=>{const{normalize:t}=a;return t(["Treasury"])},"treasury-arbitrum":a=>{const{normalize:t}=a;return t(["Treasury Arbitrum"])}}})}typeof Vt=="function"&&Vt(Ia);const ar=L(Ia,[["__scopeId","data-v-ed0a11dc"]]);function or(){const o=bt(),e=[{path:"/code",component:ar},...o.pages.flatMap(t=>t.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:Kl}];return Oo({history:Mo(),routes:e})}const nr=o=>({chart:{id:"chart",background:"transparant",foreColor:o.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:o.colorsArray,grid:{borderColor:o.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:o.colors.level5,height:1},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:o.colors.level5},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}}});function ue(o,e){const a=nr(o),t=(s,l)=>{if(typeof l=="object"){H.mergeWith(s,l,t);return}else return s||l};return H.mergeWith(e,a,t)}const Me={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},sr=[Me.blue,Me.yellow,Me.green,Me.red,Me.purple,"#ff8f33"],Ve={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},lr=[Ve.blue,Ve.yellow,Ve.green,Ve.red,Ve.purple];function X(o){return o==="light"?Ve:Me}function ce(o){return o==="light"?lr:sr}function N(){return Go}const G="https://api.prismamonitor.com/v1";class U extends Yo{async getHistoricalOpenTrovesOverview(e,a){return this.fetch(`${G}/managers/${e}/open_troves?period=${a}`)}async getHistoricalCollateralRatiosOverview(e,a){return this.fetch(`${G}/managers/${e}/collateral_ratios?period=${a}`)}async getCollateralRatioGrouped(e,a){return this.fetch(`${G}/managers/${e}/global_collateral_ratio?period=${a}`)}async getHistoricalCollateralOverview(e,a){return this.fetch(`${G}/managers/${e}/collateral?period=${a}`)}async getRatioDistributionGrouped(e){return this.fetch(`${G}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,a,t){return this.fetch(`${G}/managers/${e}/${a}/large_positions?unit=${t}`)}async getVaultCollateralRatio(e,a,t){return this.fetch(`${G}/managers/${e}/${a}/collateral_ratio?period=${t}`)}async getVaultTroveCount(e,a,t){return this.fetch(`${G}/managers/${e}/${a}/open_trove_count?period=${t}`)}async getTroveDistribution(e,a,t){return this.fetch(`${G}/managers/${e}/${a}/histograms?unit=${t}`)}async getCollateralPrices(e,a,t){return this.fetch(`${G}/collateral/${e}/${a}/prices?period=${t}`)}async getCollateralPriceImpact(e,a){return this.fetch(`${G}/collateral/${e}/${a}/impact`)}async getCollateralInfo(e,a){return this.fetch(`${G}/collateral/${e}/${a}/info`)}async getPoolTvl(e,a){return this.fetch(`${G}/pool/${e}/deposits?period=${a}`)}async getStableFlow(e,a){return this.fetch(`${G}/pool/${e}/stable_operations?period=${a}`)}async getStableDistribution(e){return this.fetch(`${G}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,a){return this.fetch(`${G}/pool/${e}/cumulative_withdrawals?period=${a}`)}async getTopStableDeposits(e,a,t){return this.fetch(`${G}/pool/${e}/top/stable_deposits?top=${a}&period=${t}`)}async getTopStableWithdrawals(e,a,t){return this.fetch(`${G}/pool/${e}/top/stable_withdrawals?top=${a}&period=${t}`)}async getPriceHistory(e,a){return this.fetch(`${G}/mkusd/${e}/history?period=${a}`)}async getPriceHistogram(e,a,t){return this.fetch(`${G}/mkusd/${e}/histogram?period=${t}&bins=${a}`)}async getLargeStableCoinHolders(e){return this.fetch(`${G}/mkusd/${e}/holders`)}async getStableCoinKPI(e){return this.fetch(`${G}/mkusd/${e}/general`)}async getCurvePoolDepth(e){return this.fetch(`${G}/mkusd/${e}/depth`)}async getRedemptions(e,a){return Le(s=>this.fetch(`${G}/redemptions/${e}/${a}?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(l=>l.redemptions),1,100)}async getRedemptionsForTrove(e,a){return Le(s=>this.fetch(`${G}/redemptions/${e}?items=100&page=${s}&order_by=block_timestamp&desc=true&trove_filter=${a}`).then(l=>l.redemptions),1,100)}async getLiquidations(e,a){return Le(s=>this.fetch(`${G}/liquidations/${e}/${a}?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(l=>l.liquidations),1,100)}async getLiquidationsForTrove(e,a){return Le(s=>this.fetch(`${G}/liquidations/${e}?items=100&page=${s}&order_by=block_timestamp&desc=true&trove_filter=${a}`).then(l=>l.liquidations),1,100)}async getTroves(e,a,t){return Le(l=>this.fetch(`${G}/trove/${e}/${a}/troves?items=100&page=${l}&order_by=last_update&desc=true${t?"&owner_filter="+t:""}`).then(r=>r.troves),1,100)}async getTroveSnapshots(e,a,t){return this.fetch(`${G}/trove/${e}/${a}/snapshots/${t}`)}async getTroveDetail(e,a,t){return this.fetch(`${G}/trove/${e}/${a}/${t}`)}async getTroveHistory(e,a,t){return this.fetch(`${G}/trove/${e}/${a}/history/${t}`)}async getTroveRank(e,a,t){return this.fetch(`${G}/trove/${e}/${a}/rank/${t}`)}async getCvxPrismaTVL(){return this.fetch(`${G}/staking/tvl?period=all&groupby=day`)}async getCvxPrismaFlow(){return this.fetch(`${G}/staking/flow?period=all&groupby=day`)}async getCvxPrismaDistribution(){return this.fetch(`${G}/staking/distribution`)}async getCvxPrismaSnapshots(){return this.fetch(`${G}/staking/snapshots?period=7d`)}}const Aa=z({__name:"ChartOpenTroves",setup(o){const{t:e}=q(),a=new U(N()),t=ee(),{loading:s,data:l,loadData:r}=j(()=>a.getHistoricalOpenTrovesOverview("ethereum","6m").then(f=>f.managers),[]);B(()=>void r());const i=C(()=>{const f=X(t.theme),p=ce(t.theme);return ue({colors:f,colorsArray:p},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:m,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:y,dataPointIndex:v,w:b})=>{let S=0;const x=y.map((R,W)=>{const I=R[v];return S+=I,`<div><b>${b.globals.seriesNames[W]}</b>: ${I}</div>`});return x.push(`<div><b>Total</b>: ${S}</div>`),x.join("")}}})}),_=C(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(f=>new Date(f.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=C(()=>l.value.length===0?[]:l.value.map(f=>({name:f.manager,data:f.data.map(p=>p.value)}))),m=f=>f;return(f,p)=>(d(),D(n(_e),{class:"chart",title:n(e)("title"),loading:n(s),options:i.value,series:c.value},null,8,["title","loading","options","series"]))}});function Rt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Open troves"])}}})}typeof Rt=="function"&&Rt(Aa);const rr=L(Aa,[["__scopeId","data-v-17e23069"]]),ir=(o,e)=>{const a=X(e);return{width:o.clientWidth,height:o.clientHeight,layout:{background:{type:Vo.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:Ro.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function Se(o,e,a){const t=ir(o,e),s=(l,r)=>{if(typeof r=="object"){H.mergeWith(l,r,s);return}else return l||r};return H.mergeWith(a,t,s)}const Oa=z({__name:"ChartCollateralRatio",setup(o){const{t:e}=q(),a=new U(N());let t,s;const l=ee(),r=P(null),{loading:i,data:_,loadData:c}=j(()=>a.getCollateralRatioGrouped("ethereum","all").then(y=>y.data),[]);B(()=>{r.value&&(t=ke(r.value,m(r.value,l.theme)),s=t.addAreaSeries(f(l.theme)),p(_.value),c())}),M(()=>l.theme,y=>{r.value&&(t.applyOptions(m(r.value,y)),s.applyOptions(f(y)))}),M(_,y=>{p(y)});const m=(y,v)=>Se(y,v,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),f=y=>{const v=X(y);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ye.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},p=y=>{if(!t||!s)return;const v=H.chain(y).map(b=>({time:b.timestamp,value:b.value*100})).uniqWith((b,S)=>b.time===S.time).orderBy(b=>b.time,"asc").value();v.length>0&&s.setData(v),t.timeScale().fitContent()};return(y,v)=>(d(),D(n(re),{class:"chart-container",title:n(e)("title"),loading:n(i)},{default:$(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function qt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Global collateral ratio"])}}})}typeof qt=="function"&&qt(Oa);const cr=L(Oa,[["__scopeId","data-v-f7711ac1"]]),Ma=z({__name:"ChartRatioDeciles",setup(o){const{t:e}=q(),a=new U(N()),t=ee(),{loading:s,data:l,loadData:r}=j(()=>a.getRatioDistributionGrouped("ethereum").then(p=>p.deciles),[]);B(()=>void r());const i=C(()=>{const p=X(t.theme),y=ce(t.theme);return ue({colors:p,colorsArray:y},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:m,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:f}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=C(()=>l.value.map(p=>p.label)),c=C(()=>[{name:e("debt"),data:Object.values(l.value).map(p=>p.data)}]),m=p=>p,f=p=>`$${le(p,0,"dollar")}${ne(p,"dollar")}`;return(p,y)=>(d(),D(n(_e),{class:"chart",title:n(e)("title"),loading:n(s),options:i.value,series:c.value},null,8,["title","loading","options","series"]))}});function Bt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Debt per Collateral Ratio Deciles"])},debt:a=>{const{normalize:t}=a;return t(["Debt"])}}})}typeof Bt=="function"&&Bt(Ma);const ur=L(Ma,[["__scopeId","data-v-148e81ae"]]),Va=z({__name:"ChartGlobalCollateral",setup(o){const{t:e}=q(),a=new U(N()),t=ee(),{loading:s,data:l,loadData:r}=j(()=>a.getHistoricalCollateralOverview("ethereum","6m").then(p=>p.managers),[]);B(()=>void r());const i=C(()=>{const p=X(t.theme),y=ce(t.theme);return ue({colors:p,colorsArray:y},{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:m,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:f}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),_=C(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(p=>new Date(p.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=C(()=>l.value.length===0?[]:l.value.map(p=>({name:p.manager,data:p.data.map(y=>y.value)}))),m=p=>p,f=p=>`$${le(p,1,"dollar")}${ne(p,"dollar")}`;return(p,y)=>(d(),D(n(_e),{class:"chart",title:n(e)("title"),loading:n(s),options:i.value,series:c.value},null,8,["title","loading","options","series"]))}});function Wt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Collateral value"])}}})}typeof Wt=="function"&&Wt(Va);const dr=L(Va,[["__scopeId","data-v-91cb0ff3"]]);function Ce(o){switch(o.toLocaleLowerCase()){case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH";case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH";case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH";case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH";default:throw new Error(`Unknown collateral for ${o}`)}}function De(o){return o==="all"?"":`icons/tokens/${(a=>{switch(a){case"cbETH":return"cbeth.webp";case"wstETH":return"steth.webp";case"rETH":return"reth.webp";case"sfrxETH":return"frxeth.webp";default:return""}})(o)}`}const Ra=class Ee{constructor(e){this.url=e,this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={},this.channelSubscriptionParsers={},this.reconnectDelay=1e3,this.maxReconnectDelay=3e4,this.reconnectMultiplier=2,this.connect()}static getInstance(e){return Ee.instances[e]||(Ee.instances[e]=new Ee(e)),Ee.instances[e]}connect(){this.ws||(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.processMessageQueue(),this.reconnectDelay=1e3},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>{this.connect(),this.reconnectDelay*=this.reconnectMultiplier,this.reconnectDelay>this.maxReconnectDelay&&(this.reconnectDelay=this.maxReconnectDelay)},this.reconnectDelay)},this.ws.onmessage=e=>{var r;const a=JSON.parse(e.data),t=this.channelSubscriptionParsers[a.channel],s=t?t(e.data):"",l=(r=this.listeners[a.channel])==null?void 0:r[s];l==null||l(e.data)})}registerListener(e,a,t,s){this.listeners[e]||(this.listeners[e]={}),this.listeners[e][a]=s,this.channelSubscriptionParsers[e]=t;const l=this.messageQueue.filter(r=>JSON.parse(r).channel===e);l.forEach(s),this.messageQueue=this.messageQueue.filter(r=>!l.includes(r))}send(e){var a;((a=this.ws)==null?void 0:a.readyState)===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length;)this.send(this.messageQueue.shift()??"")}closeConnection(){var e;this.shouldReconnect=!1,(e=this.ws)==null||e.close()}getConnection(){return this.ws}};Ra.instances={};let _r=Ra;var ut=(o=>(o.subscribe="subscribe",o.unsubscribe="unsubscribe",o.snapshots="snapshots",o))(ut||{});const mr="wss://api.prismamonitor.com/v1/prisma/ws",rt="troves_overview";class Be{constructor(e){this.chain=e,this.currentData=P([]),this.parseSubscriptionFromMessage=a=>JSON.parse(a).subscription.chain,this.wsManager=_r.getInstance(mr),this.wsManager.registerListener(rt,e,this.parseSubscriptionFromMessage,a=>{try{const t=JSON.parse(a);t.subscription.chain===this.chain&&(this.currentData.value=t.payload)}catch(t){console.error("Error parsing WebSocket message:",t,"Raw data:",a)}}),this.requestSnapshots(),this.subscribeToUpdates()}getCurrentData(){return this.currentData.value}requestSnapshots(){const e={action:ut.snapshots,channel:rt,settings:[{chain:this.chain}]};this.send(e)}subscribeToUpdates(){const e={action:ut.subscribe,channel:rt,settings:[{chain:this.chain}]};this.send(e)}send(e){this.wsManager.send(JSON.stringify(e))}}const je=o=>(pe("data-v-55362754"),o=o(),he(),o),vr=["src"],pr={class:"number"},hr={class:"number"},fr={class:"number"},gr={class:"number"},br={class:"number"},yr={class:"number"},$r=je(()=>u("div",null,null,-1)),wr=je(()=>u("div",null,null,-1)),Cr={class:"number"},kr={class:"number"},Sr=je(()=>u("div",null,null,-1)),Tr=je(()=>u("div",null,null,-1)),Dr={class:"number"},Pr=je(()=>u("div",null,null,-1)),qa=z({__name:"TableVaults",setup(o){const{t:e}=q(),a=new Be("ethereum"),t=P(!0),s=P(""),l=P([]),r=C(()=>H.chain(l.value).filter(i=>{const _=s.value.toLocaleLowerCase().split(" "),c=m=>_.some(f=>m.toLocaleLowerCase().includes(f));return c(i.name)||c(i.address)}).value());return M(a.currentData,i=>{t.value=!0,l.value=i,t.value=!1}),B(()=>{t.value=!0,l.value=a.currentData.value,t.value=!1}),(i,_)=>(d(),D(n(ie),{class:"datatable-vaults","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"vaults-columns-data",loading:t.value,rows:r.value,columns:["","Name","TVL","Debt","CR","MCR","Troves","Price"]},{"header-title":$(()=>[u("div",null,k(n(e)("title")),1),h(n(fe),{modelValue:s.value,"onUpdate:modelValue":_[0]||(_[0]=c=>s.value=c),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:$(c=>[u("img",{src:n(De)(c.item.name)},null,8,vr),u("div",null,k(c.item.name),1),u("div",pr,[h(n(F),{value:c.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",hr,[h(n(F),{value:c.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",fr,[h(n(F),{value:c.item.cr*100,precision:2,type:"percentage"},null,8,["value"])]),u("div",gr,[h(n(F),{value:c.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])]),u("div",br,k(c.item.open_troves),1),u("div",yr,"$"+k(Math.round(c.item.price)),1)]),"row-aggregation":$(()=>[$r,wr,u("div",Cr,[h(n(F),{value:r.value.reduce((c,m)=>c+m.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",kr,[h(n(F),{value:r.value.reduce((c,m)=>c+m.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),Sr,Tr,u("div",Dr,[h(n(F),{value:r.value.reduce((c,m)=>c+m.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),Pr]),"row-details":$(()=>[Q("   ")]),_:1},8,["loading","rows"]))}});function Et(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vaults"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Et=="function"&&Et(qa);const zr=L(qa,[["__scopeId","data-v-55362754"]]),nt=Ue({id:"vaultStore",state:()=>({vault:null,trove:null})}),xr={class:"vaults"},Lr=z({__name:"Vaults",setup(o){const e=ot(),a=nt(),t=He();B(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const s=async l=>{a.vault=l,await t.push({name:"prismavault",params:{tab:"",vaultAddr:l.address}})};return(l,r)=>(d(),w("div",xr,[h(zr,{style:{"grid-column":"1 / -1"},onSelected:s}),h(cr),h(ur),h(dr),h(rr)]))}});const Ir=L(Lr,[["__scopeId","data-v-47785ba8"]]),Ba=z({__name:"ChartPoolTvl",setup(o){const{t:e}=q(),a=new U(N());let t,s;const l=ee(),r=P(null),{loading:i,data:_,loadData:c}=j(()=>a.getPoolTvl("ethereum","1m").then(v=>v.deposits),[]);B(()=>{r.value&&(t=ke(r.value,m(r.value,l.theme)),s=t.addAreaSeries(f(l.theme)),p(_.value),c())}),M(()=>l.theme,v=>{r.value&&(t.applyOptions(m(r.value,v)),s.applyOptions(f(v)))}),M(_,v=>{p(v)});const m=(v,b)=>Se(v,b,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:S=>y(S)}}),f=v=>{const b=X(v);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ye.WithSteps,lineColor:b.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},p=v=>{if(!t||!s)return;const b=H.chain(v).map(S=>({time:S.timestamp,value:S.value})).uniqWith((S,x)=>S.time===x.time).orderBy(S=>S.time,"asc").value();b.length>0&&s.setData(b),t.timeScale().fitContent()},y=v=>`$${le(v,1,"dollar")}${ne(v,"dollar")}`;return(v,b)=>(d(),D(n(re),{class:"chart-container",title:n(e)("title"),loading:n(i)},{default:$(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ft(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Total deposits in stability pool"])}}})}typeof Ft=="function"&&Ft(Ba);const Ar=L(Ba,[["__scopeId","data-v-e251da43"]]),Wa=z({__name:"ChartStableFlow",setup(o){const{t:e}=q(),a=new U(N()),t=ee(),{loading:s,data:l,loadData:r}=j(()=>a.getStableFlow("ethereum","1m"),{deposits:[],withdrawals:[]});B(()=>void r());const i=C(()=>{const p=X(t.theme),y=ce(t.theme);return ue({colors:p,colorsArray:y},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[p.green,p.red],xaxis:{categories:_.value,labels:{formatter:m,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:f}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:v,dataPointIndex:b,w:S})=>{let x=0;const R=v.map((W,I)=>{const O=W[b];return x+=O,`<div><b>${S.globals.seriesNames[I]}</b>:	${f(O)}</div>`});return R.push(`<div><b>Total</b>:	${f(x)}</div>`),R.join("")}}})}),_=C(()=>l.value.deposits.length===0?[]:l.value.deposits.map(p=>new Date(p.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=C(()=>[{name:e("deposits"),data:Object.values(l.value.deposits).map(p=>p.value)},{name:e("withdrawals"),data:Object.values(l.value.withdrawals).map(p=>p.value)}]),m=p=>p,f=p=>`$${le(p,0,"dollar")}${ne(p,"dollar")}`;return(p,y)=>(d(),D(n(_e),{title:n(e)("title"),loading:n(s),options:i.value,series:c.value},null,8,["title","loading","options","series"]))}});function Nt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD deposits and withdrawals"])},deposits:a=>{const{normalize:t}=a;return t(["Deposits"])},withdrawals:a=>{const{normalize:t}=a;return t(["Withdrawals"])}}})}typeof Nt=="function"&&Nt(Wa);const Or=L(Wa,[["__scopeId","data-v-c17d1a80"]]),Ea=z({__name:"ChartDepositDistribution",setup(o){const{t:e}=q(),a=new U(N()),t=ee(),{loading:s,data:l,loadData:r}=j(()=>a.getStableDistribution("ethereum").then(m=>m.distribution),[]);B(()=>void r());const i=C(()=>{const m=X(t.theme),f=ce(t.theme);return ue({colors:m,colorsArray:f},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:c.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=C(()=>[{name:e("numPos"),data:Object.values(l.value).map(m=>m.value)}]),c=C(()=>l.value.map(m=>m.label));return(m,f)=>(d(),D(n(_e),{title:n(e)("title"),loading:n(s),series:_.value,options:i.value},null,8,["title","loading","series","options"]))}});function Ut(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Distribution of current user deposits"])},numPos:a=>{const{normalize:t}=a;return t(["# of positions"])}}})}typeof Ut=="function"&&Ut(Ea);const Mr=L(Ea,[["__scopeId","data-v-0286f136"]]),Fa=z({__name:"ChartCumulativeWithdrawals",setup(o){const{t:e}=q(),a=new U(N());let t,s;const l=ee(),r=P(null),{loading:i,data:_,loadData:c}=j(()=>a.getCumulativeWithdrawals("ethereum","all").then(v=>v.withdrawals),[]);B(()=>{r.value&&(t=ke(r.value,m(r.value,l.theme)),s=t.addAreaSeries(f(l.theme)),p(_.value),c())}),M(()=>l.theme,v=>{r.value&&(t.applyOptions(m(r.value,v)),s.applyOptions(f(v)))}),M(_,v=>{p(v)});const m=(v,b)=>Se(v,b,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:S=>y(S)}}),f=v=>{const b=X(v);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ye.WithSteps,lineColor:b.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},p=v=>{if(!t||!s)return;const b=H.chain(v).map(S=>({time:S.timestamp,value:S.value})).uniqWith((S,x)=>S.time===x.time).orderBy(S=>S.time,"asc").value();b.length>0&&s.setData(b),t.timeScale().fitContent()},y=v=>`$${le(v,1,"dollar")}${ne(v,"dollar")}`;return(v,b)=>(d(),D(n(re),{class:"chart-container",title:n(e)("title"),loading:n(i)},{default:$(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ht(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Cumulative value of collaterals withdrawn"])}}})}typeof Ht=="function"&&Ht(Fa);const Vr=L(Fa,[["__scopeId","data-v-c87ea7d3"]]),Rr={class:"address"},qr=["href"],Br={class:"number"},Wr={class:"number"},Er={class:"address"},Fr=["href"],Na=z({__name:"TableTopDeposits",setup(o){const{t:e}=q(),a=new U(N()),t=C(()=>H.chain(l.value).map(i=>i).value()),{loading:s,data:l,loadData:r}=j(()=>a.getTopStableDeposits("ethereum",5,"7d").then(i=>i.operations),[]);return B(()=>void r()),(i,_)=>(d(),D(n(ie),{class:"datatable-deposits","columns-header":"1fr","columns-data":"deposits-columns-data",loading:n(s),rows:t.value,columns:["Address","Amount","Date","Tx"]},{"header-title":$(()=>[u("div",null,k(n(e)("title")),1)]),row:$(c=>[u("div",Rr,[u("a",{href:`https://etherscan.io/address/${c.item.user}`,target:"_blank"},k(n(te)(c.item.user,8)),9,qr)]),u("div",Br,[h(n(F),{value:c.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",Wr,k(new Date(c.item.timestamp*1e3).toLocaleDateString()),1),u("div",Er,[u("a",{href:`https://etherscan.io/tx/${c.item.hash}`,target:"_blank"},k(n(te)(c.item.hash,8)),9,Fr)])]),_:1},8,["loading","rows"]))}});function jt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest deposits past 7 days"])}}})}typeof jt=="function"&&jt(Na);const Nr=L(Na,[["__scopeId","data-v-c62e207d"]]),Ur={class:"address"},Hr=["href"],jr={class:"number"},Gr={class:"number"},Qr={class:"address"},Jr=["href"],Ua=z({__name:"TableTopWithdrawals",setup(o){const{t:e}=q(),a=new U(N()),t=C(()=>H.chain(l.value).map(i=>i).value()),{loading:s,data:l,loadData:r}=j(()=>a.getTopStableWithdrawals("ethereum",5,"7d").then(i=>i.operations),[]);return B(()=>void r()),(i,_)=>(d(),D(n(ie),{class:"datatable-withdrawals","columns-header":"1fr","columns-data":"withdrawals-columns-data",loading:n(s),rows:t.value,columns:["Address","Amount","Date","Tx"]},{"header-title":$(()=>[u("div",null,k(n(e)("title")),1)]),row:$(c=>[u("div",Ur,[u("a",{href:`https://etherscan.io/address/${c.item.user}`,target:"_blank"},k(n(te)(c.item.user,8)),9,Hr)]),u("div",jr,[h(n(F),{value:c.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",Gr,k(new Date(c.item.timestamp*1e3).toLocaleDateString()),1),u("div",Qr,[u("a",{href:`https://etherscan.io/tx/${c.item.hash}`,target:"_blank"},k(n(te)(c.item.hash,8)),9,Jr)])]),_:1},8,["loading","rows"]))}});function Gt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest withdrawals past 7 days"])}}})}typeof Gt=="function"&&Gt(Ua);const Yr=L(Ua,[["__scopeId","data-v-030921fd"]]),Kr={class:"pool"},Xr=z({__name:"StabilityPool",setup(o){return(e,a)=>(d(),w("div",Kr,[h(Ar),h(Or),h(Mr),h(Vr),h(Nr),h(Yr)]))}});const Zr=L(Xr,[["__scopeId","data-v-c433301c"]]),ei=o=>(pe("data-v-39b2c7b0"),o=o(),he(),o),ti=ei(()=>u("div",null," Price data is sourced from Curve pools only. ",-1)),Ha=z({__name:"ChartPrice",setup(o){const{t:e}=q(),a=new U(N());let t,s;const l=ee(),r=P(null),{loading:i,data:_,loadData:c}=j(()=>a.getPriceHistory("ethereum","1m").then(v=>v.prices),[]);B(()=>{r.value&&(t=ke(r.value,m(r.value,l.theme)),s=t.addAreaSeries(f(l.theme)),p(_.value),c())}),M(()=>l.theme,v=>{r.value&&(t.applyOptions(m(r.value,v)),s.applyOptions(f(v)))}),M(_,v=>{p(v)});const m=(v,b)=>Se(v,b,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:S=>y(S)}}),f=v=>{const b=X(v);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:ye.WithSteps,lineColor:b.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},p=v=>{if(!t||!s)return;const b=H.chain(v).map(S=>({time:S.timestamp,value:S.value})).uniqWith((S,x)=>S.time===x.time).orderBy(S=>S.time,"asc").value();b.length>0&&s.setData(b),t.timeScale().fitContent()},y=v=>`$${le(v,2,"dollar")}${ne(v,"dollar")}`;return(v,b)=>(d(),D(n(re),{class:"chart-container",title:n(e)("title"),loading:n(i)},{actions:$(()=>[h(n(Ne),null,{default:$(()=>[ti]),_:1})]),default:$(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Qt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD price (last 30 days)"])}}})}typeof Qt=="function"&&Qt(Ha);const ai=L(Ha,[["__scopeId","data-v-39b2c7b0"]]),ja=z({__name:"ChartPriceDistribution",setup(o){const{t:e}=q(),a=new U(N()),t=ee(),{loading:s,data:l,loadData:r}=j(()=>a.getPriceHistogram("ethereum",10,"all").then(m=>m.histogram),[]);B(()=>void r());const i=C(()=>{const m=X(t.theme),f=ce(t.theme);return ue({colors:m,colorsArray:f},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:c.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=C(()=>[{name:e("numPos"),data:Object.values(l.value).map(m=>m.value)}]),c=C(()=>l.value.map(m=>m.label));return(m,f)=>(d(),D(n(_e),{title:n(e)("title"),loading:n(s),series:_.value,options:i.value},null,8,["title","loading","series","options"]))}});function Jt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Price histogram"])},numPos:a=>{const{normalize:t}=a;return t(["# of hourly price records"])}}})}typeof Jt=="function"&&Jt(ja);const oi=L(ja,[["__scopeId","data-v-cb3982fd"]]),Ga=z({__name:"ChartHolders",setup(o){const{t:e}=q(),a=new U(N()),t=ee(),{loading:s,data:l,loadData:r}=j(()=>a.getLargeStableCoinHolders("ethereum").then(f=>f.holders),[]);B(()=>void r());const i=C(()=>{const f=X(t.theme),p=ce(t.theme);return ue({colors:f,colorsArray:p},{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:y=>{let v=c.value[y.seriesIndex];v=v.length>10&&v.startsWith("0x")?te(v):v;const b=y.series[y.seriesIndex];return[`<div><b>${v}</b>:</div><div>${m(b)}</div>`].join("")}},labels:l.value.map(y=>y.label.length>10&&y.label.startsWith("0x")?te(y.label):y.label)})}),_=C(()=>l.value.map(f=>f.value)),c=C(()=>l.value.map(f=>f.label)),m=f=>`$${le(Math.abs(f),1,"dollar")}${ne(f,"dollar")}`;return(f,p)=>(d(),D(n(_e),{class:"graph",title:n(e)("title"),loading:n(s),options:i.value,series:_.value},null,8,["title","loading","options","series"]))}});function Yt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest holders"])},numPos:a=>{const{normalize:t}=a;return t(["mkUSD balance:"])}}})}typeof Yt=="function"&&Yt(Ga);const ni=L(Ga,[["__scopeId","data-v-87a21766"]]),si={class:"kpis"},li=z({__name:"KPIs",setup(o){const e=new U(N()),{data:a,loadData:t}=j(()=>e.getStableCoinKPI("ethereum").then(s=>s.info),null);return B(()=>void t()),(s,l)=>(d(),w("div",si,[h(n(se),{label:"mkUSD price","has-value":!!n(a)},{default:$(()=>[n(a)?(d(),D(n(F),{key:0,value:n(a).price,precision:4,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(se),{label:"Total supply","has-value":!!n(a)},{default:$(()=>[n(a)?(d(),D(n(F),{key:0,value:n(a).supply,precision:2,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(se),{label:"24h Volume (Curve)","has-value":!!n(a)},{default:$(()=>[n(a)?(d(),D(n(F),{key:0,value:n(a).volume,precision:1,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(se),{label:"Aggregate -2% Depth (Curve)","has-value":!!n(a)},{default:$(()=>[n(a)?(d(),D(n(F),{key:0,value:n(a).depth,precision:1,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"])]))}});const ri=L(li,[["__scopeId","data-v-b3576350"]]),Qa=z({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(o){const{t:e}=q(),a=ee(),t=C(()=>{const i=X(a.theme),_=ce(a.theme);return ue({colors:i,colorsArray:_},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:c=>r(c)}},yaxis:{seriesName:"amounts",labels:{formatter:c=>r(c)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:c=>r(c)}},colors:[c=>c.value===0?i.blue:i.green,c=>c.value===0?i.blue:i.red]})}),s=C(()=>{if(!o.depth)return[];const i=[...o.depth.ask.prices.map(c=>({x:c,y:0})),...o.depth.bid.prices.map((c,m)=>({x:c,y:o.depth.bid.amounts[m]}))],_=[...o.depth.ask.prices.map((c,m)=>({x:c,y:o.depth.ask.amounts[m]}))];return[{name:"Bid",data:i},{name:"Ask",data:_}]}),l=C(()=>{var _;if(!((_=o.depth)!=null&&_.tokens)||o.depth.tokens.length===0)return e("title");const i=o.depth.tokens.join(" / ");return`${e("title")} - ${i} (Curve)`}),r=i=>`$${le(Math.abs(i),2,"dollar")}${ne(i,"dollar")}`;return(i,_)=>(d(),D(n(_e),{class:"chart",title:l.value,loading:i.loading,options:t.value,series:s.value},null,8,["title","loading","options","series"]))}});function Kt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidity Depth"])}}})}typeof Kt=="function"&&Kt(Qa);const ii=L(Qa,[["__scopeId","data-v-defdef9f"]]),ci=z({__name:"ChartDepthContainer",setup(o){const e=new U(N()),{loading:a,data:t,loadData:s}=j(()=>e.getCurvePoolDepth("ethereum").then(l=>l.depth),[]);return B(()=>void s()),(l,r)=>(d(!0),w(ae,null,de(n(t),i=>(d(),D(ii,{key:i.name,loading:n(a),depth:i},null,8,["loading","depth"]))),128))}});const ui=L(ci,[["__scopeId","data-v-f0b8731b"]]),di={class:"mkusd"},_i=z({__name:"Stablecoin",setup(o){return(e,a)=>(d(),w("div",di,[h(ri,{style:{"grid-column":"1 / -1"}}),h(ai),h(oi),h(ni),h(ui)]))}});const mi=L(_i,[["__scopeId","data-v-738142b2"]]);function Te(o,e){const t=Math.round(o.value/1e3)-e;return t<60?`${Math.round(t)} seconds ago`:t<60*60?`${Math.round(t/60)} minutes ago`:t<60*60*24?`${Math.round(t/(60*60))} hours ago`:`${Math.round(t/(60*60*24))} days ago`}const vi={class:"redemption-details"},pi={class:"kpis"},hi={class:"title"},fi=["href"],Ja=z({__name:"RedemptionDetails",props:{vaultAddr:{},redemption:{}},setup(o){const{t:e}=q(),a=P(""),t=C(()=>H.chain(o.redemption.troves_affected).filter(s=>{const l=a.value.toLocaleLowerCase().split(" ");return(i=>l.some(_=>i.toLocaleLowerCase().includes(_)))(s)}).value());return(s,l)=>(d(),D(n(re),{title:n(e)("redemption-details")},{default:$(()=>[u("div",vi,[u("div",pi,[h(n(se),{label:n(e)("withdrawal")},{default:$(()=>[h(n(F),{value:s.redemption.attempted_debt_amount,precision:2,type:"dollar"},null,8,["value"]),Q(" / "),h(n(F),{value:s.redemption.collateral_sent_to_redeemer_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),h(n(se),{label:n(e)("fee")},{default:$(()=>[h(n(F),{value:s.redemption.collateral_fee_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),h(n(ie),{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:t.value,columns:["Trove"]},{"header-title":$(()=>[u("div",hi,k(n(e)("troves-affected")),1),h(n(fe),{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value=r),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:$(r=>[u("div",{onClick:l[1]||(l[1]=oe(()=>{},["stop"]))},[u("a",{style:{"font-family":"monospace"},target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${r.item}`},k(r.item),9,fi)])]),_:1},8,["rows"])])]),_:1},8,["title"]))}});function Xt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":a=>{const{normalize:t}=a;return t(["Troves affected"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])},"redemption-details":a=>{const{normalize:t}=a;return t(["Redemption Details"])},withdrawal:a=>{const{normalize:t}=a;return t(["Attempted / Received"])},fee:a=>{const{normalize:t}=a;return t(["Fee"])}}})}typeof Xt=="function"&&Xt(Ja);const yt=L(Ja,[["__scopeId","data-v-051a73d3"]]),gi={key:0,class:"item"},bi=["src"],yi={key:1,class:"empty"},$i={class:"label"},wi=z({__name:"SelectCollateral",props:{collateral:{default:null},all:{type:Boolean,default:!1}},emits:["select-collateral"],setup(o,{emit:e}){const a=e,t=P(!1),s=[...o.all?[{collateral:"all",label:"All"}]:[],{collateral:"cbETH",label:"cbETH"},{collateral:"wstETH",label:"wstETH"},{collateral:"rETH",label:"rETH"},{collateral:"sfrxETH",label:"sfrxETH"}],l=C(()=>s.find(c=>c.collateral===o.collateral)??null);B(()=>{_(s[0])});const r=c=>c.label,i=()=>{t.value=!t.value},_=c=>{const{collateral:m}=c;a("select-collateral",m)};return(c,m)=>(d(),D(n(ht),{class:"select",options:s,selected:l.value,open:t.value,onOpen:i,onClose:m[0]||(m[0]=f=>t.value=!1),onInput:_},{item:$(f=>[f.item?(d(),w("div",gi,[n(De)(f.item.collateral)?(d(),w("img",{key:0,src:n(De)(f.item.collateral)},null,8,bi)):(d(),w("div",yi)),u("div",$i,k(r(f.item)),1)])):V("",!0)]),_:1},8,["selected","open"]))}});const Ge=L(wi,[["__scopeId","data-v-2bf0e714"]]),Ci=["src"],ki=["href"],Si=["href"],Ti={class:"number"},Di={class:"number"},Pi={class:"number"},Qe=15,Ya=z({__name:"TableRedemptions",props:{vaults:{default:()=>[]}},setup(o){const e=new U(N()),{t:a}=q(),t=P(""),s=P("all"),l=P(1),r=P(Date.now()),i=P(null),_=P("timestamp"),c=P(Z.Descending),m=C(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),f=C(()=>["icon","redeemer","tx","debt","numtroves","timestamp"]),p=C(()=>["redeemer","tx","debt","numtroves","timestamp"]),y=C(()=>H.chain(S.value).filter(g=>{const A=t.value.toLocaleLowerCase().split(" "),T=me=>A.some($e=>me.toLocaleLowerCase().includes($e)),J=Ce(g.vault),K=s.value==="all"?!0:s.value===J;return T(g.redeemer)&&K}).orderBy(g=>{switch(_.value){case"redeemer":return g.redeemer;case"tx":return g.transaction;case"debt":return g.actual_debt_amount;case"numtroves":return g.troves_affected_count;case"timestamp":return g.timestamp;default:return g.timestamp}},c.value===Z.Descending?"desc":"asc").value()),v=C(()=>H.chain(y.value).drop((l.value-1)*Qe).take(Qe).value()),{loading:b,data:S,loadData:x}=j(()=>o.vaults.length>0?Promise.all(o.vaults.map(g=>e.getRedemptions("ethereum",g.address))).then(g=>g.flat()):Promise.resolve([]),[]);B(()=>{x(),setInterval(()=>{r.value=Date.now()})});const R=g=>Te(r,g),W=g=>{l.value=g},I=(g,A)=>{_.value=g,c.value=A},O=g=>{i.value=g};return M(()=>o.vaults,x,{immediate:!0}),M(v,g=>{g.length===0&&(l.value=Math.max(1,Math.ceil(y.value.length/Qe)))}),(g,A)=>(d(),w(ae,null,[h(n(ie),{class:"datatable-redemptions","columns-header":"1fr 12rem minmax(auto, 25rem) auto","columns-data":"redemptions-columns-data",loading:n(b),rows:v.value,columns:m.value,sorting:!0,"sorting-columns":f.value,"sorting-columns-enabled":p.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:I,onSelected:O},{"header-title":$(()=>[u("div",null,k(n(a)("title")),1),h(Ge,{class:"select-collateral",collateral:s.value,all:!0,onSelectCollateral:A[0]||(A[0]=T=>s.value=T)},null,8,["collateral"]),h(n(fe),{modelValue:t.value,"onUpdate:modelValue":A[1]||(A[1]=T=>t.value=T),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":$(()=>[h(n(Pe),{class:"pagination","items-count":y.value.length,"items-per-page":Qe,page:l.value,onPage:W},null,8,["items-count","page"])]),row:$(T=>[u("img",{src:n(De)(n(Ce)(T.item.vault))},null,8,Ci),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${T.item.redeemer}`,target:"_blank",onClick:A[2]||(A[2]=oe(()=>{},["stop"]))},k(n(te)(T.item.redeemer)),9,ki)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${T.item.transaction}`,target:"_blank",onClick:A[3]||(A[3]=oe(()=>{},["stop"]))},k(n(te)(T.item.transaction)),9,Si)]),u("div",Ti,"$"+k(Math.round(T.item.actual_debt_amount)),1),u("div",Di,k(T.item.troves_affected_count),1),u("div",Pi,k(R(T.item.timestamp)),1)]),"row-details":$(()=>[Q("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]),h(n(xe),{show:!!i.value,onClose:A[4]||(A[4]=T=>i.value=null)},{default:$(()=>[i.value?(d(),D(yt,{key:0,redemption:i.value,"vault-addr":i.value.vault},null,8,["redemption","vault-addr"])):V("",!0)]),_:1},8,["show"])],64))}});function Zt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Redemptions"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Zt=="function"&&Zt(Ya);const zi=L(Ya,[["__scopeId","data-v-eca8b6c6"]]),xi={class:"redemptions"},Li=z({__name:"Redemptions",setup(o){const e=new Be("ethereum"),a=P([]);return M(e.currentData,t=>{a.value=t}),B(()=>{a.value=e.currentData.value}),(t,s)=>(d(),w("div",xi,[h(zi,{vaults:a.value},null,8,["vaults"])]))}});const Ii=L(Li,[["__scopeId","data-v-7e3aa5fe"]]),Ai={class:"liquidation-details"},Oi={class:"kpis"},Mi={class:"title"},Vi=["href"],Ka=z({__name:"LiquidationDetails",props:{vaultAddr:{},liquidation:{}},setup(o){const{t:e}=q(),a=P(""),t=C(()=>H.chain(o.liquidation.troves_affected).filter(s=>{const l=a.value.toLocaleLowerCase().split(" ");return(i=>l.some(_=>i.toLocaleLowerCase().includes(_)))(s)}).value());return(s,l)=>(d(),D(n(re),{title:n(e)("liquidation-details")},{default:$(()=>[u("div",Ai,[u("div",Oi,[h(n(se),{label:n(e)("debt")},{default:$(()=>[h(n(F),{value:s.liquidation.liquidated_debt,precision:2,type:"dollar"},null,8,["value"]),Q(" / "),h(n(F),{value:s.liquidation.liquidated_collateral,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),h(n(se),{label:n(e)("gas-compensation")},{default:$(()=>[h(n(F),{value:s.liquidation.collateral_gas_compensation_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),h(n(ie),{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:t.value,columns:["Trove"]},{"header-title":$(()=>[u("div",Mi,k(n(e)("troves-affected")),1),h(n(fe),{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value=r),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:$(r=>[u("div",{onClick:l[1]||(l[1]=oe(()=>{},["stop"]))},[u("a",{style:{"font-family":"monospace"},target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${r.item}`},k(r.item),9,Vi)])]),_:1},8,["rows"])])]),_:1},8,["title"]))}});function ea(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":a=>{const{normalize:t}=a;return t(["Troves affected"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])},"liquidation-details":a=>{const{normalize:t}=a;return t(["Liquidation Details"])},debt:a=>{const{normalize:t}=a;return t(["Debt / Collateral"])},"gas-compensation":a=>{const{normalize:t}=a;return t(["Gas compensation"])}}})}typeof ea=="function"&&ea(Ka);const $t=L(Ka,[["__scopeId","data-v-89315065"]]),Ri=["src"],qi=["href"],Bi=["href"],Wi={class:"number"},Ei={class:"number"},Fi={class:"number"},Je=15,Xa=z({__name:"TableLiquidations",props:{vaults:{default:()=>[]}},setup(o){const e=new U(N()),{t:a}=q(),t=P(""),s=P("all"),l=P(1),r=P(Date.now()),i=P(null),_=P("timestamp"),c=P(Z.Descending),m=C(()=>["","Liquidator","Transaction","Debt","# Troves","Time"]),f=C(()=>["icon","liquidator","tx","debt","numtroves","timestamp"]),p=C(()=>["liquidator","tx","debt","numtroves","timestamp"]),y=C(()=>H.chain(S.value).filter(g=>{const A=t.value.toLocaleLowerCase().split(" "),T=me=>A.some($e=>me.toLocaleLowerCase().includes($e)),J=Ce(g.vault),K=s.value==="all"?!0:s.value===J;return T(g.liquidator)&&K}).orderBy(g=>{switch(_.value){case"liquidator":return g.liquidator;case"tx":return g.transaction;case"debt":return g.liquidated_collateral_usd;case"numtroves":return g.troves_affected_count;case"timestamp":return g.timestamp;default:return g.timestamp}},c.value===Z.Descending?"desc":"asc").value()),v=C(()=>H.chain(y.value).drop((l.value-1)*Je).take(Je).value()),{loading:b,data:S,loadData:x}=j(()=>o.vaults.length>0?Promise.all(o.vaults.map(g=>e.getLiquidations("ethereum",g.address))).then(g=>g.flat()):Promise.resolve([]),[]);B(()=>{x(),setInterval(()=>{r.value=Date.now()})});const R=g=>Te(r,g),W=g=>{l.value=g},I=(g,A)=>{_.value=g,c.value=A},O=g=>{i.value=g};return M(()=>o.vaults,x,{immediate:!0}),M(v,g=>{g.length===0&&(l.value=Math.max(1,Math.ceil(y.value.length/Je)))}),(g,A)=>(d(),w(ae,null,[h(n(ie),{class:"datatable-liquidations","columns-header":"1fr 12rem minmax(auto, 25rem) auto","columns-data":"liquidations-columns-data",loading:n(b),rows:v.value,columns:m.value,sorting:!0,"sorting-columns":f.value,"sorting-columns-enabled":p.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:I,onSelected:O},{"header-title":$(()=>[u("div",null,k(n(a)("title")),1),h(Ge,{class:"select-collateral",collateral:s.value,all:!0,onSelectCollateral:A[0]||(A[0]=T=>s.value=T)},null,8,["collateral"]),h(n(fe),{modelValue:t.value,"onUpdate:modelValue":A[1]||(A[1]=T=>t.value=T),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":$(()=>[h(n(Pe),{class:"pagination","items-count":y.value.length,"items-per-page":Je,page:l.value,onPage:W},null,8,["items-count","page"])]),row:$(T=>[u("img",{src:n(De)(n(Ce)(T.item.vault))},null,8,Ri),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${T.item.liquidator}`,target:"_blank",onClick:A[2]||(A[2]=oe(()=>{},["stop"]))},k(n(te)(T.item.liquidator)),9,qi)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${T.item.transaction}`,target:"_blank",onClick:A[3]||(A[3]=oe(()=>{},["stop"]))},k(n(te)(T.item.transaction)),9,Bi)]),u("div",Wi,"$"+k(Math.round(T.item.liquidated_debt)),1),u("div",Ei,k(T.item.troves_affected_count),1),u("div",Fi,k(R(T.item.timestamp)),1)]),"row-details":$(()=>[Q("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]),h(n(xe),{show:!!i.value,onClose:A[4]||(A[4]=T=>i.value=null)},{default:$(()=>[i.value?(d(),D($t,{key:0,liquidation:i.value,"vault-addr":i.value.vault},null,8,["liquidation","vault-addr"])):V("",!0)]),_:1},8,["show"])],64))}});function ta(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidations"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof ta=="function"&&ta(Xa);const Ni=L(Xa,[["__scopeId","data-v-af3827db"]]),Ui={class:"liquidations"},Hi=z({__name:"Liquidations",setup(o){const e=new Be("ethereum"),a=P([]);return M(e.currentData,t=>{a.value=t}),B(()=>{a.value=e.currentData.value}),(t,s)=>(d(),w("div",Ui,[h(Ni,{vaults:a.value},null,8,["vaults"])]))}});const ji=L(Hi,[["__scopeId","data-v-f2808968"]]),Za=z({__name:"ChartTVL",setup(o){const{t:e}=q(),a=new U(N());let t,s;const l=ee(),r=P(null),{loading:i,data:_,loadData:c}=j(()=>a.getCvxPrismaTVL().then(v=>v.tvl),[]);B(()=>{r.value&&(t=ke(r.value,m(r.value,l.theme)),s=t.addAreaSeries(f(l.theme)),p(_.value),c())}),M(()=>l.theme,v=>{r.value&&(t.applyOptions(m(r.value,v)),s.applyOptions(f(v)))}),M(_,v=>{p(v)});const m=(v,b)=>Se(v,b,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:S=>y(S)}}),f=v=>{const b=X(v);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:ye.WithSteps,lineColor:b.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},p=v=>{if(!t||!s)return;const b=H.chain(v).map(S=>({time:S.timestamp,value:S.value})).uniqWith((S,x)=>S.time===x.time).orderBy(S=>S.time,"asc").value();b.length>0&&s.setData(b),t.timeScale().fitContent()},y=v=>`$${le(v,0,"dollar")}${ne(v,"dollar")}`;return(v,b)=>(d(),D(n(re),{class:"chart-container",title:n(e)("title"),loading:n(i)},{default:$(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function aa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Convex Prisma TVL"])}}})}typeof aa=="function"&&aa(Za);const Gi=L(Za,[["__scopeId","data-v-73d4c982"]]),eo=z({__name:"ChartFlow",setup(o){const{t:e}=q(),a=new U(N()),t=ee(),{loading:s,data:l,loadData:r}=j(()=>a.getCvxPrismaFlow(),{deposits:[],withdrawals:[]});B(()=>void r());const i=C(()=>{const p=X(t.theme),y=ce(t.theme);return ue({colors:p,colorsArray:y},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[p.green,p.red],xaxis:{categories:_.value,labels:{formatter:m,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:f}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:v,dataPointIndex:b,w:S})=>{let x=0;const R=v.map((W,I)=>{const O=W[b];return x+=O,`<div><b>${S.globals.seriesNames[I]}</b>:	${f(O)}</div>`});return R.push(`<div><b>Total</b>:	${f(x)}</div>`),R.join("")}}})}),_=C(()=>l.value.deposits.length===0?[]:l.value.deposits.map(p=>new Date(p.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=C(()=>[{name:e("deposits"),data:Object.values(l.value.deposits).map(p=>p.amount_usd)},{name:e("withdrawals"),data:Object.values(l.value.withdrawals).map(p=>-p.amount_usd)}]),m=p=>p,f=p=>`$${le(p,0,"dollar")}${ne(p,"dollar")}`;return(p,y)=>(d(),D(n(_e),{title:n(e)("title"),loading:n(s),options:i.value,series:c.value},null,8,["title","loading","options","series"]))}});function oa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["cvxPRISMA staking and unstaking"])},deposits:a=>{const{normalize:t}=a;return t(["Deposits"])},withdrawals:a=>{const{normalize:t}=a;return t(["Withdrawals"])}}})}typeof oa=="function"&&oa(eo);const Qi=L(eo,[["__scopeId","data-v-c239e452"]]),to=z({__name:"ChartAPR",setup(o){const{t:e}=q(),a=new U(N());let t,s;const l=ee(),r=P(null),{loading:i,data:_,loadData:c}=j(()=>a.getCvxPrismaSnapshots().then(v=>v.Snapshots),[]);B(()=>{r.value&&(t=ke(r.value,m(r.value,l.theme)),s=t.addAreaSeries(f(l.theme)),p(_.value),c())}),M(()=>l.theme,v=>{r.value&&(t.applyOptions(m(r.value,v)),s.applyOptions(f(v)))}),M(_,v=>{p(v)});const m=(v,b)=>Se(v,b,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:S=>y(S)}}),f=v=>{const b=X(v);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:ye.WithSteps,lineColor:b.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},p=v=>{if(!t||!s)return;const b=H.chain(v).filter(S=>S.timestamp>=1698943010).map(S=>({time:S.timestamp,value:S.total_apr*100})).uniqWith((S,x)=>S.time===x.time).orderBy(S=>S.time,"asc").value();b.length>0&&s.setData(b),t.timeScale().fitContent()},y=v=>`${le(v,0,"percentage")}${ne(v,"percentage")}`;return(v,b)=>(d(),D(n(re),{class:"chart-container",title:n(e)("title"),loading:n(i)},{default:$(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function na(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["cvxPRISMA APR"])}}})}typeof na=="function"&&na(to);const Ji=L(to,[["__scopeId","data-v-7c503fcb"]]),ao=z({__name:"ChartDistribution",setup(o){const{t:e}=q(),a=new U(N()),t=ee(),{loading:s,data:l,loadData:r}=j(()=>a.getCvxPrismaDistribution().then(p=>p.distribution),[]);B(()=>void r());const i=C(()=>{const p=X(t.theme),y=ce(t.theme);return ue({colors:p,colorsArray:y},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:m,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:f}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=C(()=>l.value.map(p=>p.label)),c=C(()=>[{name:e("size"),data:Object.values(l.value).map(p=>p.value)}]),m=p=>p,f=p=>`$${le(p,0,"dollar")}${ne(p,"dollar")}`;return(p,y)=>(d(),D(n(_e),{class:"chart",title:n(e)("title"),loading:n(s),options:i.value,series:c.value},null,8,["title","loading","options","series"]))}});function sa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["cvxPRISMA position size"])},size:a=>{const{normalize:t}=a;return t(["Size"])}}})}typeof sa=="function"&&sa(ao);const Yi=L(ao,[["__scopeId","data-v-8baa869e"]]),Ki={class:"cvxprisma"},Xi=z({__name:"CvxPrisma",setup(o){return(e,a)=>(d(),w("div",Ki,[h(Gi),h(Qi),h(Ji),h(Yi)]))}});const Zi=L(Xi,[["__scopeId","data-v-ba246a2e"]]),ec=z({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(o){const e=ee(),a=C(()=>{const r=X(e.theme),i=ce(e.theme);return ue({colors:r,colorsArray:i},{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:_=>{let c=s.value[_.seriesIndex];c=c.length>10?te(c):c;const m=_.series[_.seriesIndex];return[`<div><b>${c}</b>:</div><div>${l(m)}</div>`].join("")}},labels:o.data.map(_=>_.label.length>10?te(_.label):_.label)})}),t=C(()=>o.data.map(r=>r.value)),s=C(()=>o.data.map(r=>r.label)),l=r=>`$${le(Math.abs(r),1,"dollar")}${ne(r,"dollar")}`;return(r,i)=>(d(),D(n(_e),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const tc=L(ec,[["__scopeId","data-v-5e27d0e1"]]),ac={class:"actions"},oo=z({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(o){const{t:e}=q(),a=new U(N()),t=P("collateral"),{loading:s,data:l,loadData:r}=j(()=>o.vault?a.getLargeTrovePositions("ethereum",o.vault.address,t.value).then(i=>i.positions):Promise.resolve([]),[]);return M(t,r,{immediate:!0}),M(()=>o.vault,r,{immediate:!0}),(i,_)=>(d(),D(n(re),{class:"chart-container",title:n(e)("title"),loading:n(s)},{actions:$(()=>[u("div",ac,[h(n(at),{value:"Coll.","model-value":t.value==="collateral",onClick:_[0]||(_[0]=c=>t.value="collateral")},null,8,["model-value"]),h(n(at),{value:"Debt","model-value":t.value==="debt",onClick:_[1]||(_[1]=c=>t.value="debt")},null,8,["model-value"])])]),default:$(()=>[h(tc,{data:n(l)},null,8,["data"])]),_:1},8,["title","loading"]))}});function la(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["5 Largest Troves vs Others"])}}})}typeof la=="function"&&la(oo);const oc=L(oo,[["__scopeId","data-v-3b560130"]]),nc=z({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(o){const e=ee(),a=C(()=>{const l=X(e.theme),r=ce(e.theme);return ue({colors:l,colorsArray:r},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:s.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),t=C(()=>[{name:"# of troves",data:Object.values(o.data).map(l=>l.value)}]),s=C(()=>o.data.map(l=>l.label));return(l,r)=>(d(),D(n(_e),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const sc=L(nc,[["__scopeId","data-v-726b6957"]]),lc={class:"actions"},no=z({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(o){const{t:e}=q(),a=new U(N()),{loading:t,data:s,loadData:l}=j(()=>o.vault?a.getTroveDistribution("ethereum",o.vault.address,r.value).then(i=>i.distribution):Promise.resolve([]),[]),r=P("collateral");return M(r,l,{immediate:!0}),M(()=>o.vault,l,{immediate:!0}),(i,_)=>(d(),D(n(re),{class:"chart-container",title:n(e)("title"),loading:n(t)},{actions:$(()=>[u("div",lc,[h(n(at),{value:"Coll.","model-value":r.value==="collateral",onClick:_[0]||(_[0]=c=>r.value="collateral")},null,8,["model-value"]),h(n(at),{value:"Debt","model-value":r.value==="debt",onClick:_[1]||(_[1]=c=>r.value="debt")},null,8,["model-value"])])]),default:$(()=>[h(sc,{data:n(s)},null,8,["data"])]),_:1},8,["title","loading"]))}});function ra(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Troves Distribution"])}}})}typeof ra=="function"&&ra(no);const rc=L(no,[["__scopeId","data-v-56b15476"]]),ic={class:"kpis"},cc=z({__name:"VaultKPIs",props:{vault:{default:null}},setup(o){return(e,a)=>(d(),w("div",ic,[h(n(se),{label:"TVL","has-value":!!e.vault},{default:$(()=>[e.vault?(d(),D(n(F),{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(se),{label:"Debt / Debt Cap","has-value":!!e.vault},{default:$(()=>[e.vault?(d(),D(n(F),{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):V("",!0),Q(" / "),e.vault?(d(),D(n(F),{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(se),{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:$(()=>[e.vault?(d(),D(n(F),{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):V("",!0),Q(" / "),e.vault?(d(),D(n(F),{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(se),{label:"Interest rate","has-value":!!e.vault},{default:$(()=>[e.vault?(d(),D(n(F),{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(se),{label:"Troves open / total","has-value":!!e.vault},{default:$(()=>[e.vault?(d(),D(n(F),{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):V("",!0),Q(" / "),e.vault?(d(),D(n(F),{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(se),{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:$(()=>[e.vault?(d(),D(n(F),{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):V("",!0),Q(" / "),e.vault?(d(),D(n(F),{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):V("",!0)]),_:1},8,["has-value"])]))}});const uc=L(cc,[["__scopeId","data-v-12fbfe11"]]),so=z({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(o){const{t:e}=q(),a=new U(N());let t,s;const l=ee(),r=P(null),{loading:i,data:_,loadData:c}=j(()=>o.vault?a.getVaultCollateralRatio("ethereum",o.vault.address,"1m").then(y=>y.ratio):Promise.resolve([]),[]);B(()=>{r.value&&(t=ke(r.value,m(r.value,l.theme)),s=t.addAreaSeries(f(l.theme)),p(_.value))}),M(()=>l.theme,y=>{r.value&&(t.applyOptions(m(r.value,y)),s.applyOptions(f(y)))}),M(()=>o.vault,c,{immediate:!0}),M(_,y=>{p(y)});const m=(y,v)=>Se(y,v,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),f=y=>{const v=X(y);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ye.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},p=y=>{if(!t||!s)return;const v=H.chain(y).map(b=>({time:b.timestamp,value:b.value*100})).uniqWith((b,S)=>b.time===S.time).orderBy(b=>b.time,"asc").value();v.length>0&&s.setData(v),t.timeScale().fitContent()};return(y,v)=>(d(),D(n(re),{class:"chart-container",title:n(e)("title"),loading:n(i)},{default:$(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ia(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vault collateral ratio"])}}})}typeof ia=="function"&&ia(so);const dc=L(so,[["__scopeId","data-v-518d60f9"]]),lo=z({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(o){const{t:e}=q(),a=new U(N());let t,s;const l=ee(),r=P(null),{loading:i,data:_,loadData:c}=j(()=>o.vault?a.getVaultTroveCount("ethereum",o.vault.address,"1m").then(y=>y.count):Promise.resolve([]),[]);B(()=>{r.value&&(t=ke(r.value,m(r.value,l.theme)),s=t.addAreaSeries(f(l.theme)),p(_.value))}),M(()=>l.theme,y=>{r.value&&(t.applyOptions(m(r.value,y)),s.applyOptions(f(y)))}),M(()=>o.vault,c,{immediate:!0}),M(_,y=>{p(y)});const m=(y,v)=>Se(y,v,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),f=y=>{const v=X(y);return{priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:ye.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},p=y=>{if(!t||!s)return;const v=H.chain(y).map(b=>({time:b.timestamp,value:b.value})).uniqWith((b,S)=>b.time===S.time).orderBy(b=>b.time,"asc").value();v.length>0&&s.setData(v),t.timeScale().fitContent()};return(y,v)=>(d(),D(n(re),{class:"chart-container",title:n(e)("title"),loading:n(i)},{default:$(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ca(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Number of open troves"])}}})}typeof ca=="function"&&ca(lo);const _c=L(lo,[["__scopeId","data-v-a04a3ea9"]]),mc={class:"vault-overview"},vc=z({__name:"VaultOverview",props:{vault:{}},setup(o){return(e,a)=>(d(),w("div",mc,[h(uc,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(rc,{vault:e.vault},null,8,["vault"]),h(oc,{vault:e.vault},null,8,["vault"]),h(dc,{vault:e.vault},null,8,["vault"]),h(_c,{vault:e.vault},null,8,["vault"])]))}});const pc=L(vc,[["__scopeId","data-v-ad4ff57f"]]),hc={class:"actions"},ro=z({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(o){const{t:e}=q(),a=new U(N());let t,s,l;const r=ee(),i=P(null),_={oracle:[],market:[]},{loading:c,data:m,loadData:f}=j(async()=>{if(o.vault){const x=await a.getCollateralPrices("ethereum",o.vault.collateral,"7d");return p(x.oracle,x.market)}else return Promise.resolve(_)},_);B(async()=>{i.value&&(await qo(),t=ke(i.value,y(i.value,r.theme)),s=t.addAreaSeries(b(r.theme)),l=t.addAreaSeries(v(r.theme)),S(m.value))}),M(()=>o.vault,f,{immediate:!0}),M(()=>r.theme,x=>{i.value&&(t.applyOptions(y(i.value,x)),s.applyOptions(b(x)),l.applyOptions(v(x)))}),M(m,x=>{S(x)});const p=(x,R)=>{const W=Math.max(x[0].timestamp,R[0].timestamp),I=Math.min(x[x.length-1].timestamp,R[R.length-1].timestamp),O=x.filter(A=>A.timestamp>=W&&A.timestamp<=I),g=R.filter(A=>A.timestamp>=W&&A.timestamp<=I);return O[O.length-1].timestamp<I&&O.push({timestamp:I,value:O[O.length-1].value}),g[g.length-1].timestamp<I&&g.push({timestamp:I,value:g[g.length-1].value}),{oracle:O,market:g}},y=(x,R)=>Se(x,R,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),v=x=>{const R=X(x);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ye.WithSteps,lineColor:R.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},b=x=>{const R=X(x);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ye.WithSteps,lineColor:R.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},S=x=>{if(!t||!s)return;const R=H.chain(x.oracle).map(I=>({time:I.timestamp,value:I.value})).uniqWith((I,O)=>I.time===O.time).orderBy(I=>I.time,"asc").value(),W=H.chain(x.market).map(I=>({time:I.timestamp,value:I.value})).uniqWith((I,O)=>I.time===O.time).orderBy(I=>I.time,"asc").value();W.length>0&&l.setData(W),R.length>0&&s.setData(R),t.timeScale().fitContent()};return(x,R)=>(d(),D(n(re),{class:"chart-container",title:n(e)("title"),loading:n(c)},{actions:$(()=>[u("div",hc,[h(n(js),{items:["Oracle","Market"],colors:n(ce)(n(r).theme)},null,8,["colors"])])]),default:$(()=>[u("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ua(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Oracle & Market price"])}}})}typeof ua=="function"&&ua(ro);const fc=L(ro,[["__scopeId","data-v-94a01709"]]),io=z({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(o){const{t:e}=q(),a=new U(N()),t=ee(),{loading:s,data:l,loadData:r}=j(()=>o.vault?a.getCollateralPriceImpact("ethereum",o.vault.collateral).then(p=>p.impact):Promise.resolve([]),[]),i=C(()=>{const p=X(t.theme),y=ce(t.theme);return ue({colors:p,colorsArray:y},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:c.value,labels:{formatter:v=>m(v)}},yaxis:{seriesName:"impact",labels:{formatter:v=>f(v)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:v=>{if(!o.vault)return"";const b=c.value[v.dataPointIndex],S=m(b*o.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${m(b)} ${o.vault.name} ($${S})</div>

          <div><b>Price impact:</b>:</div>
          <div>${f(v.series[0][v.dataPointIndex])}</div>
          `}}})}),_=C(()=>[{name:e("priceImpact"),data:Object.values(l.value).map(p=>p.impact)}]),c=C(()=>l.value.map(p=>o.vault?p.amount/o.vault.price:0)),m=p=>`${le(Math.abs(p),1,"dollar")}${ne(p,"dollar")}`,f=p=>`${le(p,2,"percentage")}${ne(p,"percentage")}`;return M(()=>o.vault,r,{immediate:!0}),(p,y)=>(d(),D(n(_e),{class:"chart",title:n(e)("title"),loading:n(s),options:i.value,series:_.value},null,8,["title","loading","options","series"]))}});function da(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["On-chain Selling Price Impact"])},priceImpact:a=>{const{normalize:t}=a;return t(["Price impact"])}}})}typeof da=="function"&&da(io);const gc=L(io,[["__scopeId","data-v-57657d95"]]),bc={class:"kpis"},yc=["href"],$c=z({__name:"CollateralKPIs",props:{vault:{default:null}},setup(o){const e=new U(N()),{data:a,loadData:t}=j(()=>o.vault?e.getCollateralInfo("ethereum",o.vault.collateral).then(s=>s.info):Promise.resolve(null),null);return M(()=>o.vault,t,{immediate:!0}),(s,l)=>(d(),w("div",bc,[h(n(se),{label:"Oracle price","has-value":!!n(a)},{default:$(()=>[n(a)?(d(),D(n(F),{key:0,value:n(a).price,precision:2,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(se),{label:"Total supply","has-value":!!n(a)},{default:$(()=>[n(a)?(d(),D(n(F),{key:0,value:n(a).supply,precision:2,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(se),{label:"TVL","has-value":!!n(a)},{default:$(()=>[n(a)?(d(),D(n(F),{key:0,value:n(a).tvl,precision:1,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(se),{label:"Share of the ETH LSD market","has-value":!!n(a)},{default:$(()=>[n(a)?(d(),D(n(F),{key:0,value:n(a).share,precision:1,type:"percentage"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(se),{label:"Full risk analysis by Prisma Risk team","has-value":!!n(a)},{default:$(()=>[n(a)?(d(),w("a",{key:0,href:n(a).risk}," Risk Report ",8,yc)):V("",!0)]),_:1},8,["has-value"])]))}});const wc=L($c,[["__scopeId","data-v-abf880e6"]]),Cc={class:"collateral"},kc=z({__name:"Collateral",props:{vault:{}},setup(o){return(e,a)=>(d(),w("div",Cc,[h(wc,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(fc,{vault:e.vault},null,8,["vault"]),h(gc,{vault:e.vault},null,8,["vault"])]))}});const Sc=L(kc,[["__scopeId","data-v-a7083765"]]),Tc=["href"],Dc=["href"],Pc={class:"number"},zc={class:"number"},xc={class:"number"},Ye=15,co=z({__name:"TableLiquidations",props:{vault:{default:null}},setup(o){const{t:e}=q(),a=new U(N()),t=P(""),s=P(1),l=P(Date.now()),r=P(null),i=P("timestamp"),_=P(Z.Descending),c=C(()=>["Liquidator","Transaction","Debt","# Troves","Time"]),m=C(()=>["liquidator","tx","debt","numtroves","timestamp"]),f=C(()=>H.chain(v.value).filter(I=>{const O=t.value.toLocaleLowerCase().split(" ");return(A=>O.some(T=>A.toLocaleLowerCase().includes(T)))(I.liquidator)}).orderBy(I=>{switch(i.value){case"liquidator":return I.liquidator;case"tx":return I.transaction;case"debt":return I.liquidated_collateral_usd;case"numtroves":return I.troves_affected_count;case"timestamp":return I.timestamp;default:return I.timestamp}},_.value===Z.Descending?"desc":"asc").value()),p=C(()=>H.chain(f.value).drop((s.value-1)*Ye).take(Ye).value()),{loading:y,data:v,loadData:b}=j(()=>o.vault?a.getLiquidations("ethereum",o.vault.address):Promise.resolve([]),[]);B(()=>{b(),setInterval(()=>{l.value=Date.now()})});const S=I=>Te(l,I),x=I=>{s.value=I},R=(I,O)=>{i.value=I,_.value=O},W=I=>{r.value=I};return M(()=>o.vault,b,{immediate:!0}),M(p,I=>{I.length===0&&(s.value=Math.max(1,Math.ceil(f.value.length/Ye)))}),(I,O)=>(d(),w(ae,null,[h(n(ie),{class:"datatable-liquidations","columns-header":"1fr 1fr auto","columns-data":"liquidations-columns-data",loading:n(y),rows:p.value,columns:c.value,sorting:!0,"sorting-columns":m.value,"sorting-columns-enabled":m.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:R,onSelected:W},{"header-title":$(()=>[u("div",null,k(n(e)("title")),1),h(n(fe),{modelValue:t.value,"onUpdate:modelValue":O[0]||(O[0]=g=>t.value=g),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":$(()=>[h(n(Pe),{class:"pagination","items-count":f.value.length,"items-per-page":Ye,page:s.value,onPage:x},null,8,["items-count","page"])]),row:$(g=>[u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${g.item.liquidator}`,target:"_blank",onClick:O[1]||(O[1]=oe(()=>{},["stop"]))},k(n(te)(g.item.liquidator)),9,Tc)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${g.item.transaction}`,target:"_blank",onClick:O[2]||(O[2]=oe(()=>{},["stop"]))},k(n(te)(g.item.transaction)),9,Dc)]),u("div",Pc,"$"+k(Math.round(g.item.liquidated_debt)),1),u("div",zc,k(g.item.troves_affected_count),1),u("div",xc,k(S(g.item.timestamp)),1)]),"row-details":$(()=>[Q("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]),h(n(xe),{show:!!r.value,onClose:O[3]||(O[3]=g=>r.value=null)},{default:$(()=>{var g;return[r.value?(d(),D($t,{key:0,liquidation:r.value,"vault-addr":((g=I.vault)==null?void 0:g.address)??""},null,8,["liquidation","vault-addr"])):V("",!0)]}),_:1},8,["show"])],64))}});function _a(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidations"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof _a=="function"&&_a(co);const Lc=L(co,[["__scopeId","data-v-fe68015f"]]),Ic={class:"liquidations"},Ac=z({__name:"Liquidations",props:{vault:{}},setup(o){return(e,a)=>(d(),w("div",Ic,[h(Lc,{vault:e.vault},null,8,["vault"])]))}});const Oc=L(Ac,[["__scopeId","data-v-3b2484a7"]]),Mc=["href"],Vc=["href"],Rc={class:"number"},qc={class:"number"},Bc={class:"number"},Ke=15,uo=z({__name:"TableRedemptions",props:{vault:{default:null}},setup(o){const{t:e}=q(),a=new U(N()),t=P(""),s=P(1),l=P(Date.now()),r=P(null),i=P("timestamp"),_=P(Z.Descending),c=C(()=>["Redeemer","Transaction","Debt","# Troves","Time"]),m=C(()=>["redeemer","tx","debt","numtroves","timestamp"]),f=C(()=>H.chain(v.value).filter(I=>{const O=t.value.toLocaleLowerCase().split(" ");return(A=>O.some(T=>A.toLocaleLowerCase().includes(T)))(I.redeemer)}).orderBy(I=>{switch(i.value){case"redeemer":return I.redeemer;case"tx":return I.transaction;case"debt":return I.actual_debt_amount;case"numtroves":return I.troves_affected_count;case"timestamp":return I.timestamp;default:return I.timestamp}},_.value===Z.Descending?"desc":"asc").value()),p=C(()=>H.chain(f.value).drop((s.value-1)*Ke).take(Ke).value()),{loading:y,data:v,loadData:b}=j(()=>o.vault?a.getRedemptions("ethereum",o.vault.address):Promise.resolve([]),[]);B(()=>{b(),setInterval(()=>{l.value=Date.now()})});const S=I=>Te(l,I),x=I=>{s.value=I},R=(I,O)=>{i.value=I,_.value=O},W=I=>{r.value=I};return M(()=>o.vault,b,{immediate:!0}),M(p,I=>{I.length===0&&(s.value=Math.max(1,Math.ceil(f.value.length/Ke)))}),(I,O)=>(d(),w(ae,null,[h(n(ie),{class:"datatable-redemptions","columns-header":"1fr 1fr auto","columns-data":"redemptions-columns-data",loading:n(y),rows:p.value,columns:c.value,sorting:!0,"sorting-columns":m.value,"sorting-columns-enabled":m.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:R,onSelected:W},{"header-title":$(()=>[u("div",null,k(n(e)("title")),1),h(n(fe),{modelValue:t.value,"onUpdate:modelValue":O[0]||(O[0]=g=>t.value=g),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":$(()=>[h(n(Pe),{class:"pagination","items-count":f.value.length,"items-per-page":Ke,page:s.value,onPage:x},null,8,["items-count","page"])]),row:$(g=>[u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${g.item.redeemer}`,target:"_blank",onClick:O[1]||(O[1]=oe(()=>{},["stop"]))},k(n(te)(g.item.redeemer)),9,Mc)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${g.item.transaction}`,target:"_blank",onClick:O[2]||(O[2]=oe(()=>{},["stop"]))},k(n(te)(g.item.transaction)),9,Vc)]),u("div",Rc,"$"+k(Math.round(g.item.actual_debt_amount)),1),u("div",qc,k(g.item.troves_affected_count),1),u("div",Bc,k(S(g.item.timestamp)),1)]),"row-details":$(()=>[Q("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]),h(n(xe),{show:!!r.value,onClose:O[3]||(O[3]=g=>r.value=null)},{default:$(()=>{var g;return[r.value?(d(),D(yt,{key:0,redemption:r.value,"vault-addr":((g=I.vault)==null?void 0:g.address)??""},null,8,["redemption","vault-addr"])):V("",!0)]}),_:1},8,["show"])],64))}});function ma(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Redemptions"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof ma=="function"&&ma(uo);const Wc=L(uo,[["__scopeId","data-v-dce7a443"]]),Ec={class:"redemptions"},Fc=z({__name:"Redemptions",props:{vault:{}},setup(o){return(e,a)=>(d(),w("div",Ec,[h(Wc,{vault:e.vault},null,8,["vault"])]))}});const Nc=L(Fc,[["__scopeId","data-v-ff43effe"]]),Uc=["href"],Hc={class:"number"},jc={class:"number"},Xe=15,_o=z({__name:"TableTroves",props:{vault:{default:null}},setup(o){const{t:e}=q(),a=new U(N()),t=P(""),s=P("Open"),l=P(1),r=P(Date.now()),i=P("updated"),_=P(Z.Descending),c=C(()=>s.value==="Open"?["Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["Owner","","","","Created At","Last Updated"]),m=C(()=>s.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","","","","created","updated"]),f=C(()=>s.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),p=C(()=>H.chain(b.value).filter(O=>s.value===O.status).filter(O=>{const g=t.value.toLocaleLowerCase().split(" ");return(T=>g.some(J=>T.toLocaleLowerCase().includes(J)))(O.owner)}).orderBy(O=>{switch(i.value){case"owner":return O.owner;case"debt":return O.debt;case"coll":return O.collateral_usd;case"ratio":return O.collateral_ratio;case"created":return O.created_at;case"updated":return O.last_update;default:return O.last_update}},_.value===Z.Descending?"desc":"asc").value()),y=C(()=>H.chain(p.value).drop((l.value-1)*Xe).take(Xe).value()),{loading:v,data:b,loadData:S}=j(()=>o.vault?a.getTroves("ethereum",o.vault.address):Promise.resolve([]),[]);B(()=>{S(),setInterval(()=>{r.value=Date.now()})});const x=O=>Te(r,O),R=O=>{l.value=O},W=O=>{O===0?s.value="Open":O===1?s.value="Closed":s.value="Open"},I=(O,g)=>{i.value=O,_.value=g};return M(()=>o.vault,S,{immediate:!0}),M(y,O=>{O.length===0&&(l.value=Math.max(1,Math.ceil(p.value.length/Xe)))}),(O,g)=>(d(),D(n(ie),{class:"datatable-troves","columns-header":"1fr 1fr","columns-data":"troves-columns-data",loading:n(v),rows:y.value,columns:c.value,sorting:!0,"sorting-columns":m.value,"sorting-columns-enabled":f.value,"sorting-default-column":"updated","sorting-default-dir":"Descending",onSortColumn:I},{"header-title":$(()=>[h(n(ft),{class:"types",onTab:g[0]||(g[0]=A=>W(A.index))},{default:$(()=>[h(n(we),{header:"Open"}),h(n(we),{header:"Closed"})]),_:1}),h(n(fe),{modelValue:t.value,"onUpdate:modelValue":g[1]||(g[1]=A=>t.value=A),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":$(()=>[h(n(Pe),{class:"pagination","items-count":p.value.length,"items-per-page":Xe,page:l.value,onPage:R},null,8,["items-count","page"])]),row:$(A=>[u("div",{onClick:g[2]||(g[2]=oe(()=>{},["stop"]))},[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${A.item.owner}`,target:"_blank"},k(n(te)(A.item.owner)),9,Uc)]),u("div",{class:E(["number",{hide:s.value==="Closed"}])}," $"+k(Math.round(A.item.debt)),3),u("div",{class:E(["number",{hide:s.value==="Closed"}])}," $"+k(Math.round(A.item.collateral_usd)),3),u("div",{class:E(["number",{hide:s.value==="Closed"}])},[h(n(F),{value:A.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",Hc,k(x(A.item.created_at)),1),u("div",jc,k(x(A.item.last_update)),1)]),"row-details":$(()=>[Q("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]))}});function va(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof va=="function"&&va(_o);const Gc=L(_o,[["__scopeId","data-v-3dbfd3bc"]]),Qc={class:"troves"},Jc=z({__name:"Troves",props:{vault:{}},setup(o){const e=nt(),a=He(),t=async s=>{e.trove=s,o.vault&&await a.push({name:"prismatrove",params:{troveAddr:s.owner,vaultAddr:o.vault.address}})};return(s,l)=>(d(),w("div",Qc,[h(Gc,{vault:s.vault,onSelected:t},null,8,["vault"])]))}});const Yc=L(Jc,[["__scopeId","data-v-e65b0341"]]),Kc={class:"vault-manager"},Xc=z({__name:"VaultManager",setup(o){const e=new Be("ethereum"),a=qe(),t=He(),s=ot(),l=nt(),r=P(0),i=C(()=>a.params.vaultAddr),_=C(()=>l.vault);return B(()=>{var m;const c=a.params.tab;c&&typeof c=="string"&&(c==="collateral"?r.value=1:c==="trove"?r.value=2:c==="liquidations"?r.value=3:c==="redemptions"&&(r.value=4)),s.show=!0,s.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((m=_.value)==null?void 0:m.name)??"?"}`}]}),M(e.currentData,c=>{const m=c.find(f=>f.address===i.value);m&&(l.vault=m)}),M(_,c=>{s.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(c==null?void 0:c.name)??"?"}`}]}),M(r,async c=>{c===0?await t.push({name:"prismavault",params:{tab:"",vaultAddr:i.value}}):c===1?await t.push({name:"prismavault",params:{tab:"collateral",vaultAddr:i.value}}):c===2?await t.push({name:"prismavault",params:{tab:"trove",vaultAddr:i.value}}):c===3?await t.push({name:"prismavault",params:{tab:"liquidations",vaultAddr:i.value}}):c===4&&await t.push({name:"prismavault",params:{tab:"redemptions",vaultAddr:i.value}})}),(c,m)=>(d(),w("div",Kc,[h(n(ft),{active:r.value,onTab:m[0]||(m[0]=f=>r.value=f.index)},{default:$(()=>[h(n(we),{header:"Overview"},{default:$(()=>[(d(),D(We,null,[r.value===0?(d(),D(pc,{key:0,vault:_.value},null,8,["vault"])):V("",!0)],1024))]),_:1}),h(n(we),{header:"Collateral"},{default:$(()=>[(d(),D(We,null,[r.value===1&&_.value?(d(),D(Sc,{key:0,vault:_.value},null,8,["vault"])):V("",!0)],1024))]),_:1}),h(n(we),{header:"Troves"},{default:$(()=>[(d(),D(We,null,[r.value===2&&_.value?(d(),D(Yc,{key:0,vault:_.value},null,8,["vault"])):V("",!0)],1024))]),_:1}),h(n(we),{header:"Liquidations"},{default:$(()=>[(d(),D(We,null,[r.value===3&&_.value?(d(),D(Oc,{key:0,vault:_.value},null,8,["vault"])):V("",!0)],1024))]),_:1}),h(n(we),{header:"Redemptions"},{default:$(()=>[(d(),D(We,null,[r.value===4&&_.value?(d(),D(Nc,{key:0,vault:_.value},null,8,["vault"])):V("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const Zc=L(Xc,[["__scopeId","data-v-2d7b2517"]]),eu=o=>(pe("data-v-b0efbcdc"),o=o(),he(),o),tu=eu(()=>u("div",null,[Q(" This chart displays that amount of collateral available below different collateral ratios. "),u("br"),Q(" It also displays the position of the trove relative to other troves in this vault. "),u("br"),u("br"),Q(" This information is useful to estimate a trove's risk of redemption. "),u("br"),Q(" Even if the trove's collateral ratio is high in the absolute, a lower ratio relative "),u("br"),Q(" to other troves means a higher risk of redemption."),u("br"),u("br"),Q(` As such, the lower the "risk rank" displayed, the higher the trove's risk of being redeemed. `)],-1)),mo=z({__name:"ChartTroveRank",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=q(),a=new U(N()),t=ee(),s=P("Trove Relative Position"),l={rank:null,total_positions:0,ratio:null,positions:[]},{loading:r,data:i,loadData:_}=j(async()=>o.vault&&o.trove?await a.getTroveRank("ethereum",o.vault.address,o.trove.owner):Promise.resolve(l),l),c=C(()=>{var x,R;const v=X(t.theme),b=ce(t.theme),S={x:((x=i.value)==null?void 0:x.ratio)??0,borderColor:v.yellow,strokeDashArray:2,label:{borderColor:v.yellow,style:{background:v.yellow,color:"rgb(34, 34, 34)"},position:"top",offsetX:15,text:`This trove: ${y(((R=i.value)==null?void 0:R.ratio)??0,1)}`}};return ue({colors:v,colorsArray:b},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!0}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},annotations:{xaxis:i.value.ratio?[S]:[]},toolbar:{show:!1},xaxis:{type:"numeric",categories:f.value,labels:{formatter:W=>y(W)}},yaxis:{seriesName:"impact",labels:{formatter:W=>p(W)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:W=>{if(!o.vault)return"";const I=f.value[W.dataPointIndex];return`
          <div><b>Collateral ratio:</b>:</div>
          <div>${W.dataPointIndex===f.value.length-1?"Over 250%":y(I)}</div>

          <div><b>Troves with lower or equal ratio:</b>:</div>
          <div>${i.value.positions[W.dataPointIndex].trove_count}</div>

          <div><b>Collateral value at lower or equal ratio:</b>:</div>
          <div>$${p(W.series[0][W.dataPointIndex])}</div>
          `}}})}),m=C(()=>[{name:e("rank"),data:Object.values(i.value.positions).map(v=>v.collateral_usd)}]),f=C(()=>i.value.positions.map(v=>v.ratio)),p=v=>`${le(Math.abs(v),1,"dollar")}${ne(v,"dollar")}`,y=(v,b=0)=>`${le(v,b,"percentage")}${ne(v,"percentage")}`;return M(()=>o.vault,_,{immediate:!0}),M(i,v=>{v&&typeof v.rank=="number"&&(s.value=e("title",{rank:v.rank,total_positions:v.total_positions}))},{immediate:!0}),(v,b)=>(d(),D(n(re),{class:"chart-container",title:s.value,loading:n(r)},{actions:$(()=>[h(n(Ne),null,{default:$(()=>[tu]),_:1})]),default:$(()=>[h(n(Sa),{class:"chart",options:c.value,series:m.value},null,8,["options","series"])]),_:1},8,["title","loading"]))}});function pa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t,interpolate:s,named:l}=a;return t(["Trove Relative Position (Risk rank: ",s(l("rank"))," / ",s(l("total_positions")),")"])}}})}typeof pa=="function"&&pa(mo);const au=L(mo,[["__scopeId","data-v-b0efbcdc"]]),vo=z({__name:"ChartTroveHealth",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=q(),a=new U(N()),t=ee(),{loading:s,data:l,loadData:r}=j(async()=>o.vault&&o.trove?await a.getTroveSnapshots("ethereum",o.vault.address,o.trove.owner).then(p=>p.snapshots):Promise.resolve([]),[]),i=C(()=>{const f=X(t.theme),p=ce(t.theme);return ue({colors:f,colorsArray:p},{chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"collateralUsd",tickAmount:4,opposite:!0,labels:{formatter:y=>c(y)},min:0,max:Math.max(...l.value.map(y=>y.collateral_usd))},{seriesName:"ratio",tickAmount:4,labels:{formatter:y=>m(y)},min:0,max:Math.max(...l.value.map(y=>y.cr??0))}],dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:y=>{const v=y.w.globals.initialSeries[0].data[y.dataPointIndex].y,b=y.w.globals.initialSeries[1].data[y.dataPointIndex]?y.w.globals.initialSeries[1].data[y.dataPointIndex].y:0;return[`<div><b>${e("ratio")}</b>:</div><div>${m(b)}</div>`,`<div><b>${e("collateralUsd")}</b>:</div><div>${c(v)}</div>`].join("")}}})}),_=C(()=>[{name:e("collateralUsd"),type:"line",data:l.value.map(f=>({x:f.timestamp*1e3,y:f.collateral_usd}))},{name:e("ratio"),type:"line",data:l.value.map(f=>({x:f.timestamp*1e3,y:f.cr??0}))}]),c=f=>`$${le(f,1,"dollar")}${ne(f,"dollar")}`,m=f=>`${ze(f*100,2)}%`;return M(()=>o.vault,r,{immediate:!0}),(f,p)=>(d(),D(n(_e),{class:"health",title:n(e)("title"),options:i.value,series:_.value,loading:n(s)},null,8,["title","options","series","loading"]))}});function ha(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Health"])},collateralUsd:a=>{const{normalize:t}=a;return t(["Collateral ($)"])},ratio:a=>{const{normalize:t}=a;return t(["Ratio"])}}})}typeof ha=="function"&&ha(vo);const ou=L(vo,[["__scopeId","data-v-639bce2b"]]),nu={class:"number"},su={key:1},lu={class:"number"},ru={class:"number"},iu={class:"number"},cu={class:"number"},uu=["href"],du={class:"number"},po=z({__name:"TableTroveOps",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=q(),a=new U(N()),t=P(Date.now()),s=C(()=>H.orderBy(r.value,m=>m.timestamp,"desc")),{loading:l,data:r,loadData:i}=j(()=>o.vault&&o.trove?a.getTroveSnapshots("ethereum",o.vault.address,o.trove.owner).then(m=>m.snapshots):Promise.resolve([]),[]);B(()=>{i(),setInterval(()=>{t.value=Date.now()})});const _=m=>Te(t,m),c=m=>m.replace(/^_*(.)|_+(.)/g,(f,p,y)=>p?p.toUpperCase():" "+y.toUpperCase());return M(()=>o.vault,i,{immediate:!0}),(m,f)=>(d(),D(n(ie),{class:"datatable-trove-ops","columns-header":"1fr 1fr auto","columns-data":"trove-ops-columns-data",loading:n(l),rows:s.value,columns:["Operation","Collateral","Debt","Ratio","Stake","Tx","Time"]},{"header-title":$(()=>[u("div",null,k(n(e)("title")),1)]),row:$(p=>[u("div",null,k(c(p.item.operation)),1),u("div",nu,[p.item.collateral?(d(),D(n(F),{key:0,value:p.item.collateral,precision:3,"show-symbol":!1,type:"dollar"},null,8,["value"])):V("",!0),p.item.debt?(d(),w("span",su," ($"+k(Math.round(p.item.debt))+") ",1)):V("",!0)]),u("div",lu,"$"+k(Math.round(p.item.debt)),1),u("div",ru,[p.item.cr?(d(),D(n(F),{key:0,value:p.item.cr*100,precision:2,type:"percentage"},null,8,["value"])):V("",!0)]),u("div",iu,[p.item.stake?(d(),D(n(F),{key:0,value:p.item.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])):V("",!0)]),u("div",cu,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${p.item.hash}`,target:"_blank",onClick:f[0]||(f[0]=oe(()=>{},["stop"]))},k(n(te)(p.item.hash)),9,uu)]),u("div",du,k(_(p.item.timestamp)),1)]),_:1},8,["loading","rows"]))}});function fa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Operations"])}}})}typeof fa=="function"&&fa(po);const _u=L(po,[["__scopeId","data-v-9bc04fc6"]]),mu={class:"trove"},vu=z({__name:"Trove",setup(o){const e=new U(N()),a=new Be("ethereum"),t=ot(),s=nt(),l=qe(),r=C(()=>l.params.vaultAddr),i=C(()=>s.vault),_=C(()=>s.trove);return B(async()=>{var m,f;const c=await e.getTroveDetail("ethereum",l.params.vaultAddr,l.params.troveAddr);c&&(s.trove=c),t.show=!0,t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((m=i.value)==null?void 0:m.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((f=_.value)==null?void 0:f.owner)??"?"}`}]}),M(a.currentData,c=>{const m=c.find(f=>f.address===r.value);m&&(s.vault=m)}),M(i,c=>{var m;t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(c==null?void 0:c.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((m=_.value)==null?void 0:m.owner)??"?"}`}]}),M(_,c=>{var m;t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((m=i.value)==null?void 0:m.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(c==null?void 0:c.owner)??"?"}`}]}),(c,m)=>(d(),w("div",mu,[h(au,{class:"graph-rank",vault:i.value,trove:_.value},null,8,["vault","trove"]),h(ou,{class:"graph-health",vault:i.value,trove:_.value},null,8,["vault","trove"]),h(_u,{class:"table-ops",vault:i.value,trove:_.value},null,8,["vault","trove"])]))}});const pu=L(vu,[["__scopeId","data-v-96bc8cff"]]),hu=["src"],fu=["href"],gu=["href"],bu={class:"number"},yu={class:"number"},$u={class:"number"},Ze=15,ho=z({__name:"TableRedemptions",props:{troves:{default:()=>[]}},setup(o){const e=new U(N()),{t:a}=q(),t=P(""),s=P("all"),l=P(1),r=P(Date.now()),i=P(null),_=P("timestamp"),c=P(Z.Descending),m=C(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),f=C(()=>["icon","redeemer","tx","debt","numtroves","timestamp"]),p=C(()=>["redeemer","tx","debt","numtroves","timestamp"]),y=C(()=>H.chain(S.value).filter(g=>{const A=t.value.toLocaleLowerCase().split(" "),T=me=>A.some($e=>me.toLocaleLowerCase().includes($e)),J=Ce(g.vault),K=s.value==="all"?!0:s.value===J;return T(g.redeemer)&&K}).orderBy(g=>{switch(_.value){case"redeemer":return g.redeemer;case"tx":return g.transaction;case"debt":return g.actual_debt_amount;case"numtroves":return g.troves_affected_count;case"timestamp":return g.timestamp;default:return g.timestamp}},c.value===Z.Descending?"desc":"asc").value()),v=C(()=>H.chain(y.value).drop((l.value-1)*Ze).take(Ze).value()),{loading:b,data:S,loadData:x}=j(()=>Promise.all(o.troves.map(g=>e.getRedemptionsForTrove("ethereum",g))).then(g=>g.flat()),[]);B(()=>{x(),setInterval(()=>{r.value=Date.now()})});const R=g=>Te(r,g),W=g=>{l.value=g},I=(g,A)=>{_.value=g,c.value=A},O=g=>{i.value=g};return M(()=>o.troves,x,{immediate:!0}),M(v,g=>{g.length===0&&(l.value=Math.max(1,Math.ceil(y.value.length/Ze)))}),(g,A)=>(d(),w(ae,null,[h(n(ie),{class:"datatable-redemptions","columns-header":"1fr 12rem minmax(auto, 25rem) auto","columns-data":"redemptions-columns-data",loading:n(b)||g.troves.length===0,rows:v.value,columns:m.value,sorting:!0,"sorting-columns":f.value,"sorting-columns-enabled":p.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:I,onSelected:O},{"header-title":$(()=>[u("div",null,k(n(a)("title")),1),h(Ge,{class:"select-collateral",collateral:s.value,all:!0,onSelectCollateral:A[0]||(A[0]=T=>s.value=T)},null,8,["collateral"]),h(n(fe),{modelValue:t.value,"onUpdate:modelValue":A[1]||(A[1]=T=>t.value=T),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":$(()=>[h(n(Pe),{class:"pagination","items-count":y.value.length,"items-per-page":Ze,page:l.value,onPage:W},null,8,["items-count","page"])]),row:$(T=>[u("img",{src:n(De)(n(Ce)(T.item.vault))},null,8,hu),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${T.item.redeemer}`,target:"_blank",onClick:A[2]||(A[2]=oe(()=>{},["stop"]))},k(n(te)(T.item.redeemer)),9,fu)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${T.item.transaction}`,target:"_blank",onClick:A[3]||(A[3]=oe(()=>{},["stop"]))},k(n(te)(T.item.transaction)),9,gu)]),u("div",bu,"$"+k(Math.round(T.item.actual_debt_amount)),1),u("div",yu,k(T.item.troves_affected_count),1),u("div",$u,k(R(T.item.timestamp)),1)]),"row-details":$(()=>[Q("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]),h(n(xe),{show:!!i.value,onClose:A[4]||(A[4]=T=>i.value=null)},{default:$(()=>[i.value?(d(),D(yt,{key:0,redemption:i.value,"vault-addr":i.value.vault},null,8,["redemption","vault-addr"])):V("",!0)]),_:1},8,["show"])],64))}});function ga(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Redemptions"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof ga=="function"&&ga(ho);const wu=L(ho,[["__scopeId","data-v-b8e78927"]]),Cu=["src"],ku=["href"],Su=["href"],Tu={class:"number"},Du={class:"number"},Pu={class:"number"},et=15,fo=z({__name:"TableLiquidations",props:{troves:{default:()=>[]}},setup(o){const e=new U(N()),{t:a}=q(),t=P(""),s=P("all"),l=P(1),r=P(Date.now()),i=P(null),_=P("timestamp"),c=P(Z.Descending),m=C(()=>["","Liquidator","Transaction","Debt","# Troves","Time"]),f=C(()=>["icon","liquidator","tx","debt","numtroves","timestamp"]),p=C(()=>["liquidator","tx","debt","numtroves","timestamp"]),y=C(()=>H.chain(S.value).filter(g=>{const A=t.value.toLocaleLowerCase().split(" "),T=me=>A.some($e=>me.toLocaleLowerCase().includes($e)),J=Ce(g.vault),K=s.value==="all"?!0:s.value===J;return T(g.liquidator)&&K}).orderBy(g=>{switch(_.value){case"liquidator":return g.liquidator;case"tx":return g.transaction;case"debt":return g.liquidated_collateral_usd;case"numtroves":return g.troves_affected_count;case"timestamp":return g.timestamp;default:return g.timestamp}},c.value===Z.Descending?"desc":"asc").value()),v=C(()=>H.chain(y.value).drop((l.value-1)*et).take(et).value()),{loading:b,data:S,loadData:x}=j(()=>Promise.all(o.troves.map(g=>e.getLiquidationsForTrove("ethereum",g))).then(g=>g.flat()),[]);B(()=>{x(),setInterval(()=>{r.value=Date.now()})});const R=g=>Te(r,g),W=g=>{l.value=g},I=(g,A)=>{_.value=g,c.value=A},O=g=>{i.value=g};return M(()=>o.troves,x,{immediate:!0}),M(v,g=>{g.length===0&&(l.value=Math.max(1,Math.ceil(y.value.length/et)))}),(g,A)=>(d(),w(ae,null,[h(n(ie),{class:"datatable-liquidations","columns-header":"1fr 12rem minmax(auto, 25rem) auto","columns-data":"liquidations-columns-data",loading:n(b)||g.troves.length===0,rows:v.value,columns:m.value,sorting:!0,"sorting-columns":f.value,"sorting-columns-enabled":p.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:I,onSelected:O},{"header-title":$(()=>[u("div",null,k(n(a)("title")),1),h(Ge,{class:"select-collateral",collateral:s.value,all:!0,onSelectCollateral:A[0]||(A[0]=T=>s.value=T)},null,8,["collateral"]),h(n(fe),{modelValue:t.value,"onUpdate:modelValue":A[1]||(A[1]=T=>t.value=T),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":$(()=>[h(n(Pe),{class:"pagination","items-count":y.value.length,"items-per-page":et,page:l.value,onPage:W},null,8,["items-count","page"])]),row:$(T=>[u("img",{src:n(De)(n(Ce)(T.item.vault))},null,8,Cu),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${T.item.liquidator}`,target:"_blank",onClick:A[2]||(A[2]=oe(()=>{},["stop"]))},k(n(te)(T.item.liquidator)),9,ku)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${T.item.transaction}`,target:"_blank",onClick:A[3]||(A[3]=oe(()=>{},["stop"]))},k(n(te)(T.item.transaction)),9,Su)]),u("div",Tu,"$"+k(Math.round(T.item.liquidated_debt)),1),u("div",Du,k(T.item.troves_affected_count),1),u("div",Pu,k(R(T.item.timestamp)),1)]),"row-details":$(()=>[Q("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]),h(n(xe),{show:!!i.value,onClose:A[4]||(A[4]=T=>i.value=null)},{default:$(()=>[i.value?(d(),D($t,{key:0,liquidation:i.value,"vault-addr":i.value.vault},null,8,["liquidation","vault-addr"])):V("",!0)]),_:1},8,["show"])],64))}});function ba(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidations"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof ba=="function"&&ba(fo);const zu=L(fo,[["__scopeId","data-v-f2c0975d"]]),xu=["src"],Lu=["href"],Iu={class:"number"},Au={class:"number"},tt=15,go=z({__name:"TableTroves",props:{vaults:{default:()=>[]},user:{}},emits:["troves"],setup(o,{emit:e}){const{t:a}=q(),t=new U(N()),s=e,l=P(""),r=P("all"),i=P("Open"),_=P(1),c=P(Date.now()),m=P("updated"),f=P(Z.Descending),p=C(()=>i.value==="Open"?["","Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["","Owner","","","","Created At","Last Updated"]),y=C(()=>i.value==="Open"?["","owner","debt","coll","ratio","created","updated"]:["","owner","","","","created","updated"]),v=C(()=>i.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),b=C(()=>H.chain(R.value).filter(T=>i.value===T.status).filter(T=>{const J=l.value.toLocaleLowerCase().split(" "),K=bo=>J.some(yo=>bo.toLocaleLowerCase().includes(yo)),me=Ce(T.vault.address),$e=r.value==="all"?!0:r.value===me;return K(T.owner)&&$e}).orderBy(T=>{switch(m.value){case"owner":return T.owner;case"debt":return T.debt;case"coll":return T.collateral_usd;case"ratio":return T.collateral_ratio;case"created":return T.created_at;case"updated":return T.last_update;default:return T.last_update}},f.value===Z.Descending?"desc":"asc").value()),S=C(()=>H.chain(b.value).drop((_.value-1)*tt).take(tt).value()),{loading:x,data:R,loadData:W}=j(async()=>{if(o.vaults.length>0&&o.user){const T=await Promise.all(o.vaults.map(J=>t.getTroves("ethereum",J.address,o.user).then(K=>K.map(me=>({...me,vault:{name:J.name,address:J.address}}))))).then(J=>J.flat());return s("troves",T),T}else return Promise.resolve([])},[]);B(()=>{W(),setInterval(()=>{c.value=Date.now()})});const I=T=>Te(c,T),O=T=>{_.value=T},g=T=>{T===0?i.value="Open":T===1?i.value="Closed":i.value="Open"},A=(T,J)=>{m.value=T,f.value=J};return M(()=>o.vaults,W,{immediate:!0}),M(S,T=>{T.length===0&&(_.value=Math.max(1,Math.ceil(b.value.length/tt)))}),(T,J)=>(d(),D(n(ie),{class:"datatable-troves","columns-header":"auto 1fr 12rem minmax(auto, 25rem)","columns-data":"troves-columns-data",loading:n(x),rows:S.value,columns:p.value,sorting:!0,"sorting-columns":y.value,"sorting-columns-enabled":v.value,"sorting-default-column":"updated","sorting-default-dir":"Descending",onSortColumn:A},{"header-title":$(()=>[u("div",null,k(n(a)("title")),1),h(n(ft),{class:"types",onTab:J[0]||(J[0]=K=>g(K.index))},{default:$(()=>[h(n(we),{header:"Open"}),h(n(we),{header:"Closed"})]),_:1}),h(Ge,{class:"select-collateral",collateral:r.value,all:!0,onSelectCollateral:J[1]||(J[1]=K=>r.value=K)},null,8,["collateral"]),h(n(fe),{modelValue:l.value,"onUpdate:modelValue":J[2]||(J[2]=K=>l.value=K),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":$(()=>[h(n(Pe),{class:"pagination","items-count":b.value.length,"items-per-page":tt,page:_.value,onPage:O},null,8,["items-count","page"])]),row:$(K=>[u("img",{src:n(De)(K.item.vault.name)},null,8,xu),u("div",{onClick:J[3]||(J[3]=oe(()=>{},["stop"]))},[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${K.item.owner}`,target:"_blank"},k(n(te)(K.item.owner)),9,Lu)]),u("div",{class:E(["number",{hide:i.value==="Closed"}])}," $"+k(Math.round(K.item.debt)),3),u("div",{class:E(["number",{hide:i.value==="Closed"}])}," $"+k(Math.round(K.item.collateral_usd)),3),u("div",{class:E(["number",{hide:i.value==="Closed"}])},[h(n(F),{value:K.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",Iu,k(I(K.item.created_at)),1),u("div",Au,k(I(K.item.last_update)),1)]),"row-details":$(()=>[Q("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]))}});function ya(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Troves"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof ya=="function"&&ya(go);const Ou=L(go,[["__scopeId","data-v-895678fd"]]),Mu={class:"profile"},Vu={style:{"grid-column":"1 / -1","margin-bottom":"-0.5rem"}},Ru=z({__name:"Profile",setup(o){const e=new Be("ethereum"),a=qe(),t=He(),s=_t(),l=P(void 0),r=P([]),i=P([]),_=C(()=>i.value.filter(m=>l.value?m.owner.toLocaleLowerCase()===l.value.toLocaleLowerCase():!1).map(m=>m.owner));M(e.currentData,m=>{r.value=m}),B(()=>{r.value=e.currentData.value;const m=a.params.addr;m&&typeof m=="string"&&(l.value=m)});const c=m=>{i.value=m};return M(()=>s.address,async()=>{!a.params.addr&&!l.value&&s.address&&await t.push({name:"profile",params:{addr:s.address}})},{immediate:!0}),M(()=>a.params,()=>{const m=a.params.addr;m&&typeof m=="string"&&(l.value=m)}),(m,f)=>(d(),w("div",Mu,[u("h2",Vu," Profile: "+k(l.value??"?"),1),h(Ou,{style:{"z-index":"2"},vaults:r.value,user:l.value,onTroves:c},null,8,["vaults","user"]),h(wu,{troves:_.value},null,8,["troves"]),h(zu,{troves:_.value},null,8,["troves"])]))}});const qu=L(Ru,[["__scopeId","data-v-5866bae2"]]),Bu={titleRoute:"/",routes:[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:Zr},{path:"/mkusd",name:"mkusd",component:mi},{path:"/redemptions",name:"redemptions",component:Ii},{path:"/liquidations",name:"liquidations",component:ji},{path:"/vaults",name:"vaults",component:Ir},{path:"/cvxprisma",name:"cvxprisma",component:Zi},{path:"/profile/:addr?",name:"profile",component:qu},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:Zc},{path:"/vault/:vaultAddr/trove/:troveAddr",name:"prismatrove",component:pu}],menuItems:[{to:"/vaults",label:"Vaults"},{to:"/mkusd",label:"mkUSD"},{to:"/pool",label:"Stability pool"},{to:"/redemptions",label:"Redemptions"},{to:"/liquidations",label:"Liquidations"},{to:"/cvxprisma",label:"cvxPRISMA"},{to:"/profile",label:"Profile"}]},wt=Bo(Hl),Wu=Wo({legacy:!1,locale:"en",fallbackLocale:"en"});wt.use(Wu);const Eu=Eo();wt.use(Eu);const Fu=[Bu],Nu=bt();Nu.pages=Fu;const Uu=or();wt.use(Uu).use(Fo).use(No).mount("#app");
