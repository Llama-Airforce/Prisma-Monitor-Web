import{d as C,r as w,c as S,w as P,t as D,l as U,o as i,a as k,b as $,e as g,f as m,g as q,h as Pe,n as I,i as G,j as x,F as H,T as jt,u,k as ye,m as qt,p as Gt,q as O,s as _,v as Qt,x as L,y as K,z as ht,A as ne,B as le,C as pe,D as xe,E as M,G as Jt,H as Yt,I as Kt,J as Se,K as Le,L as Fe,M as Xt,N as Zt,O as ea,P as ta,Y as $e,Q as ve,R as aa,S as he,U as sa,V as oa,W as na,X as la,Z as ra}from"./vendor-463a65c4.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function a(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(o){if(o.ep)return;o.ep=!0;const n=a(o);fetch(o.href,n)}})();function re(s,e=0,a=".",t=","){const o=isFinite(+s)?+s:0,n=isFinite(+e)?Math.abs(e):0,l=typeof t>"u"?",":t,d=typeof a>"u"?".":a,c=function(p,f){const T=Math.pow(10,f);return Math.round(p*T)/T},r=(n?c(o,n):Math.round(o)).toString().split(".");return r[0].length>3&&(r[0]=r[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,l)),(r[1]||"").length<n&&(r[1]=r[1]||"",r[1]+=new Array(n-r[1].length+1).join("0")),r.join(d)}function Q(s,e){const a=Math.abs(s);return e==="percentage"?"%":e==="dollar"?a>=1*10**12?"t":a>=1*10**9?"b":a>=1*10**6?"m":a>=1*10**3?"k":"":""}function X(s,e,a){const t=Math.abs(s);return a==="percentage"?re(s,e):a==="dollar"?t>=1*10**12?re(s/10**12,e):t>=1*10**9?re(s/10**9,e):t>=1*10**6?re(s/10**6,e):t>=1*10**3?re(s/10**3,e):re(s,e):s.toString()}function ze(s,e){return(Array.isArray(s)?s:[s]).some(t=>e.path.indexOf(t)===0)}const ia="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",ca="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",ua="0x657ce046d98d163ef4f846210f25919fa7b31944",da="https://api.llama.airforce/";async function _a(s,e,a){return await fetch(s,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:a})}async function pa(s,e,a){return await(await _a(s,e,a)).json()}class va{constructor(e){this.host=e}async fetch(e,a,t){return pa(e,a,t)}}const ma="|/-\\",j=C({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(s){let e=0,a=0;const t=w("|"),o=S(()=>s.value?X(s.value,s.precision,s.type??""):s.value===0&&s.showZero?"0":s.value===null||s.value===void 0?t.value:"?"),n=S(()=>!s.value||!s.type||!U.isFinite(s.value)?s.showUnit&&s.type?Q(0,s.type):"":Q(s.value,s.type));return P(()=>s.value,l=>{if(clearInterval(a),e=0,l)return;const d=()=>{e=(e+1)%4,t.value=ma[e]};a=window.setInterval(d,250)},{immediate:!0}),(l,d)=>D(l.showSymbol&&l.type==="dollar"?"$":"")+D(o.value)+D(l.showUnit?n.value:"")}}),ha={key:0,class:"fas fa-chevron-right"},fa=C({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(s,{emit:e}){const a=o=>{var n;return s.active?s.active.id===o.id:((n=s.crumbs.at(-1))==null?void 0:n.id)===o.id},t=o=>{var n;return((n=s.crumbs.at(-1))==null?void 0:n.id)===o.id};return(o,n)=>(i(),k(u(J),null,{default:$(()=>[g(jt,{name:"fade",tag:"ul"},{default:$(()=>[(i(!0),m(H,null,q(o.crumbs,l=>(i(),m("li",{key:l.id},[(i(),k(Pe(a(l)?"span":"a"),{class:I({active:a(l)}),onClick:d=>e("crumb",l)},{default:$(()=>[G(D(l.label),1)]),_:2},1032,["class","onClick"])),!t(l)||o.crumbs.length===1?(i(),m("i",ha)):x("",!0)]))),128))]),_:1})]),_:1}))}});const y=(s,e)=>{const a=s.__vccOpts||s;for(const[t,o]of e)a[t]=o;return a},ga=y(fa,[["__scopeId","data-v-997741c8"]]);function ba(){return!1}ye({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(s){this.address=s==null?void 0:s.toLocaleLowerCase()}}});qt();Gt({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"});function se(s,e=6){if(!s)return"0x000...000";const a=e/2+2,t=s.length-e/2;return`${s.substring(0,a)}...${s.substring(t)}`}const ya=C({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(s,{emit:e}){const a=async t=>{t.stopImmediatePropagation(),!(s.web3&&ba())&&e("click")};return(t,o)=>(i(),m("button",{class:I({primary:t.primary}),onClick:a},[O(t.$slots,"default",{},()=>[t.icon?(i(),m("i",{key:0,class:I(["icon",[t.icon,{noValue:!!t.value}]])},null,2)):x("",!0),G(" "+D(t.value),1)],!0)],2))}});const oe=y(ya,[["__scopeId","data-v-71e224f0"]]),$a=C({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(s,{emit:e}){const a=()=>{e("update:modelValue",!s.modelValue)};return(t,o)=>(i(),m("button",{class:I({toggled:t.modelValue}),onClick:a},[O(t.$slots,"default",{},()=>[t.icon?(i(),m("i",{key:0,class:I(["icon",t.icon])},null,2)):x("",!0),G(" "+D(t.value),1)],!0)],2))}});const ke=y($a,[["__scopeId","data-v-38d61379"]]),wa={class:"card"},Ca={class:"text"},ka=C({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(s){return(e,a)=>(i(),m("div",wa,[e.loading?(i(),k(u(yt),{key:0,class:"loader"})):x("",!0),_("div",{class:I(["card-container",{loading:e.loading}])},[e.title?(i(),m("div",{key:0,class:I(["card-header",{collapsible:e.collapsible}])},[_("div",Ca,[e.icon?(i(),m("i",{key:0,class:I(["icon",e.icon])},null,2)):x("",!0),G(" "+D(e.title),1)]),O(e.$slots,"actions",{},void 0,!0)],2)):(i(),m("div",{key:1,class:I(["card-no-header",{compact:e.compact}])},null,2)),_("div",{class:I(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[O(e.$slots,"default",{},void 0,!0)],2)],2)]))}});const J=y(ka,[["__scopeId","data-v-317ddfe2"]]),Sa=C({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(s){return(e,a)=>(i(),k(u(J),{class:"card-graph",title:e.title,loading:e.loading},{default:$(()=>[g(u(Ja),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),O(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const Z=y(Sa,[["__scopeId","data-v-4e0fd9b7"]]),Aa={class:"chip"},Da={class:"label"},Ta=C({__name:"Chip",props:{label:{default:""}},setup(s){return(e,a)=>(i(),m("div",Aa,[_("div",Da,D(e.label),1)]))}});const Ia=y(Ta,[["__scopeId","data-v-1eb2caf8"]]);const xa={class:"collapsible-inside"},za=C({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(s){return(e,a)=>(i(),m("div",{class:I(["collapsible-outside",{expanded:e.expanded}])},[_("div",xa,[O(e.$slots,"default",{},void 0,!0)])],2))}});const Me=y(za,[["__scopeId","data-v-25b74378"]]),Oa={key:1,class:"header"},Pa={key:0,class:"header-icon"},La={class:"header-actions"},Ma={key:2,class:"list"},Ba=["onClick"],Va={key:0,class:"sorting-arrows"},Ra={key:0,class:"sorting-arrow fa fa-caret-up"},Wa={key:1,class:"sorting-arrow fa fa-caret-down"},Fa={key:2,class:"sorting-arrow"},Na={class:"rows"},Ea={key:3,class:"no-data"},Be=C({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(s,{emit:e}){const a=w(""),t=w(ae.Ascending),o=S(()=>`grid-template-columns: ${s.columnsHeader}`),n=S(()=>{if(s.rowsMin===null)return[];const v=Math.max(0,s.rowsMin-s.rows.length);return new Array(v)});Qt(()=>{s.sortingDefaultColumn&&(a.value=s.sortingDefaultColumn),s.sortingDefaultDir&&(t.value=s.sortingDefaultDir===ae.Ascending?ae.Ascending:ae.Descending)});const l=v=>{e("selected",v)},{t:d}=L(),c=v=>{const b=v+1;return!!(s.rows[v+1]&&s.rows.findIndex(z=>z===s.selectedRow)===b)},r=v=>s.expanded.includes(v),p=v=>{const b=s.sortingColumns[v];return s.sortingColumnsEnabled.includes(b)},f=v=>a.value===s.sortingColumns[v]&&t.value==="Ascending",T=v=>a.value===s.sortingColumns[v]&&t.value==="Descending",h=v=>{if(!s.sorting||!s.sortingColumns||!p(v))return;const b=s.sortingColumns[v];b===a.value?t.value=t.value===ae.Ascending?ae.Descending:ae.Ascending:t.value=ae.Ascending,a.value=b,e("sortColumn",a.value,t.value)};return(v,b)=>(i(),m("div",{class:I(["datatable",{loading:v.loading}])},[v.loading?(i(),k(u(yt),{key:0,class:"loader"})):x("",!0),v.header?(i(),m("div",Oa,[v.icon?(i(),m("div",Pa,[_("i",{class:I(v.icon)},null,2)])):x("",!0),_("div",{class:"header-title",style:K(o.value)},[O(v.$slots,"header-title",{},void 0,!0)],4),_("div",La,[O(v.$slots,"header-actions",{},void 0,!0)])])):x("",!0),v.rowsMin||v.rows&&v.rows.length>0?(i(),m("div",Ma,[_("div",{class:I(["row-data",[v.columnsData,{"selected-below":c(-1)}]])},[O(v.$slots,"column-headers",{},()=>[(i(!0),m(H,null,q(v.columns,(A,B)=>(i(),m("div",{key:A,class:I(["column-header",{"sortable-header":v.sorting&&p(B),"current-sort":a.value==v.sortingColumns[B]}]),onClick:z=>h(B)},[G(D(A)+" ",1),v.sorting&&p(B)?(i(),m("div",Va,[f(B)?(i(),m("i",Ra)):T(B)?(i(),m("i",Wa)):(i(),m("span",Fa," — "))])):x("",!0)],10,Ba))),128))],!0)],2),_("div",Na,[(i(!0),m(H,null,q(v.rows,(A,B)=>(i(),k(u(De),{key:A,data:A,class:I({"selected-below":c(B)}),columns:v.columnsData,selected:v.selectedRow===A,expanded:r(A),onClick:l},{row:$(()=>[O(v.$slots,"row",{item:A},void 0,!0)]),"row-details":$(()=>[O(v.$slots,"row-details",{item:A},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(i(!0),m(H,null,q(n.value,A=>(i(),k(u(De),{key:A}))),128)),v.$slots["row-aggregation"]?(i(),k(u(De),{key:0,class:"aggregation",columns:v.columnsData},{row:$(()=>[O(v.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):x("",!0)])])):!v.rowsMin&&!v.loading?(i(),m("div",Ea,[O(v.$slots,"no-data",{},()=>[G(D(u(d)("no-data")),1)],!0)])):x("",!0)],2))}});function Ne(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":a=>{const{normalize:t}=a;return t(["No data :("])}}})}function Ee(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":a=>{const{normalize:t}=a;return t(["没有数据 :("])}}})}typeof Ne=="function"&&Ne(Be);typeof Ee=="function"&&Ee(Be);const be=y(Be,[["__scopeId","data-v-50e85b9c"]]),Ha=s=>(ne("data-v-45ff862c"),s=s(),le(),s),Ua=Ha(()=>_("i",{class:"fas fa-chevron-up"},null,-1)),ja=[Ua],qa={class:"row-details"},Ga=C({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(s,{emit:e}){const a=ht(),t=S(()=>{var l;const n=a["row-details"];if(n){const d=(l=n()[0])==null?void 0:l.children;if(d)return d.length>0}return!1}),o=()=>{e("click",s.data)};return(n,l)=>(i(),m("div",{class:I(["row",{expanded:n.expanded}])},[_("div",{class:I(["row-data item",[n.columns,{active:n.selected,expandable:t.value}]]),onClick:o},[O(n.$slots,"row",{},void 0,!0),t.value?(i(),m("div",{key:0,class:I(["expander",{expanded:n.expanded}])},ja,2)):x("",!0)],2),g(u(Me),{expanded:n.expanded},{default:$(()=>[_("div",qa,[O(n.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const De=y(Ga,[["__scopeId","data-v-45ff862c"]]),Qa=C({__name:"GraphApex",props:{options:{},series:{}},setup(s){return(e,a)=>{const t=pe("apexchart");return i(),k(t,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const Ja=y(Qa,[["__scopeId","data-v-3e2879ed"]]);const Ya=s=>(ne("data-v-e9d8f446"),s=s(),le(),s),Ka={class:"input-text"},Xa={key:0,class:"icon"},Za=Ya(()=>_("i",{class:"fas fa-search"},null,-1)),es=[Za],ts=["type","value","placeholder","onInput"],as=["onClick"],ss=C({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(s,{emit:e}){const a=S(()=>{const o=s.options.filter(l=>s.filter(s.modelValue,l));return s.sort?[...o].sort(s.sort):o}),t=o=>{const n=o.target.value;e("update:modelValue",n),e("input",n)};return(o,n)=>(i(),m("div",Ka,[o.search?(i(),m("span",Xa,es)):x("",!0),_("input",{type:o.search?"search":"text",value:o.modelValue,placeholder:o.placeholder,onInput:xe(t,["stop"]),onSelect:n[0]||(n[0]=xe(()=>{},["stop"]))},null,40,ts),o.options&&o.autoComplete?(i(),m("div",{key:1,class:I(["items",{selectHide:!o.autoComplete}])},[(i(!0),m(H,null,q(a.value,(l,d)=>(i(),m("div",{key:d,onClick:c=>e("select",l)},[O(o.$slots,"item",{item:l,idx:d},()=>[G(D(l),1)],!0)],8,as))),128))],2)):x("",!0)]))}});const os=y(ss,[["__scopeId","data-v-e9d8f446"]]),ns={key:0,class:"value"},ls={key:1,class:"value"},rs=["innerHTML"],is={key:0,class:"value"},cs={key:1,class:"value"},us=["innerHTML"],ds={class:"labels"},_s={class:"label"},ps={class:"label-second"},vs=C({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(s){return(e,a)=>(i(),m("div",{class:I(["kpi",{disabled:!e.hasValue}])},[_("div",{class:I(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[O(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(i(),k(u(Ge),{key:0},{item:$(()=>[e.hasValue?(i(),m("span",ns,D(e.value),1)):(i(),m("span",ls," ? "))]),default:$(()=>[O(e.$slots,"tooltip",{},()=>[_("span",{innerHTML:e.tooltip},null,8,rs)],!0)]),_:3})):(i(),m(H,{key:1},[e.hasValue?(i(),m("span",is,D(e.value),1)):(i(),m("span",cs," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(i(),k(u(Ge),{key:0},{default:$(()=>[_("span",{innerHTML:e.tooltip},null,8,us)]),_:1})):x("",!0)],2),_("div",ds,[O(e.$slots,"label",{},()=>[_("div",_s,D(e.label),1)],!0),O(e.$slots,"label-second",{},()=>[_("div",ps,D(e.labelSecond),1)],!0)])],2))}});const Ce=y(vs,[["__scopeId","data-v-0123c061"]]),ms={key:0,class:"modal"},hs={class:"modal-popup"},fs=C({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(s,{emit:e}){return P(()=>s.show,a=>{document.body.style.overflow=a?"hidden":""}),(a,t)=>a.show?(i(),m("div",ms,[_("div",{class:"modal-mask",onClick:t[0]||(t[0]=o=>e("close"))}),_("div",hs,[O(a.$slots,"default",{},void 0,!0)])])):x("",!0)}});const gs=y(fs,[["__scopeId","data-v-49c4143d"]]),bs={class:"buttons"},ys={key:1,class:"not-ready"},ft=C({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(s,{emit:e}){const{t:a}=L();return(t,o)=>(i(),k(u(gs),{show:t.show},{default:$(()=>[g(u(J),{title:t.title},{default:$(()=>[O(t.$slots,"default",{},void 0,!0),_("div",bs,[g(u(oe),{class:"no",value:u(a)("no"),onClick:o[0]||(o[0]=n=>e("no"))},null,8,["value"]),t.ready?(i(),k(u(oe),{key:0,class:"yes",value:u(a)("yes"),onClick:o[1]||(o[1]=n=>e("yes"))},null,8,["value"])):(i(),m("div",ys,D(t.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function He(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:a=>{const{normalize:t}=a;return t(["Yes"])},no:a=>{const{normalize:t}=a;return t(["No"])}}})}function Ue(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:a=>{const{normalize:t}=a;return t(["是的"])},no:a=>{const{normalize:t}=a;return t(["不是"])}}})}typeof He=="function"&&He(ft);typeof Ue=="function"&&Ue(ft);const $s=s=>(ne("data-v-18a4b249"),s=s(),le(),s),ws={class:"select"},Cs={class:"item"},ks={key:0,class:"label"},Ss=["onClick"],As=$s(()=>_("div",{class:"chevrons"},[_("i",{class:"fas fa-chevron-up"}),_("i",{class:"fas fa-chevron-down"})],-1)),Ds=C({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(s,{emit:e}){return(a,t)=>(i(),m("div",{class:"select-container",tabindex:"0",onClick:t[0]||(t[0]=xe(o=>e("open"),["stop"])),onBlur:t[1]||(t[1]=o=>e("close"))},[_("div",ws,[_("div",{class:I(["selected",{open:a.open}])},[O(a.$slots,"item",{item:a.selected},()=>[_("div",Cs,D(a.selected),1)],!0),a.label?(i(),m("div",ks,D(a.label),1)):x("",!0)],2),_("div",{class:I(["items",{selectHide:!a.open}])},[(i(!0),m(H,null,q(a.options,(o,n)=>(i(),m("div",{key:n,onClick:l=>e("input",o)},[O(a.$slots,"item",{item:o},()=>[G(D(o),1)],!0)],8,Ss))),128))],2)]),As],32))}});const gt=y(Ds,[["__scopeId","data-v-18a4b249"]]),Ts={class:"item"},Is={class:"label"},je="locale",xs=C({__name:"SelectLanguage",props:{locales:{default:()=>zs},direction:{default:"up"}},setup(s){const{t:e}=L(),{locale:a}=L({useScope:"global"}),t=w("en"),o=w(!1);M(()=>{const d=localStorage.getItem(je);d&&s.locales.some(c=>c===d)&&l(d)});const n=()=>{o.value=!o.value},l=d=>{t.value=d,a.value=t.value,localStorage.setItem(je,t.value)};return(d,c)=>(i(),k(u(gt),{class:I(["select",{"direction-up":d.direction==="up"}]),options:d.locales.map(r=>r),selected:t.value,open:o.value,onOpen:n,onClose:c[0]||(c[0]=r=>o.value=!1),onInput:l},{item:$(r=>[_("div",Ts,[_("div",Is,D(u(e)(r.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function qe(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:a=>{const{normalize:t}=a;return t(["English"])},zh:a=>{const{normalize:t}=a;return t(["中文"])},fr:a=>{const{normalize:t}=a;return t(["Français"])}}})}typeof qe=="function"&&qe(xs);const zs=["en","zh","fr"];var ae=(s=>(s.Ascending="Ascending",s.Descending="Descending",s))(ae||{});const Os={},bt=s=>(ne("data-v-ad2adcec"),s=s(),le(),s),Ps={class:"lds-ripple"},Ls=bt(()=>_("div",null,null,-1)),Ms=bt(()=>_("div",null,null,-1)),Bs=[Ls,Ms];function Vs(s,e){return i(),m("div",Ps,Bs)}const yt=y(Os,[["render",Vs],["__scopeId","data-v-ad2adcec"]]),fe=C({__name:"TabItem",props:{header:{default:""}},setup(s){return(e,a)=>O(e.$slots,"default")}}),Rs={class:"tab-view"},Ws={class:"tab-headers"},Fs=["onClick"],Ns={class:"tabs"},Es=C({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(s,{emit:e}){const a=w(null),t=ht(),o=S(()=>t!=null&&t.default?t.default():[]);P(()=>s.active,l=>{a.value=l,e("tab",{tab:o.value[l],index:a.value})},{immediate:!0});const n=(l,d)=>{a.value=d,e("tab",{tab:o.value[d],index:a.value})};return(l,d)=>(i(),m("div",Rs,[_("ul",Ws,[(i(!0),m(H,null,q(o.value,(c,r)=>(i(),m("li",{key:r,class:I(["tab-header",{active:a.value===r}]),onClick:p=>n(c,r)},D(c.props.header),11,Fs))),128))]),_("div",Ns,[(i(!0),m(H,null,q(o.value,(c,r)=>Jt((i(),m("div",{key:r,class:"tab"},[(i(),k(Pe(c)))])),[[Yt,a.value===r]])),128))])]))}});const Hs=y(Es,[["__scopeId","data-v-9a567442"]]),Us="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",js={key:1,src:Us},qs=C({__name:"Tooltip",props:{icon:{default:""}},setup(s){const e=w(!1);return(a,t)=>(i(),k(u(Kt),{class:"tooltip",show:e.value},{content:$(()=>[O(a.$slots,"default",{},void 0,!0)]),default:$(()=>[_("div",{onMouseover:t[0]||(t[0]=o=>e.value=!0),onMouseleave:t[1]||(t[1]=o=>e.value=!1)},[O(a.$slots,"item",{},()=>[a.icon?(i(),m("i",{key:0,class:I(a.icon)},null,2)):(i(),m("img",js))],!0)],32)]),_:3},8,["show"]))}});const Ge=y(qs,[["__scopeId","data-v-2158cb4b"]]),Gs={class:"legend"},Qs=["onClick"],Js={class:"label"},Ys=C({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(s,{emit:e}){const a=t=>s.colors[t];return(t,o)=>(i(),m("div",Gs,[(i(!0),m(H,null,q(t.items,(n,l)=>(i(),m("div",{key:n,class:I(["item",{clickable:t.clickable,disabled:t.disabled.includes(n)}]),onClick:d=>{t.clickable&&e("click",n)}},[_("div",{class:"color",style:K({"background-color":a(l)})},null,4),_("div",Js,D(n),1)],10,Qs))),128))]))}});const Ks=y(Ys,[["__scopeId","data-v-b0a9ca48"]]);function Te(s){return(s==null?void 0:s.children)!==void 0}function Qe(s){return(s==null?void 0:s.to)!==void 0}const Xs={key:0},Zs={class:"nav-link-container"},eo={class:"nav-link-container"},to={class:"left"},ao={class:"right"},so=C({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(s,{emit:e}){const a=Se(),t=w(!0),o=S(()=>Qe(s.item)?[s.item]:Te(s.item)?s.item.children:[]),n=()=>{Te(s.item)&&s.item.children.filter(c=>ze(c.to,a)).length>0&&(t.value=!0)};P(()=>s.item,()=>{n()},{immediate:!0}),P(()=>a.fullPath,()=>{n()},{immediate:!0});const l=()=>{t.value=!t.value};return(d,c)=>{const r=pe("router-link");return i(),m(H,null,[u(Te)(d.item)?(i(),m("li",Xs,[_("a",{class:"nav-link node",onClick:l},[_("div",Zs,[G(D(d.item.label)+" ",1),_("i",{class:I(["expander fas fa-chevron-up",{expanded:t.value}])},null,2)])])])):x("",!0),g(u(Me),{class:"items",expanded:t.value},{default:$(()=>[_("ul",null,[(i(!0),m(H,null,q(o.value,p=>(i(),m("li",{key:p.label},[u(Qe)(p)?(i(),k(r,{key:0,to:p.to,class:I(["nav-link leaf",{"router-link-active":u(ze)(p.to,u(a))}]),onClick:c[0]||(c[0]=f=>e("navigated"))},{default:$(()=>[_("div",eo,[_("div",to,D(p.label),1),_("div",ao,[p.tag==="beta"?(i(),k(u(Ia),{key:0,label:"BETA"})):x("",!0)])])]),_:2},1032,["to","class"])):x("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const oo=y(so,[["__scopeId","data-v-d8ba8816"]]),no=C({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(s,{emit:e}){const a=Se(),t=S(()=>s.pages.find(n=>ze(n.titleRoute,a))),o=S(()=>{var n;return((n=t.value)==null?void 0:n.menuItems)??[]});return(n,l)=>(i(),m("nav",null,[(i(!0),m(H,null,q(o.value,d=>(i(),m("ul",{key:d.label},[g(oo,{item:d,onNavigated:l[0]||(l[0]=c=>e("navigated"))},null,8,["item"])]))),128))]))}});const lo=y(no,[["__scopeId","data-v-59493144"]]),ro="/assets/prisma-b38af1f3.png",io="/assets/hat-80c6c9b1.png";const co={},$t=s=>(ne("data-v-f01d266e"),s=s(),le(),s),uo={class:"logo"},_o=$t(()=>_("div",{class:"visual"},[_("img",{src:ro}),_("img",{src:io})],-1)),po=$t(()=>_("span",null,"prisma.monitor",-1)),vo=[_o,po];function mo(s,e){return i(),m("div",uo,vo)}const ho=y(co,[["render",mo],["__scopeId","data-v-f01d266e"]]),fo={class:"header"},go={class:"buttons"},bo=C({__name:"Header",emits:["toggle-expansion","navigated"],setup(s,{emit:e}){return(a,t)=>{const o=pe("router-link");return i(),m("div",fo,[g(o,{class:"logo",to:"/",onClick:t[0]||(t[0]=n=>e("navigated"))},{default:$(()=>[g(ho,{class:"logo"})]),_:1}),_("div",go,[g(u(oe),{icon:"fas fa-bars",onClick:t[1]||(t[1]=n=>e("toggle-expansion"))})])])}}});const yo=y(bo,[["__scopeId","data-v-a5771fce"]]),ie={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"};ie.blue,ie.yellow,ie.green,ie.red,ie.purple;const ce={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"};ce.blue,ce.yellow,ce.green,ce.red,ce.purple;const ue={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"};ue.blue,ue.yellow,ue.green,ue.red,ue.purple;function Je(s){return s==="chad"?ue:s==="light"?ce:ie}const N=ye({id:"settingsStore",state:()=>({theme:"light"})}),$o={class:"theme"},wo={class:"label"},Co={class:"colors"},ko=C({__name:"SelectTheme",setup(s){const e=[{id:"dark",colors:Je("dark")},{id:"light",colors:Je("light")}],a=N(),t=w(e[0]),o=w(!1);M(()=>{const d=window.matchMedia("(prefers-color-scheme: dark)").matches,c=localStorage.getItem("theme");if(!c&&d)l(e.find(r=>r.id==="dark"));else{const r=e.find(p=>p.id===c)??e.find(p=>p.id==="light")??e[0];l(r)}});const n=()=>{o.value=!o.value},l=d=>{t.value=d,window.document.documentElement.setAttribute("data-theme",t.value.id),a.theme=t.value.id,localStorage.setItem("theme",t.value.id)};return(d,c)=>(i(),k(u(gt),{class:"select direction-up",options:e.map(r=>r),selected:t.value,open:o.value,onOpen:n,onClose:c[0]||(c[0]=r=>o.value=!1),onInput:l},{item:$(r=>[_("div",$o,[_("div",wo,D(r.item.id),1),_("div",Co,[_("div",{class:"color",style:K({"background-color":r.item.colors.backgroundColor})},null,4),_("div",{class:"color",style:K({"background-color":r.item.colors.level1})},null,4),_("div",{class:"color",style:K({"background-color":r.item.colors.level2})},null,4),_("div",{class:"color",style:K({"background-color":r.item.colors.blue})},null,4),_("div",{class:"color",style:K({"background-color":r.item.colors.yellow})},null,4),_("div",{class:"color",style:K({"background-color":r.item.colors.green})},null,4),_("div",{class:"color",style:K({"background-color":r.item.colors.red})},null,4),_("div",{class:"color",style:K({"background-color":r.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const So=y(ko,[["__scopeId","data-v-12a81df3"]]),Ao={class:"bottom"},Do={class:"buttons"},To={href:"https://twitter.com/0xAlunara",target:"_blank"},Io={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},xo={class:"selectors"},zo=C({__name:"Bottom",emits:["navigated"],setup(s,{emit:e}){const a=async()=>{await navigator.clipboard.writeText(window.location.href)};return(t,o)=>{const n=pe("router-link");return i(),m("div",Ao,[_("div",Do,[g(u(oe),{class:"copy",icon:"fas fa-link",onClick:a}),_("a",To,[g(u(oe),{icon:"fab fa-twitter"})]),_("a",Io,[g(u(oe),{icon:"fab fa-github"})]),g(n,{to:"/code"},{default:$(()=>[g(u(oe),{icon:"fas fa-code",onClick:o[0]||(o[0]=l=>e("navigated"))})]),_:1})]),_("div",xo,[g(So,{class:"themes"})])])}}});const Oo=y(zo,[["__scopeId","data-v-949dc793"]]),Ve=ye({id:"pageStore",state:()=>({pages:[]})}),Po=C({__name:"Navigation",emits:["navigated"],setup(s,{emit:e}){const a=Ve(),t=w(!1),o=()=>{t.value=!1,e("navigated")};return(n,l)=>(i(),m("div",{class:I(["menu-desktop",{expanded:t.value}])},[g(yo,{onToggleExpansion:l[0]||(l[0]=d=>t.value=!t.value),onNavigated:o}),g(u(Me),{class:"menu-content",expanded:t.value},{default:$(()=>[g(u(lo),{pages:u(a).pages,onNavigated:o},null,8,["pages"]),g(Oo,{onNavigated:o})]),_:1},8,["expanded"])],2))}});const Lo=y(Po,[["__scopeId","data-v-07323d4e"]]),Re=ye({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),Mo={class:"root"},Bo={class:"main"},Vo={class:"content"},Ro=C({__name:"App",setup(s){const e=Re(),a=Se(),t=Le();P(()=>a.fullPath,n=>{n.includes("pool")&&(e.show=!1)});const o=async n=>{n.pathName&&await t.push({name:n.pathName})};return(n,l)=>{const d=pe("notifications"),c=pe("router-view");return i(),m("div",Mo,[g(d,{width:600,duration:-1}),g(Lo,{class:"navigation"}),_("main",Bo,[g(Fe,{name:"fade",mode:"out-in"},{default:$(()=>[u(e).show?(i(),k(u(ga),{key:0,class:"breadcrumb",crumbs:u(e).crumbs,onCrumb:o},null,8,["crumbs"])):x("",!0)]),_:1}),_("div",Vo,[g(c,null,{default:$(({Component:r})=>[g(Fe,{name:"fade",mode:"out-in"},{default:$(()=>[(i(),k(Pe(r)))]),_:2},1024)]),_:1})])])])}}});const Wo=y(Ro,[["__scopeId","data-v-65bc32d3"]]),Fo="/assets/404-3a4df870.png",No=s=>(ne("data-v-c157f3ee"),s=s(),le(),s),Eo={class:"not-found"},Ho={class:"not-found-container"},Uo=No(()=>_("img",{src:Fo},null,-1)),wt=C({__name:"NotFound",setup(s){const{t:e}=L();return(a,t)=>(i(),m("div",Eo,[_("div",Ho,[g(u(J),null,{default:$(()=>[G(D(u(e)("404")),1)]),_:1}),Uo])]))}});function Ye(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:a=>{const{normalize:t}=a;return t(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof Ye=="function"&&Ye(wt);const jo=y(wt,[["__scopeId","data-v-c157f3ee"]]),qo={class:"contracts"},Go={class:"row"},Qo=["href"],Jo=["href"],Ct=C({__name:"Code",setup(s){const{t:e}=L(),t=[{name:"Llama Airforce",contracts:[{contract:ia,description:"multisig",gnosis:!0},{contract:ca,description:"treasury",gnosis:!0},{contract:ua,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]}],o=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}],n=l=>{switch(l.network){case"arbitrum":return l.gnosis?`https://app.safe.global/arb1:${l.contract}`:`https://arbiscan.io/address/${l.contract}`;case"ethereum":default:return l.gnosis?`https://app.safe.global/eth:${l.contract}`:`https://etherscan.io/address/${l.contract}`}};return(l,d)=>(i(),m("div",qo,[_("div",Go,[g(u(be),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:o,columns:[u(e)("repository"),u(e)("description")]},{"header-title":$(()=>[_("div",null,D(u(e)("repositories")),1)]),row:$(c=>[_("div",null,[_("a",{href:c.item.url,target:"_blank"},D(c.item.name),9,Qo)]),_("div",null,D(u(e)(c.item.description)),1)]),_:1},8,["columns"])]),(i(),m(H,null,q(t,(c,r)=>g(u(be),{key:r,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:c.contracts,columns:[u(e)("contract"),u(e)("description")]},{"header-title":$(()=>[_("div",null,D(u(e)(c.name)),1)]),row:$(p=>[_("div",null,[_("a",{href:n(p.item),target:"_blank"},D(p.item.contract),9,Jo)]),_("div",null,D(u(e)(p.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function Ke(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:a=>{const{normalize:t}=a;return t(["Repositories"])},repository:a=>{const{normalize:t}=a;return t(["Repository"])},description:a=>{const{normalize:t}=a;return t(["Description"])},contract:a=>{const{normalize:t}=a;return t(["Contract"])},other:a=>{const{normalize:t}=a;return t(["Other"])},"repo-laf":a=>{const{normalize:t}=a;return t(["This website's front-end, excluding the Union"])},multisig:a=>{const{normalize:t}=a;return t(["Multisig"])},treasury:a=>{const{normalize:t}=a;return t(["Treasury"])},"treasury-arbitrum":a=>{const{normalize:t}=a;return t(["Treasury Arbitrum"])}}})}typeof Ke=="function"&&Ke(Ct);const Yo=y(Ct,[["__scopeId","data-v-ed0a11dc"]]);function Ko(){const s=Ve(),e=[{path:"/code",component:Yo},...s.pages.flatMap(t=>t.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:jo}];return Xt({history:Zt(),routes:e})}const Xo=s=>({chart:{id:"chart",background:"transparant",foreColor:s.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:s.colorsArray,grid:{borderColor:s.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:s.colors.level5,height:1},axisTicks:{color:s.colors.level5},title:{color:s.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:s.colors.level5},axisTicks:{color:s.colors.level5},title:{color:s.colors.level5}}});function ee(s,e){const a=Xo(s),t=(o,n)=>{if(typeof n=="object"){U.mergeWith(o,n,t);return}else return o||n};return U.mergeWith(e,a,t)}const de={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},Zo=[de.blue,de.yellow,de.green,de.red,de.purple,"#ff8f33"],_e={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},en=[_e.blue,_e.yellow,_e.green,_e.red,_e.purple];function F(s){return s==="light"?_e:de}function Y(s){return s==="light"?en:Zo}function R(){return da}const V="https://api.prismamonitor.com/v1";class W extends va{async getHistoricalOpenTrovesOverview(e,a){return this.fetch(`${V}/managers/${e}/open_troves?period=${a}`)}async getHistoricalCollateralRatiosOverview(e,a){return this.fetch(`${V}/managers/${e}/collateral_ratios?period=${a}`)}async getCollateralRatioGrouped(e,a){return this.fetch(`${V}/managers/${e}/global_collateral_ratio?period=${a}`)}async getHistoricalCollateralOverview(e,a){return this.fetch(`${V}/managers/${e}/collateral?period=${a}`)}async getRatioDistributionGrouped(e){return this.fetch(`${V}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,a,t){return this.fetch(`${V}/managers/${e}/${a}/large_positions?unit=${t}`)}async getTroveDistribution(e,a,t){return this.fetch(`${V}/managers/${e}/${a}/histograms?unit=${t}`)}async getCollateralPrices(e,a,t){return this.fetch(`${V}/collateral/${e}/${a}/prices?period=${t}`)}async getPoolTvl(e,a){return this.fetch(`${V}/pool/${e}/deposits?period=${a}`)}async getStableFlow(e,a){return this.fetch(`${V}/pool/${e}/stable_operations?period=${a}`)}async getStableDistribution(e){return this.fetch(`${V}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,a){return this.fetch(`${V}/pool/${e}/cumulative_withdrawals?period=${a}`)}async getTopStableDeposits(e,a,t){return this.fetch(`${V}/pool/${e}/top/stable_deposits?top=${a}&period=${t}`)}async getTopStableWithdrawals(e,a,t){return this.fetch(`${V}/pool/${e}/top/stable_withdrawals?top=${a}&period=${t}`)}async getPriceHistory(e,a){return this.fetch(`${V}/mkusd/${e}/history?period=${a}`)}async getPriceHistogram(e,a,t){return this.fetch(`${V}/mkusd/${e}/histogram?period=${t}&bins=${a}`)}async getLargeStableCoinHolders(e){return this.fetch(`${V}/mkusd/${e}/holders`)}async getStableCoinKPI(e){return this.fetch(`${V}/mkusd/${e}/general`)}async getCurvePoolDepth(e){return this.fetch(`${V}/mkusd/${e}/depth`)}}const kt=C({__name:"ChartOpenTroves",setup(s){const{t:e}=L(),a=new W(R()),t=N(),o=w(!0),n=w([]);M(async()=>{o.value=!0,n.value=await a.getHistoricalOpenTrovesOverview("ethereum","6m").then(p=>p.managers),o.value=!1});const l=S(()=>{const p=F(t.theme),f=Y(t.theme);return ee({colors:p,colorsArray:f},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:d.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:T,dataPointIndex:h,w:v})=>{let b=0;const A=T.map((B,z)=>{const E=B[h];return b+=E,`<div><b>${v.globals.seriesNames[z]}</b>: ${E}</div>`});return A.push(`<div><b>Total</b>: ${b}</div>`),A.join("")}}})}),d=S(()=>n.value.length===0||n.value[0].data.length===0?[]:n.value[0].data.map(p=>new Date(p.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=S(()=>n.value.length===0?[]:n.value.map(p=>({name:p.manager,data:p.data.map(f=>f.value)}))),r=p=>p;return(p,f)=>(i(),k(u(Z),{class:"chart",title:u(e)("title"),loading:o.value,options:l.value,series:c.value},null,8,["title","loading","options","series"]))}});function Xe(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Open troves"])}}})}typeof Xe=="function"&&Xe(kt);const tn=y(kt,[["__scopeId","data-v-f0279ef3"]]),an=(s,e)=>{const a=F(e);return{width:s.clientWidth,height:s.clientHeight,layout:{background:{type:ea.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:ta.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function we(s,e,a){const t=an(s,e),o=(n,l)=>{if(typeof l=="object"){U.mergeWith(n,l,o);return}else return n||l};return U.mergeWith(a,t,o)}const St=C({__name:"ChartCollateralRatio",setup(s){const{t:e}=L(),a=new W(R());let t,o;const n=N(),l=w(null),d=w([]),c=w(!1),r=async()=>{c.value=!0,d.value=await a.getCollateralRatioGrouped("ethereum","all").then(h=>h.data),c.value=!1};M(async()=>{await r(),l.value&&(t=$e(l.value,p(l.value,n.theme)),o=t.addAreaSeries(f(n.theme)),T(d.value))}),P(()=>n.theme,h=>{l.value&&(t.applyOptions(p(l.value,h)),o.applyOptions(f(h)))}),P(d,h=>{T(h)});const p=(h,v)=>we(h,v,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),f=h=>{const v=F(h);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ve.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},T=h=>{if(!t||!o)return;const v=U.chain(h).map(b=>({time:b.timestamp,value:b.value*100})).uniqWith((b,A)=>b.time===A.time).orderBy(b=>b.time,"asc").value();v.length>0&&o.setData(v),t.timeScale().fitContent()};return(h,v)=>(i(),k(u(J),{class:"chart-container",title:u(e)("title"),loading:c.value},{default:$(()=>[_("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ze(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Global collateral ratio"])}}})}typeof Ze=="function"&&Ze(St);const sn=y(St,[["__scopeId","data-v-a444f59a"]]),At=C({__name:"ChartRatioDeciles",setup(s){const{t:e}=L(),a=new W(R()),t=N(),o=w(!0),n=w([]);M(async()=>{o.value=!0,n.value=await a.getRatioDistributionGrouped("ethereum").then(f=>f.deciles),o.value=!1});const l=S(()=>{const f=F(t.theme),T=Y(t.theme);return ee({colors:f,colorsArray:T},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:d.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:p}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),d=S(()=>n.value.map(f=>f.label)),c=S(()=>[{name:e("debt"),data:Object.values(n.value).map(f=>f.data)}]),r=f=>f,p=f=>`$${X(f,0,"dollar")}${Q(f,"dollar")}`;return(f,T)=>(i(),k(u(Z),{class:"chart",title:u(e)("title"),loading:o.value,options:l.value,series:c.value},null,8,["title","loading","options","series"]))}});function et(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Debt per Collateral Ratio Deciles"])},debt:a=>{const{normalize:t}=a;return t(["Debt"])}}})}typeof et=="function"&&et(At);const on=y(At,[["__scopeId","data-v-42965e77"]]),Dt=C({__name:"ChartGlobalCollateral",setup(s){const{t:e}=L(),a=new W(R()),t=N(),o=w(!0),n=w([]);M(async()=>{o.value=!0,n.value=await a.getHistoricalCollateralOverview("ethereum","6m").then(f=>f.managers),o.value=!1});const l=S(()=>{const f=F(t.theme),T=Y(t.theme);return ee({colors:f,colorsArray:T},{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:d.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:p}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),d=S(()=>n.value.length===0||n.value[0].data.length===0?[]:n.value[0].data.map(f=>new Date(f.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=S(()=>n.value.length===0?[]:n.value.map(f=>({name:f.manager,data:f.data.map(T=>T.value)}))),r=f=>f,p=f=>`$${X(f,1,"dollar")}${Q(f,"dollar")}`;return(f,T)=>(i(),k(u(Z),{class:"chart",title:u(e)("title"),loading:o.value,options:l.value,series:c.value},null,8,["title","loading","options","series"]))}});function tt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Collateral value"])}}})}typeof tt=="function"&&tt(Dt);const nn=y(Dt,[["__scopeId","data-v-1ac4a007"]]),Tt=class ge{constructor(e){this.url=e,this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={},this.channelSubscriptionParsers={},this.reconnectDelay=1e3,this.maxReconnectDelay=3e4,this.reconnectMultiplier=2,this.connect()}static getInstance(e){return ge.instances[e]||(ge.instances[e]=new ge(e)),ge.instances[e]}connect(){this.ws||(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.processMessageQueue(),this.reconnectDelay=1e3},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>{this.connect(),this.reconnectDelay*=this.reconnectMultiplier,this.reconnectDelay>this.maxReconnectDelay&&(this.reconnectDelay=this.maxReconnectDelay)},this.reconnectDelay)},this.ws.onmessage=e=>{var l;const a=JSON.parse(e.data),t=this.channelSubscriptionParsers[a.channel],o=t?t(e.data):"",n=(l=this.listeners[a.channel])==null?void 0:l[o];n==null||n(e.data)})}registerListener(e,a,t,o){this.listeners[e]||(this.listeners[e]={}),this.listeners[e][a]=o,this.channelSubscriptionParsers[e]=t;const n=this.messageQueue.filter(l=>JSON.parse(l).channel===e);n.forEach(o),this.messageQueue=this.messageQueue.filter(l=>!n.includes(l))}send(e){var a;((a=this.ws)==null?void 0:a.readyState)===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length;)this.send(this.messageQueue.shift()??"")}closeConnection(){var e;this.shouldReconnect=!1,(e=this.ws)==null||e.close()}getConnection(){return this.ws}};Tt.instances={};let ln=Tt;var Oe=(s=>(s.subscribe="subscribe",s.unsubscribe="unsubscribe",s.snapshots="snapshots",s))(Oe||{});const rn="wss://api.prismamonitor.com/v1/prisma/ws",Ie="troves_overview";class It{constructor(e){this.chain=e,this.currentData=w([]),this.parseSubscriptionFromMessage=a=>JSON.parse(a).subscription.chain,this.wsManager=ln.getInstance(rn),this.wsManager.registerListener(Ie,e,this.parseSubscriptionFromMessage,a=>{try{const t=JSON.parse(a);t.subscription.chain===this.chain&&(this.currentData.value=t.payload)}catch(t){console.error("Error parsing WebSocket message:",t,"Raw data:",a)}}),this.requestSnapshots(),this.subscribeToUpdates()}getCurrentData(){return this.currentData.value}requestSnapshots(){const e={action:Oe.snapshots,channel:Ie,settings:[{chain:this.chain}]};this.send(e)}subscribeToUpdates(){const e={action:Oe.subscribe,channel:Ie,settings:[{chain:this.chain}]};this.send(e)}send(e){this.wsManager.send(JSON.stringify(e))}}const Ae=s=>(ne("data-v-81576177"),s=s(),le(),s),cn={class:"number"},un={class:"number"},dn={class:"number"},_n={class:"number"},pn={class:"number"},vn={class:"number"},mn=Ae(()=>_("div",null,null,-1)),hn={class:"number"},fn={class:"number"},gn=Ae(()=>_("div",null,null,-1)),bn=Ae(()=>_("div",null,null,-1)),yn={class:"number"},$n=Ae(()=>_("div",null,null,-1)),xt=C({__name:"TableVaults",setup(s){const{t:e}=L(),a=new It("ethereum"),t=w(!0),o=w(""),n=w([]),l=S(()=>U.chain(n.value).filter(d=>{const c=o.value.toLocaleLowerCase().split(" "),r=p=>c.some(f=>p.toLocaleLowerCase().includes(f));return r(d.name)||r(d.address)}).value());return P(a.currentData,d=>{t.value=!0,n.value=d,t.value=!1}),M(()=>{t.value=!0,n.value=a.currentData.value,t.value=!1}),(d,c)=>(i(),k(u(be),{class:"datatable-vaults","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"troves-columns-data",loading:t.value,rows:l.value,columns:["Name","TVL","Debt","CR","MCR","Troves","Price"]},{"header-title":$(()=>[_("div",null,D(u(e)("title")),1),g(u(os),{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=r=>o.value=r),class:"search",search:!0,placeholder:u(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:$(r=>[_("div",null,D(r.item.name),1),_("div",cn,[g(u(j),{value:r.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_("div",un,[g(u(j),{value:r.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_("div",dn,[g(u(j),{value:r.item.cr*100,precision:2,type:"percentage"},null,8,["value"])]),_("div",_n,[g(u(j),{value:r.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])]),_("div",pn,D(r.item.open_troves),1),_("div",vn,"$"+D(Math.round(r.item.price)),1)]),"row-aggregation":$(()=>[mn,_("div",hn,[g(u(j),{value:l.value.reduce((r,p)=>r+p.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_("div",fn,[g(u(j),{value:l.value.reduce((r,p)=>r+p.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),gn,bn,_("div",yn,[g(u(j),{value:l.value.reduce((r,p)=>r+p.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),$n]),"row-details":$(()=>[G("   ")]),_:1},8,["loading","rows"]))}});function at(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vaults"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof at=="function"&&at(xt);const wn=y(xt,[["__scopeId","data-v-81576177"]]),zt=ye({id:"vaultStore",state:()=>({vault:null})}),Cn={class:"vaults"},kn=C({__name:"Vaults",setup(s){const e=Re(),a=zt(),t=Le();M(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const o=async n=>{a.vault=n,await t.push({name:"prismavault",params:{tab:"",vaultAddr:n.address}})};return(n,l)=>(i(),m("div",Cn,[g(wn,{style:{"grid-column":"1 / -1"},onSelected:o}),g(sn),g(on),g(nn),g(tn)]))}});const Sn=y(kn,[["__scopeId","data-v-47785ba8"]]),Ot=C({__name:"ChartPoolTvl",setup(s){const{t:e}=L(),a=new W(R());let t,o;const n=N(),l=w(null),d=w([]),c=w(!1);M(()=>{l.value&&(t=$e(l.value,r(l.value,n.theme)),o=t.addAreaSeries(p(n.theme)),f(d.value))}),M(async()=>{c.value=!0,d.value=await a.getPoolTvl("ethereum","1m").then(h=>h.deposits),c.value=!1}),P(()=>n.theme,h=>{l.value&&(t.applyOptions(r(l.value,h)),o.applyOptions(p(h)))}),P(d,h=>{f(h)});const r=(h,v)=>we(h,v,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:b=>T(b)}}),p=h=>{const v=F(h);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ve.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},f=h=>{if(!t||!o)return;const v=U.chain(h).map(b=>({time:b.timestamp,value:b.value})).uniqWith((b,A)=>b.time===A.time).orderBy(b=>b.time,"asc").value();v.length>0&&o.setData(v),t.timeScale().fitContent()},T=h=>`$${X(h,1,"dollar")}${Q(h,"dollar")}`;return(h,v)=>(i(),k(u(J),{class:"chart-container",title:u(e)("title"),loading:c.value},{default:$(()=>[_("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function st(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Total deposits in stability pool"])}}})}typeof st=="function"&&st(Ot);const An=y(Ot,[["__scopeId","data-v-b29756a6"]]),Pt=C({__name:"ChartStableFlow",setup(s){const{t:e}=L(),a=new W(R()),t=N(),o=w(!0),n=w({deposits:[],withdrawals:[]});M(async()=>{o.value=!0,n.value=await a.getStableFlow("ethereum","1m"),o.value=!1});const l=S(()=>{const f=F(t.theme),T=Y(t.theme);return ee({colors:f,colorsArray:T},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[f.green,f.red],xaxis:{categories:d.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:p}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:h,dataPointIndex:v,w:b})=>{let A=0;const B=h.map((z,E)=>{const te=z[v];return A+=te,`<div><b>${b.globals.seriesNames[E]}</b>:	${p(te)}</div>`});return B.push(`<div><b>Total</b>:	${p(A)}</div>`),B.join("")}}})}),d=S(()=>n.value.deposits.length===0?[]:n.value.deposits.map(f=>new Date(f.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=S(()=>[{name:e("deposits"),data:Object.values(n.value.deposits).map(f=>f.value)},{name:e("withdrawals"),data:Object.values(n.value.withdrawals).map(f=>f.value)}]),r=f=>f,p=f=>`$${X(f,0,"dollar")}${Q(f,"dollar")}`;return(f,T)=>(i(),k(u(Z),{title:u(e)("title"),loading:o.value,options:l.value,series:c.value},null,8,["title","loading","options","series"]))}});function ot(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD deposits and withdrawals"])},deposits:a=>{const{normalize:t}=a;return t(["Deposits"])},withdrawals:a=>{const{normalize:t}=a;return t(["Withdrawals"])}}})}typeof ot=="function"&&ot(Pt);const Dn=y(Pt,[["__scopeId","data-v-5eeab674"]]),Lt=C({__name:"ChartDepositDistribution",setup(s){const{t:e}=L(),a=new W(R()),t=N(),o=w(!0),n=w([]);M(async()=>{o.value=!0,n.value=await a.getStableDistribution("ethereum").then(r=>r.distribution),o.value=!1});const l=S(()=>{const r=F(t.theme),p=Y(t.theme);return ee({colors:r,colorsArray:p},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:c.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),d=S(()=>[{name:e("numPos"),data:Object.values(n.value).map(r=>r.value)}]),c=S(()=>n.value.map(r=>r.label));return(r,p)=>(i(),k(u(Z),{title:u(e)("title"),loading:o.value,series:d.value,options:l.value},null,8,["title","loading","series","options"]))}});function nt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Distribution of current user deposits"])},numPos:a=>{const{normalize:t}=a;return t(["# of positions"])}}})}typeof nt=="function"&&nt(Lt);const Tn=y(Lt,[["__scopeId","data-v-c9dcdeeb"]]),Mt=C({__name:"ChartCumulativeWithdrawals",setup(s){const{t:e}=L(),a=new W(R());let t,o;const n=N(),l=w(null),d=w([]),c=w(!1);M(()=>{l.value&&(t=$e(l.value,r(l.value,n.theme)),o=t.addAreaSeries(p(n.theme)),f(d.value))}),M(async()=>{c.value=!0,d.value=await a.getCumulativeWithdrawals("ethereum","all").then(h=>h.withdrawals),c.value=!1}),P(()=>n.theme,h=>{l.value&&(t.applyOptions(r(l.value,h)),o.applyOptions(p(h)))}),P(d,h=>{f(h)});const r=(h,v)=>we(h,v,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:b=>T(b)}}),p=h=>{const v=F(h);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ve.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},f=h=>{if(!t||!o)return;const v=U.chain(h).map(b=>({time:b.timestamp,value:b.value})).uniqWith((b,A)=>b.time===A.time).orderBy(b=>b.time,"asc").value();v.length>0&&o.setData(v),t.timeScale().fitContent()},T=h=>`$${X(h,1,"dollar")}${Q(h,"dollar")}`;return(h,v)=>(i(),k(u(J),{class:"chart-container",title:u(e)("title"),loading:c.value},{default:$(()=>[_("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function lt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Cumulative value of collaterals withdrawn"])}}})}typeof lt=="function"&&lt(Mt);const In=y(Mt,[["__scopeId","data-v-c8aeb6c2"]]),xn={class:"address"},zn=["href"],On={class:"number"},Pn={class:"number"},Ln={class:"address"},Mn=["href"],Bt=C({__name:"TableTopDeposits",setup(s){const{t:e}=L(),a=new W(R()),t=w(!0),o=w([]),n=S(()=>U.chain(o.value).map(l=>l).value());return M(async()=>{t.value=!0,o.value=await a.getTopStableDeposits("ethereum",5,"7d").then(l=>l.operations),t.value=!1}),(l,d)=>(i(),k(u(be),{class:"datatable-deposits","columns-header":"1fr","columns-data":"deposits-columns-data",loading:t.value,rows:n.value,columns:["Address","Amount","Date","Tx"]},{"header-title":$(()=>[_("div",null,D(u(e)("title")),1)]),row:$(c=>[_("div",xn,[_("a",{href:`https://etherscan.io/address/${c.item.user}`,target:"_blank"},D(u(se)(c.item.user,8)),9,zn)]),_("div",On,[g(u(j),{value:c.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),_("div",Pn,D(new Date(c.item.timestamp*1e3).toLocaleDateString()),1),_("div",Ln,[_("a",{href:`https://etherscan.io/tx/${c.item.hash}`,target:"_blank"},D(u(se)(c.item.hash,8)),9,Mn)])]),_:1},8,["loading","rows"]))}});function rt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest deposits past 7 days"])}}})}typeof rt=="function"&&rt(Bt);const Bn=y(Bt,[["__scopeId","data-v-dcc50675"]]),Vn={class:"address"},Rn=["href"],Wn={class:"number"},Fn={class:"number"},Nn={class:"address"},En=["href"],Vt=C({__name:"TableTopWithdrawals",setup(s){const{t:e}=L(),a=new W(R()),t=w(!0),o=w([]),n=S(()=>U.chain(o.value).map(l=>l).value());return M(async()=>{t.value=!0,o.value=await a.getTopStableWithdrawals("ethereum",5,"7d").then(l=>l.operations),t.value=!1}),(l,d)=>(i(),k(u(be),{class:"datatable-withdrawals","columns-header":"1fr","columns-data":"withdrawals-columns-data",loading:t.value,rows:n.value,columns:["Address","Amount","Date","Tx"]},{"header-title":$(()=>[_("div",null,D(u(e)("title")),1)]),row:$(c=>[_("div",Vn,[_("a",{href:`https://etherscan.io/address/${c.item.user}`,target:"_blank"},D(u(se)(c.item.user,8)),9,Rn)]),_("div",Wn,[g(u(j),{value:c.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),_("div",Fn,D(new Date(c.item.timestamp*1e3).toLocaleDateString()),1),_("div",Nn,[_("a",{href:`https://etherscan.io/tx/${c.item.hash}`,target:"_blank"},D(u(se)(c.item.hash,8)),9,En)])]),_:1},8,["loading","rows"]))}});function it(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest withdrawals past 7 days"])}}})}typeof it=="function"&&it(Vt);const Hn=y(Vt,[["__scopeId","data-v-b7406841"]]),Un={class:"pool"},jn=C({__name:"StabilityPool",setup(s){return(e,a)=>(i(),m("div",Un,[g(An),g(Dn),g(Tn),g(In),g(Bn),g(Hn)]))}});const qn=y(jn,[["__scopeId","data-v-c433301c"]]),Rt=C({__name:"ChartPrice",setup(s){const{t:e}=L(),a=new W(R());let t,o;const n=N(),l=w(null),d=w([]),c=w(!1);M(()=>{l.value&&(t=$e(l.value,r(l.value,n.theme)),o=t.addAreaSeries(p(n.theme)),f(d.value))}),M(async()=>{c.value=!0,d.value=await a.getPriceHistory("ethereum","1m").then(h=>h.prices),c.value=!1}),P(()=>n.theme,h=>{l.value&&(t.applyOptions(r(l.value,h)),o.applyOptions(p(h)))}),P(d,h=>{f(h)});const r=(h,v)=>we(h,v,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:b=>T(b)}}),p=h=>{const v=F(h);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:ve.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},f=h=>{if(!t||!o)return;const v=U.chain(h).map(b=>({time:b.timestamp,value:b.value})).uniqWith((b,A)=>b.time===A.time).orderBy(b=>b.time,"asc").value();v.length>0&&o.setData(v),t.timeScale().fitContent()},T=h=>`$${X(h,2,"dollar")}${Q(h,"dollar")}`;return(h,v)=>(i(),k(u(J),{class:"chart-container",title:u(e)("title"),loading:c.value},{default:$(()=>[_("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ct(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD price (last 30 days)"])}}})}typeof ct=="function"&&ct(Rt);const Gn=y(Rt,[["__scopeId","data-v-825a446b"]]),Wt=C({__name:"ChartPriceDistribution",setup(s){const{t:e}=L(),a=new W(R()),t=N(),o=w(!0),n=w([]);M(async()=>{o.value=!0,n.value=await a.getPriceHistogram("ethereum",10,"all").then(r=>r.histogram),o.value=!1});const l=S(()=>{const r=F(t.theme),p=Y(t.theme);return ee({colors:r,colorsArray:p},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:c.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),d=S(()=>[{name:e("numPos"),data:Object.values(n.value).map(r=>r.value)}]),c=S(()=>n.value.map(r=>r.label));return(r,p)=>(i(),k(u(Z),{title:u(e)("title"),loading:o.value,series:d.value,options:l.value},null,8,["title","loading","series","options"]))}});function ut(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Price histogram"])},numPos:a=>{const{normalize:t}=a;return t(["# of hourly price records"])}}})}typeof ut=="function"&&ut(Wt);const Qn=y(Wt,[["__scopeId","data-v-a3e00105"]]),Ft=C({__name:"ChartHolders",setup(s){const{t:e}=L(),a=new W(R()),t=N(),o=w(!0),n=w([]);M(async()=>{o.value=!0,n.value=await a.getLargeStableCoinHolders("ethereum").then(p=>p.holders),o.value=!1});const l=S(()=>{const p=F(t.theme),f=Y(t.theme);return ee({colors:p,colorsArray:f},{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:T=>{let h=c.value[T.seriesIndex];h=h.length>10&&h.startsWith("0x")?se(h):h;const v=T.series[T.seriesIndex];return[`<div><b>${h}</b>:</div><div>${r(v)}</div>`].join("")}},labels:n.value.map(T=>T.label.length>10&&T.label.startsWith("0x")?se(T.label):T.label)})}),d=S(()=>n.value.map(p=>p.value)),c=S(()=>n.value.map(p=>p.label)),r=p=>`$${X(Math.abs(p),1,"dollar")}${Q(p,"dollar")}`;return(p,f)=>(i(),k(u(Z),{class:"graph",title:u(e)("title"),loading:o.value,options:l.value,series:d.value},null,8,["title","loading","options","series"]))}});function dt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest holders"])},numPos:a=>{const{normalize:t}=a;return t(["mkUSD balance:"])}}})}typeof dt=="function"&&dt(Ft);const Jn=y(Ft,[["__scopeId","data-v-b4e1e389"]]),Yn={class:"kpis"},Kn=C({__name:"KPIs",setup(s){const e=new W(R()),a=w(null);return M(async()=>{try{a.value=await e.getStableCoinKPI("ethereum").then(t=>t.info)}catch{a.value=null}}),(t,o)=>(i(),m("div",Yn,[g(u(Ce),{label:"mkUSD price","has-value":!!a.value},{default:$(()=>[a.value?(i(),k(u(j),{key:0,value:a.value.price,precision:4,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),g(u(Ce),{label:"Total supply","has-value":!!a.value},{default:$(()=>[a.value?(i(),k(u(j),{key:0,value:a.value.supply,precision:2,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),g(u(Ce),{label:"24h Volume (Curve)","has-value":!!a.value},{default:$(()=>[a.value?(i(),k(u(j),{key:0,value:a.value.volume,precision:1,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),g(u(Ce),{label:"Aggregate -2% Depth (Curve)","has-value":!!a.value},{default:$(()=>[a.value?(i(),k(u(j),{key:0,value:a.value.depth,precision:1,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"])]))}});const Xn=y(Kn,[["__scopeId","data-v-14251c1f"]]),Nt=C({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(s){const{t:e}=L(),a=N(),t=S(()=>{const d=F(a.theme),c=Y(a.theme);return ee({colors:d,colorsArray:c},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:r=>l(r)}},yaxis:{seriesName:"amounts",labels:{formatter:r=>l(r)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:r=>l(r)}},colors:[r=>r.value===0?d.blue:d.green,r=>r.value===0?d.blue:d.red]})}),o=S(()=>{if(!s.depth)return[];const d=[...s.depth.ask.prices.map(r=>({x:r,y:0})),...s.depth.bid.prices.map((r,p)=>({x:r,y:s.depth.bid.amounts[p]}))],c=[...s.depth.ask.prices.map((r,p)=>({x:r,y:s.depth.ask.amounts[p]}))];return[{name:"Bid",data:d},{name:"Ask",data:c}]}),n=S(()=>{var c;if(!((c=s.depth)!=null&&c.tokens)||s.depth.tokens.length===0)return e("title");const d=s.depth.tokens.join(" / ");return`${e("title")} - ${d} (Curve)`}),l=d=>`$${X(Math.abs(d),2,"dollar")}${Q(d,"dollar")}`;return(d,c)=>(i(),k(u(Z),{class:"chart",title:n.value,loading:d.loading,options:t.value,series:o.value},null,8,["title","loading","options","series"]))}});function _t(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidity Depth"])}}})}typeof _t=="function"&&_t(Nt);const Zn=y(Nt,[["__scopeId","data-v-defdef9f"]]),el=C({__name:"ChartDepthContainer",setup(s){const e=new W(R()),a=w(!0),t=w([]);return M(async()=>{a.value=!0,t.value=await e.getCurvePoolDepth("ethereum").then(o=>o.depth),a.value=!1}),(o,n)=>(i(!0),m(H,null,q(t.value,l=>(i(),k(Zn,{key:l.name,loading:a.value,depth:l},null,8,["loading","depth"]))),128))}});const tl=y(el,[["__scopeId","data-v-40365e2a"]]),al={class:"mkusd"},sl=C({__name:"Stablecoin",setup(s){return(e,a)=>(i(),m("div",al,[g(Xn,{style:{"grid-column":"1 / -1"}}),g(Gn),g(Qn),g(Jn),g(tl)]))}});const ol=y(sl,[["__scopeId","data-v-738142b2"]]),nl=C({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(s){const e=N(),a=S(()=>{const l=F(e.theme),d=Y(e.theme);return ee({colors:l,colorsArray:d},{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:c=>{let r=o.value[c.seriesIndex];r=r.length>10?se(r):r;const p=c.series[c.seriesIndex];return[`<div><b>${r}</b>:</div><div>${n(p)}</div>`].join("")}},labels:s.data.map(c=>c.label.length>10?se(c.label):c.label)})}),t=S(()=>s.data.map(l=>l.value)),o=S(()=>s.data.map(l=>l.label)),n=l=>`$${X(Math.abs(l),1,"dollar")}${Q(l,"dollar")}`;return(l,d)=>(i(),k(u(Z),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const ll=y(nl,[["__scopeId","data-v-5e27d0e1"]]),rl={class:"actions"},Et=C({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(s){const{t:e}=L(),a=new W(R()),t=w("collateral"),o=w(!0),n=w([]),l=async()=>{o.value=!0,s.vault&&(n.value=await a.getLargeTrovePositions("ethereum",s.vault.address,t.value).then(c=>c.positions),o.value=!1)};P(()=>t.value,()=>{l().catch(c=>{console.error("Error fetching data:",c)})},{immediate:!0}),P(()=>s.vault,async(c,r)=>{c!==r&&await l()},{immediate:!0});const d=async c=>{t.value!==c&&(t.value=c,await l())};return(c,r)=>(i(),k(u(J),{class:"chart-container",title:u(e)("title"),loading:o.value},{actions:$(()=>[_("div",rl,[g(u(ke),{value:"Coll.","model-value":t.value==="collateral",onClick:r[0]||(r[0]=p=>d("collateral"))},null,8,["model-value"]),g(u(ke),{value:"Debt","model-value":t.value==="debt",onClick:r[1]||(r[1]=p=>d("debt"))},null,8,["model-value"])])]),default:$(()=>[g(ll,{data:n.value},null,8,["data"])]),_:1},8,["title","loading"]))}});function pt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["5 Largest Troves vs Others"])}}})}typeof pt=="function"&&pt(Et);const il=y(Et,[["__scopeId","data-v-5e490920"]]),cl=C({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(s){const e=N(),a=S(()=>{const n=F(e.theme),l=Y(e.theme);return ee({colors:n,colorsArray:l},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:o.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),t=S(()=>[{name:"# of troves",data:Object.values(s.data).map(n=>n.value)}]),o=S(()=>s.data.map(n=>n.label));return(n,l)=>(i(),k(u(Z),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const ul=y(cl,[["__scopeId","data-v-726b6957"]]),dl={class:"actions"},Ht=C({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(s){const{t:e}=L(),a=new W(R()),t=w("collateral"),o=w(!0),n=w([]),l=async()=>{o.value=!0,s.vault&&(n.value=await a.getTroveDistribution("ethereum",s.vault.address,t.value).then(c=>c.distribution),o.value=!1)};P(()=>t.value,()=>{l().catch(c=>{console.error("Error fetching data:",c)})},{immediate:!0}),P(()=>s.vault,async(c,r)=>{c!==r&&await l()},{immediate:!0});const d=async c=>{t.value!==c&&(t.value=c,await l())};return(c,r)=>(i(),k(u(J),{class:"chart-container",title:u(e)("title"),loading:o.value},{actions:$(()=>[_("div",dl,[g(u(ke),{value:"Coll.","model-value":t.value==="collateral",onClick:r[0]||(r[0]=p=>d("collateral"))},null,8,["model-value"]),g(u(ke),{value:"Debt","model-value":t.value==="debt",onClick:r[1]||(r[1]=p=>d("debt"))},null,8,["model-value"])])]),default:$(()=>[g(ul,{data:n.value},null,8,["data"])]),_:1},8,["title","loading"]))}});function vt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Troves Distribution"])}}})}typeof vt=="function"&&vt(Ht);const _l=y(Ht,[["__scopeId","data-v-329e4729"]]),pl={class:"vault-overview"},vl=C({__name:"VaultOverview",props:{vault:{}},setup(s){return(e,a)=>(i(),m("div",pl,[g(_l,{vault:e.vault},null,8,["vault"]),g(il,{vault:e.vault},null,8,["vault"])]))}});const ml=y(vl,[["__scopeId","data-v-04b6e7b2"]]),hl={class:"actions"},Ut=C({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(s){const{t:e}=L(),a=new W(R());let t,o,n;const l=N(),d=w(null),c=w({oracle:[],market:[]}),r=w(!1);M(async()=>{d.value&&(await aa(),t=$e(d.value,f(d.value,l.theme)),o=t.addAreaSeries(h(l.theme)),n=t.addAreaSeries(T(l.theme)),v(c.value))}),P(()=>s.vault,async b=>{if(r.value=!0,!b)return;const A=await a.getCollateralPrices("ethereum",b.collateral,"7d");c.value=p(A.oracle,A.market),r.value=!1},{immediate:!0}),P(()=>l.theme,b=>{d.value&&(t.applyOptions(f(d.value,b)),o.applyOptions(h(b)),n.applyOptions(T(b)))}),P(c,b=>{v(b)});const p=(b,A)=>{const B=Math.max(b[0].timestamp,A[0].timestamp),z=Math.min(b[b.length-1].timestamp,A[A.length-1].timestamp),E=b.filter(me=>me.timestamp>=B&&me.timestamp<=z),te=A.filter(me=>me.timestamp>=B&&me.timestamp<=z);return E[E.length-1].timestamp<z&&E.push({timestamp:z,value:E[E.length-1].value}),te[te.length-1].timestamp<z&&te.push({timestamp:z,value:te[te.length-1].value}),{oracle:E,market:te}},f=(b,A)=>we(b,A,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),T=b=>{const A=F(b);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ve.WithSteps,lineColor:A.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},h=b=>{const A=F(b);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ve.WithSteps,lineColor:A.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},v=b=>{if(!t||!o)return;const A=U.chain(b.oracle).map(z=>({time:z.timestamp,value:z.value})).uniqWith((z,E)=>z.time===E.time).orderBy(z=>z.time,"asc").value(),B=U.chain(b.market).map(z=>({time:z.timestamp,value:z.value})).uniqWith((z,E)=>z.time===E.time).orderBy(z=>z.time,"asc").value();B.length>0&&n.setData(B),A.length>0&&o.setData(A),t.timeScale().fitContent()};return(b,A)=>(i(),k(u(J),{class:"chart-container",title:u(e)("title"),loading:r.value},{actions:$(()=>[_("div",hl,[g(u(Ks),{items:["Oracle","Market"],colors:u(Y)(u(l).theme)},null,8,["colors"])])]),default:$(()=>[_("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function mt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Oracle & Market price"])}}})}typeof mt=="function"&&mt(Ut);const fl=y(Ut,[["__scopeId","data-v-941f6fd1"]]),gl={class:"collateral"},bl=C({__name:"Collateral",props:{vault:{}},setup(s){return(e,a)=>(i(),m("div",gl,[g(fl,{vault:e.vault},null,8,["vault"])]))}});const yl=y(bl,[["__scopeId","data-v-f65be798"]]);const $l={},wl={class:"liquidations"};function Cl(s,e){return i(),m("div",wl,"TODO")}const kl=y($l,[["render",Cl],["__scopeId","data-v-5225d811"]]);const Sl={},Al={class:"find-trove"};function Dl(s,e){return i(),m("div",Al,"TODO")}const Tl=y(Sl,[["render",Dl],["__scopeId","data-v-cd8992af"]]);const Il={},xl={class:"simulation"};function zl(s,e){return i(),m("div",xl,"TODO")}const Ol=y(Il,[["render",zl],["__scopeId","data-v-a5df65ee"]]),Pl={class:"vault-manager"},Ll=C({__name:"VaultManager",setup(s){const e=new It("ethereum"),a=Se(),t=Le(),o=Re(),n=zt(),l=w(0),d=S(()=>a.params.vaultAddr),c=S(()=>n.vault);return M(()=>{var p;const r=a.params.tab;r&&typeof r=="string"&&(r==="collateral"?l.value=1:r==="liquidations"?l.value=2:r==="trove"?l.value=3:r==="simulation"&&(l.value=4)),o.show=!0,o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((p=c.value)==null?void 0:p.name)??"?"}`}]}),P(e.currentData,r=>{const p=r.find(f=>f.address===d.value);p&&(n.vault=p)}),P(c,r=>{o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(r==null?void 0:r.name)??"?"}`}]}),P(l,async r=>{r===0?await t.push({name:"prismavault",params:{tab:"",vaultAddr:d.value}}):r===1?await t.push({name:"prismavault",params:{tab:"collateral",vaultAddr:d.value}}):r===2?await t.push({name:"prismavault",params:{tab:"liquidations",vaultAddr:d.value}}):r===3?await t.push({name:"prismavault",params:{tab:"trove",vaultAddr:d.value}}):r===4&&await t.push({name:"prismavault",params:{tab:"simulation",vaultAddr:d.value}})}),(r,p)=>(i(),m("div",Pl,[g(u(Hs),{active:l.value,onTab:p[0]||(p[0]=f=>l.value=f.index)},{default:$(()=>[g(u(fe),{header:"Overview"},{default:$(()=>[(i(),k(he,null,[l.value===0?(i(),k(ml,{key:0,vault:c.value},null,8,["vault"])):x("",!0)],1024))]),_:1}),g(u(fe),{header:"Collateral"},{default:$(()=>[(i(),k(he,null,[l.value===1&&c.value?(i(),k(yl,{key:0,vault:c.value},null,8,["vault"])):x("",!0)],1024))]),_:1}),g(u(fe),{header:"Liquidations"},{default:$(()=>[(i(),k(he,null,[l.value===2&&c.value?(i(),k(kl,{key:0,vault:c.value},null,8,["vault"])):x("",!0)],1024))]),_:1}),g(u(fe),{header:"Find Trove"},{default:$(()=>[(i(),k(he,null,[l.value===3&&c.value?(i(),k(Tl,{key:0,vault:c.value},null,8,["vault"])):x("",!0)],1024))]),_:1}),g(u(fe),{header:"Simulation"},{default:$(()=>[(i(),k(he,null,[l.value===4&&c.value?(i(),k(Ol,{key:0,vault:c.value},null,8,["vault"])):x("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const Ml=y(Ll,[["__scopeId","data-v-7e3cb21d"]]),Bl={titleRoute:"/",routes:[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:qn},{path:"/mkusd",name:"mkusd",component:ol},{path:"/vaults",name:"vaults",component:Sn},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:Ml}],menuItems:[{to:"/vaults",label:"Vaults"},{to:"/mkusd",label:"mkUSD"},{to:"/pool",label:"Stability pool"},{to:"/dao",label:"DAO"}]},We=sa(Wo),Vl=oa({legacy:!1,locale:"en",fallbackLocale:"en"});We.use(Vl);const Rl=na();We.use(Rl);const Wl=[Bl],Fl=Ve();Fl.pages=Wl;const Nl=Ko();We.use(Nl).use(la).use(ra).mount("#app");
