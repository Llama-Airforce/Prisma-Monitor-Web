const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vue3-apexcharts-BOsSVZdl.js","assets/vendor-DOp14ndG.js"])))=>i.map(i=>d[i]);
var Dn=Object.defineProperty;var Vn=(t,e,a)=>e in t?Dn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var oe=(t,e,a)=>Vn(t,typeof e!="symbol"?e+"":e,a);import{o as f,c as T,a as _,d as A,u as Lt,b as w,e as qn,f as L,n as U,g as D,h as o,r as Z,i as M,t as x,w as g,j as v,T as Mn,F as z,k as se,l as Ge,C as Tt,m as ze,p as q,q as Me,s as ct,V as Rn,v as Fn,x as qe,y as At,z as xt,A as Pt,B as j,D as mt,E as Bn,G as Un,H as ho,I as Re,M as En,J as Y,K as On,L as Wn,N as be,O as It,P as Kn,Q as $t,R as Nn,S as Hn,U as Gn,W as jn,X as je,Y as Zn,Z as zn,_ as Yn,$ as bo,a0 as Qn,a1 as go,a2 as Jn,a3 as Xn,a4 as es,a5 as ut,a6 as F,a7 as ts,a8 as as,a9 as os,aa as ns,ab as dt,ac as Dt,ad as X,ae as W,af as ss,ag as ls,ah as rs,ai as vt,aj as is,ak as cs,al as ue,am as le,an as us,ao as re,ap as ds,aq as yo,ar as ps,as as ms,at as vs,au as Ct,av as _s,aw as Ze,ax as fs,ay as Gt,az as jt,aA as st,aB as hs,aC as Oe,aD as bs,aE as gs,aF as ys,aG as ws,aH as $s,aI as Cs,aJ as ks,aK as Ss,aL as Ls,aM as Ts,aN as Zt,aO as As,aP as zt,aQ as xs,aR as Ps,aS as Is,aT as Ds,aU as Vs,aV as qs,aW as Ms,aX as Rs,aY as Fs,aZ as Bs}from"./vendor-DOp14ndG.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();class Us{constructor(e){this.value=e}entries(){return Object.entries(this.value)}}Array.prototype.take=function(t){return this.slice(0,t)};Array.prototype.takeRight=function(t){return this.slice(-t)};Array.prototype.drop=function(t=1){return this.slice(Math.max(0,t))};Array.prototype.dropWhile=function(t){const e=this.findIndex((a,n,l)=>!t(a,n,l));return e===-1?[]:this.slice(e)};Array.prototype.zip=function(...t){return this.map((e,a)=>[e,...t.map(n=>n[a])])};Array.prototype.uniq=function(){return[...new Set(this)]};Array.prototype.uniqWith=function(t){return this.filter((e,a)=>this.findIndex(n=>t(e,n))===a)};Array.prototype.orderBy=function(t,e="asc"){const a=Array.isArray(t)?t:[t],n=Array.isArray(e)?e:[e];return[...this].sort((l,c)=>{for(let u=0;u<a.length;u++){const r=a[u],d=Array.isArray(e)?n[u]||"asc":e,p=r(l),s=r(c);if(p!==s)return(p>s?1:-1)*(d==="asc"?1:-1)}return 0})};Array.prototype.groupBy=function(t){const e=Object.groupBy(this,t);return new Us(e)};Array.prototype.sumBy=function(t){return this.reduce((e,a)=>e+t(a),0)};Array.prototype.meanBy=function(t){const e=this.sumBy(t);return this.length>0?e/this.length:0};Array.prototype.maxBy=function(t){return this.reduce((e,a)=>t(a)>t(e)?a:e)};Array.prototype.difference=function(...t){const e=new Set(t.flat());return this.filter(a=>!e.has(a))};const P=(t,e)=>{const a=t.__vccOpts||t;for(const[n,l]of e)a[n]=l;return a},Es={},Os={class:"spinner"};function Ws(t,e){return f(),T("div",Os,e[0]||(e[0]=[_("div",null,null,-1),_("div",null,null,-1)]))}const wo=P(Es,[["render",Ws],["__scopeId","data-v-1a694bfd"]]),Ks=["inert"],Ns={key:0,class:"card-title"},Hs={key:1,class:"card-actions-secondary"},Gs={key:2,class:"card-actions"},js=A({__name:"Card",props:{title:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:[Boolean,null],default:null}},setup(t){const e=Lt(),a=w(()=>t.title||e.title),n=w(()=>e.actions),l=w(()=>e["actions-secondary"]),c=w(()=>t.title||e.title||n.value||l.value),{width:u}=qn(),r=w(()=>u.value<=1280);return(d,p)=>{const s=wo;return f(),T("div",{class:U(["card",{loading:d.loading,"loading-backdrop":d.loading!==null,"stack-actions":o(r)}]),inert:!!d.loading},[d.loading!==null?(f(),L(s,{key:0,class:U({loading:d.loading})},null,8,["class"])):D("",!0),o(c)?(f(),T("div",{key:1,class:U(["card-header",{collapsible:d.collapsible}])},[o(a)?(f(),T("div",Ns,[Z(d.$slots,"title",{},()=>[M(x(d.title),1)],!0)])):D("",!0),o(l)?(f(),T("div",Hs,[Z(d.$slots,"actions-secondary",{},void 0,!0)])):D("",!0),o(n)?(f(),T("div",Gs,[Z(d.$slots,"actions",{},void 0,!0)])):D("",!0)],2)):(f(),T("div",{key:2,class:U(["card-no-header",{compact:d.compact}])},null,2)),_("div",{class:U(["card-body",{compact:d.compact,collapsed:d.collapsed}])},[Z(d.$slots,"default",{},void 0,!0)],2)],10,Ks)}}}),B=P(js,[["__scopeId","data-v-f1c23778"]]),Zs=A({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(t,{emit:e}){const a=e,n=c=>{var r;const u=t.active?t.active.id===c.id:((r=t.crumbs.filter(d=>!d.hint).at(-1))==null?void 0:r.id)===c.id;return c.hint??u},l=c=>{var u;return((u=t.crumbs.at(-1))==null?void 0:u.id)===c.id};return(c,u)=>{const r=Tt,d=B;return f(),L(d,null,{default:g(()=>[v(Mn,{name:"fade",tag:"ul"},{default:g(()=>[(f(!0),T(z,null,se(c.crumbs,p=>(f(),T("li",{key:p.id},[(f(),L(Ge(n(p)?"span":"a"),{class:U({active:n(p),hint:p.hint}),onClick:s=>a("crumb",p)},{default:g(()=>[M(x(p.label),1)]),_:2},1032,["class","onClick"])),!l(p)||c.crumbs.length===1?(f(),L(r,{key:0})):D("",!0)]))),128))]),_:1})]),_:1})}}}),zs=P(Zs,[["__scopeId","data-v-eb41f11a"]]),Ye=ze("breadcrumbStore",()=>{const t=q([]),e=q(!1);return{crumbs:t,show:e}}),Ys={class:"root"},Qs={class:"toolbar-container"},Js={class:"content"},Xs=A({__name:"Layout",setup(t){const e=Ye(),a=Me(),n=async l=>{l.pathName&&await a.push({name:l.pathName,...l.params&&{params:l.params()}})};return(l,c)=>{const u=ct("notifications"),r=zs,d=ct("router-view");return f(),T("div",Ys,[v(u,{width:600,duration:-1}),v(o(Rn)),Z(l.$slots,"navigation",{},void 0,!0),_("main",null,[_("div",Qs,[o(e).show?(f(),L(r,{key:0,class:"breadcrumb",crumbs:o(e).crumbs,onCrumb:n},null,8,["crumbs"])):D("",!0),c[0]||(c[0]=_("div",{id:"toolbar",class:"toolbar-teleport"},null,-1))]),_("div",Js,[v(d,null,{default:g(({Component:p})=>[v(Fn,{name:"fade",mode:"out-in"},{default:g(()=>[(f(),L(Ge(p)))]),_:2},1024)]),_:1})])])])}}}),el=P(Xs,[["__scopeId","data-v-00bacdb5"]]),tl={class:"collapsible-inside"},al=A({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(t){return(e,a)=>(f(),T("div",{class:U(["collapsible-outside",{expanded:e.expanded}])},[_("div",tl,[Z(e.$slots,"default",{},void 0,!0)])],2))}}),Qe=P(al,[["__scopeId","data-v-adb182cc"]]),ol={class:"badge"},nl={class:"label"},sl=A({__name:"Badge",props:{label:{default:""}},setup(t){return(e,a)=>(f(),T("div",ol,[_("div",nl,x(e.label),1)]))}}),ll=P(sl,[["__scopeId","data-v-efe380bc"]]);function We(t){return!!t.children}function gt(t){return!!t.to}function rl(t){return!!t.url}function il(t){function e(i){return i<10?"0"+i.toString():i.toString()}const a=t.getTime()-new Date().getTime();if(a<=0)return"00:00:00:00";const n=1e3,l=n*60,c=l*60,u=c*24,r=Math.floor(a/u),d=Math.floor(a%u/c),p=Math.floor(a%c/l),s=Math.floor(a%l/n);return e(r)+":"+e(d)+":"+e(p)+":"+e(s)}function xe(t,e=0,a=".",n=","){const l=isFinite(+t)?+t:0,c=isFinite(+e)?Math.abs(e):0,u=typeof n>"u"?",":n,r=typeof a>"u"?".":a,d=function(s,i){const m=Math.pow(10,i);return Math.round(s*m)/m},p=(c?d(l,c):Math.round(l)).toString().split(".");return p[0].length>3&&(p[0]=p[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,u)),(p[1]||"").length<c&&(p[1]=p[1]||"",p[1]+=new Array(c-p[1].length+1).join("0")),p.join(r)}function J(t){const e=Math.abs(t);return e>=1*10**12?"t":e>=1*10**9?"b":e>=1*10**6?"m":e>=1*10**3?"k":""}function H(t,e,a){const n=Math.abs(t);return e===1/0?t.toLocaleString():a==="percentage"?xe(t,e):a==="dollar"?n>=1*10**12?xe(t/10**12,e):n>=1*10**9?xe(t/10**9,e):n>=1*10**6?xe(t/10**6,e):n>=1*10**3?xe(t/10**3,e):xe(t,e):t.toString()}function Vt(t,e){const a={...t};for(const n in e)Array.isArray(e[n])?a[n]=[...e[n]]:typeof e[n]=="object"&&e[n]!==null?a[n]=Vt(a[n],e[n]):a[n]=e[n];return a}async function Ie(t,e=0,a=1e3){const n=await t(e,a),l=await(n.length>=a?Ie(t,e+1,a):Promise.resolve([]));return n.concat(l)}function it(t,e){return(Array.isArray(t)?t:[t]).some(n=>e.path.startsWith(n))}const Ke="0xc53baaaa8595a7a2e7fee71db7291b939f696734";class cl extends Error{constructor(e,a){super(a),this.status=e}}async function ul(t,e,a){try{const n=await fetch(t,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:a});if(n.ok)return n;throw new cl(n.status,`Fetch error ${n.status} for URL: ${t}`)}catch(n){throw n instanceof Error?n:new Error("Unknown fetch error")}}async function dl(t,e,a){return await(await ul(t,e,a)).json()}class ve{async fetch(e,a,n){return dl(e,a,n)}}const pl="wss://prices.curve.fi/v1/stream/ws",Yt="pool_ohlc";class pt{constructor(e,a,n){oe(this,"socket");oe(this,"ohlc$");this.chain=a,this.settings=n,this.socket=e,this.ohlc$=this.socket.pipe(qe(l=>l),At(l=>l.subscription.chain===this.chain&&l.channel===Yt&&JSON.stringify(l.subscription)===JSON.stringify(n)),qe(l=>l.payload),xt(1)),this.send("snapshots")}send(e){const a={action:e,channel:Yt,settings:[this.settings]};this.socket.next(a)}}const Qt="pool_volume";class ml{constructor(e,a,n){oe(this,"socket");oe(this,"volume$");this.chain=a,this.settings=n,this.socket=e,this.volume$=this.socket.pipe(qe(l=>l),At(l=>l.subscription.chain===this.chain&&l.channel===Qt&&JSON.stringify(l.subscription)===JSON.stringify(n)),qe(l=>l.payload),xt(1)),this.send("snapshots")}send(e){const a={action:e,channel:Qt,settings:[this.settings]};this.socket.next(a)}}const vl={key:0},_l=["href"],fl={class:"nav-link-container"},hl={key:1},bl={class:"nav-link-container"},gl={class:"left"},yl={class:"right"},wl={key:2},$l={class:"nav-link-container"},Cl={class:"nav-link-container"},kl={class:"left"},Sl={class:"right"},Ll=A({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(t,{emit:e}){const a=e,n=Pt(),l=q(!0),c=w(()=>gt(t.item)?[t.item]:We(t.item)?t.item.children:[]),u=()=>{We(t.item)&&t.item.children.filter(s=>it(s.to,n)).length>0&&(l.value=!0)},r=p=>typeof p.label=="string"?p.label:p.label();j(()=>t.item,p=>{We(p)&&(l.value=!p.initCollapsed),u()},{immediate:!0}),j(()=>n.fullPath,()=>{u()},{immediate:!0});const d=()=>{l.value=!l.value};return(p,s)=>{const i=ll,m=ct("router-link"),y=mt,h=Qe;return f(),T(z,null,[o(rl)(p.item)?(f(),T("li",vl,[_("a",{class:"nav-link root",href:p.item.url,target:"_blank"},[_("div",fl,x(p.item.label),1)],8,_l)])):o(gt)(p.item)?(f(),T("li",hl,[v(m,{to:p.item.to,class:U(["nav-link root",{"router-link-active":o(it)(p.item.to,o(n))}]),onClick:s[0]||(s[0]=C=>a("navigated"))},{default:g(()=>[_("div",bl,[_("div",gl,[p.item.icon?(f(),L(Ge(p.item.icon),{key:0,class:"icon"})):D("",!0),M(" "+x(r(p.item)),1)]),_("div",yl,[p.item.tag?(f(),L(i,{key:0,label:p.item.tag},null,8,["label"])):D("",!0)])])]),_:1},8,["to","class"])])):o(We)(p.item)?(f(),T("li",wl,[_("a",{class:"nav-link root",onClick:d},[_("div",$l,[M(x(p.item.label)+" ",1),v(y,{class:U(["expander",{expanded:o(l)}])},null,8,["class"])])])])):D("",!0),o(We)(p.item)?(f(),L(h,{key:3,class:"items",expanded:o(l)},{default:g(()=>[_("ul",null,[(f(!0),T(z,null,se(o(c),C=>(f(),T("li",{key:r(C)},[o(gt)(C)?(f(),L(m,{key:0,to:C.to,class:U(["nav-link",{"router-link-active":o(it)(C.to,o(n))}]),onClick:s[1]||(s[1]=k=>a("navigated"))},{default:g(()=>[_("div",Cl,[_("div",kl,[C.icon?(f(),L(Ge(C.icon),{key:0,class:"icon"})):D("",!0),M(" "+x(r(C)),1)]),_("div",Sl,[C.tag?(f(),L(i,{key:0,label:C.tag},null,8,["label"])):D("",!0)])])]),_:2},1032,["to","class"])):D("",!0)]))),128))])]),_:1},8,["expanded"])):D("",!0)],64)}}}),Tl=P(Ll,[["__scopeId","data-v-923ef64f"]]),Al=A({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(t,{emit:e}){const a=e,n=Pt(),l=w(()=>t.pages.find(r=>it(r.titleRoute,n))),c=w(()=>{var r;return((r=l.value)==null?void 0:r.menuItems)??[]}),u=r=>typeof r.label=="string"?r.label:r.label();return(r,d)=>(f(),T("nav",null,[(f(!0),T(z,null,se(o(c),p=>(f(),T("ul",{key:u(p)},[v(Tl,{item:p,onNavigated:d[0]||(d[0]=s=>a("navigated"))},null,8,["item"])]))),128))]))}}),xl=P(Al,[["__scopeId","data-v-eac6628d"]]);function Je(){const{address:t,isConnected:e,chainId:a}=Bn(),n=Un(),l=w(()=>n.data.value&&t.value?t.value.toLocaleLowerCase():void 0);return{isConnected:e,chainId:a,address:l}}function N(t,e=6){if(!t)return"0x000...000";const a=e/2+2,n=t.length-e/2;return`${t.substring(0,a)}...${t.substring(n)}`}const Pl=A({__name:"Button",props:{chainId:{}},emits:["click"],setup(t,{emit:e}){const a=e,{chainId:n}=Je(),{switchChain:l}=ho(),c=u=>{if(u.stopImmediatePropagation(),t.chainId){if(n.value===void 0){Re({text:"Wallet not connected",type:"error"});return}n.value!==t.chainId&&l({chainId:t.chainId})}a("click")};return(u,r)=>(f(),T("button",{onClick:c},[Z(u.$slots,"default",{},void 0,!0)]))}}),De=P(Pl,[["__scopeId","data-v-f96d2ba9"]]),Il="/assets/prisma-B4fv490f.png",Dl="/assets/hat-D1qfnSjv.png",Vl={},ql={class:"logo"};function Ml(t,e){return f(),T("div",ql,e[0]||(e[0]=[_("div",{class:"visual"},[_("img",{src:Il}),_("img",{src:Dl})],-1),_("span",null,"prisma.monitor",-1)]))}const Rl=P(Vl,[["render",Ml],["__scopeId","data-v-f5483485"]]),Fl={class:"header"},Bl={class:"buttons"},Ul=A({__name:"Header",emits:["toggle-expansion","navigated"],setup(t,{emit:e}){const a=e;return(n,l)=>{const c=ct("router-link"),u=En,r=De;return f(),T("div",Fl,[v(c,{class:"logo",to:"/",onClick:l[0]||(l[0]=d=>a("navigated"))},{default:g(()=>[v(Rl,{class:"logo"})]),_:1}),_("div",Bl,[v(r,{class:"lvl1",onClick:l[1]||(l[1]=d=>a("toggle-expansion"))},{default:g(()=>[v(u)]),_:1})])])}}}),El=P(Ul,[["__scopeId","data-v-46ff3840"]]),Ol={class:"selected"},Wl={class:"item-wrapper"},Kl={key:0,class:"label"},Nl=["onClick"],Hl={class:"chevrons"},Gl=A({__name:"Select",props:{options:{},selected:{},label:{}},emits:["input"],setup(t,{emit:e}){const a=e,n=q(!1);return(l,c)=>{const u=On;return f(),T("div",{tabindex:"0",class:U(["select",{open:o(n)}]),onBlur:c[0]||(c[0]=r=>n.value=!1),onClick:c[1]||(c[1]=Y(r=>n.value=!o(n),["stop"]))},[_("div",Ol,[_("div",Wl,[Z(l.$slots,"item",{item:l.selected,isSelected:!0},()=>[M(x(l.selected),1)],!0)]),l.label?(f(),T("div",Kl,x(l.label),1)):D("",!0)]),_("div",{class:U(["items",{open:o(n)}])},[(f(!0),T(z,null,se(l.options,(r,d)=>(f(),T("div",{key:d,class:"item-wrapper",onClick:Y(p=>{n.value=!1,a("input",r)},["stop"])},[Z(l.$slots,"item",{item:r,isSelected:!1},()=>[M(x(r),1)],!0)],8,Nl))),128))],2),_("div",Hl,[v(u)])],34)}}}),$o=P(Gl,[["__scopeId","data-v-f6a25e49"]]),jl={class:"theme"},Zl={class:"label"},zl="theme",Yl=A({__name:"SelectTheme",props:{themes:{default:()=>["dark"]}},setup(t){const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",n=Wn(zl,t.themes.find(l=>l===a)??t.themes[0]);return j(n,l=>{window.document.documentElement.setAttribute("data-theme",l)},{immediate:!0}),(l,c)=>{const u=$o;return f(),L(u,{class:"direction-up",options:l.themes.map(r=>r),selected:o(n),onInput:c[0]||(c[0]=r=>n.value=r)},{item:g(({item:r})=>[_("div",jl,[_("div",Zl,x(r),1)])]),_:1},8,["options","selected"])}}}),Ql=P(Yl,[["__scopeId","data-v-917b2da7"]]),Jl={key:0,class:"modal"},Xl={class:"modal-popup"},er=A({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e}){const a=e,n=l=>{l.code==="Escape"&&a("close")};return be(()=>{document.addEventListener("keydown",n)}),It(()=>{document.removeEventListener("keydown",n)}),j(()=>t.show,l=>{document.body.style.overflow=l?"hidden":""}),(l,c)=>(f(),L(Kn,{to:"body"},[l.show?(f(),T("div",Jl,[_("div",{class:"modal-mask",onClick:c[0]||(c[0]=u=>a("close"))}),_("div",Xl,[Z(l.$slots,"default",{},void 0,!0)])])):D("",!0)]))}}),Se=P(er,[["__scopeId","data-v-801fe9d3"]]),tr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",ar=A({__name:"Tooltip",emits:["show"],setup(t,{emit:e}){const a=e,n=q(!1),l=$t("trigger"),c=$t("content");j(n,s=>{a("show",s),s&&Nn(()=>{p()})});let u;function r(){u&&(clearTimeout(u),u=void 0),n.value=!0}function d(){u&&clearTimeout(u),u=setTimeout(()=>{n.value=!1,u=void 0},50)}be(()=>{p(),window.addEventListener("resize",p)}),It(()=>{window.removeEventListener("resize",p)});function p(){if(!l.value||!c.value)return;const s=l.value.getBoundingClientRect(),i=c.value.getBoundingClientRect(),m=14,y=m,h=window.innerHeight-i.height-m,C=Math.min(Math.max(y,s.top-i.height-m),h),k=m,b=window.innerWidth-i.width-m,$=Math.min(Math.max(k,s.left+s.width/2-i.width/2),b);c.value.style.top=`${C}px`,c.value.style.left=`${$}px`}return(s,i)=>(f(),T("div",{class:U(["tooltip",{show:o(n)}])},[_("div",{ref:"trigger",class:"trigger",onMouseover:r,onMouseleave:d,onTouchstart:r,onTouchend:d},[Z(s.$slots,"trigger",{},()=>[i[0]||(i[0]=_("img",{src:tr},null,-1))],!0)],544),_("div",{ref:"content",class:"content",onMouseover:r,onMouseleave:d,onTouchstart:r,onTouchend:d},[Z(s.$slots,"default",{},void 0,!0)],544)],2))}}),Xe=P(ar,[["__scopeId","data-v-f1e38ac2"]]),or="/assets/injected-DW80ouY-.webp",nr="/assets/rabby-CG__llS3.svg",sr="/assets/walletconnect-BCBhrtde.webp",lr="/assets/coinbase-CsqSq8Nj.webp",rr="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",ir={class:"buttons"},cr={class:"connectors-body"},ur={class:"connectors"},dr=["src"],pr={key:1,class:"empty"},mr={class:"name"},vr=A({__name:"WalletConnectButton",setup(t){const{connect:e}=Hn(),a=Gn(),n=["injected","walletConnect","coinbaseWalletSDK","safe"],l=w(()=>a.value.filter(p=>n.includes(p.id))),c=q(!1);function u(p){switch(p.id){case"injected":return or;case"walletConnect":return sr;case"coinbaseWalletSDK":return lr;case"safe":return rr;case"io.rabby":return nr;default:return""}}function r(p){return p.id==="injected"?"Browser Extension":p.name}function d(p){e({connector:p}),c.value=!1}return(p,s)=>{const i=De,m=B,y=Se;return f(),T("div",ir,[v(i,{class:"button primary",onClick:s[0]||(s[0]=h=>c.value=!0)},{default:g(()=>s[2]||(s[2]=[M(" Connect Wallet ")])),_:1}),D("",!0),v(y,{show:o(c),onClose:s[1]||(s[1]=h=>c.value=!1)},{default:g(()=>[v(m,null,{default:g(()=>[_("div",cr,[s[4]||(s[4]=_("div",{class:"title"},"Connect Your Wallet",-1)),_("div",ur,[(f(!0),T(z,null,se(o(l),h=>(f(),L(i,{key:h.id,class:"connector",onClick:C=>d(h)},{default:g(()=>[u(h)?(f(),T("img",{key:0,src:u(h)},null,8,dr)):(f(),T("div",pr)),_("div",mr,x(r(h)),1)]),_:2},1032,["onClick"]))),128))])])]),_:1})]),_:1},8,["show"])])}}}),_r=P(vr,[["__scopeId","data-v-b6107ac7"]]),fr={class:"wallet"},hr={key:0},br={key:1},gr={key:0,class:"info"},yr=A({__name:"Wallet",props:{labelPleaseConnect:{}},setup(t){const{disconnect:e}=jn(),{isConnected:a,chainId:n,address:l}=Je(),{switchChain:c}=ho(),u=w(()=>n.value===je.id),r=()=>{c({chainId:je.id})};return(d,p)=>{const s=De,i=Zn;return f(),T("div",fr,[o(a)?(f(),T("div",hr,[o(u)?(f(),L(s,{key:1,class:"disconnect",onClick:o(e)},{default:g(()=>[v(i),M(" "+x(o(N)(o(l))),1)]),_:1},8,["onClick"])):(f(),L(s,{key:0,class:"change primary",onClick:r},{default:g(()=>p[0]||(p[0]=[M(" Change Network ")])),_:1}))])):(f(),T("div",br,[v(_r),d.labelPleaseConnect?(f(),T("span",gr,x(d.labelPleaseConnect),1)):D("",!0)]))])}}}),wr=P(yr,[["__scopeId","data-v-819f0878"]]),$r={class:"bottom"},Cr={class:"buttons"},kr={href:"https://twitter.com/0xAlunara",target:"_blank"},Sr=A({__name:"Bottom",emits:["navigated"],setup(t,{emit:e}){const a=e,n=Me();return(l,c)=>{const u=zn,r=De,d=Yn,p=Ql;return f(),T("div",$r,[_("div",Cr,[_("a",kr,[v(r,{class:"lvl2"},{default:g(()=>[v(u)]),_:1})]),v(r,{class:"lvl2",onClick:c[0]||(c[0]=s=>{o(n).push("/code"),a("navigated")})},{default:g(()=>[v(d)]),_:1})]),v(p,{class:"themes",themes:["dark","light"]}),v(wr,{class:"lvl2"})])}}}),Lr=P(Sr,[["__scopeId","data-v-63a29e42"]]),qt=()=>ze("pageStore",()=>{const t=q([]),e=q([]);return{pages:t,routes:e}})(),Tr=A({__name:"Navigation",emits:["navigated"],setup(t,{emit:e}){const a=e,n=qt(),l=q(!1),c=()=>{l.value=!1,a("navigated")};return(u,r)=>{const d=xl,p=Qe;return f(),T("div",{class:U(["menu-desktop",{expanded:o(l)}])},[v(El,{onToggleExpansion:r[0]||(r[0]=s=>l.value=!o(l)),onNavigated:c}),v(p,{class:"menu-content",expanded:o(l)},{default:g(()=>[v(d,{pages:o(n).pages,onNavigated:c},null,8,["pages"]),v(Lr,{onNavigated:c})]),_:1},8,["expanded"])],2)}}}),Ar=P(Tr,[["__scopeId","data-v-2f384dfe"]]),pe=bo({blue:"#aaa",yellow:"#aaa",green:"#aaa",red:"#aaa",purple:"#aaa",backgroundColor:"#aaa",level1:"#aaa",level2:"#aaa",level3:"#aaa",level4:"#aaa",level5:"#aaa",level6:"#aaa",text:"#aaa"});Qn(document.documentElement,t=>{if(!t.some(n=>n.attributeName==="data-theme"))return;const e=getComputedStyle(document.documentElement),a=n=>xr(e.getPropertyValue(n));pe.value={blue:a("--c-chart-blue"),yellow:a("--c-chart-yellow"),green:a("--c-chart-green"),red:a("--c-chart-red"),purple:a("--c-chart-purple"),text:a("--c-chart-text"),backgroundColor:a("--c-lvl1"),level1:a("--c-lvl1"),level2:a("--c-lvl2"),level3:a("--c-lvl3"),level4:a("--c-lvl4"),level5:a("--c-lvl5"),level6:a("--c-lvl6")}},{attributes:!0});function xr(t){const e=document.createElement("canvas");e.width=1,e.height=1;const a=e.getContext("2d");if(!a)throw new Error("Failed to create 2D canvas context");a.fillStyle=t,a.fillRect(0,0,1,1);const n=a.getImageData(0,0,1,1).data;return`#${[n[0],n[1],n[2]].map(c=>c.toString(16).padStart(2,"0")).join("")}`}const E=ze("settingsStore",()=>{const t=q("lsd");return{theme:w(()=>({colors:pe.value,colorsArray:[t.value==="lsd"?pe.value.blue:pe.value.purple,pe.value.yellow,pe.value.green,pe.value.red,t.value==="lsd"?pe.value.purple:pe.value.blue],lineChartColors:t.value==="lsd"?{lineColor:pe.value.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)"}:{lineColor:pe.value.purple,topColor:"rgb(163, 91, 251, 0.2)",bottomColor:"rgba(163, 91, 251, 0)"}})),flavor:t}});function _t(t){switch(t){case"lsd":return"mkUSD";case"lrt":return"ULTRA"}}function Le(t){switch(t){case"lsd":return"https://api.prismamonitor.com/v1";case"lrt":return"https://api.ultra.prismamonitor.com/v1"}}function Jt(t){switch(t){case"lsd":return"wss://api.prismamonitor.com/v1/prisma/ws";case"lrt":return"wss://api.ultra.prismamonitor.com/v1/prisma/ws"}}function Pr(t){switch(t){case"api-lsd":return Jt("lsd");case"api-lrt":return Jt("lrt");case"prices":return pl}}function Fe(t){switch(t){case"lsd":return"api-lsd";case"lrt":return"api-lrt"}}const we=ze("socketStore",()=>{const t=go({sockets:{"api-lsd":null,"api-lrt":null,prices:null}});return{state:t,getSocket:a=>{if(!t.sockets[a]){const n=Pr(a);t.sockets[a]=Jn(n)}return t.sockets[a]}}}),Co=Symbol();function Ir(t){Xn(Co,t)}function ge(){const t=es(Co);if(!t)throw new Error("Theme not provided");return t}const Dr=A({__name:"App",setup(t){const e=E(),a=Ye(),n=Pt();return be(()=>{e.flavor==="lrt"&&window.document.documentElement.setAttribute("data-flavor","lrt")}),j(()=>n.fullPath,l=>{["/pool","/stable","/redemptions","/liquidation","/profile","/wrappers","/proposals","/veprisma"].some(u=>l.startsWith(u))&&(a.show=!1)}),Ir(ut(()=>e.theme)),(l,c)=>{const u=el;return f(),L(u,null,{navigation:g(()=>[v(Ar,{class:"navigation"})]),_:1})}}}),Vr=P(Dr,[["__scopeId","data-v-576786a0"]]),qr="/assets/404-DGbqGNxT.png",Mr={class:"not-found"},Rr={class:"not-found-container"},ko=A({__name:"NotFound.page",setup(t){const{t:e}=F();return(a,n)=>{const l=B;return f(),T("div",Mr,[_("div",Rr,[v(l,null,{default:g(()=>[M(x(o(e)("404")),1)]),_:1}),n[0]||(n[0]=_("img",{src:qr},null,-1))])])}}});function Xt(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:{t:0,b:{t:2,i:[{t:3}],s:"Where are you going, pilot? Page not found, please return home fren."}}}})}typeof Xt=="function"&&Xt(ko);const Fr=P(ko,[["__scopeId","data-v-9c790780"]]),Br={class:"row-details"},Ur=A({__name:"TableRow",props:{data:{},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(t,{emit:e}){const a=e,n=Lt(),l=w(()=>{var r;const u=n["row-details"];if(u){const d=(r=u()[0])==null?void 0:r.children;if(d)return Array.isArray(d)&&d.length>0}return!1}),c=()=>{a("click",t.data)};return(u,r)=>{const d=mt,p=Qe;return f(),T("div",{class:U(["row",{expanded:u.expanded}])},[_("div",{class:U(["row-data",{active:u.selected,expandable:o(l),"has-data":!!u.data}]),onClick:c},[u.data&&o(l)&&u.expandSide==="left"?(f(),L(d,{key:0,class:"expander"})):D("",!0),Z(u.$slots,"row",{},void 0,!0),u.data&&o(l)&&u.expandSide!=="left"?(f(),L(d,{key:1,class:"expander"})):D("",!0)],2),u.data?(f(),L(p,{key:0,expanded:u.expanded},{default:g(()=>[_("div",Br,[Z(u.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):D("",!0)],2)}}}),Er=P(Ur,[["__scopeId","data-v-4e240805"]]),Or={class:"table"},Wr=["onClick"],Kr={key:1,class:"no-data"},Nr=A({__name:"Table",props:{columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{default:()=>({order:"asc"})}},emits:["selected","sortColumn"],setup(t,{emit:e}){const a=e,n=w(()=>{if(t.rowsMin===null)return[];const s=Math.max(0,t.rowsMin-t.rows.length);return new Array(s)}),l=w(()=>t.columns.map(s=>typeof s=="string"?{id:s,label:s}:s)),c=s=>{s&&a("selected",s)},u=s=>{const i=s+1;return!!(t.rows[s+1]&&t.rows.findIndex(h=>h===t.selectedRow)===i)},r=s=>t.sorting.column===s.id&&t.sorting.order==="asc",d=s=>t.sorting.column===s.id&&t.sorting.order==="desc",p=s=>{if(!s.sort)return;const i=s.id===t.sorting.column&&t.sorting.order==="asc"?"desc":"asc";a("sortColumn",s.id,i)};return(s,i)=>{const m=Tt,y=Er;return f(),T("div",Or,[s.columns.length>0?(f(),L(y,{key:0,class:U({"selected-below":u(-1)})},{row:g(()=>[(f(!0),T(z,null,se(o(l),h=>(f(),T("div",{key:h.id,class:U(["column-header",{sortable:h.sort,sorting:h.sort&&s.sorting.column===h.id,[h.align||""]:!!h.align}]),onClick:C=>p(h)},[_("span",null,x(h.label),1),h.sort?(f(),L(m,{key:0,class:U(["sorting-arrow",{asc:r(h),desc:d(h)}])},null,8,["class"])):D("",!0)],10,Wr))),128))]),_:1},8,["class"])):D("",!0),(f(!0),T(z,null,se(s.rows,(h,C)=>(f(),L(y,{key:h,data:h,class:U({"selected-below":u(C)}),selected:s.selectedRow===h,expanded:s.expanded.includes(h),"expand-side":s.expandSide,onClick:c},{row:g(()=>[Z(s.$slots,"row",{item:h},void 0,!0)]),"row-details":g(()=>[Z(s.$slots,"row-details",{item:h},void 0,!0)]),_:2},1032,["data","class","selected","expanded","expand-side"]))),128)),(f(!0),T(z,null,se(o(n),h=>(f(),L(y,{key:h}))),128)),!s.rowsMin&&(!s.rows||s.rows.length===0)?(f(),T("div",Kr,[Z(s.$slots,"no-data",{},()=>[i[0]||(i[0]=M("No data"))],!0)])):D("",!0),s.$slots["row-aggregation"]&&s.rows.length>0?(f(),L(y,{key:2,class:"aggregation"},{row:g(()=>[Z(s.$slots,"row-aggregation",{},void 0,!0)]),_:3})):D("",!0)])}}}),ne=P(Nr,[["__scopeId","data-v-c623b610"]]),Hr={class:"dashboard"},Gr=["href"],So=A({__name:"Code.page",setup(t){const{t:e}=F(),a=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}];return(n,l)=>{const c=ne,u=B;return f(),T("div",Hr,[v(u,{title:o(e)("repositories")},{default:g(()=>[v(c,{class:"repositories-table",rows:a,columns:[o(e)("repository"),o(e)("description")]},{row:g(({item:r})=>[_("div",null,[_("a",{href:r.url,target:"_blank"},x(r.name),9,Gr)]),_("div",null,x(o(e)(r.description)),1)]),_:1},8,["columns"])]),_:1},8,["title"]),v(u,null,{default:g(()=>l[0]||(l[0]=[_("div",{class:"notices"},[M(" TradingView Lightweight Charts™ Copyright (с) 2023 TradingView, Inc. "),_("span",null,[_("a",{href:"https://www.tradingview.com/",target:"_blank"}," https://www.tradingview.com ")])],-1)])),_:1})])}}});function ea(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:{t:0,b:{t:2,i:[{t:3}],s:"Repositories"}},repository:{t:0,b:{t:2,i:[{t:3}],s:"Repository"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},"repo-laf":{t:0,b:{t:2,i:[{t:3}],s:"This website's front-end, excluding the Union"}}}})}typeof ea=="function"&&ea(So);const jr=P(So,[["__scopeId","data-v-bdf925f9"]]);function Zr(){const t=qt(),e=[{path:"/code",component:jr},...t.routes.flatMap(n=>n),{path:"/:pathMatch(.*)*",name:"NotFound",component:Fr}];return ts({history:as(),routes:e})}const zr=A({__name:"ChartApex",props:{options:{},series:{}},setup(t){const e=os(()=>ns(()=>import("./vue3-apexcharts-BOsSVZdl.js"),__vite__mapDeps([0,1])));return(a,n)=>(f(),L(o(e),{class:"chart",height:"100%",options:a.options,series:a.series},null,8,["options","series"]))}}),te=P(zr,[["__scopeId","data-v-15ef6603"]]),Yr=A({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:dt(["change"],["update:modelValue"]),setup(t,{emit:e}){const a=Dt(t,"modelValue"),n=e,l=()=>{const c=!a.value;a.value=c,n("change",c)};return(c,u)=>{const r=De;return f(),L(r,{class:U({toggled:a.value}),onClick:l},{default:g(()=>[Z(c.$slots,"default",{},void 0,!0)]),_:3},8,["class"])}}}),et=P(Yr,[["__scopeId","data-v-9cfb50ee"]]),Qr=t=>({chart:{id:"chart",background:"transparant",foreColor:t.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:t.colorsArray,grid:{borderColor:t.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:t.colors.level5,height:1},axisTicks:{color:t.colors.level5},title:{color:t.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:t.colors.level5},axisTicks:{color:t.colors.level5},title:{color:t.colors.level5}}});function ae(t,e){e??(e=ge());const a=Qr(e.value);return t?Vt(a,t):a}class Mt extends ve{constructor(a){super();oe(this,"API_URL");this.API_URL=Le(a)}async getCollateralPrices(a,n,l){return this.fetch(`${this.API_URL}/collateral/${a}/${n}/prices?period=${l}`)}async getCollateralPriceImpact(a,n){return this.fetch(`${this.API_URL}/collateral/${a}/${n}/impact`)}async getCollateralInfo(a,n){return this.fetch(`${this.API_URL}/collateral/${a}/${n}/info`)}}class Rt extends ve{constructor(a){super();oe(this,"API_URL");this.API_URL=Le(a)}async getLiquidations(a,n){return Ie(c=>this.fetch(`${this.API_URL}/liquidations/${a}/${n}?items=100&page=${c}&order_by=block_timestamp&desc=true`).then(u=>u.liquidations.map(r=>({...r,liquidator:r.liquidator.toLocaleLowerCase(),vault:r.vault.toLocaleLowerCase()}))),1,100)}async getLiquidationsForTrove(a,n){return Ie(c=>this.fetch(`${this.API_URL}/liquidations/${a}?items=100&page=${c}&order_by=block_timestamp&desc=true&trove_filter=${n}`).then(u=>u.liquidations.map(r=>({...r,liquidator:r.liquidator.toLocaleLowerCase(),vault:r.vault.toLocaleLowerCase()}))),1,100)}}class Te extends ve{constructor(a){super();oe(this,"API_URL");this.API_URL=Le(a)}async getHistoricalOpenTrovesOverview(a,n){return this.fetch(`${this.API_URL}/managers/${a}/open_troves?period=${n}`)}async getHistoricalCollateralRatiosOverview(a,n){return this.fetch(`${this.API_URL}/managers/${a}/collateral_ratios?period=${n}`)}async getCollateralRatioGrouped(a,n){return this.fetch(`${this.API_URL}/managers/${a}/global_collateral_ratio?period=${n}`)}async getHistoricalCollateralOverview(a,n){return this.fetch(`${this.API_URL}/managers/${a}/collateral?period=${n}`)}async getRatioDistributionGrouped(a){return this.fetch(`${this.API_URL}/managers/${a}/ratio_distribution`)}async getLargeTrovePositions(a,n,l){return this.fetch(`${this.API_URL}/managers/${a}/${n}/large_positions?unit=${l}`)}async getVaultCollateralRatio(a,n,l){return this.fetch(`${this.API_URL}/managers/${a}/${n}/collateral_ratio?period=${l}`)}async getVaultTroveCount(a,n,l){return this.fetch(`${this.API_URL}/managers/${a}/${n}/open_trove_count?period=${l}`)}async getTroveDistribution(a,n,l){return this.fetch(`${this.API_URL}/managers/${a}/${n}/histograms?unit=${l}`)}}class tt extends ve{constructor(a){super();oe(this,"API_URL");this.API_URL=Le(a)}async getPriceHistory(a,n){return this.fetch(`${this.API_URL}/mkusd/${a}/history?period=${n}`)}async getSupplyHistory(a){return this.fetch(`${this.API_URL}/mkusd/${a}/supply`)}async getPriceHistogram(a,n,l){return this.fetch(`${this.API_URL}/mkusd/${a}/histogram?period=${l}&bins=${n}`)}async getLargeStableCoinHolders(a){return this.fetch(`${this.API_URL}/mkusd/${a}/holders`)}async getStableCoinKPI(a){return this.fetch(`${this.API_URL}/mkusd/${a}/general`)}async getCurvePoolDepth(a){return this.fetch(`${this.API_URL}/mkusd/${a}/depth`)}}class Ft extends ve{constructor(a){super();oe(this,"API_URL");this.API_URL=Le(a)}async getRedemptions(a,n){return Ie(c=>this.fetch(`${this.API_URL}/redemptions/${a}/${n}?items=100&page=${c}&order_by=block_timestamp&desc=true`).then(u=>u.redemptions.map(r=>({...r,redeemer:r.redeemer.toLocaleLowerCase(),vault:r.vault.toLocaleLowerCase()}))),1,100)}async getRedemptionsForTrove(a,n){return Ie(c=>this.fetch(`${this.API_URL}/redemptions/${a}?items=100&page=${c}&order_by=block_timestamp&desc=true&trove_filter=${n}`).then(u=>u.redemptions.map(r=>({...r,redeemer:r.redeemer.toLocaleLowerCase(),vault:r.vault.toLocaleLowerCase()}))),1,100)}}class Lo extends ve{constructor(a){super();oe(this,"API_URL");this.API_URL=Le(a)}async getSnapshots(){return this.fetch(`${this.API_URL}/revenue/ethereum/snapshots?period=3m`)}async getBreakdown(){return this.fetch(`${this.API_URL}/revenue/ethereum/breakdown`)}}class Be extends ve{constructor(a){super();oe(this,"API_URL");this.API_URL=Le(a)}async getPoolTvl(a,n){return this.fetch(`${this.API_URL}/pool/${a}/deposits?period=${n}`)}async getStableFlow(a,n){return this.fetch(`${this.API_URL}/pool/${a}/stable_operations?period=${n}`)}async getStableDistribution(a){return this.fetch(`${this.API_URL}/pool/${a}/histogram/deposits`)}async getCumulativeWithdrawals(a,n){return this.fetch(`${this.API_URL}/pool/${a}/cumulative_withdrawals?period=${n}`)}async getTopStableDeposits(a,n,l){return this.fetch(`${this.API_URL}/pool/${a}/top/stable_deposits?top=${n}&period=${l}`)}async getTopStableWithdrawals(a,n,l){return this.fetch(`${this.API_URL}/pool/${a}/top/stable_withdrawals?top=${n}&period=${l}`)}}class Ue extends ve{constructor(a){super();oe(this,"API_URL");this.API_URL=Le(a)}async getTroves(a,n,l){return Ie(u=>this.fetch(`${this.API_URL}/trove/${a}/${n}/troves?items=100&page=${u}&order_by=last_update&desc=true${l?"&owner_filter="+l:""}`).then(r=>r.troves),1,100)}async getTroveSnapshots(a,n,l){return this.fetch(`${this.API_URL}/trove/${a}/${n}/snapshots/${l}`)}async getTroveDetail(a,n,l){return this.fetch(`${this.API_URL}/trove/${a}/${n}/${l}`)}async getTroveHistory(a,n,l){return this.fetch(`${this.API_URL}/trove/${a}/${n}/history/${l}`)}async getTroveRank(a,n,l){return this.fetch(`${this.API_URL}/trove/${a}/${n}/rank/${l}`)}}const lt="https://api.prismamonitor.com/v1";function rt(t){switch(t){case"convex":return"0x0c73f1cfd5c9dfc150c8707aa47acbd14f0be108";case"yearn":return"0x774a55c3eeb79929fd445ae97191228ab39c4d0f"}}class at extends ve{async getTVL(e){return this.fetch(`${lt}/staking/${rt(e)}/tvl?period=all&groupby=day`)}async getFlow(e){return this.fetch(`${lt}/staking/${rt(e)}/flow?period=all&groupby=day`)}async getDistribution(e){return this.fetch(`${lt}/staking/${rt(e)}/distribution`)}async getSnapshots(e){return this.fetch(`${lt}/staking/${rt(e)}/snapshots?period=7d`)}}const ta="troves_overview";let yt=null;class Ee{constructor(e,a){oe(this,"socket");if(this.chain=a,this.socket=e,yt){this.send("snapshots");return}yt=this.socket.pipe(qe(n=>n),At(n=>n.subscription.chain===this.chain&&n.channel===ta),qe(n=>n.payload),xt(1)),this.send("subscribe"),this.send("snapshots")}get overview$(){return yt}send(e){const a={action:e,channel:ta,settings:[{chain:this.chain}]};this.socket.next(a)}}const Jr={class:"button-group"},To=A({__name:"ChartOpenTroves",setup(t){const{t:e}=F(),{flavor:a}=X(E()),n=new Te(a.value),l=q("1m"),{isFetching:c,data:u}=W({queryKey:["prisma-historical-open-troves",l],queryFn:({queryKey:[,m]})=>n.getHistoricalOpenTrovesOverview("ethereum",m).then(y=>y.managers),initialData:[],initialDataUpdatedAt:0}),r=w(()=>ae({chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:d.value,labels:{formatter:s,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:m,dataPointIndex:y,w:h})=>{let C=0;const k=m.map((b,$)=>{const S=b[y];return C+=S,`<div><b>${h.globals.seriesNames[$]}</b>: ${S}</div>`});return k.push(`<div><b>Total</b>: ${C}</div>`),k.join("")}}})),d=w(()=>u.value.length===0||u.value[0].data.length===0?[]:u.value[0].data.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),p=w(()=>u.value.length===0?[]:u.value.map(m=>({name:m.manager,data:m.data.map(y=>y.value)}))),s=m=>m,i=m=>{l.value!==m&&(l.value=m)};return(m,y)=>{const h=et,C=te,k=B;return f(),L(k,{title:o(e)("title"),loading:o(c)},{actions:g(()=>[_("div",Jr,[v(h,{"model-value":o(l)==="1m",onClick:y[0]||(y[0]=b=>i("1m"))},{default:g(()=>y[3]||(y[3]=[M(" 1m ")])),_:1},8,["model-value"]),v(h,{"model-value":o(l)==="3m",onClick:y[1]||(y[1]=b=>i("3m"))},{default:g(()=>y[4]||(y[4]=[M(" 3m ")])),_:1},8,["model-value"]),v(h,{"model-value":o(l)==="6m",onClick:y[2]||(y[2]=b=>i("6m"))},{default:g(()=>y[5]||(y[5]=[M(" 6m ")])),_:1},8,["model-value"])])]),default:g(()=>[v(C,{options:o(r),series:o(p)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function aa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Open troves"}}}})}typeof aa=="function"&&aa(To);const Xr=(t,e)=>{const{colors:a}=e;return{width:t.clientWidth,height:t.clientHeight||300,rightPriceScale:{borderVisible:!1,scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},layout:{background:{type:ss.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",attributionLogo:!1},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:ls.SparseDotted}},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ie(t){const e=ge();return a=>w(()=>{const n=Xr(a,e.value);return t?Vt(n,ut(t).value):n})}const ei={...rs,colors:[{line:"rgb(41, 98, 255)",area:"rgba(41, 98, 255, 0.2)"},{line:"rgb(225, 87, 90)",area:"rgba(225, 87, 90, 0.2)"},{line:"rgb(242, 142, 44)",area:"rgba(242, 142, 44, 0.2)"},{line:"rgb(164, 89, 209)",area:"rgba(164, 89, 209, 0.2)"},{line:"rgb(27, 156, 133)",area:"rgba(27, 156, 133, 0.2)"}],lineWidth:2};function ti(t){let e=0;return t.map(a=>{const n=e+a;return e=n,n})}class ai{constructor(){oe(this,"_data",null);oe(this,"_options",null)}draw(e,a){e.useBitmapCoordinateSpace(n=>{this._drawImpl(n,a)})}update(e,a){this._data=e,this._options=a}_drawImpl(e,a){if(this._data===null||this._data.bars.length===0||this._data.visibleRange===null||this._options===null)return;const n=this._options,l=this._data.bars.map(p=>({x:p.x,ys:ti(p.originalData.values).map(s=>a(s)??0)})),c=a(0)??0,u=this._createLinePaths(l,this._data.visibleRange,e,c*e.verticalPixelRatio),r=this._createAreas(u),d=n.colors.length;r.forEach((p,s)=>{e.context.fillStyle=n.colors[s%d].area,e.context.fill(p)}),e.context.lineWidth=n.lineWidth*e.verticalPixelRatio,e.context.lineJoin="round",u.forEach((p,s)=>{s!==0&&(e.context.beginPath(),e.context.strokeStyle=n.colors[(s-1)%d].line,e.context.stroke(p.path))})}_createLinePaths(e,a,n,l){const{horizontalPixelRatio:c,verticalPixelRatio:u}=n,r=[],d=[];let p=!0;for(let m=a.from;m<a.to;m++){const y=e[m];let h=0;y.ys.forEach((C,k)=>{if(k%2!==0)return;const b=y.x*c,$=C*u;p?(r[h]={path:new Path2D,first:{x:b,y:$},last:{x:b,y:$}},r[h].path.moveTo(b,$)):(r[h].path.lineTo(b,$),r[h].last.x=b,r[h].last.y=$),h+=1}),p=!1}p=!0;for(let m=a.to-1;m>=a.from;m--){const y=e[m];let h=0;y.ys.forEach((C,k)=>{if(k%2===0)return;const b=y.x*c,$=C*u;p?(d[h]={path:new Path2D,first:{x:b,y:$},last:{x:b,y:$}},d[h].path.moveTo(b,$)):(d[h].path.lineTo(b,$),d[h].last.x=b,d[h].last.y=$),h+=1}),p=!1}const s={path:new Path2D,first:{x:r[0].last.x,y:l},last:{x:r[0].first.x,y:l}};s.path.moveTo(r[0].last.x,l),s.path.lineTo(r[0].first.x,l);const i=[s];for(let m=0;m<r.length;m++)i.push(r[m]),m<d.length&&i.push(d[m]);return i}_createAreas(e){const a=[];for(let n=1;n<e.length;n++){const l=new Path2D(e[n-1].path);l.lineTo(e[n].first.x,e[n].first.y),l.addPath(e[n].path),l.lineTo(e[n-1].first.x,e[n-1].first.y),l.closePath(),a.push(l)}return a}}class oi{constructor(){oe(this,"_renderer");this._renderer=new ai}priceValueBuilder(e){return[0,e.values.reduce((a,n)=>a+n,0)]}isWhitespace(e){var a;return!((a=e.values)!=null&&a.length)}renderer(){return this._renderer}update(e,a){this._renderer.update(e,a)}defaultOptions(){return ei}}function ce(t){const{createChartOptions:e,series:a}=t,n={},l=Array.isArray(a)?a:[a],c=$t("chartRef"),u=bo(void 0);vt(c,(r,d,p)=>{const s=e(r);u.value=is(r,s.value);for(const m of l){const y=ni(u.value,m);n[m.name]=y}const i=j(s,m=>{var y;(y=u.value)==null||y.applyOptions(m)});p(()=>{i(),u.value=void 0})}),cs(w(()=>{var r;return(r=c.value)==null?void 0:r.parentElement}),r=>{var p,s;const d=r[0].target;(p=u.value)==null||p.applyOptions({width:d.clientWidth,height:d.clientHeight}),(s=u.value)==null||s.timeScale().fitContent()});for(const{name:r,options:d}of l)j(d,p=>{const s=n[r];s==null||s.applyOptions(p)});return{chart:u,chartRef:c,series:n}}function ni(t,{type:e,options:a}){return{Area:t.addAreaSeries.bind(t),Bar:t.addBarSeries.bind(t),Baseline:t.addBaselineSeries.bind(t),Line:t.addLineSeries.bind(t),Candlestick:t.addCandlestickSeries.bind(t),Histogram:t.addHistogramSeries.bind(t),StackedArea:t.addCustomSeries.bind(t,new oi)}[e](a.value)}const si={ref:"chartRef",class:"chart"},Ao=A({__name:"ChartCollateralRatio",setup(t){const{t:e}=F(),{theme:a,flavor:n}=X(E()),l=new Te(n.value),{isFetching:c,data:u}=W({queryKey:["prisma-collateral-ratios"],queryFn:()=>l.getCollateralRatioGrouped("ethereum","all").then(s=>s.data),initialData:[],initialDataUpdatedAt:0}),{chart:r,series:d}=ce({createChartOptions:ie(),series:{type:"Area",name:"cr",options:w(()=>({priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:le.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...a.value.lineChartColors}))}});ue(p);function p(){if(!r.value||!d.cr)return;const s=u.value.map(i=>({time:i.timestamp,value:i.value*100})).uniqWith((i,m)=>i.time===m.time).orderBy(i=>i.time,"asc");s.length>0&&d.cr.setData(s),r.value.timeScale().fitContent()}return(s,i)=>{const m=B;return f(),L(m,{title:o(e)("title"),loading:o(c)},{default:g(()=>[_("div",si,null,512)]),_:1},8,["title","loading"])}}});function oa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Global collateral ratio"}}}})}typeof oa=="function"&&oa(Ao);const xo=A({__name:"ChartRatioDeciles",setup(t){const{t:e}=F(),{flavor:a}=X(E()),n=new Te(a.value),{isFetching:l,data:c}=W({queryKey:["prisma-ratio-distribution"],queryFn:()=>n.getRatioDistributionGrouped("ethereum").then(i=>i.deciles),initialData:[],initialDataUpdatedAt:0}),u=w(()=>ae({chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:r.value,labels:{formatter:p,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:s}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),r=w(()=>c.value.map(i=>i.label)),d=w(()=>[{name:e("debt"),data:Object.values(c.value).map(i=>i.data)}]),p=i=>i,s=i=>`$${H(i,0,"dollar")}${J(i)}`;return(i,m)=>{const y=te,h=B;return f(),L(h,{title:o(e)("title"),loading:o(l)},{default:g(()=>[v(y,{options:o(u),series:o(d)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function na(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Debt per Collateral Ratio Deciles"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt"}}}})}typeof na=="function"&&na(xo);const li=P(xo,[["__scopeId","data-v-89e9097d"]]),ri={class:"button-group"},Po=A({__name:"ChartGlobalCollateral",setup(t){const{t:e}=F(),{flavor:a}=X(E()),n=new Te(a.value),l=q("1m"),{isFetching:c,data:u}=W({queryKey:["prisma-collateral-hist-overview",l],queryFn:({queryKey:[,y]})=>n.getHistoricalCollateralOverview("ethereum",y).then(h=>h.managers),initialData:[],initialDataUpdatedAt:0}),r=w(()=>ae({chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:d.value,labels:{formatter:s,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:i}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),d=w(()=>u.value.length===0||u.value[0].data.length===0?[]:u.value[0].data.map(y=>new Date(y.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),p=w(()=>u.value.length===0?[]:u.value.map(y=>({name:y.manager,data:y.data.map(h=>h.value)}))),s=y=>y,i=y=>`$${H(y,1,"dollar")}${J(y)}`,m=y=>{l.value!==y&&(l.value=y)};return(y,h)=>{const C=et,k=te,b=B;return f(),L(b,{title:o(e)("title"),loading:o(c)},{actions:g(()=>[_("div",ri,[v(C,{"model-value":o(l)==="1m",onClick:h[0]||(h[0]=$=>m("1m"))},{default:g(()=>h[3]||(h[3]=[M(" 1m ")])),_:1},8,["model-value"]),v(C,{"model-value":o(l)==="3m",onClick:h[1]||(h[1]=$=>m("3m"))},{default:g(()=>h[4]||(h[4]=[M(" 3m ")])),_:1},8,["model-value"]),v(C,{"model-value":o(l)==="6m",onClick:h[2]||(h[2]=$=>m("6m"))},{default:g(()=>h[5]||(h[5]=[M(" 6m ")])),_:1},8,["model-value"])])]),default:g(()=>[v(k,{options:o(r),series:o(p)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function sa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral value"}}}})}typeof sa=="function"&&sa(Po);const ii=P(Po,[["__scopeId","data-v-d93c3124"]]),ci={class:"async-value"},ui={key:0,class:"symbol"},di={class:"value"},pi={key:1,class:"unit"},mi={key:2,class:"symbol"},vi="|/-\\",_i=A({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(t){let e=0,a=0;const n=q("|"),l=w(()=>t.value?H(t.value,typeof t.precision=="function"?t.precision(t.value):t.precision,t.type??""):t.value===0&&t.showZero?"0":t.value===null||t.value===void 0?n.value:"?"),c=w(()=>t.precision===1/0?"":!t.value||!isFinite(t.value)?t.showUnit?J(0):"":J(t.value));return j(()=>t.value,u=>{if(clearInterval(a),e=0,u)return;const r=()=>{e=(e+1)%4,n.value=vi[e]};a=window.setInterval(r,250)},{immediate:!0}),(u,r)=>(f(),T("div",ci,[u.showSymbol&&u.type==="dollar"?(f(),T("span",ui," $ ")):D("",!0),_("span",di,x(o(l)),1),u.showUnit?(f(),T("span",pi,x(o(c)),1)):D("",!0),u.showSymbol&&u.type==="percentage"?(f(),T("span",mi," % ")):D("",!0)]))}}),ee=P(_i,[["__scopeId","data-v-1fac998b"]]),fi={class:"input-text"},hi={key:0,class:"icon"},bi=["type","value","placeholder"],gi=["onClick"],yi=A({__name:"InputText",props:dt({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:dt(["input","select"],["update:modelValue"]),setup(t,{emit:e}){const a=Dt(t,"modelValue"),n=e,l=w(()=>{const u=t.options.filter(d=>t.filter(a.value,d));return t.sort?[...u].sort(t.sort):u}),c=u=>{const r=u.target.value;a.value=r,n("input",r)};return(u,r)=>{const d=us;return f(),T("div",fi,[u.search?(f(),T("span",hi,[v(d)])):D("",!0),_("input",{type:u.search?"search":"text",value:a.value,placeholder:u.placeholder,onInput:Y(c,["stop"]),onSelect:r[0]||(r[0]=Y(()=>{},["stop"]))},null,40,bi),u.options&&u.autoComplete?(f(),T("div",{key:1,class:U(["items",{selectHide:!u.autoComplete}])},[(f(!0),T(z,null,se(o(l),(p,s)=>(f(),T("div",{key:s,onClick:i=>n("select",p)},[Z(u.$slots,"item",{item:p,idx:s},()=>[M(x(p),1)],!0)],8,gi))),128))],2)):D("",!0)])}}}),de=P(yi,[["__scopeId","data-v-8a4120b9"]]),wi="data:image/webp;base64,UklGRnYCAABXRUJQVlA4TGoCAAAvP8APEOfBIGDbNjJ/niWw77kxDQaNJCnq8+/wPDzD5pZm/hG0bRvr/EEdysfgQ5AAqiEKNuJMsZMp4sRB2ChMEQdh4zMQU/yOf+6TAoNJ3hdEgUEWNr6fOAWJY2NN4lwnBRtZgMAIf6BIWJCwILCg4ghXaGPAAx8QI9lWFf277u5+cTi4W/6B8Z+ce9kAIvrvwG3bSJITODv3vekXCoNmSGhSuGsAQgNH1qC18mGESFVJqIZIMzsbBGoJoSYCbYwgkNBCIAvbRGUstrab/SpGvWGnnmUxCeQw0TGhbJBZkzyf0HvJq0ZFb8c3d5GUMfkiXoMtWQtKVMhym58mFsgVXLLEJTZsvsTcs7GJnX5cEUDbW8oW9LQIy6RxwmUfSGxL2iNstrb4S44LhsPIaI+xWEgfaFKZwBJtYBi6DavRgEFdeUnlTYILkglQ4b2jqjc3NwarAHMAdDZUS0p9sHEAdHnqqiGhHkujT5D92uQIN+3ENVTTJIsLH1R5bm6cfggPP5nQM8eZeNHMTMxM/fNa7TxZJKsjdfsRHspDitPwRKgvT3cBVKkPAuKJibVUf6m/r0lBP/jxSmF1oqrq/92QnW5PEvdAXPlM3xEN9EDTJ7s0hLoSuVSlvQkM9//dNnCc48jyv7He5//W6n/8bxYjW9hynuob3imaMb8U78nGZWMy3jMtOCxR5h4br6eSOzrzfWOFPD7SK0T3PgDwwwWXn1TvDrqka/Bt/94bf+ekene8W3kPhpB7HzfZx22HLIfhuM1n3NhkaGXGjS7D7UpiswdVRBoXLlqC1rrw05BhWLhr2o3pzg1HVwA=",$i="data:image/webp;base64,UklGRp4HAABXRUJQVlA4TJEHAAAvP8APEOZQ0LYN4/CHvYMhIibAtxpNmo50WMwCnGb75zb8Cb8Acv2/v0PAIIyhyuiS8NQj12QYVucCKILi6XiOmQPDCoZesxH0noLBytR7LIYocxAEWtTZKoofgIyfp/89vtMAAJAGq2SXE+AHewA+kQaRB1wqD+gFviW7wC0tuTJw20hRu3hMA70n0LH/T7Wk7H8Z772WcXeXdnf37mft3vHcW7erZnYwuEs8EfHoDTlvDZyX3pDJOESuUR8idyqsDUyEE5G5wwsL73xiIk6lfSZDb4Zr7gvobeBO3BHuUGHHLGB8/ljouTtkriMhDpAAACwb5Wzbtm3btm3btm3btm9n27aNr8K2bZv/L6484vbfgdu2kaRmxoG79+F29wmhSIaZYJENznjKG77yv8b7Io5YH3arMDgy2GWNE57xhb/WkvnO1ce8Ow4GjLDADi/5aRLvluvkzR9Vwh7vzYOrA+YZ8kSX7cI8yetN12spy9zl5s38clbJYJRNPlsgXHSORTDGqfS66G/4V17g6a8E5jjnn7lR9w3UvqETtVn5rFSuTan1v6/yitiYlJ8gyJpXd2G8NGmtiE9Id9pLLXXtB7CYaJQj19FOTerr/559Rl1I15ViIY5ZTywmG6etD5Z27rRl1Y8M06wF/G5UN9qy0eGpuILQuuukrcDKQlyWlGV/+FnB33i0VXlGtes+IbQWJ62+dm7FZa4ldaMZUwlxjnNBov4bsvrpNtv5JlPAoOaZkYa1gq8SZF0ZG53KWwitbDNuRMIrk+hNLbY/4pgNfBXOMxusE1pbSaO1sSsuc6+rB9OxFgTKQ93iWhGh2KRq6Ffaslu4FXwtVMbFp+oBIKtVQ7c2Cd70KgegTDkUW6oSZJ3sFpFa6xqYXGrLSnbpxXFM6WxQ64S/EYY9Mcg2klMZ5pHiTQit5V8YzvklLfsyxLHKLVrBOmCsn+C9FxvjwjGllTvCN1yp+GR/RmYdzcOUY+2IWU0OxBhj/ojryXLDdWrImCjbIdhnyB9UUrZDXSN5kE1yuwRkFkdpl2eSwZQd0Yf3LOD7wa4b5YaolBtB1pUzi6Zlh8gOgeZ0Ki7BwQ4ZbdFwr+xLZl11hzuKwbSHe8YGvd0HSnWUeWcbHME+Ld8PRVPKbFB0WIzEdNe8ACQf/53hNFeW5XSoK/k+HWlUtaMIPp9ph/BD4ZjSyhzhl7w+EVn5lDOl/yzMPUPVG2RdI8iqlGpBm+mZ9aq6hWg6iqW5e1WJGQ62j+Q4xpR7ncpr2omIC8HVekHUvFI0oZjIBFlX8sYwTecS5Wd8CQAk91DcC67Wtay6LwSIiQvelVyDaTrmKT1gymIAqLxhIkE562KAr/vy3wdlJwAAlB1zyUGSK5jmD8XbVD+gA8AtB6QWue1LME8yr2tVL/nBbYhyI/2zoOoOAaLdvaa1xjfNNO0Q3Gtc1gwA7RWXuFbJ69VbIY5xLkls+xaIDIgVfHZYkxETlaJJPSZAPLZNTER+dy6C3In+sHuDH8xbuScpx2Mt4uJerMeYH/wGK3S2HH/r+s0CxKZ7nAEAi6ufKNnDMYtJDzmI87dmibGcaPh/OW1Ww26DUWY1uDworcJ3AYAAgFvuci5gmtRMSLHknJ+LzeD7wuUvooKjps2WA6U7W4lL+e6CiUK9E9cKpvmU+UN2m+ZxSj3JeW4G3A3Frk92uF4t4Lco1Zl4o0xrUKWMrwsndIZ6J6bPZ4ewTVycpfo5vO5KHHHkMpkBEofwUH/xm02VwWWwXT5wzGEi37wfspoU4hCu8u6muInIYbfisj5cx1rU2v15A/3exCfaPo3P51P00OtUpTLcO5dhyKfDndbY9FML+AgTftEQn2Q7BB+imXXan5OxM8TkFlw5UOYQWlhHnI0wqNHaGLRwTNGhQZTK494GXG5hchPqvvlGgw3sU4M2wlM/pFf6bI4SG5spgMtNTG7XfdPw/+Jiw1rQ2mW4bo1WDU/RghFFBgZV6mnTAZPbzrixasGQAtHGUNgm3NCefkgtcZBNUeXGBd76bzDrhjNuwab9hM4CvkYCULbdbK6iaP6gNteojPDJGwKzbglx0xufmAla6cl83EBPNDnfhkblJc2AWTeFuC1mbcI0EoC0IaqdzVXo9KO5RsM88z8mNyaVkjd42/yRppXudOcxFKhvI66dz2q2Dph9g5K31H8DU6gVfE09Plixs1VyuxXmFq33V9U90KhmbI2lvEkXdw2SP211pVyTgpmQalS554myIzAeN10xb9O9Jdss25Ah+MFukGz5jB8WhDoHPeSJ6wrcvk3OG3XvXa3+iENM1oVkI006o2hKcQmWHMmQtQ4Q2H2jnrfqYkpqkbd/yAI+Y8wGswHi9/oKIY7hlEu5+TmfCey+1Zk349au0n2W9uG+r5gFfL0j3qZdN8qiHrn/1ZPuwq5Z5cgvb6//ZrEQFRfkdioyIBf15roxNxwdkmmvZ9TaMatNQQDD7ds13YBrVhW179xbdshhl1XdswN4YTHD/m4ISLeAUAYA0e+Wtuum9uq2n1nlpxt57a0bD0ehH1Pm/XVru3VzULqdVUm3/6u63eO/wfXj6H+DEAA=",Ci="/assets/reth-SHa20puJ.webp",ki="data:image/webp;base64,UklGRrIFAABXRUJQVlA4TKYFAAAvP8APEJXQ37btbKR1OlqOsbZt27bt3Y8/2bZt27ZtdG3bGmdyH9u+6vT7A4J3tpl5m2kE1Gzb3lSAwnYmKDOECTJKcOCyQVTi43EsAC4yV0agnqqq6z/nhuBGkiIpOmuxt2+gqO8JhuBAG31EWKJEhRM+8AvKqHDts1EHfcvTKrlhYYAYOWq86iHHbj7f+dBbZMQxjTI9lKNGjjhslQzoYIYUDb5y+Dxthf4aS1NZHK9y0zLKwis8zSdHBA1Sp6IEZmCKDHdF/+vcY4gMMTw4I5zBMUot14wEO0FhhWOhXy1XB/UJ9wPLjZbjiJUK6lNE2OthNTedRxDDdpUeDMcSBl0keD7uXvV5BDkauE+Zg6RUEPRQ4GuNieJ4BD1MuyKCIioEJtjot0+0InCh6qgtE/9YzLOGg4mIYat5TjbJ5yJjDHU5gYMxIxps+Yo65mNSSD4dbTXecNt1J3A4ZaYGmyhvNRT67TkiVsnLdGMNY76lKhFFDBSlbJDg6xMi38oZcmjGqiiUbz4p8uUnIkiYYIGn1RirxYhFU8dfoMgZCiifBmhixWAstloEC5a3Y3fcRB40E9wiGXUCNwMSdRcvkupuNBXj8CY5DjtGBGCNcK84NOPsVuwRSQj62I/msIEIqrmfZp8pGP53LwSsKTDDYZWGGLYLqCKEou8DGvWpFIS5SrFkrYKDQ0YbsiIrSIrxdlOK0lIFWLjno8wvxpcruMisAJjj8osM9ArX0yhS1TS2FrBQG7VQBWmq2G28KDL8Chc7AFIN/cw4OeU+6imKjXregwqpAJpHJZOMJxOpHwzQrFWHFJDG5eGaAibrWqcMA8NAjM97SCkixUOJmJQGPsvOgPy0ISRXPIIw6ZyG3MAAtU8myReHIExm8kGNASK8PE1KvjQUup1662qrMEWxxyThH6EVdbBEWEHyx0wFCMJ/u1xzXuVNXexP+chrsJDkswJCFOVp/fGp6TfKzxHvmCKdM09bLS1QS5qJ3nSYDpT6W118+jsNJardGuNzHZ3SbHCHzqrp4GZr5RtnmFzr3a6TSEe3WqcIKCcGl8YMVDj5pOHS0z45vrZEbcZ4bzhER8ft2yZLV9NCXzjlkP64GCZO+PhOZTyqeMAzBkrSxEX+kI/9M/svl2qmun6e9IhqeFgOPvD7oTg8qqovyQBP2KkYfyHdbk8bzK6Hi/kh/Kq3ePGILvaNU0T97rTvLJeMR/lblABnr3eIuN8fcYtUAgi8keU9vCOPGPk+0JuXFHhDTuHOmcdHJ/DxaosFJglMCSwkMuq5wyE8DrsHkVpFFhLw26o6SBSoEH19KMwi/KmBAtUkQXvVCPitSNxEH9IS8WeXWktHotvgHMT9buZ+i8UQiBuRuK3qFdtciLi/jdzniEDdO+YhTRH+cI7N3pZEJG6F8kYzq5hfGirgDeYgnxjJ/FRF4BBiDfQZzXqtCeUNkbwl5WQnwFEPaoIo0MmSpCKKzD2OUKfMJKVI3iLyJt+d7qBT4fWWS8IKhTXCSt0vnh9+3iTytkh3tZ5SqsAn+otF+HEfH8inlCollpTcvE3WDS4JLpODdLa7RaWs6zYHEQeR6xqJCHh1g6xbXLscaUrpfNpp6W903s1zLVLsukXXTa5x41ZUGSKlNl23ecaNe67YdZvRNwiY5l8nsDjpHy5D7L6B2bfQdiXSdG+px2bxiLpeoSN1vUTMvkWob0rzOcpq8qjtJzR/qEdmeRWpb2WisP19k1jf1twPKJNykANIDhtBSkq/ao3Zt3H7RoYok/JSRTR+il3Dy4OU35h9o0DfytDbSJPJ3lXsDEU+RiW2LK/5RRvsvjWIvrkuV1KjnXXGG26DLhiOVg+7by6hvn22IfpbQLRvL6l9Q6LqqqlEcN8Q8n1LCPdNETuwbwr5vi3U+8aQ71tDvW/+H+7bQ/5/AwM=",Si="/assets/weeth-Dk-qEu8x.webp",Li="data:image/svg+xml,%3csvg%20width='48'%20height='49'%20viewBox='0%200%2048%2049'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M48%2024.4997C48%2037.755%2037.2548%2048.5005%2024%2048.5005C10.7452%2048.5005%200%2037.755%200%2024.4997C0%2011.2445%2010.7452%200.499023%2024%200.499023C37.2548%200.499023%2048%2011.2445%2048%2024.4997Z'%20fill='white'/%3e%3cpath%20d='M24.4971%208L24.2785%208.74339L24.2785%2030.3129L24.4971%2030.5312L34.4939%2024.613L24.4971%208Z'%20fill='%236B6B6B'/%3e%3cpath%20d='M24.4971%208L14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L24.4971%208Z'%20fill='%23A2A2A2'/%3e%3cpath%20d='M24.4971%2032.4269L24.3739%2032.5773L24.3739%2040.2607L24.4971%2040.6207L34.5%2026.5117L24.4971%2032.4269Z'%20fill='%234F4E4E'/%3e%3cpath%20d='M24.4971%2040.6207L24.4971%2032.4269L14.5%2026.5117L24.4971%2040.6207Z'%20fill='%23A2A2A2'/%3e%3cpath%20d='M24.4971%2030.5312L34.4939%2024.613L24.4971%2020.062L24.4971%2030.5312Z'%20fill='%23797979'/%3e%3cpath%20d='M14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L14.5%2024.613Z'%20fill='%23D4D4D4'/%3e%3cg%20style='mix-blend-mode:overlay'%3e%3cpath%20d='M24.4971%208L24.2785%208.74339L24.2785%2030.3129L24.4971%2030.5312L34.4939%2024.613L24.4971%208Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%208L14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L24.4971%208Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2032.4269L24.3739%2032.5773L24.3739%2040.2607L24.4971%2040.6207L34.5%2026.5117L24.4971%2032.4269Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2040.6207L24.4971%2032.4269L14.5%2026.5117L24.4971%2040.6207Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2030.5312L34.4939%2024.613L24.4971%2020.062L24.4971%2030.5312Z'%20fill='%23ACE730'/%3e%3cpath%20d='M14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L14.5%2024.613Z'%20fill='%23ACE730'/%3e%3c/g%3e%3c/svg%3e",Ti="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='36'%20height='36'%20rx='18'%20fill='%23BBE7E8'/%3e%3cpath%20d='M18%2030C24.6274%2030%2030%2024.6274%2030%2018C30%2011.3726%2024.6274%206%2018%206C11.3726%206%206%2011.3726%206%2018C6%2024.6274%2011.3726%2030%2018%2030Z'%20fill='%23075A5A'/%3e%3cg%20style='mix-blend-mode:screen'%20opacity='0.3'%3e%3cpath%20opacity='0.8'%20d='M17.9688%207.5V15.4406L24.6802%2018.4398L17.9688%207.5Z'%20fill='white'/%3e%3cpath%20d='M17.9626%207.5L11.25%2018.4398L17.9626%2015.4406V7.5Z'%20fill='white'/%3e%3cpath%20opacity='0.8'%20d='M17.9688%2023.5838V28.9795L24.6849%2019.6875L17.9688%2023.5838Z'%20fill='white'/%3e%3cpath%20d='M17.9626%2028.9795V23.583L11.25%2019.6875L17.9626%2028.9795Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2022.3396L24.6802%2018.4425L17.9688%2015.4453V22.3396Z'%20fill='white'/%3e%3cpath%20d='M11.25%2018.4425L17.9626%2022.3396V15.4453L11.25%2018.4425Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/g%3e%3cg%20style='mix-blend-mode:screen'%20opacity='0.3'%3e%3cpath%20opacity='0.8'%20d='M17.9688%207.89844V15.2584L24.1894%2018.0382L17.9688%207.89844Z'%20fill='white'/%3e%3cpath%20d='M17.9639%207.89844L11.7422%2018.0382L17.9639%2015.2584V7.89844Z'%20fill='white'/%3e%3cpath%20opacity='0.8'%20d='M17.9688%2023.9461V28.4046L23.5184%2020.7266L17.9688%2023.9461Z'%20fill='white'/%3e%3cpath%20d='M17.9686%2028.4046V23.9455L12.4219%2020.7266L17.9686%2028.4046Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2022.0815L24.1894%2018.4694L17.9688%2015.6914V22.0815Z'%20fill='white'/%3e%3cpath%20d='M11.7422%2018.4694L17.9639%2022.0815V15.6914L11.7422%2018.4694Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/g%3e%3cpath%20d='M17.9688%209.85547V16.0539L23.2077%2018.3951L17.9688%209.85547Z'%20fill='%23C1DCDC'/%3e%3cpath%20d='M17.9664%209.85547L12.7266%2018.3951L17.9664%2016.0539V9.85547Z'%20fill='white'/%3e%3cpath%20d='M17.9688%2022.4126V26.6244L23.2114%2019.3711L17.9688%2022.4126Z'%20fill='%23C1DCDC'/%3e%3cpath%20d='M17.9664%2026.6244V22.4119L12.7266%2019.3711L17.9664%2026.6244Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2021.4364L23.2077%2018.3943L17.9688%2016.0547V21.4364Z'%20fill='white'/%3e%3cpath%20d='M12.7266%2018.3943L17.9664%2021.4364V16.0547L12.7266%2018.3943Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/svg%3e";function Ai(t){return{cbETH:wi,wstETH:$i,rETH:Ci,sfrxETH:ki,weETH:Si,ezETH:Li,rsETH:Ti}[t]}const xi=["0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db","0x63cc74334f4b1119276667cf0079ac0c8a96cfb2","0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6","0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f","0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0","0xe0e255fd5281bec3bb8fa1569a20097d9064e445","0xc2545c68a71f6803264bde885870fd72d361fb9e","0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483"],Pi=["0x1691308554c0a5a37c87e947677a4d31b9c97da9","0xf1c45c7b1f798302d29390d90d4dac38137352b1","0x1ad10ee3284297afcf2f6a41f935300cbebcf70d","0x585d78a00d1be2e95f75b20935d4b8d3c36efef1","0x335849a1c359e83dca508101bd394a9d12e176b9","0xdb3080920ee1df720411e12c16ec3866a8c2f5c6"];function Ii(t){switch(t){case"0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db":case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH";case"0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6":case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH";case"0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0":case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH";case"0xc2545c68a71f6803264bde885870fd72d361fb9e":case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH";case"0x1691308554c0a5a37c87e947677a4d31b9c97da9":case"0xf1c45c7b1f798302d29390d90d4dac38137352b1":return"weETH";case"0x1ad10ee3284297afcf2f6a41f935300cbebcf70d":case"0x585d78a00d1be2e95f75b20935d4b8d3c36efef1":return"ezETH";case"0x335849a1c359e83dca508101bd394a9d12e176b9":case"0xdb3080920ee1df720411e12c16ec3866a8c2f5c6":return"rsETH";default:return null}}function Ve(t){const e=Ii(t);return Ai(e)}function Pe(t){switch(t){case"0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db":return"cbETH";case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH (deprecated)";case"0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6":return"wstETH";case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH (deprecated)";case"0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0":return"rETH";case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH (deprecated)";case"0xc2545c68a71f6803264bde885870fd72d361fb9e":return"sfrxETH";case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH (deprecated)";case"0x1691308554c0a5a37c87e947677a4d31b9c97da9":return"weETH";case"0xf1c45c7b1f798302d29390d90d4dac38137352b1":return"weETH (deprecated)";case"0x1ad10ee3284297afcf2f6a41f935300cbebcf70d":return"ezETH";case"0x585d78a00d1be2e95f75b20935d4b8d3c36efef1":return"ezETH (deprecated)";case"0x335849a1c359e83dca508101bd394a9d12e176b9":return"rsETH";case"0xdb3080920ee1df720411e12c16ec3866a8c2f5c6":return"rsETH (deprecated)";default:return null}}function Ae(t){return["0x63cc74334f4b1119276667cf0079ac0c8a96cfb2","0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f","0xe0e255fd5281bec3bb8fa1569a20097d9064e445","0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483","0xf1c45c7b1f798302d29390d90d4dac38137352b1","0x585d78a00d1be2e95f75b20935d4b8d3c36efef1","0xdb3080920ee1df720411e12c16ec3866a8c2f5c6"].includes(t)}function Bt(t){return t instanceof Error?t.message.includes("Exchange resulted in fewer coins than expected")||t.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":t.message.includes("HTTP request failed")&&t.message.includes("eth_call")?"The RPC returned an error, probably a rate-limit. Try again layer or try a different wallet.":t.message:JSON.stringify(t)}async function Di(t){try{return await t()}catch(e){Re({text:Bt(e),type:"error"});return}}async function la(t,e){t.value=!0;try{return await e()}catch(a){Re({text:Bt(a),type:"error"});return}finally{t.value=!1}}function me(t,e){const a=q(e),n=t.subscribe({next:l=>{a.value=l},error:l=>{Re({text:Bt(l),type:"error"})}});return It(()=>{n.unsubscribe()}),a}const Vi=["src"],qi={class:"end"},Mi={class:"end"},Ri={class:"end"},Io=A({__name:"TableVaults",emits:["selected"],setup(t,{emit:e}){const{t:a}=F(),n=e,l=E(),c=we().getSocket(Fe(l.flavor)),u=new Ee(c,"ethereum"),r=q(""),d=me(u.overview$,[]),p=w(()=>d.value.filter(i=>{const m=r.value.toLocaleLowerCase().split(" "),y=h=>m.some(C=>h.toLocaleLowerCase().includes(C));return y(i.name)||y(i.address)}).orderBy(i=>i.debt,"desc")),s=w(()=>d.value.length===0);return(i,m)=>{const y=de,h=ee,C=ne,k=B;return f(),L(k,{class:"vaults-card",title:o(a)("title"),loading:o(s)},{actions:g(()=>[v(y,{modelValue:o(r),"onUpdate:modelValue":m[0]||(m[0]=b=>re(r)?r.value=b:null),search:!0,placeholder:o(a)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:g(()=>[v(C,{class:"vaults-table",rows:o(p),columns:["","Name",{label:"TVL",align:"end"},{label:"Debt",align:"end"},{label:"CR",align:"end"},{label:"MCR",align:"end"},{label:"Troves",align:"end"},{label:"Price",align:"end"}],onSelected:m[1]||(m[1]=b=>n("selected",b))},{row:g(({item:b})=>[_("img",{src:o(Ve)(b.address)},null,8,Vi),_("div",{class:U({deprecated:o(Ae)(b.address)})},x(o(Pe)(b.address)??b.name),3),_("div",{class:U(["end",{deprecated:o(Ae)(b.address)}])},[v(h,{value:b.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])],2),_("div",{class:U(["end",{deprecated:o(Ae)(b.address)}])},[v(h,{value:b.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])],2),_("div",{class:U(["end",{deprecated:o(Ae)(b.address)}])},[v(h,{value:b.cr*100,precision:2,type:"percentage"},null,8,["value"])],2),_("div",{class:U(["end",{deprecated:o(Ae)(b.address)}])},[v(h,{value:b.mcr*100,precision:2,type:"percentage"},null,8,["value"])],2),_("div",{class:U(["end",{deprecated:o(Ae)(b.address)}])},x(b.open_troves),3),_("div",{class:U(["end",{deprecated:o(Ae)(b.address)}])},[v(h,{type:"dollar",value:Math.round(b.price),precision:1/0},null,8,["value"])],2)]),"row-aggregation":g(()=>[m[2]||(m[2]=_("div",null,null,-1)),m[3]||(m[3]=_("div",null,null,-1)),_("div",qi,[v(h,{value:o(p).reduce((b,$)=>b+$.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_("div",Mi,[v(h,{value:o(p).reduce((b,$)=>b+$.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),m[4]||(m[4]=_("div",null,null,-1)),m[5]||(m[5]=_("div",null,null,-1)),_("div",Ri,[v(h,{value:o(p).reduce((b,$)=>b+$.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),m[6]||(m[6]=_("div",null,null,-1))]),"row-details":g(()=>m[7]||(m[7]=[M("   ")])),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function ra(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Vaults"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof ra=="function"&&ra(Io);const Fi=P(Io,[["__scopeId","data-v-07f838d9"]]),ft=ze("vaultStore",()=>{const t=q(null),e=q(null);return{vault:t,trove:e}}),Bi={class:"dashboard"},Ui=A({__name:"Vaults.page",setup(t){const e=Ye(),a=ft(),n=Me();be(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const l=async c=>{a.vault=c,await n.push({name:"prismavault",params:{tab:"",vaultAddr:c.address}})};return(c,u)=>(f(),T("div",Bi,[v(Fi,{style:{"grid-column":"1 / -1"},onSelected:l}),v(Ao),v(li),v(ii),v(To)]))}}),Ei=P(Ui,[["__scopeId","data-v-6e776469"]]),Oi={ref:"chartRef",class:"chart"},Do=A({__name:"ChartPoolTvl",setup(t){const{t:e}=F(),{theme:a,flavor:n}=X(E()),l=new Be(n.value),{isFetching:c,data:u}=W({queryKey:["prisma-stable-pool-tvl"],queryFn:()=>l.getPoolTvl("ethereum","1m").then(s=>s.deposits),initialData:[],initialDataUpdatedAt:0}),{chart:r,series:d}=ce({createChartOptions:ie({localization:{priceFormatter:s=>`$${H(s,1,"dollar")}${J(s)}`}}),series:{type:"Area",name:"tvl",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:le.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...a.value.lineChartColors}))}});ue(p);function p(){if(!r.value||!d.tvl)return;const s=u.value.map(i=>({time:i.timestamp,value:i.value})).uniqWith((i,m)=>i.time===m.time).orderBy(i=>i.time,"asc");s.length>0&&d.tvl.setData(s),r.value.timeScale().fitContent()}return(s,i)=>{const m=B;return f(),L(m,{title:o(e)("title"),loading:o(c)},{default:g(()=>[_("div",Oi,null,512)]),_:1},8,["title","loading"])}}});function ia(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total deposits in stability pool"}}}})}typeof ia=="function"&&ia(Do);const Vo=A({__name:"ChartStableFlow",setup(t){const{t:e}=F(),a=ge(),{flavor:n}=X(E()),l=new Be(n.value),{isFetching:c,data:u}=W({queryKey:["prisma-stable-flow"],queryFn:()=>l.getStableFlow("ethereum","1m"),initialData:{deposits:[],withdrawals:[]},initialDataUpdatedAt:0}),r=w(()=>{const{colors:m}=a.value;return ae({chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[m.green,m.red],xaxis:{categories:d.value,labels:{formatter:s,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:i}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:y,dataPointIndex:h,w:C})=>{let k=0;const b=y.map(($,S)=>{const I=$[h];return k+=I,`<div><b>${C.globals.seriesNames[S]}</b>:	${i(I)}</div>`});return b.push(`<div><b>Total</b>:	${i(k)}</div>`),b.join("")}}})}),d=w(()=>u.value.deposits.length===0?[]:u.value.deposits.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),p=w(()=>[{name:e("deposits"),data:Object.values(u.value.deposits).map(m=>m.value)},{name:e("withdrawals"),data:Object.values(u.value.withdrawals).map(m=>m.value)}]),s=m=>m,i=m=>`$${H(m,0,"dollar")}${J(m)}`;return(m,y)=>{const h=te,C=B;return f(),L(C,{title:o(e)("title",{stable:o(_t)(o(n))}),loading:o(c)},{default:g(()=>[v(h,{options:o(r),series:o(p)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function ca(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:4,k:"stable"},{t:3,v:" deposits and withdrawals"}]}},deposits:{t:0,b:{t:2,i:[{t:3}],s:"Deposits"}},withdrawals:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawals"}}}})}typeof ca=="function"&&ca(Vo);const Wi=P(Vo,[["__scopeId","data-v-f194747d"]]),qo=A({__name:"ChartDepositDistribution",setup(t){const{t:e}=F(),{flavor:a}=X(E()),n=new Be(a.value),{isFetching:l,data:c}=W({queryKey:["prisma-stable-distribution"],queryFn:()=>n.getStableDistribution("ethereum").then(p=>p.distribution),initialData:[],initialDataUpdatedAt:0}),u=w(()=>ae({chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:d.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),r=w(()=>[{name:e("numPos"),data:Object.values(c.value).map(p=>p.value)}]),d=w(()=>c.value.map(p=>p.label));return(p,s)=>{const i=te,m=B;return f(),L(m,{title:o(e)("title"),loading:o(l)},{default:g(()=>[v(i,{options:o(u),series:o(r)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function ua(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distribution of current user deposits"}},numPos:{t:0,b:{t:2,i:[{t:3}],s:"# of positions"}}}})}typeof ua=="function"&&ua(qo);const Ki=P(qo,[["__scopeId","data-v-cb417e55"]]),Ni={ref:"chartRef",class:"chart"},Mo=A({__name:"ChartCumulativeWithdrawals",setup(t){const{t:e}=F(),{theme:a,flavor:n}=X(E()),l=new Be(n.value),{isFetching:c,data:u}=W({queryKey:["prisma-cum-withdrawals"],queryFn:()=>l.getCumulativeWithdrawals("ethereum","all").then(s=>s.withdrawals),initialData:[],initialDataUpdatedAt:0}),{chart:r,series:d}=ce({createChartOptions:ie({localization:{priceFormatter:s=>`$${H(s,1,"dollar")}${J(s)}`}}),series:{type:"Area",name:"withdrawals",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:le.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...a.value.lineChartColors}))}});ue(p);function p(){if(!r.value||!d.withdrawals)return;const s=u.value.map(i=>({time:i.timestamp,value:i.value})).uniqWith((i,m)=>i.time===m.time).orderBy(i=>i.time,"asc");s.length>0&&d.withdrawals.setData(s),r.value.timeScale().fitContent()}return(s,i)=>{const m=B;return f(),L(m,{title:o(e)("title"),loading:o(c)},{default:g(()=>[_("div",Ni,null,512)]),_:1},8,["title","loading"])}}});function da(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Cumulative value of collaterals withdrawn"}}}})}typeof da=="function"&&da(Mo);const Hi={class:"address font-mono"},Gi=["href"],ji={class:"end"},Zi={class:"end"},zi={class:"address end font-mono"},Yi=["href"],Ro=A({__name:"TableTopDeposits",setup(t){const{t:e}=F(),a=E(),n=new Be(a.flavor),{isFetching:l,data:c}=W({queryKey:["prisma-stable-top-deposits"],queryFn:()=>n.getTopStableDeposits("ethereum",5,"7d").then(r=>r.operations),initialData:[],initialDataUpdatedAt:0}),u=w(()=>c.value.map(r=>r));return(r,d)=>{const p=ee,s=ne,i=B;return f(),L(i,{title:o(e)("title"),loading:o(l)},{default:g(()=>[v(s,{class:"deposits-table",rows:o(u),columns:["Address",{label:"Amount",align:"end"},{label:"Date",align:"end"},{label:"Tx",align:"end"}]},{row:g(({item:m})=>[_("div",Hi,[_("a",{href:`https://etherscan.io/address/${m.user}`,target:"_blank"},x(o(N)(m.user,8)),9,Gi)]),_("div",ji,[v(p,{value:m.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),_("div",Zi,x(new Date(m.timestamp*1e3).toLocaleDateString()),1),_("div",zi,[_("a",{href:`https://etherscan.io/tx/${m.hash}`,target:"_blank"},x(o(N)(m.hash,8)),9,Yi)])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function pa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest deposits past 7 days"}}}})}typeof pa=="function"&&pa(Ro);const Qi=P(Ro,[["__scopeId","data-v-1ac74cce"]]),Ji={class:"address font-mono"},Xi=["href"],ec={class:"end"},tc={class:"end"},ac={class:"address end font-mono"},oc=["href"],Fo=A({__name:"TableTopWithdrawals",setup(t){const{t:e}=F(),a=E(),n=new Be(a.flavor),l=w(()=>u.value.map(r=>r)),{isFetching:c,data:u}=W({queryKey:["prisma-stable-top-withdrawals"],queryFn:()=>n.getTopStableWithdrawals("ethereum",5,"7d").then(r=>r.operations),initialData:[],initialDataUpdatedAt:0});return(r,d)=>{const p=ee,s=ne,i=B;return f(),L(i,{title:o(e)("title"),loading:o(c)},{default:g(()=>[v(s,{class:"withdrawals-table",rows:o(l),columns:["Address",{label:"Amount",align:"end"},{label:"Date",align:"end"},{label:"Tx",align:"end"}]},{row:g(({item:m})=>[_("div",Ji,[_("a",{href:`https://etherscan.io/address/${m.user}`,target:"_blank"},x(o(N)(m.user,8)),9,Xi)]),_("div",ec,[v(p,{value:m.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),_("div",tc,x(new Date(m.timestamp*1e3).toLocaleDateString()),1),_("div",ac,[_("a",{href:`https://etherscan.io/tx/${m.hash}`,target:"_blank"},x(o(N)(m.hash,8)),9,oc)])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function ma(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest withdrawals past 7 days"}}}})}typeof ma=="function"&&ma(Fo);const nc=P(Fo,[["__scopeId","data-v-b1821910"]]),sc={class:"dashboard"},lc=A({__name:"StabilityPool.page",setup(t){return(e,a)=>(f(),T("div",sc,[v(Do),v(Wi),v(Ki),v(Mo),v(Qi),v(nc)]))}}),rc=P(lc,[["__scopeId","data-v-aff978ff"]]),ic={key:0,class:"value"},cc={key:1,class:"value"},uc=["innerHTML"],dc={key:0,class:"value"},pc={key:1,class:"value"},mc=["innerHTML"],vc={class:"labels"},_c={class:"label"},fc={class:"label-second"},hc=A({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(t){return(e,a)=>{const n=Xe;return f(),T("div",{class:U(["kpi",{disabled:!e.hasValue}])},[_("div",{class:U(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[Z(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(f(),L(n,{key:0},{trigger:g(()=>[e.hasValue?(f(),T("span",ic,x(e.value),1)):(f(),T("span",cc," ? "))]),default:g(()=>[Z(e.$slots,"tooltip",{},()=>[_("span",{innerHTML:e.tooltip},null,8,uc)],!0)]),_:3})):(f(),T(z,{key:1},[e.hasValue?(f(),T("span",dc,x(e.value),1)):(f(),T("span",pc," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(f(),L(n,{key:0},{default:g(()=>[_("span",{innerHTML:e.tooltip},null,8,mc)]),_:1})):D("",!0)],2),_("div",vc,[Z(e.$slots,"label",{},()=>[_("div",_c,x(e.label),1)],!0),Z(e.$slots,"label-second",{},()=>[_("div",fc,x(e.labelSecond),1)],!0)])],2)}}}),$e=P(hc,[["__scopeId","data-v-c4934141"]]),bc={class:"kpis"},gc=A({__name:"KPIs",setup(t){const e=E(),a=new tt(e.flavor),{data:n}=W({queryKey:["prisma-stable-kpi"],queryFn:()=>a.getStableCoinKPI("ethereum").then(l=>l.info)});return(l,c)=>{const u=ee,r=$e;return f(),T("div",bc,[v(r,{label:`${o(_t)(o(e).flavor)} price`,"has-value":!!o(n)},{default:g(()=>[o(n)?(f(),L(u,{key:0,value:o(n).price,precision:4,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["label","has-value"]),v(r,{label:"Total supply","has-value":!!o(n)},{default:g(()=>[o(n)?(f(),L(u,{key:0,value:o(n).supply,precision:2,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),v(r,{label:"24h Volume (Curve)","has-value":!!o(n)},{default:g(()=>[o(n)?(f(),L(u,{key:0,value:o(n).volume,precision:1,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),v(r,{label:"Aggregate -2% Depth (Curve)","has-value":!!o(n)},{default:g(()=>[o(n)?(f(),L(u,{key:0,value:o(n).depth,precision:1,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"])])}}}),yc=P(gc,[["__scopeId","data-v-73801277"]]),wc={ref:"chartRef",class:"chart"},Bo=A({__name:"ChartPrice",setup(t){const{t:e}=F(),a=ge(),{flavor:n}=X(E()),l=()=>{switch(n.value){case"lsd":return"0xF980B4A4194694913Af231De69AB4593f5E0fCDc";case"lrt":return"0xC03FEF1c425956A3Cd5762022E511e0d4148B3D6"}},c=()=>{switch(n.value){case"lsd":return"0x4591DBfF62656E7859Afe5e45f6f47D3669fBB28";case"lrt":return"0x35282d87011f87508D457F08252Bc5bFa52E10A0"}},u=()=>{const C=Math.floor(new Date().getTime()/1e3),k=14400,b=C-k*200,$="0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",S=l(),I=c();return{pool:S,chain:"ethereum",main_token:$,reference_token:I,interval:k,start:b,end:C}},r=we().getSocket("prices"),d=new pt(r,"ethereum",u()),p=me(d.ohlc$,[]),s=w(()=>p.value.length===0),i=w(()=>{switch(n.value){case"lsd":return"Price is in USDC from Curve mkUSD/USDC pool";case"lrt":return"Price is in USDC from Curve ULTRA/USDC pool";default:return"???"}}),{chart:m,series:y}=ce({createChartOptions:ie({localization:{priceFormatter:C=>`$${H(C,1,"dollar")}${J(C)}`}}),series:{type:"Candlestick",name:"price",options:w(()=>{const{colors:C}=a.value;return{priceFormat:{type:"price",precision:6,minMove:.01},upColor:C.green,borderUpColor:C.green,wickUpColor:C.green,downColor:C.red,borderDownColor:C.red,wickDownColor:C.red,lastValueVisible:!0,priceLineVisible:!1}})}});ue(h);function h(){if(!m.value||!y.price)return;const C=p.value.map(k=>({time:k.time,open:k.open,high:k.high,low:k.low,close:k.close})).uniqWith((k,b)=>k.time===b.time).orderBy(k=>k.time,"asc");C.length>0&&y.price.setData(C),m.value.timeScale().fitContent()}return(C,k)=>{const b=Xe,$=B;return f(),L($,{title:o(e)("title",{stable:o(_t)(o(n))}),loading:o(s)},{actions:g(()=>[v(b,null,{default:g(()=>[_("div",null,x(o(i)),1)]),_:1})]),default:g(()=>[_("div",wc,null,512)]),_:1},8,["title","loading"])}}});function va(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:4,k:"stable"},{t:3,v:" price (last 30 days)"}]}}}})}typeof va=="function"&&va(Bo);const Uo=A({__name:"ChartPriceDistribution",setup(t){const{t:e}=F(),{flavor:a}=X(E()),n=new tt(a.value),{isFetching:l,data:c}=W({queryKey:["prisma-stable-price-distribution"],queryFn:()=>n.getPriceHistogram("ethereum",10,"all").then(s=>s.histogram),initialData:[],initialDataUpdatedAt:0}),u=w(()=>ae({chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:d.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),r=w(()=>[{name:e("numPos"),data:Object.values(c.value).map(s=>s.value)}]),d=w(()=>c.value.map(s=>p(s.label))),p=s=>{const i=/-?\d+(\.\d+)?/g,m=y=>parseFloat(y).toFixed(4);return s.replace(i,y=>m(y))};return(s,i)=>{const m=te,y=B;return f(),L(y,{title:o(e)("title"),loading:o(l)},{default:g(()=>[v(m,{options:o(u),series:o(r)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function _a(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price histogram"}},numPos:{t:0,b:{t:2,i:[{t:3}],s:"# of hourly price records"}}}})}typeof _a=="function"&&_a(Uo);const $c=P(Uo,[["__scopeId","data-v-1a695631"]]),Cc={ref:"chartRef",class:"chart"},Eo=A({__name:"ChartSupply",setup(t){const{t:e}=F(),{theme:a,flavor:n}=X(E()),l=new tt(n.value),{isFetching:c,data:u}=W({queryKey:["prisma-stable-supply"],queryFn:()=>l.getSupplyHistory("ethereum").then(s=>s.supply),initialData:[],initialDataUpdatedAt:0}),{chart:r,series:d}=ce({createChartOptions:ie({localization:{priceFormatter:s=>`$${H(s,1,"dollar")}${J(s)}`}}),series:{type:"Area",name:"supply",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:le.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...a.value.lineChartColors}))}});ue(p);function p(){if(!r.value||!d.supply)return;const s=u.value.map(i=>({time:i.timestamp,value:i.value})).uniqWith((i,m)=>i.time===m.time).orderBy(i=>i.time,"asc");s.length>0&&d.supply.setData(s),r.value.timeScale().fitContent()}return(s,i)=>{const m=B;return f(),L(m,{title:o(e)("title"),loading:o(c)},{default:g(()=>[_("div",Cc,null,512)]),_:1},8,["title","loading"])}}});function fa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Supply"}}}})}typeof fa=="function"&&fa(Eo);const Oo=A({__name:"ChartHolders",setup(t){const{t:e}=F(),{flavor:a}=X(E()),n=new tt(a.value),{isFetching:l,data:c}=W({queryKey:["prisma-stable-holders"],queryFn:()=>n.getLargeStableCoinHolders("ethereum").then(s=>s.holders),initialData:[],initialDataUpdatedAt:0}),u=w(()=>ae({chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:s=>{let i=d.value[s.seriesIndex];i=i.length>10&&i.startsWith("0x")?N(i):i;const m=s.series[s.seriesIndex];return[`<div><b>${i}</b>:</div><div>${p(m)}</div>`].join("")}},labels:c.value.map(s=>s.label.length>10&&s.label.startsWith("0x")?N(s.label):s.label)})),r=w(()=>c.value.map(s=>s.value)),d=w(()=>c.value.map(s=>s.label)),p=s=>`$${H(Math.abs(s),1,"dollar")}${J(s)}`;return(s,i)=>{const m=te,y=B;return f(),L(y,{title:o(e)("title"),loading:o(l)},{default:g(()=>[v(m,{options:o(u),series:o(r)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function ha(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest holders"}}}})}typeof ha=="function"&&ha(Oo);const kc=P(Oo,[["__scopeId","data-v-582caf2b"]]),Wo=A({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(t){const{t:e}=F(),a=ge(),n=w(()=>{const{colors:r}=a.value;return ae({chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:d=>u(d)}},yaxis:{seriesName:"amounts",labels:{formatter:d=>u(d)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:d=>u(d)}},colors:[d=>d.value===0?r.blue:r.green,d=>d.value===0?r.blue:r.red]})}),l=w(()=>{if(!t.depth)return[];const r=[...t.depth.ask.prices.map(p=>({x:p,y:0})),...t.depth.bid.prices.map((p,s)=>({x:p,y:t.depth.bid.amounts[s]}))],d=[...t.depth.ask.prices.map((p,s)=>({x:p,y:t.depth.ask.amounts[s]}))];return[{name:"Bid",data:r},{name:"Ask",data:d}]}),c=w(()=>{var d;if(!((d=t.depth)!=null&&d.tokens)||t.depth.tokens.length===0)return e("title");const r=t.depth.tokens.join(" / ");return`${e("title")} - ${r} (Curve)`}),u=r=>`$${H(Math.abs(r),2,"dollar")}${J(r)}`;return(r,d)=>{const p=te,s=B;return f(),L(s,{title:o(c),loading:r.loading},{default:g(()=>[v(p,{options:o(n),series:o(l)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function ba(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidity Depth"}}}})}typeof ba=="function"&&ba(Wo);const Sc=P(Wo,[["__scopeId","data-v-ac5e5df7"]]),Lc=A({__name:"ChartDepthContainer",setup(t){const e=E(),a=new tt(e.flavor),{isFetching:n,data:l}=W({queryKey:["prisma-stable-pool-depth"],queryFn:()=>a.getCurvePoolDepth("ethereum").then(c=>c.depth),initialData:[],initialDataUpdatedAt:0});return(c,u)=>(f(!0),T(z,null,se(o(l),r=>(f(),L(Sc,{key:r.name,loading:o(n),depth:r},null,8,["loading","depth"]))),128))}}),Tc={class:"dashboard"},Ac=A({__name:"Stablecoin.page",setup(t){return(e,a)=>(f(),T("div",Tc,[v(yc,{style:{"grid-column":"1 / -1"}}),v(Bo),v($c),v(Eo),v(kc),v(Lc)]))}}),xc=P(Ac,[["__scopeId","data-v-ca77ea76"]]),Pc={key:0},Ic={key:0},Dc={key:1},Vc=A({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(t,{emit:e}){const a=e,n=w(()=>Math.ceil(t.itemsCount/t.itemsPerPage)),l=w(()=>{const i=[...Array(12).keys()].map(b=>b-6+t.page).filter(b=>b>=1&&b<=n.value),m=i.findIndex(b=>b===t.page),y=[],h=[],C=t.page!==1&&t.page!==n.value?[t.page]:[];let k=1;for(;;){const b=i[m-k];if(b&&b!==1&&y.unshift(b),y.length+h.length+C.length>=5||k>i.length)break;const $=i[m+k];if($&&$!==n.value&&h.push($),k++,y.length+h.length+C.length>=5||k>i.length)break}return[...y,...C,...h]});j(l,()=>{const p=c(t.page,1,n.value);t.page!==p&&a("page",p)});const c=(p,s,i)=>(i<s&&(i=s),Math.min(Math.max(p,s),i)),u=()=>{a("page",c(t.page-1,1,n.value))},r=()=>{a("page",c(t.page+1,1,n.value))},d=p=>{a("page",c(p,1,n.value))};return(p,s)=>{const i=De,m=ds,y=Tt;return o(n)>1?(f(),T("ul",Pc,[_("li",{class:U({active:p.page===1})},[v(i,{onClick:s[0]||(s[0]=h=>d(1))},{default:g(()=>s[2]||(s[2]=[M("1")])),_:1})],2),o(n)>2?(f(),T("li",Ic,[v(i,{onClick:u},{default:g(()=>[v(m)]),_:1})])):D("",!0),(f(!0),T(z,null,se(o(l),h=>(f(),T("li",{key:h,class:U({active:h===p.page})},[v(i,{onClick:C=>d(h)},{default:g(()=>[M(x(h),1)]),_:2},1032,["onClick"])],2))),128)),o(n)>2?(f(),T("li",Dc,[v(i,{onClick:r},{default:g(()=>[v(y)]),_:1})])):D("",!0),o(n)>1?(f(),T("li",{key:2,class:U({active:p.page===o(n)})},[v(i,{onClick:s[1]||(s[1]=h=>d(o(n)))},{default:g(()=>[M(x(o(n)),1)]),_:1})],2)):D("",!0)])):D("",!0)}}}),_e=P(Vc,[["__scopeId","data-v-9e9b78a2"]]),qc={class:"redemption-details"},Mc={class:"kpis"},Rc=["href"],Ko=A({__name:"RedemptionDetails",props:{vaultAddr:{},redemption:{}},setup(t){const{t:e}=F(),a=q(""),n=w(()=>t.redemption.troves_affected.filter(l=>{const c=a.value.toLocaleLowerCase().split(" ");return(r=>c.some(d=>r.toLocaleLowerCase().includes(d)))(l)}));return(l,c)=>{const u=ee,r=$e,d=de,p=ne,s=B;return f(),L(s,{title:o(e)("redemption-details")},{default:g(()=>[_("div",qc,[_("div",Mc,[v(r,{label:o(e)("withdrawal")},{default:g(()=>[v(u,{value:l.redemption.attempted_debt_amount,precision:2,type:"dollar"},null,8,["value"]),c[2]||(c[2]=M(" / ")),v(u,{value:l.redemption.collateral_sent_to_redeemer_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),v(r,{label:o(e)("fee")},{default:g(()=>[v(u,{value:l.redemption.collateral_fee_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),v(s,{title:o(e)("troves-affected"),compact:!0},{actions:g(()=>[v(d,{modelValue:o(a),"onUpdate:modelValue":c[0]||(c[0]=i=>re(a)?a.value=i:null),search:!0,placeholder:o(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:g(()=>[v(p,{class:"troves-affected-table",rows:o(n),columns:["Trove"]},{row:g(({item:i})=>[_("div",null,[_("a",{class:"font-mono",target:"_blank",href:`#/vault/${l.vaultAddr}/trove/${i}`,onClick:c[1]||(c[1]=Y(()=>{},["stop"]))},x(i),9,Rc)])]),_:1},8,["rows"])]),_:1},8,["title"])])]),_:1},8,["title"])}}});function ga(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":{t:0,b:{t:2,i:[{t:3}],s:"Troves affected"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"redemption-details":{t:0,b:{t:2,i:[{t:3}],s:"Redemption Details"}},withdrawal:{t:0,b:{t:2,i:[{t:3}],s:"Attempted / Received"}},fee:{t:0,b:{t:2,i:[{t:3}],s:"Fee"}}}})}typeof ga=="function"&&ga(Ko);const Ut=P(Ko,[["__scopeId","data-v-cf49e2ce"]]),Fc={class:"item"},Bc=["src"],Uc={key:1,class:"empty"},Ec={class:"label"},Oc=A({__name:"SelectVault",props:{vault:{},all:{type:Boolean,default:!1}},emits:["select-vault"],setup(t,{emit:e}){const a=e,n=E(),l=[...t.all?["all"]:[],...n.flavor==="lsd"?xi:Pi];be(()=>{c(l[0])});const c=u=>{a("select-vault",u)};return(u,r)=>{const d=$o;return f(),L(d,{options:l,selected:u.vault,onInput:c},{item:g(({item:p})=>[_("div",Fc,[p!=="all"?(f(),T("img",{key:0,src:o(Ve)(p)},null,8,Bc)):(f(),T("div",Uc)),_("div",Ec,x(p==="all"?"All":o(Pe)(p)),1)])]),_:1},8,["selected"])}}}),ht=P(Oc,[["__scopeId","data-v-2a56535c"]]),Wc=[{unit:"year",seconds:365*24*60*60},{unit:"month",seconds:30*24*60*60},{unit:"week",seconds:7*24*60*60},{unit:"day",seconds:24*60*60},{unit:"hour",seconds:60*60},{unit:"minute",seconds:60},{unit:"second",seconds:1}];function Kc(t,e){const a=Math.round(t.value/1e3)-e;for(const{unit:n,seconds:l}of Wc)if(a>=l){const c=Math.round(a/l);return`${c} ${c===1?n:n+"s"} ago`}return"just now"}function ye(){const t=q(Date.now());return be(()=>{setInterval(()=>{t.value=Date.now()})}),{relativeTime:a=>Kc(t,a)}}function Ce(t,e){const a=q(t),n=q("desc"),l=(u,r)=>{a.value=u,n.value=r},c=w(()=>({column:a.value,order:n.value}));return{sortColumn:a,sortOrder:n,sorting:c,onSort:l}}function fe(t,e){const a=q(1),n=w(()=>t.value.drop((a.value-1)*e).take(e)),l=c=>{a.value=c};return j(n,c=>{c.length===0&&(a.value=Math.max(1,Math.ceil(t.value.length/e)))}),{page:a,rowsPage:n,onPage:l}}const Nc={style:{display:"flex",gap:"1rem"}},Hc=["src"],Gc=["href"],jc=["href"],Zc={class:"end"},zc={class:"end"},Yc={class:"end"},ya=15,No=A({__name:"TableRedemptions",props:{vaults:{default:()=>[]}},setup(t){const e=E(),a=new Ft(e.flavor),{t:n}=F(),{isFetching:l,data:c}=W({queryKey:["prisma-redemptions",w(()=>t.vaults.map(b=>b.address))],queryFn:({queryKey:[,b]})=>b.length>0?Promise.all(b.map($=>a.getRedemptions("ethereum",$))).then($=>$.flat()):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:u}=ye(),r=q(""),d=q("all"),p=q(null),s=["",{id:"redeemer",label:"Redeemer",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:i,onSort:m}=Ce("timestamp"),y=w(()=>c.value.filter(b=>{const $=r.value.toLocaleLowerCase().split(" "),S=R=>$.some(K=>R.toLocaleLowerCase().includes(K)),I=d.value==="all"?!0:b.vault===d.value;return S(b.redeemer)&&I}).orderBy(b=>{switch(i.value.column){case"redeemer":return b.redeemer;case"tx":return b.transaction;case"debt":return b.actual_debt_amount;case"numtroves":return b.troves_affected_count;case"timestamp":return b.timestamp}},i.value.order)),{page:h,rowsPage:C,onPage:k}=fe(y,ya);return(b,$)=>{const S=de,I=_e,R=ee,K=ne,Q=B,O=Se;return f(),T(z,null,[v(Q,{class:"redemptions-card",title:o(n)("title"),loading:o(l)},{actions:g(()=>[v(ht,{vault:o(d),all:!0,onSelectVault:$[0]||($[0]=V=>d.value=V)},null,8,["vault"]),_("div",Nc,[v(S,{modelValue:o(r),"onUpdate:modelValue":$[1]||($[1]=V=>re(r)?r.value=V:null),search:!0,placeholder:o(n)("search-placeholder")},null,8,["modelValue","placeholder"]),v(I,{"items-count":o(y).length,"items-per-page":ya,page:o(h),onPage:o(k)},null,8,["items-count","page","onPage"])])]),default:g(()=>[v(K,{class:"redemptions-table",rows:o(C),columns:s,sorting:o(i),onSortColumn:o(m),onSelected:$[4]||($[4]=V=>p.value=V)},{row:g(({item:V})=>[_("img",{src:o(Ve)(V.vault)},null,8,Hc),_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/address/${V.redeemer}`,target:"_blank",onClick:$[2]||($[2]=Y(()=>{},["stop"]))},x(o(N)(V.redeemer)),9,Gc)]),_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.transaction}`,target:"_blank",onClick:$[3]||($[3]=Y(()=>{},["stop"]))},x(o(N)(V.transaction)),9,jc)]),_("div",Zc,[v(R,{type:"dollar",value:Math.round(V.actual_debt_amount),precision:1/0},null,8,["value"])]),_("div",zc,x(V.troves_affected_count),1),_("div",Yc,x(o(u)(V.timestamp)),1)]),"row-details":g(()=>$[6]||($[6]=[M("   ")])),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),v(O,{show:!!o(p),onClose:$[5]||($[5]=V=>p.value=null)},{default:g(()=>[o(p)?(f(),L(Ut,{key:0,redemption:o(p),"vault-addr":o(p).vault},null,8,["redemption","vault-addr"])):D("",!0)]),_:1},8,["show"])],64)}}});function wa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof wa=="function"&&wa(No);const Qc=P(No,[["__scopeId","data-v-41946c55"]]),Jc={class:"dashboard"},Xc=A({__name:"Redemptions.page",setup(t){const e=E(),a=we().getSocket(Fe(e.flavor)),n=new Ee(a,"ethereum"),l=me(n.overview$,[]);return(c,u)=>(f(),T("div",Jc,[v(Qc,{vaults:o(l)},null,8,["vaults"])]))}}),eu=P(Xc,[["__scopeId","data-v-0423beeb"]]),tu={class:"liquidation-details"},au={class:"kpis"},ou=["href"],Ho=A({__name:"LiquidationDetails",props:{vaultAddr:{},liquidation:{}},setup(t){const{t:e}=F(),a=q(""),n=w(()=>t.liquidation.troves_affected.filter(l=>{const c=a.value.toLocaleLowerCase().split(" ");return(r=>c.some(d=>r.toLocaleLowerCase().includes(d)))(l)}));return(l,c)=>{const u=ee,r=$e,d=de,p=ne,s=B;return f(),L(s,{title:o(e)("liquidation-details")},{default:g(()=>[_("div",tu,[_("div",au,[v(r,{label:o(e)("debt")},{default:g(()=>[v(u,{value:l.liquidation.liquidated_debt,precision:2,type:"dollar"},null,8,["value"]),c[2]||(c[2]=M(" / ")),v(u,{value:l.liquidation.liquidated_collateral,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),v(r,{label:o(e)("gas-compensation")},{default:g(()=>[v(u,{value:l.liquidation.collateral_gas_compensation_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),v(s,{title:o(e)("troves-affected"),compact:!0},{actions:g(()=>[v(d,{modelValue:o(a),"onUpdate:modelValue":c[0]||(c[0]=i=>re(a)?a.value=i:null),search:!0,placeholder:o(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:g(()=>[v(p,{class:"troves-affected-table",rows:o(n),columns:["Trove"]},{row:g(({item:i})=>[_("div",null,[_("a",{class:"font-mono",target:"_blank",href:`#/vault/${l.vaultAddr}/trove/${i}`,onClick:c[1]||(c[1]=Y(()=>{},["stop"]))},x(i),9,ou)])]),_:1},8,["rows"])]),_:1},8,["title"])])]),_:1},8,["title"])}}});function $a(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":{t:0,b:{t:2,i:[{t:3}],s:"Troves affected"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"liquidation-details":{t:0,b:{t:2,i:[{t:3}],s:"Liquidation Details"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt / Collateral"}},"gas-compensation":{t:0,b:{t:2,i:[{t:3}],s:"Gas compensation"}}}})}typeof $a=="function"&&$a(Ho);const Et=P(Ho,[["__scopeId","data-v-4ce6b847"]]),nu={style:{display:"flex",gap:"1rem"}},su=["src"],lu=["href"],ru=["href"],iu={class:"end"},cu={class:"end"},uu={class:"end"},Ca=15,Go=A({__name:"TableLiquidations",props:{vaults:{default:()=>[]}},setup(t){const e=E(),a=new Rt(e.flavor),{t:n}=F(),{isFetching:l,data:c}=W({queryKey:["prisma-liquidations",w(()=>t.vaults.map(b=>b.address))],queryFn:({queryKey:[,b]})=>b.length>0?Promise.all(b.map($=>a.getLiquidations("ethereum",$))).then($=>$.flat()):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:u}=ye(),r=q(""),d=q("all"),p=q(null),s=["",{id:"liquidator",label:"Liquidator",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:i,onSort:m}=Ce("timestamp"),y=w(()=>c.value.filter(b=>{const $=r.value.toLocaleLowerCase().split(" "),S=R=>$.some(K=>R.toLocaleLowerCase().includes(K)),I=d.value==="all"?!0:b.vault===d.value;return S(b.liquidator)&&I}).orderBy(b=>{switch(i.value.column){case"liquidator":return b.liquidator;case"tx":return b.transaction;case"debt":return b.liquidated_collateral_usd;case"numtroves":return b.troves_affected_count;case"timestamp":return b.timestamp}},i.value.order)),{page:h,rowsPage:C,onPage:k}=fe(y,Ca);return(b,$)=>{const S=de,I=_e,R=ee,K=ne,Q=B,O=Se;return f(),T(z,null,[v(Q,{class:"liquidations-card",title:o(n)("title"),loading:o(l)},{actions:g(()=>[v(ht,{class:"select-vault",vault:o(d),all:!0,onSelectVault:$[0]||($[0]=V=>d.value=V)},null,8,["vault"]),_("div",nu,[v(S,{modelValue:o(r),"onUpdate:modelValue":$[1]||($[1]=V=>re(r)?r.value=V:null),class:"search",style:{"flex-grow":"1"},search:!0,placeholder:o(n)("search-placeholder")},null,8,["modelValue","placeholder"]),v(I,{class:"pagination","items-count":o(y).length,"items-per-page":Ca,page:o(h),onPage:o(k)},null,8,["items-count","page","onPage"])])]),default:g(()=>[v(K,{class:"liquidations-table",rows:o(C),columns:s,sorting:o(i),onSortColumn:o(m),onSelected:$[4]||($[4]=V=>p.value=V)},{row:g(({item:V})=>[_("img",{src:o(Ve)(V.vault)},null,8,su),_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/address/${V.liquidator}`,target:"_blank",onClick:$[2]||($[2]=Y(()=>{},["stop"]))},x(o(N)(V.liquidator)),9,lu)]),_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.transaction}`,target:"_blank",onClick:$[3]||($[3]=Y(()=>{},["stop"]))},x(o(N)(V.transaction)),9,ru)]),_("div",iu,[v(R,{type:"dollar",value:Math.round(V.liquidated_debt),precision:1/0},null,8,["value"])]),_("div",cu,x(V.troves_affected_count),1),_("div",uu,x(o(u)(V.timestamp)),1)]),"row-details":g(()=>$[6]||($[6]=[M("   ")])),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),v(O,{show:!!o(p),onClose:$[5]||($[5]=V=>p.value=null)},{default:g(()=>[o(p)?(f(),L(Et,{key:0,liquidation:o(p),"vault-addr":o(p).vault},null,8,["liquidation","vault-addr"])):D("",!0)]),_:1},8,["show"])],64)}}});function ka(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof ka=="function"&&ka(Go);const du=P(Go,[["__scopeId","data-v-e893b02b"]]),pu={class:"dashboard"},mu=A({__name:"Liquidations.page",setup(t){const e=E(),a=we().getSocket(Fe(e.flavor)),n=new Ee(a,"ethereum"),l=me(n.overview$,[]);return(c,u)=>(f(),T("div",pu,[v(du,{vaults:o(l)},null,8,["vaults"])]))}}),vu=P(mu,[["__scopeId","data-v-dc876344"]]),_u=["min","max"],fu=A({__name:"InputNumber",props:dt({min:{default:()=>-1/0},max:{default:()=>1/0}},{modelValue:{required:!0,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=Dt(t,"modelValue");return j(e,a=>{a===""?e.value=null:typeof a=="number"&&(e.value=Math.min(Math.max(a,t.min),t.max))}),(a,n)=>yo((f(),T("input",{"onUpdate:modelValue":n[0]||(n[0]=l=>e.value=l),type:"number",min:a.min,max:a.max},null,8,_u)),[[ps,e.value]])}}),hu=P(fu,[["__scopeId","data-v-2174eac3"]]),bu={ref:"chartRef",class:"chart"},gu=A({__name:"ChartRevenueLine",props:{data:{default:()=>[]}},setup(t){const{theme:e}=X(E()),{chart:a,series:n}=ce({createChartOptions:ie({localization:{priceFormatter:u=>`$${H(u,1,"dollar")}${J(u)}`}}),series:{type:"Area",name:"revenue",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:le.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...e.value.lineChartColors}))}});ue(l);function l(){if(!a.value||!n.revenue)return;const u=t.data.groupBy(r=>r.timestamp).entries().map(([,r])=>({time:r[0].timestamp,value:c(r[0])})).uniqWith((r,d)=>r.time===d.time).orderBy(r=>r.time,"asc");u.length>0&&n.revenue.setData(u),a.value.timeScale().fitContent()}const c=u=>u.unlock_penalty_revenue_usd+u.borrowing_fees_revenue_usd+u.redemption_fees_revenue_usd;return(u,r)=>(f(),T("div",bu,null,512))}}),yu=A({__name:"ChartRevenueBreakdown",props:{data:{default:()=>[]}},setup(t){const e=w(()=>ae({chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:u},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),a=w(()=>t.data.orderBy(s=>s.timestamp,"asc").groupBy(s=>s.timestamp).entries().map(([s])=>new Date(parseInt(s,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((s,i)=>i%8===0?s:"")),n=w(()=>Object.keys(t.data[0]).filter(s=>s!=="timestamp").map(s=>t.data.map(i=>({...i,source:s}))).flat().groupBy(s=>s.source).entries().map(([s,i])=>({name:d(s),data:i.orderBy(m=>m.timestamp,"asc").map(m=>({x:new Date(m.timestamp*1e3).toLocaleDateString(),y:m[s]}))}))),l=w(()=>Math.max(...t.data.groupBy(s=>s.timestamp).entries().map(([,s])=>s.reduce((i,m)=>i+r(m),0)))*1.1),c=s=>s,u=s=>`$${H(s,1,"dollar")}${J(s)}`,r=s=>s.unlock_penalty_revenue_usd+s.borrowing_fees_revenue_usd+s.redemption_fees_revenue_usd,d=s=>{switch(s){case"unlock_penalty_revenue_usd":return"Unlock penalty";case"borrowing_fees_revenue_usd":return"Borrowing fees";case"redemption_fees_revenue_usd":return"Redemption fees";default:return p(s)}},p=s=>s.split("_").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join("");return(s,i)=>{const m=te;return f(),L(m,{options:o(e),series:o(n)},null,8,["options","series"])}}}),wu=P(yu,[["__scopeId","data-v-fe1f1283"]]),$u={class:"actions"},Cu={class:"chart-input"},ku={class:"chart-toggles"},Su={class:"chart-types button-group"},jo=A({__name:"ChartRevenue",setup(t){const{t:e}=F(),a=E(),n=new Lo(a.flavor),l=q("line"),c=q(1699723102),u=q(!0),{isFetching:r,data:d}=W({queryKey:["prisma-revenue-snapshots"],queryFn:()=>n.getSnapshots().then(i=>i.snapshots),initialData:[],initialDataUpdatedAt:0}),p=w(()=>d.value.filter(i=>i.timestamp>c.value).map(i=>structuredClone(i)).map(i=>(u.value||(i.unlock_penalty_revenue_usd=0),i))),s=i=>{l.value!==i&&(l.value=i)};return(i,m)=>{const y=hu,h=ms,C=et,k=Xe,b=B;return f(),L(b,{title:o(e)("title"),loading:o(r)},{actions:g(()=>[_("div",$u,[_("div",Cu,[v(y,{modelValue:o(c),"onUpdate:modelValue":m[0]||(m[0]=$=>re(c)?c.value=$:null),placeholder:"Timestamp cut-off",min:0,max:new Date().getTime()/1e3},null,8,["modelValue","max"])]),_("div",ku,[v(k,null,{trigger:g(()=>[v(C,{modelValue:o(u),"onUpdate:modelValue":m[1]||(m[1]=$=>re(u)?u.value=$:null)},{default:g(()=>[v(h)]),_:1},8,["modelValue"])]),default:g(()=>[M(" "+x(o(e)("include-unlock-penalty")),1)]),_:1})]),_("div",Su,[v(C,{"model-value":o(l)==="line",onClick:m[2]||(m[2]=$=>s("line"))},{default:g(()=>m[4]||(m[4]=[M(" Line ")])),_:1},8,["model-value"]),v(C,{"model-value":o(l)==="breakdown",onClick:m[3]||(m[3]=$=>s("breakdown"))},{default:g(()=>m[5]||(m[5]=[M(" Breakdown ")])),_:1},8,["model-value"])])])]),default:g(()=>[o(l)==="line"?(f(),L(gu,{key:0,data:o(p)},null,8,["data"])):(f(),L(wu,{key:1,data:o(p)},null,8,["data"]))]),_:1},8,["title","loading"])}}});function Sa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"PRISMA revenue"}},"include-unlock-penalty":{t:0,b:{t:2,i:[{t:3}],s:"Include unlock penalty revenue"}}}})}typeof Sa=="function"&&Sa(jo);const Lu=P(jo,[["__scopeId","data-v-e39357a3"]]),Zo=A({__name:"ChartBreakdown",setup(t){const{t:e}=F(),{flavor:a}=X(E()),n=new Lo(a.value),{isFetching:l,data:c}=W({queryKey:["prisma-revenue-breakdown"],queryFn:()=>n.getBreakdown(),initialData:{unlock_penalty:0,borrowing_fees:0,redemption_fees:0},initialDataUpdatedAt:0}),u=w(()=>ae({chart:{id:"breakdown",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:s=>{const i=d.value[s.seriesIndex],m=s.series[s.seriesIndex];return[`<div><b>${i}</b>:</div><div>${p(m)}</div>`].join("")}},labels:d.value})),r=w(()=>[c.value.unlock_penalty,c.value.borrowing_fees,c.value.redemption_fees]),d=w(()=>[e("unlockPenalty"),e("borrowingFees"),e("redemptionFees")]),p=s=>`$${H(s,2,"percentage")}%`;return(s,i)=>{const m=te,y=B;return f(),L(y,{title:o(e)("title"),loading:o(l)},{default:g(()=>[v(m,{options:o(u),series:o(r)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function La(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Breakdown"}},unlockPenalty:{t:0,b:{t:2,i:[{t:3}],s:"Unlock penalty"}},borrowingFees:{t:0,b:{t:2,i:[{t:3}],s:"Borrowing fees"}},redemptionFees:{t:0,b:{t:2,i:[{t:3}],s:"Redemption fees"}}}})}typeof La=="function"&&La(Zo);const Tu=P(Zo,[["__scopeId","data-v-f87cd89c"]]),Au={class:"dashboard"},xu=A({__name:"Revenue.page",setup(t){return(e,a)=>(f(),T("div",Au,[v(Lu,{style:{"grid-column":"1"}}),v(Tu,{style:{"grid-column":"2"}})]))}}),Pu=P(xu,[["__scopeId","data-v-f04a3993"]]),Iu={class:"tab-view"},Du={class:"tab-headers"},Vu=["onClick"],qu={class:"tabs"},Mu=A({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(t,{emit:e}){const a=e,n=q(null),l=Lt(),c=w(()=>(l.default?l.default():[]).filter(d=>d.props));j(()=>t.active,r=>{n.value=r,a("tab",{tab:c.value[r],index:n.value})},{immediate:!0});const u=(r,d)=>{r.props.disabled||(n.value=d,a("tab",{tab:c.value[d],index:n.value}))};return(r,d)=>(f(),T("div",Iu,[_("ul",Du,[(f(!0),T(z,null,se(o(c),(p,s)=>(f(),T("li",{key:s,class:U(["tab-header",{active:o(n)===s,disabled:p.props.disabled}]),onClick:i=>u(p,s)},x(p.props.header),11,Vu))),128))]),_("div",qu,[(f(!0),T(z,null,se(o(c),(p,s)=>yo((f(),T("div",{key:s,class:"tab"},[(f(),L(Ge(p)))])),[[vs,o(n)===s]])),128))])]))}}),ot=P(Mu,[["__scopeId","data-v-12478a85"]]),nt=A({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(t){return(e,a)=>Z(e.$slots,"default")}}),Ru={class:"legend"},Fu=["onClick"],Bu={class:"label"},Uu=A({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(t,{emit:e}){const a=e;return(n,l)=>(f(),T("div",Ru,[(f(!0),T(z,null,se(n.items,c=>(f(),T("div",{key:c.id,class:U(["item",{togglable:c.togglable,disabled:n.disabled.includes(c.id)}]),onClick:u=>{c.togglable&&a("toggle",c.id)}},[_("div",{class:"color",style:Ct({"background-color":c.color})},null,4),_("div",Bu,x(c.label),1)],10,Fu))),128))]))}}),Ot=P(Uu,[["__scopeId","data-v-2949a830"]]);function kt(t){const e=Math.floor(new Date().getTime()/1e3),a=14400,n=e-a*299;switch(t){case"convex":return{pool:"0x3b21C2868B6028CfB38Ff86127eF22E68d16d53B",chain:"ethereum",main_token:"0xdA47862a83dac0c112BA89c6abC2159b95afd71C",reference_token:"0x34635280737b5BFe6c7DC2FC3065D60d66e78185",interval:a,start:n,end:e};case"yearn":return{pool:"0x69833361991ed76f9e8DBBcdf9ea1520fEbFb4a7",chain:"ethereum",main_token:"0xdA47862a83dac0c112BA89c6abC2159b95afd71C",reference_token:"0xe3668873D944E4A949DA05fc8bDE419eFF543882",interval:a,start:n,end:e}}}function Eu(t){const e=Math.floor(new Date().getTime()/1e3),a="day",n=e-86400*299;switch(t){case"convex":return{pool:"0x3b21C2868B6028CfB38Ff86127eF22E68d16d53B",chain:"ethereum",interval:a,start:n,end:e};case"yearn":return{pool:"0x69833361991ed76f9e8DBBcdf9ea1520fEbFb4a7",chain:"ethereum",interval:a,start:n,end:e}}}function Wt(t){const e=w(t),a=_s(go(Object.fromEntries(e.value.map(l=>[l.id,!0])))),n=w(()=>e.value.filter(l=>!a[l.id].value).map(l=>l.id));return{items:e,toggles:a,disabled:n}}const Ou={ref:"chartRef",class:"chart"},zo=A({__name:"ChartComparisonPrice",setup(t){const{t:e}=F(),a=ge(),{items:n}=Wt(()=>[{id:"cvxprisma",label:"cvxPRISMA",color:a.value.colors.blue},{id:"yprisma",label:"yPRISMA",color:a.value.colors.yellow}]),l=we().getSocket("prices"),c=new pt(l,"ethereum",kt("convex")),u=new pt(l,"ethereum",kt("yearn")),r=me(c.ohlc$,[]),d=me(u.ohlc$,[]),p=w(()=>r.value.length+d.value.length===0);let s=1.1,i=0;const{chart:m,series:y}=ce({createChartOptions:ie({localization:{priceFormatter:k=>C(k)}}),series:[{type:"Line",name:"convex",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:le.WithSteps,color:a.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"yearn",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:le.WithSteps,color:a.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});j(r,k=>{h(k,"convex")}),j(d,k=>{h(k,"yearn")});function h(k,b){if(!m.value||!y.convex||!y.yearn)return;const $=k.map(S=>({time:S.time,value:S.close})).uniqWith((S,I)=>S.time===I.time).orderBy(S=>S.time,"asc");if($.length>0){b==="convex"?y.convex.setData($):y.yearn.setData($);const S=[...r.value.map(I=>I.close),...d.value.map(I=>I.close)];i=Math.min(...S),s=Math.max(...S),m.value.timeScale().fitContent()}}function C(k){const b=s-i,$=b>1?b-Math.floor(b):b,S=-Math.floor(Math.log10($)+1)+2;return`${H(k,S,"dollar")}${J(k)}`}return(k,b)=>{const $=Ot,S=B;return f(),L(S,{title:o(e)("title"),loading:o(p)},{"actions-secondary":g(()=>[v($,{items:o(n)},null,8,["items"])]),default:g(()=>[_("div",Ou,null,512)]),_:1},8,["title","loading"])}}});function Ta(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price (peg)"}}}})}typeof Ta=="function"&&Ta(zo);const Wu={ref:"chartRef",class:"chart"},Yo=A({__name:"ChartComparisonTVL",setup(t){const{t:e}=F(),a=new at,n=ge(),{items:l}=Wt(()=>[{id:"cvxprisma",label:"cvxPRISMA",color:n.value.colors.blue},{id:"yprisma",label:"yPRISMA",color:n.value.colors.yellow}]),c=w(()=>u.value||d.value),{isFetching:u,data:r}=W({queryKey:["prisma-wrapper-tvl","convex"],queryFn:()=>a.getTVL("convex").then(h=>h.tvl),initialData:[],initialDataUpdatedAt:0}),{isFetching:d,data:p}=W({queryKey:["prisma-wrapper-tvl","yearn"],queryFn:()=>a.getTVL("yearn").then(h=>h.tvl),initialData:[],initialDataUpdatedAt:0}),{chart:s,series:i}=ce({createChartOptions:ie({localization:{priceFormatter:h=>y(h)}}),series:[{type:"Line",name:"convex",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:le.WithSteps,color:n.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"yearn",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:le.WithSteps,color:n.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});j([r,s],([h,C])=>{m("convex",h,C)}),j([p,s],([h,C])=>{m("yearn",h,C)});function m(h,C,k){if(!k||!i.convex||!i.yearn)return;const b=(C??[]).map($=>({time:$.timestamp,value:$.value})).uniqWith(($,S)=>$.time===S.time).orderBy($=>$.time,"asc");b.length>0&&(h==="convex"?i.convex.setData(b):i.yearn.setData(b),k.timeScale().fitContent())}function y(h){return`$${H(h,0,"dollar")}${J(h)}`}return(h,C)=>{const k=Ot,b=B;return f(),L(b,{title:o(e)("title"),loading:o(c)},{"actions-secondary":g(()=>[v(k,{items:o(l)},null,8,["items"])]),default:g(()=>[_("div",Wu,null,512)]),_:1},8,["title","loading"])}}});function Aa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof Aa=="function"&&Aa(Yo);const Ku={class:"dashboard-grid"},Nu=A({__name:"Overview",setup(t){return(e,a)=>(f(),T("div",Ku,[v(zo),v(Yo)]))}}),Hu=P(Nu,[["__scopeId","data-v-5f25051b"]]),Gu={ref:"chartRef",class:"chart"},Kt=A({__name:"ChartPrice",props:{contract:{}},setup(t){const{t:e}=F(),a=kt(t.contract),n=Eu(t.contract),l=we().getSocket("prices"),c=new pt(l,"ethereum",a),u=new ml(l,"ethereum",n),r=me(c.ohlc$,[]),d=me(u.volume$,[]),p=w(()=>r.value.length+d.value.length===0);let s=1,i=0;const m=ge(),{flavor:y}=X(E()),{chart:h,series:C}=ce({createChartOptions:ie({localization:{priceFormatter:S=>$(S)}}),series:[{type:"Candlestick",name:"price",options:w(()=>{const{colors:S}=m.value;return{priceFormat:{type:"price",precision:6,minMove:.01},upColor:S.green,borderUpColor:S.green,wickUpColor:S.green,downColor:S.red,borderDownColor:S.red,wickDownColor:S.red,lastValueVisible:!1,priceLineVisible:!1}})},{type:"Histogram",name:"volume",options:w(()=>{const{colors:S}=m.value;return{color:y.value==="lsd"?S.blue:S.purple,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}})}]});ue(k);function k(){if(!h.value||!C.price)return;const S=1,I=r.value.map(R=>({time:R.time,open:Math.pow(R.open,S),high:Math.pow(R.high,S),low:Math.pow(R.low,S),close:Math.pow(R.close,S)})).uniqWith((R,K)=>R.time===K.time).orderBy(R=>R.time,"asc");I.length>0&&(C.price.setData(I),h.value.timeScale().fitContent(),i=Math.min(...I.map(R=>R.low)),s=Math.max(...I.map(R=>R.high))),h.value.timeScale().fitContent()}ue(b);function b(){if(!h.value||!C.volume)return;const S=d.value.map(I=>({time:I.timestamp,value:I.volume})).uniqWith((I,R)=>I.time===R.time).orderBy(I=>I.time,"asc");S.length>0&&C.volume.setData(S)}const $=S=>{const I=s-i,R=I>1?I-Math.floor(I):I,K=-Math.floor(Math.log10(R)+1)+2;return`${H(S,K,"dollar")}${J(S)}`};return(S,I)=>{const R=B;return f(),L(R,{title:o(e)("title"),loading:o(p)},{default:g(()=>[_("div",Gu,null,512)]),_:1},8,["title","loading"])}}});function xa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price (peg)"}}}})}typeof xa=="function"&&xa(Kt);const ju={ref:"chartRef",class:"chart"},Nt=A({__name:"ChartTVL",props:{contract:{}},setup(t){const{t:e}=F(),a=new at,{isFetching:n,data:l}=W({queryKey:["prisma-wrapper-tvl",w(()=>t.contract)],queryFn:({queryKey:[,p]})=>a.getTVL(p).then(s=>s.tvl),initialData:[],initialDataUpdatedAt:0}),{theme:c}=X(E()),{chart:u,series:r}=ce({createChartOptions:ie({localization:{priceFormatter:p=>`$${H(p,1,"dollar")}${J(p)}`}}),series:{type:"Area",name:"tvl",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:le.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...c.value.lineChartColors}))}});ue(d);function d(){if(!u.value||!r.tvl)return;const p=l.value.filter(s=>s.value>0).map(s=>({time:s.timestamp,value:s.value})).uniqWith((s,i)=>s.time===i.time).orderBy(s=>s.time,"asc");p.length>0&&r.tvl.setData(p),u.value.timeScale().fitContent()}return(p,s)=>{const i=B;return f(),L(i,{title:o(e)("title"),loading:o(n)},{default:g(()=>[_("div",ju,null,512)]),_:1},8,["title","loading"])}}});function Pa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof Pa=="function"&&Pa(Nt);const Qo=A({__name:"ChartFlow",props:{contract:{}},setup(t){const{t:e}=F(),a=new at,n=ge(),{isFetching:l,data:c}=W({queryKey:["prisma-wrapper-flow",w(()=>t.contract)],queryFn:({queryKey:[,i]})=>a.getFlow(i),initialData:{deposits:[],withdrawals:[]},initialDataUpdatedAt:0}),u=w(()=>{const{colors:i}=n.value;return ae({chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[i.green,i.red],xaxis:{categories:r.value,labels:{formatter:p,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:s}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:m,dataPointIndex:y,w:h})=>{let C=0;const k=m.map((b,$)=>{const S=b[y];return C+=S,`<div><b>${h.globals.seriesNames[$]}</b>:	${s(S)}</div>`});return k.push(`<div><b>Total</b>:	${s(C)}</div>`),k.join("")}}})}),r=w(()=>c.value.deposits.length===0?[]:c.value.deposits.map(i=>new Date(i.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),d=w(()=>[{name:e("deposits"),data:Object.values(c.value.deposits).map(i=>i.amount_usd)},{name:e("withdrawals"),data:Object.values(c.value.withdrawals).map(i=>-i.amount_usd)}]),p=i=>i,s=i=>`$${H(i,0,"dollar")}${J(i)}`;return(i,m)=>{const y=te,h=B;return f(),L(h,{title:o(e)("title"),loading:o(l)},{default:g(()=>[v(y,{options:o(u),series:o(d)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function Ia(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Staking and unstaking"}},deposits:{t:0,b:{t:2,i:[{t:3}],s:"Deposits"}},withdrawals:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawals"}}}})}typeof Ia=="function"&&Ia(Qo);const Jo=P(Qo,[["__scopeId","data-v-ad0f8a9a"]]),Zu={ref:"chartRef",class:"chart"},Ht=A({__name:"ChartAPR",props:{contract:{}},setup(t){const{t:e}=F(),a=new at,{isFetching:n,data:l}=W({queryKey:["prisma-wrapper-snapshots",w(()=>t.contract)],queryFn:({queryKey:[,s]})=>a.getSnapshots(s).then(i=>i.Snapshots),initialData:[],initialDataUpdatedAt:0}),{theme:c}=X(E()),{chart:u,series:r}=ce({createChartOptions:ie({localization:{priceFormatter:s=>p(s)}}),series:{type:"Area",name:"apr",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:le.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...c.value.lineChartColors}))}});ue(d);function d(){if(!u.value||!r.apr)return;const s=l.value.filter(i=>i.timestamp>=1699630610).map(i=>({time:i.timestamp,value:i.total_apr*100})).uniqWith((i,m)=>i.time===m.time).orderBy(i=>i.time,"asc");s.length>0&&r.apr.setData(s),u.value.timeScale().fitContent()}function p(s){return`${H(s,0,"percentage")}%`}return(s,i)=>{const m=B;return f(),L(m,{title:o(e)("title"),loading:o(n)},{default:g(()=>[_("div",Zu,null,512)]),_:1},8,["title","loading"])}}});function Da(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"APR"}}}})}typeof Da=="function"&&Da(Ht);const Xo=A({__name:"ChartDistribution",props:{contract:{}},setup(t){const{t:e}=F(),a=new at,{isFetching:n,data:l}=W({queryKey:["prisma-wrapper-distribution",w(()=>t.contract)],queryFn:({queryKey:[,s]})=>a.getDistribution(s).then(i=>i.distribution),initialData:[],initialDataUpdatedAt:0}),c=w(()=>ae({chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:u.value,labels:{formatter:d,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:p}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),u=w(()=>l.value.map(s=>s.label)),r=w(()=>[{name:e("size"),data:Object.values(l.value).map(s=>s.value)}]),d=s=>s,p=s=>`$${H(s,0,"dollar")}${J(s)}`;return(s,i)=>{const m=te,y=B;return f(),L(y,{title:o(e)("title"),loading:o(n)},{default:g(()=>[v(m,{options:o(c),series:o(r)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function Va(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Position size"}},size:{t:0,b:{t:2,i:[{t:3}],s:"Size"}}}})}typeof Va=="function"&&Va(Xo);const en=P(Xo,[["__scopeId","data-v-b3d9c97b"]]),zu={class:"dashboard-grid"},Yu=A({__name:"CvxPrisma",setup(t){return(e,a)=>(f(),T("div",zu,[v(Kt,{contract:"convex"}),v(Nt,{contract:"convex"}),v(Jo,{contract:"convex"}),v(Ht,{contract:"convex"}),v(en,{contract:"convex",style:{"grid-column":"1 / -1"}})]))}}),Qu=P(Yu,[["__scopeId","data-v-c863b934"]]),Ju={class:"dashboard-grid"},Xu=A({__name:"YPrisma",setup(t){return(e,a)=>(f(),T("div",Ju,[v(Kt,{contract:"yearn"}),v(Nt,{contract:"yearn"}),v(Jo,{contract:"yearn"}),v(Ht,{contract:"yearn"}),v(en,{contract:"yearn",style:{"grid-column":"1 / -1"}})]))}}),ed=P(Xu,[["__scopeId","data-v-f961ef4a"]]);function tn(t,e,a){const n=Me(),l=Ze("tab",t[0]),c=q(-1);return j(l,u=>c.value=t.findIndex(r=>r===u),{immediate:!0}),j(c,async u=>{u===-1&&(u=0),await n.push({name:e,params:{tab:t[u],...(a==null?void 0:a())??{}},replace:l.value===""})},{immediate:!0}),{tabActive:l,tabActiveIndex:c}}const td={class:"dashboard"},ad=A({__name:"Wrappers.page",setup(t){const{tabActive:e,tabActiveIndex:a}=tn(["overview","cvxprisma","yprisma"],"wrappers");return(n,l)=>{const c=nt,u=ot;return f(),T("div",td,[v(u,{active:o(a),onTab:l[0]||(l[0]=r=>a.value=r.index)},{default:g(()=>[v(c,{header:"Overview"},{default:g(()=>[o(e)==="overview"?(f(),L(Hu,{key:0})):D("",!0)]),_:1}),v(c,{header:"cvxPRISMA"},{default:g(()=>[o(e)==="cvxprisma"?(f(),L(Qu,{key:0})):D("",!0)]),_:1}),v(c,{header:"yPRISMA"},{default:g(()=>[o(e)==="yprisma"?(f(),L(ed,{key:0})):D("",!0)]),_:1})]),_:1},8,["active"])])}}}),od=P(ad,[["__scopeId","data-v-9cc467fe"]]),nd={style:{display:"flex",gap:"1rem"}},sd=["href"],qa=10,an=A({__name:"TableLockers",props:{lockers:{default:()=>[]}},setup(t){const{t:e}=F(),a=q(""),n=[{id:"locker",label:"Locker",sort:!1},{id:"weight",label:"Weight",sort:!0,align:"end"},{id:"locked",label:"Locked",sort:!0,align:"end"},{id:"unlocked",label:"Unlocked",sort:!0,align:"end"},{id:"frozen",label:"Frozen",sort:!0,align:"end"}],{sorting:l,onSort:c}=Ce("weight"),u=w(()=>t.lockers.filter(s=>{const i=a.value.toLocaleLowerCase().split(" ");return(y=>i.some(h=>y.toLocaleLowerCase().includes(h)))(s.id)}).orderBy(s=>{switch(l.value.column){case"weight":return s.weight;case"locked":return s.locked;case"unlocked":return s.unlocked;case"frozen":return s.frozen}},l.value.order)),{page:r,rowsPage:d,onPage:p}=fe(u,qa);return(s,i)=>{const m=de,y=_e,h=ee,C=ne,k=B;return f(),L(k,{class:"lockers-card",title:o(e)("title")},{actions:g(()=>[_("div",nd,[v(m,{modelValue:o(a),"onUpdate:modelValue":i[0]||(i[0]=b=>re(a)?a.value=b:null),search:!0,placeholder:o(e)("search-placeholder")},null,8,["modelValue","placeholder"]),v(y,{"items-count":o(u).length,"items-per-page":qa,page:o(r),onPage:o(p)},null,8,["items-count","page","onPage"])])]),default:g(()=>[v(C,{class:"lockers-table",rows:o(d),columns:n,sorting:o(l),onSortColumn:o(c)},{row:g(({item:b})=>[_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/address/${b.id}`,target:"_blank",onClick:i[1]||(i[1]=Y(()=>{},["stop"]))},x(b.id),9,sd)]),_("div",{class:U(["end",{zero:b.weight===0}])},[v(h,{type:"dollar",value:Math.round(b.weight),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),_("div",{class:U(["end",{zero:b.locked===0}])},[v(h,{type:"dollar",value:Math.round(b.locked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),_("div",{class:U(["end",{zero:b.unlocked===0}])},[v(h,{type:"dollar",value:Math.round(b.unlocked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),_("div",{class:U(["end",{zero:b.frozen===0}])},[v(h,{type:"dollar",value:Math.round(b.frozen),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2)]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title"])}}});function Ma(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Lockers"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Ma=="function"&&Ma(an);const ld=P(an,[["__scopeId","data-v-f8d8ab9a"]]),Ra="https://api.thegraph.com/subgraphs/name/benber86/prisma";class on extends ve{async getTopLockers(){const a=await this.fetch(Ra,{query:`{
      lockers {
        totalWeight
      }
      accountDatas(first: 100 orderBy: weight orderDirection: desc) {
        id
        weight
        locked
        unlocked
        frozen
      }
    }`}),n=a.data.accountDatas.map(c=>({id:c.id,weight:parseInt(c.weight,10),locked:parseInt(c.locked,10),unlocked:parseInt(c.unlocked,10),frozen:parseInt(c.frozen,10)}));return{totalWeight:parseInt(a.data.lockers[0].totalWeight,10),accounts:n}}async getVotesIncentives(){return(await this.fetch(Ra,{query:`{
      incentiveVotes(first:100, orderBy:blockNumber, orderDirection:desc) {
        voter {
          id
        }
        votes(first: 100, orderBy:points, orderDirection:desc) {
          recipient {
            id
            address
          }
          points
        }
        isClearance
        transactionHash
        blockTimestamp
      }
    }`})).data.incentiveVotes.map(n=>n.votes.map(l=>({voter:n.voter.id,recipient:l.recipient.address,points:parseInt(l.points,10),isClearance:n.isClearance,transaction:n.transactionHash,timestamp:parseInt(n.blockTimestamp,10)}))).flat()}}const rd=["href"],id=["href"],cd={class:"end"},ud={class:"end"},dd=["href"],pd={class:"end"},Fa=20,nn=A({__name:"TableVotesIncentives",setup(t){const{t:e}=F(),a=new on,{isFetching:n,data:l}=W({queryKey:["prisma-vote-incentives"],queryFn:()=>a.getVotesIncentives(),initialData:[],initialDataUpdatedAt:0}),{relativeTime:c}=ye(),u=w(()=>["Voter","Recipient",{label:"Points",align:"end"},{label:"Tx",align:"end"},{label:"Time",align:"end"}]),r=w(()=>l.value),{page:d,rowsPage:p,onPage:s}=fe(r,Fa);return(i,m)=>{const y=_e,h=ee,C=ne,k=B;return f(),L(k,{class:"votes-incentives-card",title:o(e)("title"),loading:o(n)},{actions:g(()=>[v(y,{"items-count":o(r).length,"items-per-page":Fa,page:o(d),onPage:o(s)},null,8,["items-count","page","onPage"])]),default:g(()=>[v(C,{class:"votes-incentives-table",rows:o(p),columns:o(u)},{row:g(({item:b})=>[_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/address/${b.voter}`,target:"_blank",onClick:m[0]||(m[0]=Y(()=>{},["stop"]))},x(o(N)(b.voter)),9,rd)]),_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/tx/${b.recipient}`,target:"_blank",onClick:m[1]||(m[1]=Y(()=>{},["stop"]))},x(o(N)(b.recipient)),9,id)]),_("div",cd,[v(h,{type:"dollar",value:Math.round(b.points),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_("div",ud,[_("a",{class:"font-mono",href:`https://etherscan.io/tx/${b.transaction}`,target:"_blank",onClick:m[2]||(m[2]=Y(()=>{},["stop"]))},x(o(N)(b.transaction)),9,dd)]),_("div",pd,x(o(c)(b.timestamp)),1)]),_:1},8,["rows","columns"])]),_:1},8,["title","loading"])}}});function Ba(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Incentive votes"}}}})}typeof Ba=="function"&&Ba(nn);const md=P(nn,[["__scopeId","data-v-107d1fd5"]]),sn=A({__name:"ChartTopLockers",props:{totalWeight:{default:0},lockers:{default:()=>[]}},setup(t){const{t:e}=F(),a=w(()=>t.lockers.slice(0,10)),n=w(()=>ae({chart:{id:"topLockers",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:d=>{const p=c.value[d.seriesIndex],s=d.series[d.seriesIndex],i=s/(t.totalWeight/100);return[`<div><b>${p}</b>:</div><div>${r(i)} - ${u(s)}</div>`].join("")}},labels:a.value.map(d=>d.id).concat(["Other⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"])})),l=w(()=>{const d=a.value.map(i=>i.weight),p=d.reduce((i,m)=>i+m,0),s=t.totalWeight-p;return[...d,s]}),c=w(()=>a.value.map(d=>d.id).concat(["Other"])),u=d=>`${H(d,2,"dollar")}${J(d)}`,r=d=>`${H(d,2,"percentage")}%`;return(d,p)=>{const s=te,i=B;return f(),L(i,{title:o(e)("title")},{default:g(()=>[v(s,{options:o(n),series:o(l)},null,8,["options","series"])]),_:1},8,["title"])}}});function Ua(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top 10 largest lockers"}}}})}typeof Ua=="function"&&Ua(sn);const vd=P(sn,[["__scopeId","data-v-14ad837c"]]),_d={class:"dashboard"},fd=A({__name:"VePrisma.page",setup(t){const e=new on,{isFetching:a,data:n}=W({queryKey:["prisma-top-lockers"],queryFn:()=>e.getTopLockers(),initialData:{totalWeight:0,accounts:[]},initialDataUpdatedAt:0}),l=w(()=>n.value.accounts),c=w(()=>n.value.totalWeight);return(u,r)=>(f(),T("div",_d,[v(ld,{style:{"grid-row":"1","grid-column":"1"},loading:o(a),lockers:o(l)},null,8,["loading","lockers"]),v(vd,{style:{"grid-row":"1","grid-column":"2"},loading:o(a),lockers:o(l),"total-weight":o(c)},null,8,["loading","lockers","total-weight"]),v(md,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}}),hd=P(fd,[["__scopeId","data-v-9fe8bc1b"]]);function he(t){return t.status==="executed"?"executed":t.end>new Date().getTime()/1e3?"active":bd(t)?"passed":"denied"}function bd(t){return t.weightReceived>t.weightRequired}const ln=A({__name:"Status",props:{proposal:{}},setup(t){const{t:e}=F(),a=w(()=>he(t.proposal)==="denied"?e("no-quorum"):""),n=w(()=>{switch(he(t.proposal)){case"active":return e("active");case"denied":return e("denied");case"passed":return e("passed");case"executed":return e("executed");default:return"Unk. Status"}});return(l,c)=>{const u=Xe,r=$e;return f(),L(r,{class:"status","tooltip-type":"underline",label:o(e)("status"),"has-value":!0,tooltip:o(a)},{default:g(()=>[o(a)?(f(),L(u,{key:0},{trigger:g(()=>[_("span",{class:U(["status-value",o(he)(l.proposal)])},x(o(n)),3)]),default:g(()=>[M(" "+x(o(a)),1)]),_:1})):(f(),T("span",{key:1,class:U(["status-value",o(he)(l.proposal)])},x(o(n)),3))]),_:1},8,["label","tooltip"])}}});function Ea(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{status:{t:0,b:{t:2,i:[{t:3}],s:"Status"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}},"no-quorum":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was not reached"}}}})}typeof Ea=="function"&&Ea(ln);const gd=P(ln,[["__scopeId","data-v-a000633a"]]),yd=["href"],rn=A({__name:"Proposer",props:{proposal:{}},setup(t){const{t:e}=F();return(a,n)=>{const l=$e;return f(),L(l,{class:"proposer",label:o(e)("proposer"),"has-value":!0},{default:g(()=>[_("a",{href:`https://etherscan.io/address/${a.proposal.proposer}`,target:"_blank"},x(o(N)(a.proposal.proposer)),9,yd)]),_:1},8,["label"])}}});function Oa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{proposer:{t:0,b:{t:2,i:[{t:3}],s:"Proposer"}}}})}typeof Oa=="function"&&Oa(rn);const St=A({__name:"Date",props:{proposal:{},type:{}},setup(t){const{t:e}=F();let a;const n=q(""),l=w(()=>{switch(t.type){case"start":return e("start");case"end":return e("end");default:return"Unk. Type"}}),c=w(()=>{switch(t.type){case"start":return new Date(t.proposal.start*1e3).toLocaleDateString();case"end":{const d=new Date(t.proposal.end*1e3);return d>new Date?n.value:d.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),u=w(()=>{switch(t.type){case"start":return new Date(t.proposal.start*1e3).toLocaleDateString()+" "+new Date(t.proposal.start*1e3).toTimeString();case"end":return new Date(t.proposal.end*1e3).toLocaleDateString()+" "+new Date(t.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});be(()=>{r()});const r=()=>{const d=new Date(t.proposal.end*1e3);a&&clearInterval(a),a=setInterval(()=>{n.value=il(d)})};return(d,p)=>{const s=$e;return f(),L(s,{class:"date","tooltip-type":"underline",label:o(l),value:o(c),"has-value":!0,tooltip:o(u)},null,8,["label","value","tooltip"])}}});function Wa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{start:{t:0,b:{t:2,i:[{t:3}],s:"Start"}},end:{t:0,b:{t:2,i:[{t:3}],s:"End"}}}})}typeof Wa=="function"&&Wa(St);const wd={class:"id"},$d={class:"metadata"},Cd={class:"row"},cn=A({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(t,{emit:e}){const{t:a}=F(),n=e;return(l,c)=>{var r,d;const u=mt;return f(),T("div",{class:"proposal-summary",onClick:c[0]||(c[0]=p=>n("toggleExpand"))},[_("div",{class:U(["title",{"no-title":!((r=l.proposal.metadata)!=null&&r.title)}])},[_("div",wd,x(l.proposal.id),1),_("div",$d,x(((d=l.proposal.metadata)==null?void 0:d.title)||o(a)("no-title")),1)],2),_("div",Cd,[v(gd,{class:"item",proposal:l.proposal},null,8,["proposal"]),v(rn,{class:"item",proposal:l.proposal},null,8,["proposal"]),v(St,{class:"item",proposal:l.proposal,type:"start"},null,8,["proposal"]),v(St,{class:"item",proposal:l.proposal,type:"end"},null,8,["proposal"]),_("div",{class:U(["item expander",{expanded:l.expanded}])},[v(u)],2)])])}}});function Ka(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-title":{t:0,b:{t:2,i:[{t:3}],s:"< No Title >"}}}})}typeof Ka=="function"&&Ka(cn);const kd=P(cn,[["__scopeId","data-v-471c0ed1"]]),Sd={class:"quorum"},Ld={class:"heading"},Td={class:"amount"},Ad={class:"bar"},xd={class:"percentages"},Pd={class:"quorum"},un=A({__name:"VotingQuorum",props:{proposal:{}},setup(t){const{t:e}=F(),a=w(()=>t.proposal.weightReceived),n=w(()=>t.proposal.weightRequired),l=w(()=>a.value/n.value*100);return(c,u)=>{const r=ee;return f(),T("div",Sd,[_("div",Ld,x(o(e)("quorum")),1),_("div",Td,[v(r,{value:o(a),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),u[0]||(u[0]=M(" / ")),v(r,{value:o(n),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),u[1]||(u[1]=M(" vePRISMA "))]),_("div",Ad,[_("div",{class:"support",style:Ct({width:`${o(l)}%`})},null,4),_("div",{class:"quorum",style:Ct({width:`${100-o(l)}%`})},null,4)]),_("div",xd,[u[2]||(u[2]=_("div",{class:"zero"},"0%",-1)),_("div",Pd,[v(r,{value:Math.min(o(l),100),precision:0,type:"percentage"},null,8,["value"])])])])}}});function Na(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{quorum:{t:0,b:{t:2,i:[{t:3}],s:"Quorum"}}}})}typeof Na=="function"&&Na(un);const Id=P(un,[["__scopeId","data-v-a0000fda"]]),Dd=[{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"week",type:"uint256"}],name:"getAccountWeightAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Ne=[{inputs:[],name:"MAX_TIME_TO_EXECUTION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"executeProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenLocker",outputs:[{internalType:"contract ITokenLocker",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"weight",type:"uint256"}],name:"voteForProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"accountVoteWeights",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Vd={class:"buttons"},qd={class:"veprisma"},Md={class:"info"},Rd={class:"kpis"},Fd={class:"description"},Bd={class:"title"},dn=A({__name:"VotingButtons",props:{proposal:{}},setup(t){const{t:e}=F(),{address:a}=Je(),n=q(!1),l=q(!1),c=q(!1),u=q(!1),r=q(0n),d=q(!1),p=w(()=>r.value>0n&&!u.value&&m.value&&!d.value),s=w(()=>p.value?"submit":u.value?"voting":m.value?d.value?"voted":"not-enough-voting-power":"voting-closed"),i=w(()=>Number(r.value)),m=w(()=>he(t.proposal)==="active"),y=w(()=>he(t.proposal)==="passed"),h=fs();async function C(){await la(u,async()=>{if(!a.value)return;const S=await Gt(h,{abi:Ne,address:Ke,functionName:"voteForProposal",args:[a.value,BigInt(t.proposal.id),r.value]});await jt(h,{hash:S}),n.value=!1})}async function k(){await la(l,async()=>{const S=await Gt(h,{abi:Ne,address:Ke,functionName:"executeProposal",args:[BigInt(t.proposal.id)]});await jt(h,{hash:S}),n.value=!1,c.value=await $()})}async function b(){if(!a.value)return;const S=await st(h,{abi:Ne,address:Ke,functionName:"tokenLocker"});d.value=await st(h,{abi:Ne,address:Ke,functionName:"accountVoteWeights",args:[a.value,BigInt(t.proposal.id)]}).then(R=>R>0n);const I=Math.floor((t.proposal.start-1691625600)/604800)-1;r.value=await st(h,{abi:Dd,address:S,functionName:"getAccountWeightAt",args:[a.value,BigInt(I)]})}vt(n,async()=>{await Di(b)});async function $(){if(!y.value)return!1;const S=await st(h,{abi:Ne,address:Ke,functionName:"MAX_TIME_TO_EXECUTION"}),I=t.proposal.executeAfter!==0,R=t.proposal.executeAfter<new Date().getTime()/1e3,K=t.proposal.executeAfter+Number(S)>new Date().getTime()/1e3;return I&&R&&K}return j(a,async()=>{c.value=await $()},{immediate:!0}),(S,I)=>{const R=De,K=ee,Q=$e,O=B,V=Se;return f(),T(z,null,[_("div",Vd,[v(R,{class:"primary",onClick:I[0]||(I[0]=ke=>n.value=!0)},{default:g(()=>[M(x(o(e)("vote")),1)]),_:1}),o(y)?(f(),L(R,{key:0,class:"primary",disabled:!o(c)||o(l),onClick:k},{default:g(()=>[M(x(o(e)(o(l)?"executing":"execute")),1)]),_:1},8,["disabled"])):D("",!0)]),v(V,{show:o(n),onClose:I[1]||(I[1]=ke=>n.value=!1)},{default:g(()=>[v(O,{title:o(e)("vote-with-veprisma"),class:"vote-content"},{default:g(()=>{var ke;return[_("div",qd,[_("div",Md,[_("div",Rd,[v(Q,{label:o(e)("voting-power"),"has-value":!0},{default:g(()=>[v(K,{value:o(i),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),I[2]||(I[2]=M(" vePRISMA "))]),_:1},8,["label"]),v(Q,{label:o(e)("block"),value:S.proposal.block,"has-value":!0},null,8,["label","value"])]),_("div",Fd,[_("span",Bd,x(o(e)("description"))+": ",1),_("span",null,x(((ke=S.proposal.metadata)==null?void 0:ke.description)||""),1)])]),v(R,{class:"submit primary",disabled:!o(p),"chain-id":o(je).id,onClick:C},{default:g(()=>[M(x(o(e)(o(s))),1)]),_:1},8,["disabled","chain-id"])])]}),_:1},8,["title"])]),_:1},8,["show"])],64)}}});function Ha(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{vote:{t:0,b:{t:2,i:[{t:3}],s:"Vote"}},"vote-with-veprisma":{t:0,b:{t:2,i:[{t:3}],s:"Vote with vePRISMA"}},voting:{t:0,b:{t:2,i:[{t:3}],s:"Voting..."}},"voting-closed":{t:0,b:{t:2,i:[{t:3}],s:"Voting closed"}},voted:{t:0,b:{t:2,i:[{t:3}],s:"You've already voted"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},"voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Voting power"}},block:{t:0,b:{t:2,i:[{t:3}],s:"Block"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Submit"}},"not-enough-voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Not enough vePRISMA voting power"}},execute:{t:0,b:{t:2,i:[{t:3}],s:"Execute"}},executing:{t:0,b:{t:2,i:[{t:3}],s:"Executing..."}}}})}typeof Ha=="function"&&Ha(dn);const Ud=P(dn,[["__scopeId","data-v-123ed401"]]),Ed={class:"voting"},Od=A({__name:"Voting",props:{proposal:{}},setup(t){return(e,a)=>(f(),T("div",Ed,[v(Id,{proposal:e.proposal},null,8,["proposal"]),v(Ud,{proposal:e.proposal},null,8,["proposal"])]))}}),Wd=P(Od,[["__scopeId","data-v-1a419f8d"]]),Kd={class:"voters"},Nd={class:"address"},Hd=["href"],Gd={class:"amount"},jd={class:"percentage"},Zd=A({__name:"Voters",props:{proposal:{}},setup(t){const{address:e}=Je(),a=w(()=>t.proposal.voters.orderBy(u=>u.weight,"desc")),n=u=>u==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":u==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":u==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":N(u,12),l=u=>u/t.proposal.weightReceived*100,c=u=>u===e.value;return(u,r)=>{const d=ee;return f(),T("div",Kd,[(f(!0),T(z,null,se(o(a),p=>(f(),T("div",{key:p.voter,class:"vote font-mono"},[_("div",Nd,[_("a",{target:"_blank",href:`https://etherscan.io/address/${p.voter}`,class:U({you:c(p.voter)})},x(n(p.voter)),11,Hd)]),_("div",Gd,[v(d,{value:p.weight,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_("div",jd,[v(d,{value:l(p.weight),precision:0,type:"percentage"},null,8,["value"])])]))),128))])}}}),zd=P(Zd,[["__scopeId","data-v-3267bc3e"]]),Yd={class:"technicals"},Qd={key:0,class:"technical"},Jd={class:"heading"},Xd={class:"description"},ep=["href"],tp={key:1,class:"technical"},ap={class:"heading"},op={class:"description"},np=["href"],sp={key:2,class:"technical"},lp={class:"heading"},rp={class:"description"},ip={class:"technical"},cp={class:"technical"},up=["innerHTML"],pn=A({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean}},setup(t){const{t:e}=F(),a=q(!0),n=q(t.proposal.votes>0),l=w(()=>`https://twitter.com/@${t.proposal.metadata.author}`),c=w(()=>t.proposal.voters.map(r=>r.voter).uniqWith((r,d)=>r===d).length),u=w(()=>t.proposal.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,r=>/[A-F]/g.test(r)&&hs(r)?`<a href='https://etherscan.io/address/${r}'>${r}</a>`:r));return(r,d)=>{var i,m,y,h;const p=mt,s=Qe;return f(),T("div",Yd,[(i=r.proposal.metadata)!=null&&i.author?(f(),T("div",Qd,[_("div",Jd,x(o(e)("author")),1),_("div",Xd,[_("a",{href:o(l),target:"_blank"},x(r.proposal.metadata.author),9,ep)])])):D("",!0),(m=r.proposal.metadata)!=null&&m.link?(f(),T("div",tp,[_("div",ap,x(o(e)("link")),1),_("div",op,[_("a",{href:r.proposal.metadata.link,target:"_blank"},x(r.proposal.metadata.link),9,np)])])):D("",!0),(y=r.proposal.metadata)!=null&&y.description?(f(),T("div",sp,[_("div",lp,x(o(e)("description")),1),_("div",rp,x((h=r.proposal.metadata)==null?void 0:h.description),1)])):D("",!0),_("div",ip,[_("div",{class:"heading",onClick:d[0]||(d[0]=C=>n.value=!o(n))},[M(x(o(e)("voters"))+" ("+x(o(c)??"?")+") ",1),v(p,{class:U(["expander",{expandedVoters:o(n)}])},null,8,["class"])]),v(s,{expanded:o(n)},{default:g(()=>[v(zd,{class:"voters",proposal:r.proposal},null,8,["proposal"])]),_:1},8,["expanded"])]),_("div",cp,[_("div",{class:"heading",onClick:d[1]||(d[1]=C=>a.value=!o(a))},[M(x(o(e)("calldata"))+" ",1),v(p,{class:U(["expander",{expandedCallData:o(a)}])},null,8,["class"])]),v(s,{expanded:o(a)},{default:g(()=>[_("div",{class:"calldata font-mono",innerHTML:o(u)},null,8,up)]),_:1},8,["expanded"])])])}}});function Ga(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},author:{t:0,b:{t:2,i:[{t:3}],s:"Author"}},link:{t:0,b:{t:2,i:[{t:3}],s:"Link"}},calldata:{t:0,b:{t:2,i:[{t:3}],s:"Calldata"}},voters:{t:0,b:{t:2,i:[{t:3}],s:"Voters"}}}})}typeof Ga=="function"&&Ga(pn);const dp=P(pn,[["__scopeId","data-v-4c4de6d3"]]),pp={class:"proposal-details"},mp={class:"proposal-details-container"},vp=A({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(t){return(e,a)=>(f(),T("div",pp,[_("div",mp,[v(dp,{proposal:e.proposal,expanded:e.expanded},null,8,["proposal","expanded"]),v(Wd,{proposal:e.proposal},null,8,["proposal"])])]))}}),_p=P(vp,[["__scopeId","data-v-3ad23c01"]]),fp=A({__name:"Proposal",props:{proposal:{}},setup(t){const e=q(!1);return(a,n)=>{const l=Qe,c=B;return f(),L(c,{class:"proposal",compact:!0},{default:g(()=>[v(kd,{proposal:a.proposal,expanded:o(e),onToggleExpand:n[0]||(n[0]=u=>e.value=!o(e))},null,8,["proposal","expanded"]),v(l,{class:"proposal-details-collapsible",expanded:o(e)},{default:g(()=>[v(_p,{proposal:a.proposal,expanded:o(e)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),hp=P(fp,[["__scopeId","data-v-66b78c6a"]]),bp={class:"proposals-tab"},gp={class:"filters"},yp={style:{display:"flex",gap:"1rem","justify-content":"end"}},wp={key:1},wt=10,mn=A({__name:"ProposalsTab",props:{proposals:{}},setup(t){const{t:e}=F(),a=q(""),n=q(e("search-placeholder")),l=w(()=>{const d=a.value.toLocaleLowerCase();return t.proposals.filter(p=>!!p.metadata&&p.metadata.title.toLocaleLowerCase().includes(d))}),{page:c,rowsPage:u,onPage:r}=fe(l,wt);return(d,p)=>{const s=de,i=_e;return f(),T("div",bp,[_("div",gp,[v(s,{modelValue:o(a),"onUpdate:modelValue":p[0]||(p[0]=m=>re(a)?a.value=m:null),class:"search",placeholder:o(n),search:!0},null,8,["modelValue","placeholder"]),_("div",yp,[o(l).length>0?(f(),L(i,{key:0,class:"pagination","items-count":o(l).length,"items-per-page":wt,page:o(c),onPage:o(r)},null,8,["items-count","page","onPage"])):D("",!0)])]),(f(!0),T(z,null,se(o(u),m=>(f(),L(hp,{key:m.id,proposal:m},null,8,["proposal"]))),128)),o(l).length>0?(f(),L(i,{key:0,class:"pagination","items-count":o(l).length,"items-per-page":wt,page:o(c),onPage:o(r)},null,8,["items-count","page","onPage"])):D("",!0),o(l).length===0?(f(),T("div",wp,x(o(e)("no-proposals")),1)):D("",!0)])}}});function ja(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for Prisma proposals"}},"no-proposals":{t:0,b:{t:2,i:[{t:3}],s:"No proposals could be found."}}}})}typeof ja=="function"&&ja(mn);const He=P(mn,[["__scopeId","data-v-818ba66b"]]),$p="https://api.prismamonitor.com/v1",Cp=(t,e)=>{var $;const a=t.index,n=t.creator,l=t.creator_label,c=t.required_weight,u=t.received_weight,r=t.status,d=t.vote_count,p=t.voters.map(S=>({voter:S.voter.toLowerCase(),weight:S.weight})),s=t.transaction_hash,i=t.execution_tx,m=t.can_execute_after,y=t.block_number,h=t.block_timestamp,C=t.execution_timestamp?t.execution_timestamp:h+604800,k=t.decode_data,b=($=e==null?void 0:e.data.proposals.find(S=>S.id===a))==null?void 0:$.metadata;return{id:a,metadata:b,proposer:n,proposerLabel:l,weightRequired:c,weightReceived:u,status:r,votes:d,voters:p,tx:s,txExecuted:i,executeAfter:m,block:y,start:h,end:C,script:k}};class kp extends ve{async getProposals(){let e;try{e=await this.fetch("https://api.prismafinance.com/api/v1/proposalVotes")}catch{Re({text:"Failed to fetch metadata for proposals",type:"error"})}return await Ie(l=>this.fetch(`${$p}/dao/ethereum/ownership/proposals?items=100&page=${l}&order_by=block_timestamp&desc=true`).then(c=>c.proposals.map(u=>Cp(u,e))),1,100)}}const Sp={class:"proposals"},vn=A({__name:"Proposals.page",setup(t){const{t:e}=F(),a=new kp,n=q(0),{isFetching:l,data:c}=W({queryKey:["prisma-proposals"],queryFn:()=>a.getProposals().then(s=>s.sort((i,m)=>m.start-i.start)),initialData:[],initialDataUpdatedAt:0}),u=w(()=>c.value.filter(s=>he(s)==="active")),r=w(()=>c.value.filter(s=>he(s)==="passed")),d=w(()=>c.value.filter(s=>he(s)==="denied")),p=w(()=>c.value.filter(s=>he(s)==="executed"));return(s,i)=>{const m=nt,y=ot,h=wo;return f(),T("div",Sp,[o(l)?D("",!0):(f(),L(y,{key:0,onTab:i[0]||(i[0]=C=>n.value=C.index)},{default:g(()=>[v(m,{header:o(e)("all")},{default:g(()=>[o(n)===0?(f(),L(He,{key:0,proposals:o(c)},null,8,["proposals"])):D("",!0)]),_:1},8,["header"]),v(m,{header:o(e)("active")},{default:g(()=>[o(n)===1?(f(),L(He,{key:0,proposals:o(u)},null,8,["proposals"])):D("",!0)]),_:1},8,["header"]),v(m,{header:o(e)("passed")},{default:g(()=>[o(n)===2?(f(),L(He,{key:0,proposals:o(r)},null,8,["proposals"])):D("",!0)]),_:1},8,["header"]),v(m,{header:o(e)("denied")},{default:g(()=>[o(n)===3?(f(),L(He,{key:0,proposals:o(d)},null,8,["proposals"])):D("",!0)]),_:1},8,["header"]),v(m,{header:o(e)("executed")},{default:g(()=>[o(n)===4?(f(),L(He,{key:0,proposals:o(p)},null,8,["proposals"])):D("",!0)]),_:1},8,["header"])]),_:1})),v(h,{class:U({loading:o(l)})},null,8,["class"])])}}});function Za(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}}}})}typeof Za=="function"&&Za(vn);const Lp=P(vn,[["__scopeId","data-v-89fe73ec"]]),Tp=A({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(t){const e=w(()=>ae({chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:c=>{let u=n.value[c.seriesIndex];u=u.length>10?N(u):u;const r=c.series[c.seriesIndex];return[`<div><b>${u}</b>:</div><div>${l(r)}</div>`].join("")}},labels:t.data.map(c=>c.label.length>10?N(c.label):c.label)})),a=w(()=>t.data.map(c=>c.value)),n=w(()=>t.data.map(c=>c.label)),l=c=>`$${H(Math.abs(c),1,"dollar")}${J(c)}`;return(c,u)=>{const r=te,d=B;return f(),L(d,null,{default:g(()=>[v(r,{options:o(e),series:o(a)},null,8,["options","series"])]),_:1})}}}),Ap=P(Tp,[["__scopeId","data-v-d373cf9f"]]),xp={class:"button-group"},_n=A({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(t){const{t:e}=F(),a=E(),n=new Te(a.flavor),l=q("collateral"),{isFetching:c,data:u}=W({queryKey:["prisma-large-trove-positions",w(()=>{var r;return(r=t.vault)==null?void 0:r.address}),l],queryFn:({queryKey:[,r,d]})=>r?n.getLargeTrovePositions("ethereum",r,d).then(p=>p.positions):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});return(r,d)=>{const p=et,s=B;return f(),L(s,{title:o(e)("title"),loading:o(c)},{actions:g(()=>[_("div",xp,[v(p,{"model-value":o(l)==="collateral",onClick:d[0]||(d[0]=i=>l.value="collateral")},{default:g(()=>d[2]||(d[2]=[M(" Coll. ")])),_:1},8,["model-value"]),v(p,{"model-value":o(l)==="debt",onClick:d[1]||(d[1]=i=>l.value="debt")},{default:g(()=>d[3]||(d[3]=[M(" Debt ")])),_:1},8,["model-value"])])]),default:g(()=>[v(Ap,{data:o(u)},null,8,["data"])]),_:1},8,["title","loading"])}}});function za(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"5 Largest Troves vs Others"}}}})}typeof za=="function"&&za(_n);const Pp=A({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(t){const e=w(()=>ae({chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:n.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),a=w(()=>[{name:"# of troves",data:Object.values(t.data).map(l=>l.value)}]),n=w(()=>t.data.map(l=>l.label));return(l,c)=>{const u=te,r=B;return f(),L(r,null,{default:g(()=>[v(u,{options:o(e),series:o(a)},null,8,["options","series"])]),_:1})}}}),Ip=P(Pp,[["__scopeId","data-v-977c6641"]]),Dp={class:"actions"},fn=A({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(t){const{t:e}=F(),a=E(),n=new Te(a.flavor),l=q("collateral"),{isFetching:c,data:u}=W({queryKey:["prisma-trove-distributions",w(()=>{var r;return(r=t.vault)==null?void 0:r.address}),l],queryFn:({queryKey:[,r,d]})=>r?n.getTroveDistribution("ethereum",r,d).then(p=>p.distribution):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});return(r,d)=>{const p=et,s=B;return f(),L(s,{title:o(e)("title"),loading:o(c)},{actions:g(()=>[_("div",Dp,[v(p,{"model-value":o(l)==="collateral",onClick:d[0]||(d[0]=i=>l.value="collateral")},{default:g(()=>d[2]||(d[2]=[M(" Coll. ")])),_:1},8,["model-value"]),v(p,{"model-value":o(l)==="debt",onClick:d[1]||(d[1]=i=>l.value="debt")},{default:g(()=>d[3]||(d[3]=[M(" Debt ")])),_:1},8,["model-value"])])]),default:g(()=>[v(Ip,{data:o(u)},null,8,["data"])]),_:1},8,["title","loading"])}}});function Ya(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Troves Distribution"}}}})}typeof Ya=="function"&&Ya(fn);const Vp=P(fn,[["__scopeId","data-v-43ae4e6a"]]),qp={class:"kpis"},Mp={class:"kpi-body"},Rp={class:"kpi-body"},Fp={class:"kpi-body"},Bp={class:"kpi-body"},Up={class:"kpi-body"},Ep={class:"kpi-body"},Op=A({__name:"VaultKPIs",props:{vault:{default:null}},setup(t){return(e,a)=>{const n=ee,l=$e;return f(),T("div",qp,[v(l,{label:"TVL","has-value":!!e.vault},{default:g(()=>[_("div",Mp,[e.vault?(f(),L(n,{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):D("",!0)])]),_:1},8,["has-value"]),v(l,{label:"Debt / Debt Cap","has-value":!!e.vault},{default:g(()=>[_("div",Rp,[e.vault?(f(),L(n,{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):D("",!0),a[0]||(a[0]=M(" / ")),e.vault?(f(),L(n,{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):D("",!0)])]),_:1},8,["has-value"]),v(l,{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:g(()=>[_("div",Fp,[e.vault?(f(),L(n,{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):D("",!0),a[1]||(a[1]=M(" / ")),e.vault?(f(),L(n,{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):D("",!0)])]),_:1},8,["has-value"]),v(l,{label:"Interest rate","has-value":!!e.vault},{default:g(()=>[_("div",Bp,[e.vault?(f(),L(n,{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):D("",!0)])]),_:1},8,["has-value"]),v(l,{label:"Troves open / total","has-value":!!e.vault},{default:g(()=>[_("div",Up,[e.vault?(f(),L(n,{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):D("",!0),a[2]||(a[2]=M(" / ")),e.vault?(f(),L(n,{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):D("",!0)])]),_:1},8,["has-value"]),v(l,{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:g(()=>[_("div",Ep,[e.vault?(f(),L(n,{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):D("",!0),a[3]||(a[3]=M(" / ")),e.vault?(f(),L(n,{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):D("",!0)])]),_:1},8,["has-value"])])}}}),Wp=P(Op,[["__scopeId","data-v-404e2d20"]]),Kp={ref:"chartRef",class:"chart"},hn=A({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(t){const{t:e}=F(),{theme:a,flavor:n}=X(E()),l=new Te(n.value),{isFetching:c,data:u}=W({queryKey:["prisma-vault-collateral-ratio",w(()=>{var s;return(s=t.vault)==null?void 0:s.address})],queryFn:({queryKey:[,s]})=>s?l.getVaultCollateralRatio("ethereum",s,"1m").then(i=>i.ratio):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{chart:r,series:d}=ce({createChartOptions:ie(),series:{type:"Area",name:"cr",options:w(()=>({priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:le.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...a.value.lineChartColors}))}});ue(p);function p(){if(!r.value||!d.cr)return;const s=u.value.map(i=>({time:i.timestamp,value:i.value*100})).uniqWith((i,m)=>i.time===m.time).orderBy(i=>i.time,"asc");s.length>0&&d.cr.setData(s),r.value.timeScale().fitContent()}return(s,i)=>{const m=B;return f(),L(m,{title:o(e)("title"),loading:o(c)},{default:g(()=>[_("div",Kp,null,512)]),_:1},8,["title","loading"])}}});function Qa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Vault collateral ratio"}}}})}typeof Qa=="function"&&Qa(hn);const Np={ref:"chartRef",class:"chart"},bn=A({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(t){const{t:e}=F(),{theme:a,flavor:n}=X(E()),l=new Te(n.value),{isFetching:c,data:u}=W({queryKey:["prisma-vault-trove-count",w(()=>{var s;return(s=t.vault)==null?void 0:s.address})],queryFn:({queryKey:[,s]})=>s?l.getVaultTroveCount("ethereum",s,"1m").then(i=>i.count):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{chart:r,series:d}=ce({createChartOptions:ie(),series:{type:"Area",name:"troves",options:w(()=>({priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:le.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...a.value.lineChartColors}))}});ue(p);function p(){if(!r.value||!d.troves)return;const s=u.value.map(i=>({time:i.timestamp,value:i.value})).uniqWith((i,m)=>i.time===m.time).orderBy(i=>i.time,"asc");s.length>0&&d.troves.setData(s),r.value.timeScale().fitContent()}return(s,i)=>{const m=B;return f(),L(m,{title:o(e)("title"),loading:o(c)},{default:g(()=>[_("div",Np,null,512)]),_:1},8,["title","loading"])}}});function Ja(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Number of open troves"}}}})}typeof Ja=="function"&&Ja(bn);const Hp={class:"dashboard-grid"},Gp=A({__name:"VaultOverview",props:{vault:{}},setup(t){return(e,a)=>(f(),T("div",Hp,[v(Wp,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),v(Vp,{vault:e.vault},null,8,["vault"]),v(_n,{vault:e.vault},null,8,["vault"]),v(hn,{vault:e.vault},null,8,["vault"]),v(bn,{vault:e.vault},null,8,["vault"])]))}}),jp=P(Gp,[["__scopeId","data-v-c62ee522"]]),Zp={ref:"chartRef",class:"chart"},gn=A({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(t){const{t:e}=F(),{theme:a,flavor:n}=X(E()),{items:l}=Wt(()=>[{id:"oracle",label:"Oracle",color:a.value.colorsArray[0]},{id:"market",label:"Market",color:a.value.colorsArray[1]}]),c=new Mt(n.value),u={oracle:[],market:[]},{isFetching:r,data:d}=W({queryKey:["prisma-stable-distribution",w(()=>{var y;return(y=t.vault)==null?void 0:y.collateral})],queryFn:async({queryKey:[,y]})=>{if(y){const h=await c.getCollateralPrices("ethereum",y,"7d");return p(h.oracle,h.market)}else return Promise.resolve(u)},initialData:u,initialDataUpdatedAt:0}),p=(y,h)=>{const C=Math.max(y[0].timestamp,h[0].timestamp),k=Math.min(y[y.length-1].timestamp,h[h.length-1].timestamp),b=y.filter(S=>S.timestamp>=C&&S.timestamp<=k),$=h.filter(S=>S.timestamp>=C&&S.timestamp<=k);return b[b.length-1].timestamp<k&&b.push({timestamp:k,value:b[b.length-1].value}),$[$.length-1].timestamp<k&&$.push({timestamp:k,value:$[$.length-1].value}),{oracle:b,market:$}},{chart:s,series:i}=ce({createChartOptions:ie(),series:[{type:"Area",name:"oracle",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:le.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...a.value.lineChartColors}))},{type:"Area",name:"market",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:le.WithSteps,lineColor:a.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}]});ue(m);function m(){if(!s.value||!i.oracle||!i.market)return;const y=d.value.oracle.map(C=>({time:C.timestamp,value:C.value})).uniqWith((C,k)=>C.time===k.time).orderBy(C=>C.time,"asc"),h=d.value.market.map(C=>({time:C.timestamp,value:C.value})).uniqWith((C,k)=>C.time===k.time).orderBy(C=>C.time,"asc");h.length>0&&i.market.setData(h),y.length>0&&i.oracle.setData(y),s.value.timeScale().fitContent()}return(y,h)=>{const C=Ot,k=B;return f(),L(k,{title:o(e)("title"),loading:o(r)},{"actions-secondary":g(()=>[v(C,{items:o(l)},null,8,["items"])]),default:g(()=>[_("div",Zp,null,512)]),_:1},8,["title","loading"])}}});function Xa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Oracle & Market price"}}}})}typeof Xa=="function"&&Xa(gn);const yn=A({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(t){const{t:e}=F(),{flavor:a}=X(E()),n=new Mt(a.value),{isFetching:l,data:c}=W({queryKey:["prisma-collateral-price-impact",w(()=>{var i;return(i=t.vault)==null?void 0:i.collateral})],queryFn:({queryKey:[,i]})=>i?n.getCollateralPriceImpact("ethereum",i).then(m=>m.impact):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),u=w(()=>ae({chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:d.value,labels:{formatter:i=>p(i)}},yaxis:{seriesName:"impact",labels:{formatter:i=>s(i)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:i=>{if(!t.vault)return"";const m=d.value[i.dataPointIndex],y=p(m*t.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${p(m)} ${t.vault.name} ($${y})</div>

          <div><b>Price impact:</b>:</div>
          <div>${s(i.series[0][i.dataPointIndex])}</div>
          `}}})),r=w(()=>[{name:e("priceImpact"),data:Object.values(c.value).map(i=>i.impact)}]),d=w(()=>c.value.map(i=>t.vault?i.amount/t.vault.price:0)),p=i=>`${H(Math.abs(i),1,"dollar")}${J(i)}`,s=i=>`${H(i,2,"percentage")}%`;return(i,m)=>{const y=te,h=B;return f(),L(h,{title:o(e)("title"),loading:o(l)},{default:g(()=>[v(y,{options:o(u),series:o(r)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function eo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"On-chain Selling Price Impact"}},priceImpact:{t:0,b:{t:2,i:[{t:3}],s:"Price impact"}}}})}typeof eo=="function"&&eo(yn);const zp=P(yn,[["__scopeId","data-v-02480004"]]),Yp={class:"kpis"},Qp=["href"],Jp=A({__name:"CollateralKPIs",props:{vault:{default:null}},setup(t){const e=E(),a=new Mt(e.flavor),{data:n}=W({queryKey:["prisma-collateral-info",w(()=>{var l;return(l=t.vault)==null?void 0:l.address})],queryFn:({queryKey:[,l]})=>l?a.getCollateralInfo("ethereum",l).then(c=>c.info):Promise.resolve(null),initialData:null,initialDataUpdatedAt:0});return(l,c)=>{const u=ee,r=$e;return f(),T("div",Yp,[v(r,{label:"Oracle price","has-value":!!o(n)},{default:g(()=>[o(n)?(f(),L(u,{key:0,value:o(n).price,precision:2,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),v(r,{label:"Total supply","has-value":!!o(n)},{default:g(()=>[o(n)?(f(),L(u,{key:0,value:o(n).supply,precision:2,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),v(r,{label:"TVL","has-value":!!o(n)},{default:g(()=>[o(n)?(f(),L(u,{key:0,value:o(n).tvl,precision:1,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),v(r,{label:"Share of the collateral market","has-value":!!o(n)},{default:g(()=>[o(n)?(f(),L(u,{key:0,value:o(n).share,precision:1,type:"percentage"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),v(r,{label:"Full risk analysis by Prisma Risk team","has-value":!!o(n)},{default:g(()=>[o(n)?(f(),T("a",{key:0,href:o(n).risk}," Risk Report ",8,Qp)):D("",!0)]),_:1},8,["has-value"])])}}}),Xp=P(Jp,[["__scopeId","data-v-20cdef90"]]),em={class:"dashboard-grid"},tm=A({__name:"Collateral",props:{vault:{}},setup(t){return(e,a)=>(f(),T("div",em,[v(Xp,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),v(gn,{vault:e.vault},null,8,["vault"]),v(zp,{vault:e.vault},null,8,["vault"])]))}}),am=P(tm,[["__scopeId","data-v-21f51866"]]),om={style:{display:"flex",gap:"1rem"}},nm=["href"],sm=["href"],lm={class:"end"},rm={class:"end"},im={class:"end"},to=15,wn=A({__name:"TableLiquidations",props:{vault:{default:null}},setup(t){const{t:e}=F(),a=E(),n=new Rt(a.flavor),{isFetching:l,data:c}=W({queryKey:["prisma-vault-liquidations",w(()=>{var k;return(k=t.vault)==null?void 0:k.address})],queryFn:({queryKey:[,k]})=>k?n.getLiquidations("ethereum",k):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:u}=ye(),r=q(""),d=q(null),p=[{id:"liquidator",label:"Liquidator",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:s,onSort:i}=Ce("timestamp"),m=w(()=>c.value.filter(k=>{const b=r.value.toLocaleLowerCase().split(" ");return(S=>b.some(I=>S.toLocaleLowerCase().includes(I)))(k.liquidator)}).orderBy(k=>{switch(s.value.column){case"liquidator":return k.liquidator;case"tx":return k.transaction;case"debt":return k.liquidated_collateral_usd;case"numtroves":return k.troves_affected_count;case"timestamp":return k.timestamp}},s.value.order)),{page:y,rowsPage:h,onPage:C}=fe(m,to);return(k,b)=>{const $=de,S=_e,I=ee,R=ne,K=B,Q=Se;return f(),T(z,null,[v(K,{class:"liquidations-card",title:o(e)("title"),loading:o(l)},{actions:g(()=>[_("div",om,[v($,{modelValue:o(r),"onUpdate:modelValue":b[0]||(b[0]=O=>re(r)?r.value=O:null),search:!0,placeholder:o(e)("search-placeholder")},null,8,["modelValue","placeholder"]),v(S,{"items-count":o(m).length,"items-per-page":to,page:o(y),onPage:o(C)},null,8,["items-count","page","onPage"])])]),default:g(()=>[v(R,{class:"liquidations-table",rows:o(h),columns:p,sorting:o(s),onSortColumn:o(i),onSelected:b[3]||(b[3]=O=>d.value=O)},{row:g(({item:O})=>[_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/address/${O.liquidator}`,target:"_blank",onClick:b[1]||(b[1]=Y(()=>{},["stop"]))},x(o(N)(O.liquidator)),9,nm)]),_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/tx/${O.transaction}`,target:"_blank",onClick:b[2]||(b[2]=Y(()=>{},["stop"]))},x(o(N)(O.transaction)),9,sm)]),_("div",lm,[v(I,{type:"dollar",value:Math.round(O.liquidated_debt),precision:1/0},null,8,["value"])]),_("div",rm,x(O.troves_affected_count),1),_("div",im,x(o(u)(O.timestamp)),1)]),"row-details":g(()=>b[5]||(b[5]=[M("   ")])),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),v(Q,{show:!!o(d),onClose:b[4]||(b[4]=O=>d.value=null)},{default:g(()=>{var O;return[o(d)?(f(),L(Et,{key:0,liquidation:o(d),"vault-addr":((O=k.vault)==null?void 0:O.address)??""},null,8,["liquidation","vault-addr"])):D("",!0)]}),_:1},8,["show"])],64)}}});function ao(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof ao=="function"&&ao(wn);const cm=P(wn,[["__scopeId","data-v-a466bff5"]]),um={class:"dashboard-grid"},dm=A({__name:"Liquidations",props:{vault:{}},setup(t){return(e,a)=>(f(),T("div",um,[v(cm,{vault:e.vault},null,8,["vault"])]))}}),pm=P(dm,[["__scopeId","data-v-281623fa"]]),mm={style:{display:"flex",gap:"1rem"}},vm=["href"],_m=["href"],fm={class:"end"},hm={class:"end"},bm={class:"end"},oo=15,$n=A({__name:"TableRedemptions",props:{vault:{default:null}},setup(t){const{t:e}=F(),a=E(),n=new Ft(a.flavor),{isFetching:l,data:c}=W({queryKey:["prisma-vault-redemptions",w(()=>{var k;return(k=t.vault)==null?void 0:k.address})],queryFn:({queryKey:[,k]})=>k?n.getRedemptions("ethereum",k):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:u}=ye(),r=q(""),d=q(null),p=[{id:"redeemer",label:"Redeemer",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:s,onSort:i}=Ce("timestamp"),m=w(()=>c.value.filter(k=>{const b=r.value.toLocaleLowerCase().split(" ");return(S=>b.some(I=>S.toLocaleLowerCase().includes(I)))(k.redeemer)}).orderBy(k=>{switch(s.value.column){case"redeemer":return k.redeemer;case"tx":return k.transaction;case"debt":return k.actual_debt_amount;case"numtroves":return k.troves_affected_count;case"timestamp":return k.timestamp}},s.value.order)),{page:y,rowsPage:h,onPage:C}=fe(m,oo);return(k,b)=>{const $=de,S=_e,I=ee,R=ne,K=B,Q=Se;return f(),T(z,null,[v(K,{class:"redemptions-card",title:o(e)("title"),loading:o(l)},{actions:g(()=>[_("div",mm,[v($,{modelValue:o(r),"onUpdate:modelValue":b[0]||(b[0]=O=>re(r)?r.value=O:null),search:!0,placeholder:o(e)("search-placeholder")},null,8,["modelValue","placeholder"]),v(S,{"items-count":o(m).length,"items-per-page":oo,page:o(y),onPage:o(C)},null,8,["items-count","page","onPage"])])]),default:g(()=>[v(R,{class:"redemptions-table",rows:o(h),columns:p,sorting:o(s),onSortColumn:o(i),onSelected:b[3]||(b[3]=O=>d.value=O)},{row:g(({item:O})=>[_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/address/${O.redeemer}`,target:"_blank",onClick:b[1]||(b[1]=Y(()=>{},["stop"]))},x(o(N)(O.redeemer)),9,vm)]),_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/tx/${O.transaction}`,target:"_blank",onClick:b[2]||(b[2]=Y(()=>{},["stop"]))},x(o(N)(O.transaction)),9,_m)]),_("div",fm,[v(I,{type:"dollar",value:Math.round(O.actual_debt_amount),precision:1/0},null,8,["value"])]),_("div",hm,x(O.troves_affected_count),1),_("div",bm,x(o(u)(O.timestamp)),1)]),"row-details":g(()=>b[5]||(b[5]=[M("   ")])),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),v(Q,{show:!!o(d),onClose:b[4]||(b[4]=O=>d.value=null)},{default:g(()=>{var O;return[o(d)?(f(),L(Ut,{key:0,redemption:o(d),"vault-addr":((O=k.vault)==null?void 0:O.address)??""},null,8,["redemption","vault-addr"])):D("",!0)]}),_:1},8,["show"])],64)}}});function no(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof no=="function"&&no($n);const gm=P($n,[["__scopeId","data-v-1df11527"]]),ym={class:"dashboard-grid"},wm=A({__name:"Redemptions",props:{vault:{}},setup(t){return(e,a)=>(f(),T("div",ym,[v(gm,{vault:e.vault},null,8,["vault"])]))}}),$m=P(wm,[["__scopeId","data-v-4ec12a98"]]),Cm={style:{display:"grid",gap:"1rem","grid-template-columns":"1fr 2fr auto"}},km=["href"],Sm={class:"end"},Lm={class:"end"},so=15,Cn=A({__name:"TableTroves",props:{vault:{default:null}},emits:["selected"],setup(t,{emit:e}){const{t:a}=F(),n=e,l=E(),c=new Ue(l.flavor),{isFetching:u,data:r}=W({queryKey:["prisma-vault-troves",w(()=>{var S;return(S=t.vault)==null?void 0:S.address})],queryFn:({queryKey:[,S]})=>S?c.getTroves("ethereum",S):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:d}=ye(),p=q(""),s=q("Open"),i=w(()=>s.value==="Open"?[{id:"owner",label:"Owner",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"coll",label:"Collateral",sort:!0,align:"end"},{id:"ratio",label:"Ratio",sort:!0,align:"end"},{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]:[{id:"owner",label:"Owner",sort:!0},"","","",{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]),{sorting:m,onSort:y}=Ce("updated"),h=w(()=>r.value.filter(S=>s.value===S.status).filter(S=>{const I=p.value.toLocaleLowerCase().split(" ");return(K=>I.some(Q=>K.toLocaleLowerCase().includes(Q)))(S.owner)}).orderBy(S=>{switch(m.value.column){case"owner":return S.owner;case"debt":return S.debt;case"coll":return S.collateral_usd;case"ratio":return S.collateral_ratio;case"created":return S.created_at;case"updated":return S.last_update}},m.value.order)),{page:C,rowsPage:k,onPage:b}=fe(h,so),$=S=>{S===0?s.value="Open":S===1?s.value="Closed":s.value="Open"};return(S,I)=>{const R=nt,K=ot,Q=de,O=_e,V=ee,ke=ne,bt=B;return f(),L(bt,{class:"troves-card",loading:o(u)},{actions:g(()=>[_("div",Cm,[v(K,{class:"types",onTab:I[0]||(I[0]=G=>$(G.index))},{default:g(()=>[v(R,{header:"Open"}),v(R,{header:"Closed"})]),_:1}),v(Q,{modelValue:o(p),"onUpdate:modelValue":I[1]||(I[1]=G=>re(p)?p.value=G:null),search:!0,placeholder:o(a)("search-placeholder")},null,8,["modelValue","placeholder"]),v(O,{"items-count":o(h).length,"items-per-page":so,page:o(C),onPage:o(b)},null,8,["items-count","page","onPage"])])]),default:g(()=>[v(ke,{class:"troves-table",rows:o(k),columns:o(i),sorting:o(m),onSortColumn:o(y),onSelected:I[3]||(I[3]=G=>n("selected",G))},{row:g(({item:G})=>[_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/address/${G.owner}`,target:"_blank",onClick:I[2]||(I[2]=Y(()=>{},["stop"]))},x(o(N)(G.owner)),9,km)]),_("div",{class:U(["end",{hide:o(s)==="Closed"}])},[v(V,{type:"dollar",value:Math.round(G.debt),precision:1/0},null,8,["value"])],2),_("div",{class:U(["end",{hide:o(s)==="Closed"}])},[v(V,{type:"dollar",value:Math.round(G.collateral_usd),precision:1/0},null,8,["value"])],2),_("div",{class:U(["end",{hide:o(s)==="Closed"}])},[v(V,{value:G.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),_("div",Sm,x(o(d)(G.created_at)),1),_("div",Lm,x(o(d)(G.last_update)),1)]),"row-details":g(()=>I[4]||(I[4]=[M("   ")])),_:1},8,["rows","columns","sorting","onSortColumn"])]),_:1},8,["loading"])}}});function lo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof lo=="function"&&lo(Cn);const Tm=P(Cn,[["__scopeId","data-v-0acc611f"]]),Am={class:"dashboard-grid"},xm=A({__name:"Troves",props:{vault:{}},setup(t){const e=ft(),a=Me(),n=async l=>{e.trove=l,t.vault&&await a.push({name:"prismatrove",params:{troveAddr:l.owner,vaultAddr:t.vault.address}})};return(l,c)=>(f(),T("div",Am,[v(Tm,{vault:l.vault,onSelected:n},null,8,["vault"])]))}}),Pm=P(xm,[["__scopeId","data-v-3f7e1a15"]]),Im={class:"dashboard"},Dm=A({__name:"VaultManager.page",setup(t){const e=E(),a=Ye(),n=ft(),l=we().getSocket(Fe(e.flavor)),c=new Ee(l,"ethereum"),u=me(c.overview$,[]),r=Ze("vaultAddr"),d=w(()=>n.vault);be(()=>{var m,y;const i=Pe((m=d.value)==null?void 0:m.address)??((y=d.value)==null?void 0:y.name)??"?";a.show=!0,a.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${i}`}]}),j(u,i=>{const m=i.find(y=>y.address===r.value);m&&(n.vault=m)}),j(d,i=>{const m=Pe(i==null?void 0:i.address)??(i==null?void 0:i.name)??"?";a.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${m}`}]});const{tabActive:p,tabActiveIndex:s}=tn(["overview","collateral","trove","liquidations","redemptions"],"prismavault",()=>({vaultAddr:r.value}));return(i,m)=>{const y=nt,h=ot;return f(),T("div",Im,[v(h,{active:o(s),onTab:m[0]||(m[0]=C=>s.value=C.index)},{default:g(()=>[v(y,{header:"Overview"},{default:g(()=>[(f(),L(Oe,null,[o(p)==="overview"?(f(),L(jp,{key:0,vault:o(d)},null,8,["vault"])):D("",!0)],1024))]),_:1}),v(y,{header:"Collateral"},{default:g(()=>[(f(),L(Oe,null,[o(p)==="collateral"&&o(d)?(f(),L(am,{key:0,vault:o(d)},null,8,["vault"])):D("",!0)],1024))]),_:1}),v(y,{header:"Troves"},{default:g(()=>[(f(),L(Oe,null,[o(p)==="trove"&&o(d)?(f(),L(Pm,{key:0,vault:o(d)},null,8,["vault"])):D("",!0)],1024))]),_:1}),v(y,{header:"Liquidations"},{default:g(()=>[(f(),L(Oe,null,[o(p)==="liquidations"&&o(d)?(f(),L(pm,{key:0,vault:o(d)},null,8,["vault"])):D("",!0)],1024))]),_:1}),v(y,{header:"Redemptions"},{default:g(()=>[(f(),L(Oe,null,[o(p)==="redemptions"&&o(d)?(f(),L($m,{key:0,vault:o(d)},null,8,["vault"])):D("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),Vm=P(Dm,[["__scopeId","data-v-06266328"]]),kn=A({__name:"ChartTroveRank",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=F(),a=ge(),{flavor:n}=X(E()),l=new Ue(n.value),c=q("Trove Relative Position"),u={rank:null,total_positions:0,ratio:null,positions:[]},{isFetching:r,data:d}=W({queryKey:["prisma-trove-rank",w(()=>{var h;return(h=t.vault)==null?void 0:h.address}),w(()=>{var h;return(h=t.trove)==null?void 0:h.owner})],queryFn:async({queryKey:[,h,C]})=>h&&C?await l.getTroveRank("ethereum",h,C):Promise.resolve(u),initialData:u,initialDataUpdatedAt:0}),p=w(()=>{const{colors:h}=a.value,C={x:d.value.ratio??0,borderColor:h.yellow,strokeDashArray:2,label:{borderColor:h.yellow,style:{background:h.yellow,color:"rgb(34, 34, 34)"},position:"top",offsetX:15,text:`This trove: ${y(d.value.ratio??0,1)}`}};return ae({chart:{type:"area",animations:{enabled:!1},toolbar:{show:!0}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},annotations:{xaxis:d.value.ratio?[C]:[]},toolbar:{show:!1},xaxis:{type:"numeric",categories:i.value,labels:{formatter:k=>y(k)}},yaxis:{seriesName:"impact",labels:{formatter:k=>m(k)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:k=>{if(!t.vault)return"";const b=i.value[k.dataPointIndex];return`
          <div><b>Collateral ratio:</b></div>
          <div>${k.dataPointIndex===i.value.length-1?"Over 250%":y(b)}</div>

          <div><b>Troves with lower or equal ratio:</b></div>
          <div>${d.value.positions[k.dataPointIndex].trove_count}</div>

          <div><b>Collateral value at lower or equal ratio:</b></div>
          <div>$${m(k.series[0][k.dataPointIndex])}</div>
          `}}})}),s=w(()=>[{name:e("rank"),data:Object.values(d.value.positions).map(h=>h.collateral_usd)}]),i=w(()=>d.value.positions.map(h=>h.ratio)),m=h=>`${H(Math.abs(h),1,"dollar")}${J(h)}`,y=(h,C=0)=>`${H(h,C,"percentage")}%`;return vt(d,h=>{typeof h.rank=="number"&&(c.value=e("title",{rank:h.rank,total_positions:h.total_positions}))},{immediate:!0}),(h,C)=>{const k=Xe,b=te,$=B;return f(),L($,{title:o(c),loading:o(r)},{actions:g(()=>[v(k,null,{default:g(()=>C[0]||(C[0]=[_("div",null,[M(" This chart displays that amount of collateral available below different collateral ratios. "),_("br"),M(" It also displays the position of the trove relative to other troves in this vault. "),_("br"),_("br"),M(" This information is useful to estimate a trove's risk of redemption. "),_("br"),M(" Even if the trove's collateral ratio is high in the absolute, a lower ratio relative "),_("br"),M(" to other troves means a higher risk of redemption."),_("br"),_("br"),M(` As such, the lower the "risk rank" displayed, the higher the trove's risk of being redeemed. `)],-1)])),_:1})]),default:g(()=>[v(b,{options:o(p),series:o(s)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function ro(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3,v:"Trove Relative Position (Risk rank: "},{t:4,k:"rank"},{t:3,v:" / "},{t:4,k:"total_positions"},{t:3,v:")"}]}}}})}typeof ro=="function"&&ro(kn);const qm=P(kn,[["__scopeId","data-v-19193924"]]),Sn=A({__name:"ChartTroveHealth",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=F(),{flavor:a}=X(E()),n=new Ue(a.value),{isFetching:l,data:c}=W({queryKey:["prisma-trove-snapshots",w(()=>{var s;return(s=t.vault)==null?void 0:s.address}),w(()=>{var s;return(s=t.trove)==null?void 0:s.owner})],queryFn:({queryKey:[,s,i]})=>s&&i?n.getTroveSnapshots("ethereum",s,i).then(m=>m.snapshots):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),u=w(()=>ae({chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"collateralUsd",tickAmount:4,opposite:!0,labels:{formatter:s=>d(s)},min:0,max:Math.max(...c.value.map(s=>s.collateral_usd))},{seriesName:"ratio",tickAmount:4,labels:{formatter:s=>p(s)},min:0,max:Math.max(...c.value.map(s=>s.cr??0))}],dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:s=>{const i=s.w.globals.initialSeries[0].data[s.dataPointIndex].y,m=s.w.globals.initialSeries[1].data[s.dataPointIndex]?s.w.globals.initialSeries[1].data[s.dataPointIndex].y:0;return[`<div><b>${e("ratio")}</b>:</div><div>${p(m)}</div>`,`<div><b>${e("collateralUsd")}</b>:</div><div>${d(i)}</div>`].join("")}}})),r=w(()=>[{name:e("collateralUsd"),type:"line",data:c.value.map(s=>({x:s.timestamp*1e3,y:s.collateral_usd}))},{name:e("ratio"),type:"line",data:c.value.map(s=>({x:s.timestamp*1e3,y:s.cr??0}))}]),d=s=>`$${H(s,1,"dollar")}${J(s)}`,p=s=>`${xe(s*100,2)}%`;return(s,i)=>{const m=te,y=B;return f(),L(y,{title:o(e)("title"),loading:o(l)},{default:g(()=>[v(m,{options:o(u),series:o(r)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function io(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Health"}},collateralUsd:{t:0,b:{t:2,i:[{t:3}],s:"Collateral ($)"}},ratio:{t:0,b:{t:2,i:[{t:3}],s:"Ratio"}}}})}typeof io=="function"&&io(Sn);const Mm=P(Sn,[["__scopeId","data-v-21a9bd6e"]]),Rm={class:"end"},Fm={class:"end"},Bm={class:"end"},Um={class:"end"},Em={class:"end"},Om=["href"],Wm={class:"end"},Ln=A({__name:"TableTroveOps",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=F(),a=E(),n=new Ue(a.flavor),{relativeTime:l}=ye(),c=w(()=>r.value.orderBy(p=>p.timestamp,"desc")),{isFetching:u,data:r}=W({queryKey:["prisma-trove-snapshots",w(()=>{var p;return(p=t.vault)==null?void 0:p.address}),w(()=>{var p;return(p=t.trove)==null?void 0:p.owner})],queryFn:({queryKey:[,p,s]})=>p&&s?n.getTroveSnapshots("ethereum",p,s).then(i=>i.snapshots):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),d=p=>p.replace(/^_*(.)|_+(.)/g,(s,i,m)=>i?i.toUpperCase():" "+m.toUpperCase());return(p,s)=>{const i=ee,m=ne,y=B;return f(),L(y,{title:o(e)("title"),loading:o(u)},{default:g(()=>[v(m,{class:"trove-ops-table",rows:o(c),columns:["Operation",{label:"Collateral",align:"end"},{label:"Debt",align:"end"},{label:"Ratio",align:"end"},{label:"Stake",align:"end"},{label:"Tx",align:"end"},{label:"Time",align:"end"}]},{row:g(({item:h})=>[_("div",null,x(d(h.operation)),1),_("div",Rm,[h.collateral?(f(),L(i,{key:0,value:h.collateral,precision:3,"show-symbol":!1,type:"dollar"},null,8,["value"])):D("",!0)]),_("div",Fm,[v(i,{type:"dollar",value:Math.round(h.debt),precision:1/0},null,8,["value"])]),_("div",Bm,[h.cr?(f(),L(i,{key:0,value:h.cr*100,precision:2,type:"percentage"},null,8,["value"])):D("",!0)]),_("div",Um,[h.stake?(f(),L(i,{key:0,value:h.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])):D("",!0)]),_("div",Em,[_("a",{class:"font-mono",href:`https://etherscan.io/tx/${h.hash}`,target:"_blank",onClick:s[0]||(s[0]=Y(()=>{},["stop"]))},x(o(N)(h.hash)),9,Om)]),_("div",Wm,x(o(l)(h.timestamp)),1)]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function co(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Operations"}}}})}typeof co=="function"&&co(Ln);const Km=P(Ln,[["__scopeId","data-v-af04f531"]]),Nm={class:"dashboard"},Hm=A({__name:"Trove.page",setup(t){const e=E(),a=Ye(),n=ft(),l=new Ue(e.flavor),c=we().getSocket(Fe(e.flavor)),u=new Ee(c,"ethereum"),r=me(u.overview$,[]),d=Ze("vaultAddr"),p=Ze("troveAddr"),s=w(()=>n.vault),i=w(()=>n.trove);return be(async()=>{var h,C,k;const m=await l.getTroveDetail("ethereum",d.value,p.value);m&&(n.trove=m);const y=Pe((h=s.value)==null?void 0:h.address)??((C=s.value)==null?void 0:C.name)??"?";a.show=!0,a.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${y}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((k=i.value)==null?void 0:k.owner)??"?"}`}]}),j(r,m=>{const y=m.find(h=>h.address===d.value);y&&(n.vault=y)}),j(s,m=>{var h;const y=Pe(m==null?void 0:m.address)??(m==null?void 0:m.name)??"?";a.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${y}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((h=i.value)==null?void 0:h.owner)??"?"}`}]}),j(i,m=>{var h,C;const y=Pe((h=s.value)==null?void 0:h.address)??((C=s.value)==null?void 0:C.name)??"?";a.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${y}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(m==null?void 0:m.owner)??"?"}`}]}),(m,y)=>(f(),T("div",Nm,[v(qm,{class:"graph-rank",vault:o(s),trove:o(i)},null,8,["vault","trove"]),v(Mm,{class:"graph-health",vault:o(s),trove:o(i)},null,8,["vault","trove"]),v(Km,{class:"table-ops",vault:o(s),trove:o(i)},null,8,["vault","trove"])]))}}),Gm=P(Hm,[["__scopeId","data-v-378e161b"]]),jm={style:{display:"flex",gap:"1rem"}},Zm=["src"],zm=["href"],Ym=["href"],Qm={class:"end"},Jm={class:"end"},Xm={class:"end"},uo=15,Tn=A({__name:"TableRedemptions",props:{troves:{default:()=>[]}},setup(t){const e=E(),a=new Ft(e.flavor),{t:n}=F(),{isFetching:l,data:c}=W({queryKey:["prisma-redemptions",w(()=>t.troves)],queryFn:({queryKey:[,b]})=>Promise.all(b.uniq().map($=>a.getRedemptionsForTrove("ethereum",$))).then($=>$.flat()),initialData:[],initialDataUpdatedAt:0}),{relativeTime:u}=ye(),r=q(""),d=q("all"),p=q(null),s=["",{id:"redeemer",label:"Redeemer",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:i,onSort:m}=Ce("timestamp"),y=w(()=>c.value.filter(b=>{const $=r.value.toLocaleLowerCase().split(" "),S=R=>$.some(K=>R.toLocaleLowerCase().includes(K)),I=d.value==="all"?!0:b.vault===d.value;return S(b.redeemer)&&I}).orderBy(b=>{switch(i.value.column){case"redeemer":return b.redeemer;case"tx":return b.transaction;case"debt":return b.actual_debt_amount;case"numtroves":return b.troves_affected_count;case"timestamp":return b.timestamp}},i.value.order)),{page:h,rowsPage:C,onPage:k}=fe(y,uo);return(b,$)=>{const S=de,I=_e,R=ee,K=ne,Q=B,O=Se;return f(),T(z,null,[v(Q,{class:"redemptions-card",title:o(n)("title"),loading:o(l)||b.troves.length===0},{actions:g(()=>[v(ht,{vault:o(d),all:!0,onSelectVault:$[0]||($[0]=V=>d.value=V)},null,8,["vault"]),_("div",jm,[v(S,{modelValue:o(r),"onUpdate:modelValue":$[1]||($[1]=V=>re(r)?r.value=V:null),search:!0,placeholder:o(n)("search-placeholder")},null,8,["modelValue","placeholder"]),v(I,{"items-count":o(y).length,"items-per-page":uo,page:o(h),onPage:o(k)},null,8,["items-count","page","onPage"])])]),default:g(()=>[v(K,{class:"redemptions-table",rows:o(C),columns:s,sorting:o(i),onSortColumn:o(m),onSelected:$[4]||($[4]=V=>p.value=V)},{row:g(({item:V})=>[_("img",{src:o(Ve)(V.vault)},null,8,Zm),_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/address/${V.redeemer}`,target:"_blank",onClick:$[2]||($[2]=Y(()=>{},["stop"]))},x(o(N)(V.redeemer)),9,zm)]),_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.transaction}`,target:"_blank",onClick:$[3]||($[3]=Y(()=>{},["stop"]))},x(o(N)(V.transaction)),9,Ym)]),_("div",Qm,[v(R,{type:"dollar",value:Math.round(V.actual_debt_amount),precision:1/0},null,8,["value"])]),_("div",Jm,x(V.troves_affected_count),1),_("div",Xm,x(o(u)(V.timestamp)),1)]),"row-details":g(()=>$[6]||($[6]=[M("   ")])),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),v(O,{show:!!o(p),onClose:$[5]||($[5]=V=>p.value=null)},{default:g(()=>[o(p)?(f(),L(Ut,{key:0,redemption:o(p),"vault-addr":o(p).vault},null,8,["redemption","vault-addr"])):D("",!0)]),_:1},8,["show"])],64)}}});function po(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof po=="function"&&po(Tn);const ev=P(Tn,[["__scopeId","data-v-619f5b43"]]),tv={style:{display:"flex",gap:"1rem"}},av=["src"],ov=["href"],nv=["href"],sv={class:"end"},lv={class:"end"},rv={class:"end"},mo=15,An=A({__name:"TableLiquidations",props:{troves:{default:()=>[]}},setup(t){const e=E(),a=new Rt(e.flavor),{t:n}=F(),{isFetching:l,data:c}=W({queryKey:["prisma-liquidations-troves",w(()=>t.troves)],queryFn:({queryKey:[,b]})=>Promise.all(b.uniq().map($=>a.getLiquidationsForTrove("ethereum",$))).then($=>$.flat()),initialData:[],initialDataUpdatedAt:0}),{relativeTime:u}=ye(),r=q(""),d=q("all"),p=q(null),s=["",{id:"liquidator",label:"Liquidator",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:i,onSort:m}=Ce("timestamp"),y=w(()=>c.value.filter(b=>{const $=r.value.toLocaleLowerCase().split(" "),S=R=>$.some(K=>R.toLocaleLowerCase().includes(K)),I=d.value==="all"?!0:b.vault===d.value;return S(b.liquidator)&&I}).orderBy(b=>{switch(i.value.column){case"liquidator":return b.liquidator;case"tx":return b.transaction;case"debt":return b.liquidated_collateral_usd;case"numtroves":return b.troves_affected_count;case"timestamp":return b.timestamp}},i.value.order)),{page:h,rowsPage:C,onPage:k}=fe(y,mo);return(b,$)=>{const S=de,I=_e,R=ee,K=ne,Q=B,O=Se;return f(),T(z,null,[v(Q,{class:"liquidations-card",title:o(n)("title"),loading:o(l)||b.troves.length===0},{actions:g(()=>[v(ht,{vault:o(d),all:!0,onSelectVault:$[0]||($[0]=V=>d.value=V)},null,8,["vault"]),_("div",tv,[v(S,{modelValue:o(r),"onUpdate:modelValue":$[1]||($[1]=V=>re(r)?r.value=V:null),search:!0,placeholder:o(n)("search-placeholder")},null,8,["modelValue","placeholder"]),v(I,{"items-count":o(y).length,"items-per-page":mo,page:o(h),onPage:o(k)},null,8,["items-count","page","onPage"])])]),default:g(()=>[v(K,{class:"liquidations-table",rows:o(C),columns:s,sorting:o(i),onSortColumn:o(m),onSelected:$[4]||($[4]=V=>p.value=V)},{row:g(({item:V})=>[_("img",{src:o(Ve)(V.vault)},null,8,av),_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/address/${V.liquidator}`,target:"_blank",onClick:$[2]||($[2]=Y(()=>{},["stop"]))},x(o(N)(V.liquidator)),9,ov)]),_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.transaction}`,target:"_blank",onClick:$[3]||($[3]=Y(()=>{},["stop"]))},x(o(N)(V.transaction)),9,nv)]),_("div",sv,[v(R,{type:"dollar",value:Math.round(V.liquidated_debt),precision:1/0},null,8,["value"])]),_("div",lv,x(V.troves_affected_count),1),_("div",rv,x(o(u)(V.timestamp)),1)]),"row-details":g(()=>$[6]||($[6]=[M("   ")])),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),v(O,{show:!!o(p),onClose:$[5]||($[5]=V=>p.value=null)},{default:g(()=>[o(p)?(f(),L(Et,{key:0,liquidation:o(p),"vault-addr":o(p).vault},null,8,["liquidation","vault-addr"])):D("",!0)]),_:1},8,["show"])],64)}}});function vo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof vo=="function"&&vo(An);const iv=P(An,[["__scopeId","data-v-a87b38b8"]]),cv={style:{display:"grid",gap:"1rem","grid-template-columns":"minmax(14rem, 1fr) 1fr auto"}},uv=["src"],dv=["href"],pv={class:"end"},mv={class:"end"},_o=15,xn=A({__name:"TableTroves",props:{vaults:{default:()=>[]},user:{}},emits:["troves"],setup(t,{emit:e}){const{t:a}=F(),n=E(),l=new Ue(n.flavor),c=e,{isFetching:u,data:r}=W({queryKey:["prisma-troves",ut(()=>t.vaults),ut(()=>t.user)],queryFn:async({queryKey:[,S,I]})=>{if(S.length>0&&I){const R=await Promise.all(S.map(K=>l.getTroves("ethereum",K.address,I).then(Q=>Q.map(O=>({...O,vault:K.address}))))).then(K=>K.flat());return c("troves",R),R}else return Promise.resolve([])},initialData:[],initialDataUpdatedAt:0}),{relativeTime:d}=ye(),p=q(""),s=q("Open"),i=w(()=>s.value==="Open"?["",{id:"owner",label:"Owner",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"coll",label:"Collateral",sort:!0,align:"end"},{id:"ratio",label:"Ratio",sort:!0,align:"end"},{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]:["",{id:"owner",label:"Owner",sort:!0},"","","",{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]),{sorting:m,onSort:y}=Ce("updated"),h=w(()=>r.value.filter(S=>s.value===S.status).filter(S=>{const I=p.value.toLocaleLowerCase().split(" ");return(K=>I.some(Q=>K.toLocaleLowerCase().includes(Q)))(S.owner)}).orderBy(S=>{switch(m.value.column){case"owner":return S.owner;case"debt":return S.debt;case"coll":return S.collateral_usd;case"ratio":return S.collateral_ratio;case"created":return S.created_at;case"updated":return S.last_update}},m.value.order)),{page:C,rowsPage:k,onPage:b}=fe(h,_o),$=S=>{S===0?s.value="Open":S===1?s.value="Closed":s.value="Open"};return(S,I)=>{const R=nt,K=ot,Q=de,O=_e,V=ee,ke=ne,bt=B;return f(),L(bt,{class:"troves-card",title:o(a)("title"),loading:o(u)},{actions:g(()=>[_("div",cv,[v(K,{class:"types",onTab:I[0]||(I[0]=G=>$(G.index))},{default:g(()=>[v(R,{header:"Open"}),v(R,{header:"Closed"})]),_:1}),v(Q,{modelValue:o(p),"onUpdate:modelValue":I[1]||(I[1]=G=>re(p)?p.value=G:null),class:"search",search:!0,placeholder:o(a)("search-placeholder")},null,8,["modelValue","placeholder"]),v(O,{class:"pagination","items-count":o(h).length,"items-per-page":_o,page:o(C),onPage:o(b)},null,8,["items-count","page","onPage"])])]),default:g(()=>[v(ke,{class:"troves-table",rows:o(k),columns:o(i),sorting:o(m),onSortColumn:o(y)},{row:g(({item:G})=>[_("img",{src:o(Ve)(G.vault)},null,8,uv),_("div",null,[_("a",{class:"font-mono",href:`https://etherscan.io/address/${G.owner}`,target:"_blank",onClick:I[2]||(I[2]=Y(()=>{},["stop"]))},x(o(N)(G.owner)),9,dv)]),_("div",{class:U(["end",{hide:o(s)==="Closed"}])},[v(V,{type:"dollar",value:Math.round(G.debt),precision:1/0},null,8,["value"])],2),_("div",{class:U(["end",{hide:o(s)==="Closed"}])},[v(V,{type:"dollar",value:Math.round(G.collateral_usd),precision:1/0},null,8,["value"])],2),_("div",{class:U(["end",{hide:o(s)==="Closed"}])},[v(V,{value:G.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),_("div",pv,x(o(d)(G.created_at)),1),_("div",mv,x(o(d)(G.last_update)),1)]),"row-details":g(()=>I[3]||(I[3]=[M("   ")])),_:1},8,["rows","columns","sorting","onSortColumn"])]),_:1},8,["title","loading"])}}});function fo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Troves"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof fo=="function"&&fo(xn);const vv=P(xn,[["__scopeId","data-v-008d5d95"]]),_v={class:"dashboard"},fv={style:{"grid-column":"1 / -1","margin-bottom":"-0.5rem"}},hv=A({__name:"Profile.page",setup(t){const e=E(),a=Me(),{address:n}=Je(),l=we().getSocket(Fe(e.flavor)),c=new Ee(l,"ethereum"),u=me(c.overview$,[]),r=Ze("addr"),d=q(void 0),p=q([]),s=w(()=>p.value.filter(m=>d.value?m.owner.toLocaleLowerCase()===d.value.toLocaleLowerCase():!1).map(m=>m.owner));be(()=>{r.value&&(d.value=r.value)});const i=m=>{p.value=m};return j(n,async()=>{!r.value&&!d.value&&n.value&&await a.push({name:"profile",params:{addr:n.value}})},{immediate:!0}),vt(r,m=>{d.value=m}),(m,y)=>(f(),T("div",_v,[_("h2",fv," Profile: "+x(o(d)??"?"),1),v(vv,{style:{"z-index":"2"},vaults:o(u),user:o(d),onTroves:i},null,8,["vaults","user"]),v(ev,{troves:o(s)},null,8,["troves"]),v(iv,{troves:o(s)},null,8,["troves"])]))}}),bv=P(hv,[["__scopeId","data-v-18a2d6ea"]]),gv=[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:rc},{path:"/stable",name:"stable",component:xc},{path:"/redemptions",name:"redemptions",component:eu},{path:"/liquidations",name:"liquidations",component:vu},{path:"/revenue",name:"revenue",component:Pu},{path:"/vaults",name:"vaults",component:Ei},{path:"/wrappers/:tab?",name:"wrappers",component:od},{path:"/veprisma",name:"veprisma",component:hd},{path:"/proposals",name:"proposals",component:Lp},{path:"/profile/:addr?",name:"profile",component:bv},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:Vm},{path:"/vault/:vaultAddr/trove/:troveAddr",name:"prismatrove",component:Gm}],yv={titleRoute:"/",menuItems:[{to:"/vaults",label:"Vaults",icon:bs},{to:"/stable",label:()=>{const t=E();return _t(t.flavor)},icon:gs},{to:"/pool",label:"Stability pool",icon:ys},{to:"/redemptions",label:"Redemptions",icon:ws},{to:"/liquidations",label:"Liquidations",icon:$s},{to:"/veprisma",label:"vePRISMA",icon:Cs},{to:"/proposals",label:"Proposals",icon:ks},{to:"/wrappers",label:"ve Wrappers",icon:Ss},{to:"/profile",label:"Profile",icon:Ls}]};let Pn="http://localhost:8545";Pn=void 0;function wv(t=[]){return Ts({chains:[je],connectors:[Zt(),...t],transports:{[je.id]:As([zt(Pn,{batch:{wait:100}}),xs(Zt),zt("https://eth.llamarpc.com",{batch:{wait:200}})])}})}function $v(t,e){const a=Ps(t);for(const c of(e==null?void 0:e.plugins)??[])a.use(c);const n=Is();a.use(n);const l=new Ds({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:Vs}},queryCache:new qs({onError:(c,u)=>{c.message.includes("Connector not connected")||c.message.includes("connector2.getAccounts is not a function")||c.message.includes("getAccounts is not a function")||Re({text:`Failed querying ${u.queryHash} >>> ${c.message}`,type:"error"})}})});return a.use(Ms,{queryClient:l}).use(Rs).use(Fs,{config:wv(e==null?void 0:e.extraWagmiConnectors)}),{app:a,pinia:n}}const{app:Cv}=$v(Vr,{plugins:[Bs({legacy:!1,locale:"en",fallbackLocale:"en"})]}),kv=[yv],Sv=[gv],In=qt();In.pages=kv;In.routes=Sv;const Lv=Zr();Cv.use(Lv).mount("#app");
