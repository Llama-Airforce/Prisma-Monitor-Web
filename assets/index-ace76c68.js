import{L as ca,d as S,r as L,c as D,w as O,t as T,l as J,o as i,a as $,b as y,e as h,f,g as X,h as Re,n as z,i as j,j as I,F as Y,T as ua,u as o,k as De,m as da,p as _a,q as B,s as d,v as pa,x,y as re,z as St,A as ce,B as ue,C as we,D as Ie,E as F,G as va,H as ma,I as ha,J as ze,K as We,M as Ge,N as fa,O as ga,P as ba,Q as ya,R as ve,S as _e,U as $a,V as he,W as Ca,X as wa,Y as ka,Z as Sa,_ as Da}from"./vendor-419b5831.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();function fe(s,e=0,a=".",t=","){const n=isFinite(+s)?+s:0,l=isFinite(+e)?Math.abs(e):0,r=typeof t>"u"?",":t,p=typeof a>"u"?".":a,_=function(v,b){const m=Math.pow(10,b);return Math.round(v*m)/m},c=(l?_(n,l):Math.round(n)).toString().split(".");return c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(c[1]||"").length<l&&(c[1]=c[1]||"",c[1]+=new Array(l-c[1].length+1).join("0")),c.join(p)}function Z(s,e){const a=Math.abs(s);return e==="percentage"?"%":e==="dollar"?a>=1*10**12?"t":a>=1*10**9?"b":a>=1*10**6?"m":a>=1*10**3?"k":"":""}function te(s,e,a){const t=Math.abs(s);return a==="percentage"?fe(s,e):a==="dollar"?t>=1*10**12?fe(s/10**12,e):t>=1*10**9?fe(s/10**9,e):t>=1*10**6?fe(s/10**6,e):t>=1*10**3?fe(s/10**3,e):fe(s,e):s.toString()}async function Dt(s,e=0,a=1e3){const t=await s(e,a),n=await(t.length>=a?Dt(s,e+1,a):Promise.resolve([]));return t.concat(n)}function xe(s,e){return(Array.isArray(s)?s:[s]).some(t=>e.path.startsWith(t))}const Aa="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",Ta="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",Ia="0x657ce046d98d163ef4f846210f25919fa7b31944",Pa="https://api.llama.airforce/";async function za(s,e,a){return await fetch(s,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:a}).then(t=>{if(t.ok)return t;throw new Error(`Fetch error ${t.status} for URL: ${s}`)})}async function Oa(s,e,a){return await(await za(s,e,a)).json()}class La{constructor(e){this.host=e}async fetch(e,a,t){return Oa(e,a,t)}}async function Ma(s){try{return await s()}catch(e){e instanceof Error&&ca({text:e.message,type:"error"});return}}const xa="|/-\\",M=S({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(s){let e=0,a=0;const t=L("|"),n=D(()=>s.value?te(s.value,s.precision,s.type??""):s.value===0&&s.showZero?"0":s.value===null||s.value===void 0?t.value:"?"),l=D(()=>!s.value||!s.type||!J.isFinite(s.value)?s.showUnit&&s.type?Z(0,s.type):"":Z(s.value,s.type));return O(()=>s.value,r=>{if(clearInterval(a),e=0,r)return;const p=()=>{e=(e+1)%4,t.value=xa[e]};a=window.setInterval(p,250)},{immediate:!0}),(r,p)=>T(r.showSymbol&&r.type==="dollar"?"$":"")+T(n.value)+T(r.showUnit?l.value:"")}}),Va={key:0,class:"fas fa-chevron-right"},Ba=S({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(s,{emit:e}){const a=n=>{var l;return s.active?s.active.id===n.id:((l=s.crumbs.at(-1))==null?void 0:l.id)===n.id},t=n=>{var l;return((l=s.crumbs.at(-1))==null?void 0:l.id)===n.id};return(n,l)=>(i(),$(o(ee),null,{default:y(()=>[h(ua,{name:"fade",tag:"ul"},{default:y(()=>[(i(!0),f(Y,null,X(n.crumbs,r=>(i(),f("li",{key:r.id},[(i(),$(Re(a(r)?"span":"a"),{class:z({active:a(r)}),onClick:p=>e("crumb",r)},{default:y(()=>[j(T(r.label),1)]),_:2},1032,["class","onClick"])),!t(r)||n.crumbs.length===1?(i(),f("i",Va)):I("",!0)]))),128))]),_:1})]),_:1}))}});const k=(s,e)=>{const a=s.__vccOpts||s;for(const[t,n]of e)a[t]=n;return a},Ra=k(Ba,[["__scopeId","data-v-997741c8"]]);function Wa(){return!1}De({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(s){this.address=s==null?void 0:s.toLocaleLowerCase()}}});da();_a({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"});function ie(s,e=6){if(!s)return"0x000...000";const a=e/2+2,t=s.length-e/2;return`${s.substring(0,a)}...${s.substring(t)}`}const Fa=S({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(s,{emit:e}){const a=async t=>{t.stopImmediatePropagation(),!(s.web3&&Wa())&&e("click")};return(t,n)=>(i(),f("button",{class:z({primary:t.primary}),onClick:a},[B(t.$slots,"default",{},()=>[t.icon?(i(),f("i",{key:0,class:z(["icon",[t.icon,{noValue:!!t.value}]])},null,2)):I("",!0),j(" "+T(t.value),1)],!0)],2))}});const pe=k(Fa,[["__scopeId","data-v-71e224f0"]]),Na=S({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(s,{emit:e}){const a=()=>{e("update:modelValue",!s.modelValue)};return(t,n)=>(i(),f("button",{class:z({toggled:t.modelValue}),onClick:a},[B(t.$slots,"default",{},()=>[t.icon?(i(),f("i",{key:0,class:z(["icon",t.icon])},null,2)):I("",!0),j(" "+T(t.value),1)],!0)],2))}});const Pe=k(Na,[["__scopeId","data-v-38d61379"]]),Ea={class:"card"},Ua={class:"text"},Ha=S({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(s){return(e,a)=>(i(),f("div",Ea,[e.loading?(i(),$(o(zt),{key:0,class:"loader"})):I("",!0),d("div",{class:z(["card-container",{loading:e.loading}])},[e.title?(i(),f("div",{key:0,class:z(["card-header",{collapsible:e.collapsible}])},[d("div",Ua,[e.icon?(i(),f("i",{key:0,class:z(["icon",e.icon])},null,2)):I("",!0),j(" "+T(e.title),1)]),B(e.$slots,"actions",{},void 0,!0)],2)):(i(),f("div",{key:1,class:z(["card-no-header",{compact:e.compact}])},null,2)),d("div",{class:z(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[B(e.$slots,"default",{},void 0,!0)],2)],2)]))}});const ee=k(Ha,[["__scopeId","data-v-317ddfe2"]]),qa=S({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(s){return(e,a)=>(i(),$(o(ee),{class:"card-graph",title:e.title,loading:e.loading},{default:y(()=>[h(o(ms),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),B(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const ne=k(qa,[["__scopeId","data-v-4e0fd9b7"]]),Ga={class:"chip"},ja={class:"label"},Ja=S({__name:"Chip",props:{label:{default:""}},setup(s){return(e,a)=>(i(),f("div",Ga,[d("div",ja,T(e.label),1)]))}});const Qa=k(Ja,[["__scopeId","data-v-1eb2caf8"]]);const Ya={class:"collapsible-inside"},Ka=S({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(s){return(e,a)=>(i(),f("div",{class:z(["collapsible-outside",{expanded:e.expanded}])},[d("div",Ya,[B(e.$slots,"default",{},void 0,!0)])],2))}});const Fe=k(Ka,[["__scopeId","data-v-25b74378"]]),Xa={key:1,class:"header"},Za={key:0,class:"header-icon"},es={class:"header-actions"},ts={key:2,class:"list"},as=["onClick"],ss={key:0,class:"sorting-arrows"},os={key:0,class:"sorting-arrow fa fa-caret-up"},ns={key:1,class:"sorting-arrow fa fa-caret-down"},ls={key:2,class:"sorting-arrow"},rs={class:"rows"},is={key:3,class:"no-data"},Ne=S({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(s,{emit:e}){const a=L(""),t=L(oe.Ascending),n=D(()=>`grid-template-columns: ${s.columnsHeader}`),l=D(()=>{if(s.rowsMin===null)return[];const u=Math.max(0,s.rowsMin-s.rows.length);return new Array(u)});pa(()=>{s.sortingDefaultColumn&&(a.value=s.sortingDefaultColumn),s.sortingDefaultDir&&(t.value=s.sortingDefaultDir===oe.Ascending?oe.Ascending:oe.Descending)});const r=u=>{e("selected",u)},{t:p}=x(),_=u=>{const C=u+1;return!!(s.rows[u+1]&&s.rows.findIndex(R=>R===s.selectedRow)===C)},c=u=>s.expanded.includes(u),v=u=>{const C=s.sortingColumns[u];return s.sortingColumnsEnabled.includes(C)},b=u=>a.value===s.sortingColumns[u]&&t.value==="Ascending",m=u=>a.value===s.sortingColumns[u]&&t.value==="Descending",g=u=>{if(!s.sorting||!s.sortingColumns||!v(u))return;const C=s.sortingColumns[u];C===a.value?t.value=t.value===oe.Ascending?oe.Descending:oe.Ascending:t.value=oe.Ascending,a.value=C,e("sortColumn",a.value,t.value)};return(u,C)=>(i(),f("div",{class:z(["datatable",{loading:u.loading}])},[u.loading?(i(),$(o(zt),{key:0,class:"loader"})):I("",!0),u.header?(i(),f("div",Xa,[u.icon?(i(),f("div",Za,[d("i",{class:z(u.icon)},null,2)])):I("",!0),d("div",{class:"header-title",style:re(n.value)},[B(u.$slots,"header-title",{},void 0,!0)],4),d("div",es,[B(u.$slots,"header-actions",{},void 0,!0)])])):I("",!0),u.rowsMin||u.rows&&u.rows.length>0?(i(),f("div",ts,[d("div",{class:z(["row-data",[u.columnsData,{"selected-below":_(-1)}]])},[B(u.$slots,"column-headers",{},()=>[(i(!0),f(Y,null,X(u.columns,(w,A)=>(i(),f("div",{key:w,class:z(["column-header",{"sortable-header":u.sorting&&v(A),"current-sort":a.value==u.sortingColumns[A]}]),onClick:R=>g(A)},[j(T(w)+" ",1),u.sorting&&v(A)?(i(),f("div",ss,[b(A)?(i(),f("i",os)):m(A)?(i(),f("i",ns)):(i(),f("span",ls," — "))])):I("",!0)],10,as))),128))],!0)],2),d("div",rs,[(i(!0),f(Y,null,X(u.rows,(w,A)=>(i(),$(o(Oe),{key:w,data:w,class:z({"selected-below":_(A)}),columns:u.columnsData,selected:u.selectedRow===w,expanded:c(w),onClick:r},{row:y(()=>[B(u.$slots,"row",{item:w},void 0,!0)]),"row-details":y(()=>[B(u.$slots,"row-details",{item:w},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(i(!0),f(Y,null,X(l.value,w=>(i(),$(o(Oe),{key:w}))),128)),u.$slots["row-aggregation"]?(i(),$(o(Oe),{key:0,class:"aggregation",columns:u.columnsData},{row:y(()=>[B(u.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):I("",!0)])])):!u.rowsMin&&!u.loading?(i(),f("div",is,[B(u.$slots,"no-data",{},()=>[j(T(o(p)("no-data")),1)],!0)])):I("",!0)],2))}});function je(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":a=>{const{normalize:t}=a;return t(["No data :("])}}})}function Je(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":a=>{const{normalize:t}=a;return t(["没有数据 :("])}}})}typeof je=="function"&&je(Ne);typeof Je=="function"&&Je(Ne);const ke=k(Ne,[["__scopeId","data-v-50e85b9c"]]),cs=s=>(ce("data-v-45ff862c"),s=s(),ue(),s),us=cs(()=>d("i",{class:"fas fa-chevron-up"},null,-1)),ds=[us],_s={class:"row-details"},ps=S({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(s,{emit:e}){const a=St(),t=D(()=>{var r;const l=a["row-details"];if(l){const p=(r=l()[0])==null?void 0:r.children;if(p)return p.length>0}return!1}),n=()=>{e("click",s.data)};return(l,r)=>(i(),f("div",{class:z(["row",{expanded:l.expanded}])},[d("div",{class:z(["row-data item",[l.columns,{active:l.selected,expandable:t.value}]]),onClick:n},[B(l.$slots,"row",{},void 0,!0),t.value?(i(),f("div",{key:0,class:z(["expander",{expanded:l.expanded}])},ds,2)):I("",!0)],2),h(o(Fe),{expanded:l.expanded},{default:y(()=>[d("div",_s,[B(l.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const Oe=k(ps,[["__scopeId","data-v-45ff862c"]]),vs=S({__name:"GraphApex",props:{options:{},series:{}},setup(s){return(e,a)=>{const t=we("apexchart");return i(),$(t,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const ms=k(vs,[["__scopeId","data-v-3e2879ed"]]);const hs=s=>(ce("data-v-e9d8f446"),s=s(),ue(),s),fs={class:"input-text"},gs={key:0,class:"icon"},bs=hs(()=>d("i",{class:"fas fa-search"},null,-1)),ys=[bs],$s=["type","value","placeholder","onInput"],Cs=["onClick"],ws=S({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(s,{emit:e}){const a=D(()=>{const n=s.options.filter(r=>s.filter(s.modelValue,r));return s.sort?[...n].sort(s.sort):n}),t=n=>{const l=n.target.value;e("update:modelValue",l),e("input",l)};return(n,l)=>(i(),f("div",fs,[n.search?(i(),f("span",gs,ys)):I("",!0),d("input",{type:n.search?"search":"text",value:n.modelValue,placeholder:n.placeholder,onInput:Ie(t,["stop"]),onSelect:l[0]||(l[0]=Ie(()=>{},["stop"]))},null,40,$s),n.options&&n.autoComplete?(i(),f("div",{key:1,class:z(["items",{selectHide:!n.autoComplete}])},[(i(!0),f(Y,null,X(a.value,(r,p)=>(i(),f("div",{key:p,onClick:_=>e("select",r)},[B(n.$slots,"item",{item:r,idx:p},()=>[j(T(r),1)],!0)],8,Cs))),128))],2)):I("",!0)]))}});const At=k(ws,[["__scopeId","data-v-e9d8f446"]]),ks={key:0,class:"value"},Ss={key:1,class:"value"},Ds=["innerHTML"],As={key:0,class:"value"},Ts={key:1,class:"value"},Is=["innerHTML"],Ps={class:"labels"},zs={class:"label"},Os={class:"label-second"},Ls=S({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(s){return(e,a)=>(i(),f("div",{class:z(["kpi",{disabled:!e.hasValue}])},[d("div",{class:z(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[B(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(i(),$(o(Ve),{key:0},{item:y(()=>[e.hasValue?(i(),f("span",ks,T(e.value),1)):(i(),f("span",Ss," ? "))]),default:y(()=>[B(e.$slots,"tooltip",{},()=>[d("span",{innerHTML:e.tooltip},null,8,Ds)],!0)]),_:3})):(i(),f(Y,{key:1},[e.hasValue?(i(),f("span",As,T(e.value),1)):(i(),f("span",Ts," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(i(),$(o(Ve),{key:0},{default:y(()=>[d("span",{innerHTML:e.tooltip},null,8,Is)]),_:1})):I("",!0)],2),d("div",Ps,[B(e.$slots,"label",{},()=>[d("div",zs,T(e.label),1)],!0),B(e.$slots,"label-second",{},()=>[d("div",Os,T(e.labelSecond),1)],!0)])],2))}});const K=k(Ls,[["__scopeId","data-v-0123c061"]]),Ms={key:0,class:"modal"},xs={class:"modal-popup"},Vs=S({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(s,{emit:e}){return O(()=>s.show,a=>{document.body.style.overflow=a?"hidden":""}),(a,t)=>a.show?(i(),f("div",Ms,[d("div",{class:"modal-mask",onClick:t[0]||(t[0]=n=>e("close"))}),d("div",xs,[B(a.$slots,"default",{},void 0,!0)])])):I("",!0)}});const Bs=k(Vs,[["__scopeId","data-v-49c4143d"]]),Rs={class:"buttons"},Ws={key:1,class:"not-ready"},Tt=S({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(s,{emit:e}){const{t:a}=x();return(t,n)=>(i(),$(o(Bs),{show:t.show},{default:y(()=>[h(o(ee),{title:t.title},{default:y(()=>[B(t.$slots,"default",{},void 0,!0),d("div",Rs,[h(o(pe),{class:"no",value:o(a)("no"),onClick:n[0]||(n[0]=l=>e("no"))},null,8,["value"]),t.ready?(i(),$(o(pe),{key:0,class:"yes",value:o(a)("yes"),onClick:n[1]||(n[1]=l=>e("yes"))},null,8,["value"])):(i(),f("div",Ws,T(t.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function Qe(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:a=>{const{normalize:t}=a;return t(["Yes"])},no:a=>{const{normalize:t}=a;return t(["No"])}}})}function Ye(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:a=>{const{normalize:t}=a;return t(["是的"])},no:a=>{const{normalize:t}=a;return t(["不是"])}}})}typeof Qe=="function"&&Qe(Tt);typeof Ye=="function"&&Ye(Tt);const Ee=s=>(ce("data-v-05261d5d"),s=s(),ue(),s),Fs=Ee(()=>d("button",null,"1",-1)),Ns=[Fs],Es=Ee(()=>d("button",null,[d("i",{class:"fas fa-chevron-left"})],-1)),Us=[Es],Hs=["onClick"],qs=Ee(()=>d("button",null,[d("i",{class:"fas fa-chevron-right"})],-1)),Gs=[qs],js=S({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(s,{emit:e}){const a=D(()=>Math.ceil(s.itemsCount/s.itemsPerPage)),t=D(()=>{const v=[...Array(12).keys()].map(w=>w-6+s.page).filter(w=>w>=1&&w<=a.value),b=v.findIndex(w=>w===s.page),m=[],g=[],u=s.page!==1&&s.page!==a.value?[s.page]:[];let C=1;for(;;){const w=v[b-C];if(w&&w!==1&&m.unshift(w),m.length+g.length+u.length>=5||C>v.length)break;const A=v[b+C];if(A&&A!==a.value&&g.push(A),C++,m.length+g.length+u.length>=5||C>v.length)break}return[...m,...u,...g]}),n=(_,c,v)=>Math.min(Math.max(_,c),v),l=()=>e("page",n(s.page-1,1,a.value)),r=()=>e("page",n(s.page+1,1,a.value)),p=_=>e("page",n(_,1,a.value));return(_,c)=>(i(),f("ul",null,[d("li",{class:z({active:_.page===1}),onClick:c[0]||(c[0]=v=>p(1))},Ns,2),a.value>2?(i(),f("li",{key:0,onClick:l},Us)):I("",!0),(i(!0),f(Y,null,X(t.value,v=>(i(),f("li",{key:v,class:z({active:v===_.page}),onClick:b=>p(v)},[d("button",null,T(v),1)],10,Hs))),128)),a.value>2?(i(),f("li",{key:1,onClick:r},Gs)):I("",!0),a.value>1?(i(),f("li",{key:2,class:z({active:_.page===a.value}),onClick:c[1]||(c[1]=v=>p(a.value))},[d("button",null,T(a.value),1)],2)):I("",!0)]))}});const Js=k(js,[["__scopeId","data-v-05261d5d"]]),Qs=s=>(ce("data-v-18a4b249"),s=s(),ue(),s),Ys={class:"select"},Ks={class:"item"},Xs={key:0,class:"label"},Zs=["onClick"],eo=Qs(()=>d("div",{class:"chevrons"},[d("i",{class:"fas fa-chevron-up"}),d("i",{class:"fas fa-chevron-down"})],-1)),to=S({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(s,{emit:e}){return(a,t)=>(i(),f("div",{class:"select-container",tabindex:"0",onClick:t[0]||(t[0]=Ie(n=>e("open"),["stop"])),onBlur:t[1]||(t[1]=n=>e("close"))},[d("div",Ys,[d("div",{class:z(["selected",{open:a.open}])},[B(a.$slots,"item",{item:a.selected},()=>[d("div",Ks,T(a.selected),1)],!0),a.label?(i(),f("div",Xs,T(a.label),1)):I("",!0)],2),d("div",{class:z(["items",{selectHide:!a.open}])},[(i(!0),f(Y,null,X(a.options,(n,l)=>(i(),f("div",{key:l,onClick:r=>e("input",n)},[B(a.$slots,"item",{item:n},()=>[j(T(n),1)],!0)],8,Zs))),128))],2)]),eo],32))}});const It=k(to,[["__scopeId","data-v-18a4b249"]]),ao={class:"item"},so={class:"label"},Ke="locale",oo=S({__name:"SelectLanguage",props:{locales:{default:()=>no},direction:{default:"up"}},setup(s){const{t:e}=x(),{locale:a}=x({useScope:"global"}),t=L("en"),n=L(!1);F(()=>{const p=localStorage.getItem(Ke);p&&s.locales.some(_=>_===p)&&r(p)});const l=()=>{n.value=!n.value},r=p=>{t.value=p,a.value=t.value,localStorage.setItem(Ke,t.value)};return(p,_)=>(i(),$(o(It),{class:z(["select",{"direction-up":p.direction==="up"}]),options:p.locales.map(c=>c),selected:t.value,open:n.value,onOpen:l,onClose:_[0]||(_[0]=c=>n.value=!1),onInput:r},{item:y(c=>[d("div",ao,[d("div",so,T(o(e)(c.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function Xe(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:a=>{const{normalize:t}=a;return t(["English"])},zh:a=>{const{normalize:t}=a;return t(["中文"])},fr:a=>{const{normalize:t}=a;return t(["Français"])}}})}typeof Xe=="function"&&Xe(oo);const no=["en","zh","fr"];var oe=(s=>(s.Ascending="Ascending",s.Descending="Descending",s))(oe||{});const lo={},Pt=s=>(ce("data-v-ad2adcec"),s=s(),ue(),s),ro={class:"lds-ripple"},io=Pt(()=>d("div",null,null,-1)),co=Pt(()=>d("div",null,null,-1)),uo=[io,co];function _o(s,e){return i(),f("div",ro,uo)}const zt=k(lo,[["render",_o],["__scopeId","data-v-ad2adcec"]]),de=S({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(s){return(e,a)=>B(e.$slots,"default")}}),po={class:"tab-view"},vo={class:"tab-headers"},mo=["onClick"],ho={class:"tabs"},fo=S({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(s,{emit:e}){const a=L(null),t=St(),n=D(()=>t!=null&&t.default?t.default():[]);O(()=>s.active,r=>{a.value=r,e("tab",{tab:n.value[r],index:a.value})},{immediate:!0});const l=(r,p)=>{r.props.disabled||(a.value=p,e("tab",{tab:n.value[p],index:a.value}))};return(r,p)=>(i(),f("div",po,[d("ul",vo,[(i(!0),f(Y,null,X(n.value,(_,c)=>(i(),f("li",{key:c,class:z(["tab-header",{active:a.value===c,disabled:_.props.disabled}]),onClick:v=>l(_,c)},T(_.props.header),11,mo))),128))]),d("div",ho,[(i(!0),f(Y,null,X(n.value,(_,c)=>va((i(),f("div",{key:c,class:"tab"},[(i(),$(Re(_)))])),[[ma,a.value===c]])),128))])]))}});const Ot=k(fo,[["__scopeId","data-v-4a99a489"]]),go="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",bo={key:1,src:go},yo=S({__name:"Tooltip",props:{icon:{default:""}},setup(s){const e=L(!1);return(a,t)=>(i(),$(o(ha),{class:"tooltip",show:e.value},{content:y(()=>[B(a.$slots,"default",{},void 0,!0)]),default:y(()=>[d("div",{onMouseover:t[0]||(t[0]=n=>e.value=!0),onMouseleave:t[1]||(t[1]=n=>e.value=!1)},[B(a.$slots,"item",{},()=>[a.icon?(i(),f("i",{key:0,class:z(a.icon)},null,2)):(i(),f("img",bo))],!0)],32)]),_:3},8,["show"]))}});const Ve=k(yo,[["__scopeId","data-v-2158cb4b"]]);function N(s,e){const a=L(!1),t=L(e);return{loading:a,data:t,loadData:()=>(a.value=!0,Ma(async()=>{t.value=await s(),a.value=!1}))}}const $o={class:"legend"},Co=["onClick"],wo={class:"label"},ko=S({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(s,{emit:e}){const a=t=>s.colors[t];return(t,n)=>(i(),f("div",$o,[(i(!0),f(Y,null,X(t.items,(l,r)=>(i(),f("div",{key:l,class:z(["item",{clickable:t.clickable,disabled:t.disabled.includes(l)}]),onClick:p=>{t.clickable&&e("click",l)}},[d("div",{class:"color",style:re({"background-color":a(r)})},null,4),d("div",wo,T(l),1)],10,Co))),128))]))}});const So=k(ko,[["__scopeId","data-v-b0a9ca48"]]);function Le(s){return(s==null?void 0:s.children)!==void 0}function Ze(s){return(s==null?void 0:s.to)!==void 0}const Do={key:0},Ao={class:"nav-link-container"},To={class:"nav-link-container"},Io={class:"left"},Po={class:"right"},zo=S({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(s,{emit:e}){const a=ze(),t=L(!0),n=D(()=>Ze(s.item)?[s.item]:Le(s.item)?s.item.children:[]),l=()=>{Le(s.item)&&s.item.children.filter(_=>xe(_.to,a)).length>0&&(t.value=!0)};O(()=>s.item,()=>{l()},{immediate:!0}),O(()=>a.fullPath,()=>{l()},{immediate:!0});const r=()=>{t.value=!t.value};return(p,_)=>{const c=we("router-link");return i(),f(Y,null,[o(Le)(p.item)?(i(),f("li",Do,[d("a",{class:"nav-link node",onClick:r},[d("div",Ao,[j(T(p.item.label)+" ",1),d("i",{class:z(["expander fas fa-chevron-up",{expanded:t.value}])},null,2)])])])):I("",!0),h(o(Fe),{class:"items",expanded:t.value},{default:y(()=>[d("ul",null,[(i(!0),f(Y,null,X(n.value,v=>(i(),f("li",{key:v.label},[o(Ze)(v)?(i(),$(c,{key:0,to:v.to,class:z(["nav-link leaf",{"router-link-active":o(xe)(v.to,o(a))}]),onClick:_[0]||(_[0]=b=>e("navigated"))},{default:y(()=>[d("div",To,[d("div",Io,T(v.label),1),d("div",Po,[v.tag==="beta"?(i(),$(o(Qa),{key:0,label:"BETA"})):I("",!0)])])]),_:2},1032,["to","class"])):I("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const Oo=k(zo,[["__scopeId","data-v-d8ba8816"]]),Lo=S({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(s,{emit:e}){const a=ze(),t=D(()=>s.pages.find(l=>xe(l.titleRoute,a))),n=D(()=>{var l;return((l=t.value)==null?void 0:l.menuItems)??[]});return(l,r)=>(i(),f("nav",null,[(i(!0),f(Y,null,X(n.value,p=>(i(),f("ul",{key:p.label},[h(Oo,{item:p,onNavigated:r[0]||(r[0]=_=>e("navigated"))},null,8,["item"])]))),128))]))}});const Mo=k(Lo,[["__scopeId","data-v-59493144"]]),xo="/assets/prisma-b38af1f3.png",Vo="/assets/hat-80c6c9b1.png";const Bo={},Lt=s=>(ce("data-v-f01d266e"),s=s(),ue(),s),Ro={class:"logo"},Wo=Lt(()=>d("div",{class:"visual"},[d("img",{src:xo}),d("img",{src:Vo})],-1)),Fo=Lt(()=>d("span",null,"prisma.monitor",-1)),No=[Wo,Fo];function Eo(s,e){return i(),f("div",Ro,No)}const Uo=k(Bo,[["render",Eo],["__scopeId","data-v-f01d266e"]]),Ho={class:"header"},qo={class:"buttons"},Go=S({__name:"Header",emits:["toggle-expansion","navigated"],setup(s,{emit:e}){return(a,t)=>{const n=we("router-link");return i(),f("div",Ho,[h(n,{class:"logo",to:"/",onClick:t[0]||(t[0]=l=>e("navigated"))},{default:y(()=>[h(Uo,{class:"logo"})]),_:1}),d("div",qo,[h(o(pe),{icon:"fas fa-bars",onClick:t[1]||(t[1]=l=>e("toggle-expansion"))})])])}}});const jo=k(Go,[["__scopeId","data-v-a5771fce"]]),ge={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"};ge.blue,ge.yellow,ge.green,ge.red,ge.purple;const be={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"};be.blue,be.yellow,be.green,be.red,be.purple;const ye={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"};ye.blue,ye.yellow,ye.green,ye.red,ye.purple;function et(s){return s==="chad"?ye:s==="light"?be:ge}const q=De({id:"settingsStore",state:()=>({theme:"light"})}),Jo={class:"theme"},Qo={class:"label"},Yo={class:"colors"},Ko=S({__name:"SelectTheme",setup(s){const e=[{id:"dark",colors:et("dark")},{id:"light",colors:et("light")}],a=q(),t=L(e[0]),n=L(!1);F(()=>{const p=window.matchMedia("(prefers-color-scheme: dark)").matches,_=localStorage.getItem("theme");if(!_&&p)r(e.find(c=>c.id==="dark"));else{const c=e.find(v=>v.id===_)??e.find(v=>v.id==="light")??e[0];r(c)}});const l=()=>{n.value=!n.value},r=p=>{t.value=p,window.document.documentElement.setAttribute("data-theme",t.value.id),a.theme=t.value.id,localStorage.setItem("theme",t.value.id)};return(p,_)=>(i(),$(o(It),{class:"select direction-up",options:e.map(c=>c),selected:t.value,open:n.value,onOpen:l,onClose:_[0]||(_[0]=c=>n.value=!1),onInput:r},{item:y(c=>[d("div",Jo,[d("div",Qo,T(c.item.id),1),d("div",Yo,[d("div",{class:"color",style:re({"background-color":c.item.colors.backgroundColor})},null,4),d("div",{class:"color",style:re({"background-color":c.item.colors.level1})},null,4),d("div",{class:"color",style:re({"background-color":c.item.colors.level2})},null,4),d("div",{class:"color",style:re({"background-color":c.item.colors.blue})},null,4),d("div",{class:"color",style:re({"background-color":c.item.colors.yellow})},null,4),d("div",{class:"color",style:re({"background-color":c.item.colors.green})},null,4),d("div",{class:"color",style:re({"background-color":c.item.colors.red})},null,4),d("div",{class:"color",style:re({"background-color":c.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const Xo=k(Ko,[["__scopeId","data-v-12a81df3"]]),Zo={class:"bottom"},en={class:"buttons"},tn={href:"https://twitter.com/0xAlunara",target:"_blank"},an={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},sn={class:"selectors"},on=S({__name:"Bottom",emits:["navigated"],setup(s,{emit:e}){const a=async()=>{await navigator.clipboard.writeText(window.location.href)};return(t,n)=>{const l=we("router-link");return i(),f("div",Zo,[d("div",en,[h(o(pe),{class:"copy",icon:"fas fa-link",onClick:a}),d("a",tn,[h(o(pe),{icon:"fab fa-twitter"})]),d("a",an,[h(o(pe),{icon:"fab fa-github"})]),h(l,{to:"/code"},{default:y(()=>[h(o(pe),{icon:"fas fa-code",onClick:n[0]||(n[0]=r=>e("navigated"))})]),_:1})]),d("div",sn,[h(Xo,{class:"themes"})])])}}});const nn=k(on,[["__scopeId","data-v-949dc793"]]),Ue=De({id:"pageStore",state:()=>({pages:[]})}),ln=S({__name:"Navigation",emits:["navigated"],setup(s,{emit:e}){const a=Ue(),t=L(!1),n=()=>{t.value=!1,e("navigated")};return(l,r)=>(i(),f("div",{class:z(["menu-desktop",{expanded:t.value}])},[h(jo,{onToggleExpansion:r[0]||(r[0]=p=>t.value=!t.value),onNavigated:n}),h(o(Fe),{class:"menu-content",expanded:t.value},{default:y(()=>[h(o(Mo),{pages:o(a).pages,onNavigated:n},null,8,["pages"]),h(nn,{onNavigated:n})]),_:1},8,["expanded"])],2))}});const rn=k(ln,[["__scopeId","data-v-07323d4e"]]),He=De({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),cn={class:"root"},un={class:"main"},dn={class:"content"},_n=S({__name:"App",setup(s){const e=He(),a=ze(),t=We();O(()=>a.fullPath,l=>{(l.includes("pool")||l.includes("mkusd"))&&(e.show=!1)});const n=async l=>{l.pathName&&await t.push({name:l.pathName})};return(l,r)=>{const p=we("notifications"),_=we("router-view");return i(),f("div",cn,[h(p,{width:600,duration:-1}),h(rn,{class:"navigation"}),d("main",un,[h(Ge,{name:"fade",mode:"out-in"},{default:y(()=>[o(e).show?(i(),$(o(Ra),{key:0,class:"breadcrumb",crumbs:o(e).crumbs,onCrumb:n},null,8,["crumbs"])):I("",!0)]),_:1}),d("div",dn,[h(_,null,{default:y(({Component:c})=>[h(Ge,{name:"fade",mode:"out-in"},{default:y(()=>[(i(),$(Re(c)))]),_:2},1024)]),_:1})])])])}}});const pn=k(_n,[["__scopeId","data-v-961314b9"]]),vn="/assets/404-3a4df870.png",mn=s=>(ce("data-v-c157f3ee"),s=s(),ue(),s),hn={class:"not-found"},fn={class:"not-found-container"},gn=mn(()=>d("img",{src:vn},null,-1)),Mt=S({__name:"NotFound",setup(s){const{t:e}=x();return(a,t)=>(i(),f("div",hn,[d("div",fn,[h(o(ee),null,{default:y(()=>[j(T(o(e)("404")),1)]),_:1}),gn])]))}});function tt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:a=>{const{normalize:t}=a;return t(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof tt=="function"&&tt(Mt);const bn=k(Mt,[["__scopeId","data-v-c157f3ee"]]),yn={class:"contracts"},$n={class:"row"},Cn=["href"],wn=["href"],xt=S({__name:"Code",setup(s){const{t:e}=x(),t=[{name:"Llama Airforce",contracts:[{contract:Aa,description:"multisig",gnosis:!0},{contract:Ta,description:"treasury",gnosis:!0},{contract:Ia,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]}],n=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}],l=r=>{switch(r.network){case"arbitrum":return r.gnosis?`https://app.safe.global/arb1:${r.contract}`:`https://arbiscan.io/address/${r.contract}`;case"ethereum":default:return r.gnosis?`https://app.safe.global/eth:${r.contract}`:`https://etherscan.io/address/${r.contract}`}};return(r,p)=>(i(),f("div",yn,[d("div",$n,[h(o(ke),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:n,columns:[o(e)("repository"),o(e)("description")]},{"header-title":y(()=>[d("div",null,T(o(e)("repositories")),1)]),row:y(_=>[d("div",null,[d("a",{href:_.item.url,target:"_blank"},T(_.item.name),9,Cn)]),d("div",null,T(o(e)(_.item.description)),1)]),_:1},8,["columns"])]),(i(),f(Y,null,X(t,(_,c)=>h(o(ke),{key:c,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:_.contracts,columns:[o(e)("contract"),o(e)("description")]},{"header-title":y(()=>[d("div",null,T(o(e)(_.name)),1)]),row:y(v=>[d("div",null,[d("a",{href:l(v.item),target:"_blank"},T(v.item.contract),9,wn)]),d("div",null,T(o(e)(v.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function at(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:a=>{const{normalize:t}=a;return t(["Repositories"])},repository:a=>{const{normalize:t}=a;return t(["Repository"])},description:a=>{const{normalize:t}=a;return t(["Description"])},contract:a=>{const{normalize:t}=a;return t(["Contract"])},other:a=>{const{normalize:t}=a;return t(["Other"])},"repo-laf":a=>{const{normalize:t}=a;return t(["This website's front-end, excluding the Union"])},multisig:a=>{const{normalize:t}=a;return t(["Multisig"])},treasury:a=>{const{normalize:t}=a;return t(["Treasury"])},"treasury-arbitrum":a=>{const{normalize:t}=a;return t(["Treasury Arbitrum"])}}})}typeof at=="function"&&at(xt);const kn=k(xt,[["__scopeId","data-v-ed0a11dc"]]);function Sn(){const s=Ue(),e=[{path:"/code",component:kn},...s.pages.flatMap(t=>t.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:bn}];return fa({history:ga(),routes:e})}const Dn=s=>({chart:{id:"chart",background:"transparant",foreColor:s.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:s.colorsArray,grid:{borderColor:s.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:s.colors.level5,height:1},axisTicks:{color:s.colors.level5},title:{color:s.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:s.colors.level5},axisTicks:{color:s.colors.level5},title:{color:s.colors.level5}}});function le(s,e){const a=Dn(s),t=(n,l)=>{if(typeof l=="object"){J.mergeWith(n,l,t);return}else return n||l};return J.mergeWith(e,a,t)}const $e={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},An=[$e.blue,$e.yellow,$e.green,$e.red,$e.purple,"#ff8f33"],Ce={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Tn=[Ce.blue,Ce.yellow,Ce.green,Ce.red,Ce.purple];function H(s){return s==="light"?Ce:$e}function ae(s){return s==="light"?Tn:An}function E(){return Pa}const W="https://api.prismamonitor.com/v1";class U extends La{async getHistoricalOpenTrovesOverview(e,a){return this.fetch(`${W}/managers/${e}/open_troves?period=${a}`)}async getHistoricalCollateralRatiosOverview(e,a){return this.fetch(`${W}/managers/${e}/collateral_ratios?period=${a}`)}async getCollateralRatioGrouped(e,a){return this.fetch(`${W}/managers/${e}/global_collateral_ratio?period=${a}`)}async getHistoricalCollateralOverview(e,a){return this.fetch(`${W}/managers/${e}/collateral?period=${a}`)}async getRatioDistributionGrouped(e){return this.fetch(`${W}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,a,t){return this.fetch(`${W}/managers/${e}/${a}/large_positions?unit=${t}`)}async getVaultCollateralRatio(e,a,t){return this.fetch(`${W}/managers/${e}/${a}/collateral_ratio?period=${t}`)}async getVaultTroveCount(e,a,t){return this.fetch(`${W}/managers/${e}/${a}/open_trove_count?period=${t}`)}async getTroveDistribution(e,a,t){return this.fetch(`${W}/managers/${e}/${a}/histograms?unit=${t}`)}async getCollateralPrices(e,a,t){return this.fetch(`${W}/collateral/${e}/${a}/prices?period=${t}`)}async getCollateralPriceImpact(e,a){return this.fetch(`${W}/collateral/${e}/${a}/impact`)}async getCollateralInfo(e,a){return this.fetch(`${W}/collateral/${e}/${a}/info`)}async getPoolTvl(e,a){return this.fetch(`${W}/pool/${e}/deposits?period=${a}`)}async getStableFlow(e,a){return this.fetch(`${W}/pool/${e}/stable_operations?period=${a}`)}async getStableDistribution(e){return this.fetch(`${W}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,a){return this.fetch(`${W}/pool/${e}/cumulative_withdrawals?period=${a}`)}async getTopStableDeposits(e,a,t){return this.fetch(`${W}/pool/${e}/top/stable_deposits?top=${a}&period=${t}`)}async getTopStableWithdrawals(e,a,t){return this.fetch(`${W}/pool/${e}/top/stable_withdrawals?top=${a}&period=${t}`)}async getPriceHistory(e,a){return this.fetch(`${W}/mkusd/${e}/history?period=${a}`)}async getPriceHistogram(e,a,t){return this.fetch(`${W}/mkusd/${e}/histogram?period=${t}&bins=${a}`)}async getLargeStableCoinHolders(e){return this.fetch(`${W}/mkusd/${e}/holders`)}async getStableCoinKPI(e){return this.fetch(`${W}/mkusd/${e}/general`)}async getCurvePoolDepth(e){return this.fetch(`${W}/mkusd/${e}/depth`)}async getTroves(e,a,t){return Dt(l=>this.fetch(`${W}/trove/${e}/${a}/troves?items=100&page=${l}&order_by=${t}&desc=true`).then(r=>r.troves),1,100)}}const Vt=S({__name:"ChartOpenTroves",setup(s){const{t:e}=x(),a=new U(E()),t=q(),{loading:n,data:l,loadData:r}=N(()=>a.getHistoricalOpenTrovesOverview("ethereum","6m").then(b=>b.managers),[]);F(()=>void r());const p=D(()=>{const b=H(t.theme),m=ae(t.theme);return le({colors:b,colorsArray:m},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:g,dataPointIndex:u,w:C})=>{let w=0;const A=g.map((R,se)=>{const V=R[u];return w+=V,`<div><b>${C.globals.seriesNames[se]}</b>: ${V}</div>`});return A.push(`<div><b>Total</b>: ${w}</div>`),A.join("")}}})}),_=D(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(b=>new Date(b.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=D(()=>l.value.length===0?[]:l.value.map(b=>({name:b.manager,data:b.data.map(m=>m.value)}))),v=b=>b;return(b,m)=>(i(),$(o(ne),{class:"chart",title:o(e)("title"),loading:o(n),options:p.value,series:c.value},null,8,["title","loading","options","series"]))}});function st(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Open troves"])}}})}typeof st=="function"&&st(Vt);const In=k(Vt,[["__scopeId","data-v-17e23069"]]),Pn=(s,e)=>{const a=H(e);return{width:s.clientWidth,height:s.clientHeight,layout:{background:{type:ba.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:ya.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function me(s,e,a){const t=Pn(s,e),n=(l,r)=>{if(typeof r=="object"){J.mergeWith(l,r,n);return}else return l||r};return J.mergeWith(a,t,n)}const Bt=S({__name:"ChartCollateralRatio",setup(s){const{t:e}=x(),a=new U(E());let t,n;const l=q(),r=L(null),{loading:p,data:_,loadData:c}=N(()=>a.getCollateralRatioGrouped("ethereum","all").then(g=>g.data),[]);F(()=>{r.value&&(t=ve(r.value,v(r.value,l.theme)),n=t.addAreaSeries(b(l.theme)),m(_.value),c())}),O(()=>l.theme,g=>{r.value&&(t.applyOptions(v(r.value,g)),n.applyOptions(b(g)))}),O(_,g=>{m(g)});const v=(g,u)=>me(g,u,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),b=g=>{const u=H(g);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:_e.WithSteps,lineColor:u.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=g=>{if(!t||!n)return;const u=J.chain(g).map(C=>({time:C.timestamp,value:C.value*100})).uniqWith((C,w)=>C.time===w.time).orderBy(C=>C.time,"asc").value();u.length>0&&n.setData(u),t.timeScale().fitContent()};return(g,u)=>(i(),$(o(ee),{class:"chart-container",title:o(e)("title"),loading:o(p)},{default:y(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ot(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Global collateral ratio"])}}})}typeof ot=="function"&&ot(Bt);const zn=k(Bt,[["__scopeId","data-v-f7711ac1"]]),Rt=S({__name:"ChartRatioDeciles",setup(s){const{t:e}=x(),a=new U(E()),t=q(),{loading:n,data:l,loadData:r}=N(()=>a.getRatioDistributionGrouped("ethereum").then(m=>m.deciles),[]);F(()=>void r());const p=D(()=>{const m=H(t.theme),g=ae(t.theme);return le({colors:m,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:b}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=D(()=>l.value.map(m=>m.label)),c=D(()=>[{name:e("debt"),data:Object.values(l.value).map(m=>m.data)}]),v=m=>m,b=m=>`$${te(m,0,"dollar")}${Z(m,"dollar")}`;return(m,g)=>(i(),$(o(ne),{class:"chart",title:o(e)("title"),loading:o(n),options:p.value,series:c.value},null,8,["title","loading","options","series"]))}});function nt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Debt per Collateral Ratio Deciles"])},debt:a=>{const{normalize:t}=a;return t(["Debt"])}}})}typeof nt=="function"&&nt(Rt);const On=k(Rt,[["__scopeId","data-v-148e81ae"]]),Wt=S({__name:"ChartGlobalCollateral",setup(s){const{t:e}=x(),a=new U(E()),t=q(),{loading:n,data:l,loadData:r}=N(()=>a.getHistoricalCollateralOverview("ethereum","6m").then(m=>m.managers),[]);F(()=>void r());const p=D(()=>{const m=H(t.theme),g=ae(t.theme);return le({colors:m,colorsArray:g},{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:b}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),_=D(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=D(()=>l.value.length===0?[]:l.value.map(m=>({name:m.manager,data:m.data.map(g=>g.value)}))),v=m=>m,b=m=>`$${te(m,1,"dollar")}${Z(m,"dollar")}`;return(m,g)=>(i(),$(o(ne),{class:"chart",title:o(e)("title"),loading:o(n),options:p.value,series:c.value},null,8,["title","loading","options","series"]))}});function lt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Collateral value"])}}})}typeof lt=="function"&&lt(Wt);const Ln=k(Wt,[["__scopeId","data-v-91cb0ff3"]]),Ft=class Se{constructor(e){this.url=e,this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={},this.channelSubscriptionParsers={},this.reconnectDelay=1e3,this.maxReconnectDelay=3e4,this.reconnectMultiplier=2,this.connect()}static getInstance(e){return Se.instances[e]||(Se.instances[e]=new Se(e)),Se.instances[e]}connect(){this.ws||(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.processMessageQueue(),this.reconnectDelay=1e3},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>{this.connect(),this.reconnectDelay*=this.reconnectMultiplier,this.reconnectDelay>this.maxReconnectDelay&&(this.reconnectDelay=this.maxReconnectDelay)},this.reconnectDelay)},this.ws.onmessage=e=>{var r;const a=JSON.parse(e.data),t=this.channelSubscriptionParsers[a.channel],n=t?t(e.data):"",l=(r=this.listeners[a.channel])==null?void 0:r[n];l==null||l(e.data)})}registerListener(e,a,t,n){this.listeners[e]||(this.listeners[e]={}),this.listeners[e][a]=n,this.channelSubscriptionParsers[e]=t;const l=this.messageQueue.filter(r=>JSON.parse(r).channel===e);l.forEach(n),this.messageQueue=this.messageQueue.filter(r=>!l.includes(r))}send(e){var a;((a=this.ws)==null?void 0:a.readyState)===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length;)this.send(this.messageQueue.shift()??"")}closeConnection(){var e;this.shouldReconnect=!1,(e=this.ws)==null||e.close()}getConnection(){return this.ws}};Ft.instances={};let Mn=Ft;var Be=(s=>(s.subscribe="subscribe",s.unsubscribe="unsubscribe",s.snapshots="snapshots",s))(Be||{});const xn="wss://api.prismamonitor.com/v1/prisma/ws",Me="troves_overview";class Nt{constructor(e){this.chain=e,this.currentData=L([]),this.parseSubscriptionFromMessage=a=>JSON.parse(a).subscription.chain,this.wsManager=Mn.getInstance(xn),this.wsManager.registerListener(Me,e,this.parseSubscriptionFromMessage,a=>{try{const t=JSON.parse(a);t.subscription.chain===this.chain&&(this.currentData.value=t.payload)}catch(t){console.error("Error parsing WebSocket message:",t,"Raw data:",a)}}),this.requestSnapshots(),this.subscribeToUpdates()}getCurrentData(){return this.currentData.value}requestSnapshots(){const e={action:Be.snapshots,channel:Me,settings:[{chain:this.chain}]};this.send(e)}subscribeToUpdates(){const e={action:Be.subscribe,channel:Me,settings:[{chain:this.chain}]};this.send(e)}send(e){this.wsManager.send(JSON.stringify(e))}}const Ae=s=>(ce("data-v-989149b2"),s=s(),ue(),s),Vn=["src"],Bn={class:"number"},Rn={class:"number"},Wn={class:"number"},Fn={class:"number"},Nn={class:"number"},En={class:"number"},Un=Ae(()=>d("div",null,null,-1)),Hn=Ae(()=>d("div",null,null,-1)),qn={class:"number"},Gn={class:"number"},jn=Ae(()=>d("div",null,null,-1)),Jn=Ae(()=>d("div",null,null,-1)),Qn={class:"number"},Yn=Ae(()=>d("div",null,null,-1)),Et=S({__name:"TableVaults",setup(s){const{t:e}=x(),a=new Nt("ethereum"),t=L(!0),n=L(""),l=L([]),r=D(()=>J.chain(l.value).filter(_=>{const c=n.value.toLocaleLowerCase().split(" "),v=b=>c.some(m=>b.toLocaleLowerCase().includes(m));return v(_.name)||v(_.address)}).value());O(a.currentData,_=>{t.value=!0,l.value=_,t.value=!1}),F(()=>{t.value=!0,l.value=a.currentData.value,t.value=!1});const p=_=>`icons/tokens/${(v=>{switch(v){case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbeth.webp";case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"steth.webp";case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"reth.webp";case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"frxeth.webp";default:return""}})(_)}`;return(_,c)=>(i(),$(o(ke),{class:"datatable-vaults","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"vaults-columns-data",loading:t.value,rows:r.value,columns:["","Name","TVL","Debt","CR","MCR","Troves","Price"]},{"header-title":y(()=>[d("div",null,T(o(e)("title")),1),h(o(At),{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=v=>n.value=v),class:"search",search:!0,placeholder:o(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(v=>[d("img",{src:p(v.item.address)},null,8,Vn),d("div",null,T(v.item.name),1),d("div",Bn,[h(o(M),{value:v.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",Rn,[h(o(M),{value:v.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",Wn,[h(o(M),{value:v.item.cr*100,precision:2,type:"percentage"},null,8,["value"])]),d("div",Fn,[h(o(M),{value:v.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])]),d("div",Nn,T(v.item.open_troves),1),d("div",En,"$"+T(Math.round(v.item.price)),1)]),"row-aggregation":y(()=>[Un,Hn,d("div",qn,[h(o(M),{value:r.value.reduce((v,b)=>v+b.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",Gn,[h(o(M),{value:r.value.reduce((v,b)=>v+b.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),jn,Jn,d("div",Qn,[h(o(M),{value:r.value.reduce((v,b)=>v+b.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),Yn]),"row-details":y(()=>[j("   ")]),_:1},8,["loading","rows"]))}});function rt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vaults"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof rt=="function"&&rt(Et);const Kn=k(Et,[["__scopeId","data-v-989149b2"]]),Ut=De({id:"vaultStore",state:()=>({vault:null})}),Xn={class:"vaults"},Zn=S({__name:"Vaults",setup(s){const e=He(),a=Ut(),t=We();F(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const n=async l=>{a.vault=l,await t.push({name:"prismavault",params:{tab:"",vaultAddr:l.address}})};return(l,r)=>(i(),f("div",Xn,[h(Kn,{style:{"grid-column":"1 / -1"},onSelected:n}),h(zn),h(On),h(Ln),h(In)]))}});const el=k(Zn,[["__scopeId","data-v-47785ba8"]]),Ht=S({__name:"ChartPoolTvl",setup(s){const{t:e}=x(),a=new U(E());let t,n;const l=q(),r=L(null),{loading:p,data:_,loadData:c}=N(()=>a.getPoolTvl("ethereum","1m").then(u=>u.deposits),[]);F(()=>{r.value&&(t=ve(r.value,v(r.value,l.theme)),n=t.addAreaSeries(b(l.theme)),m(_.value),c())}),O(()=>l.theme,u=>{r.value&&(t.applyOptions(v(r.value,u)),n.applyOptions(b(u)))}),O(_,u=>{m(u)});const v=(u,C)=>me(u,C,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:w=>g(w)}}),b=u=>{const C=H(u);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:_e.WithSteps,lineColor:C.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=u=>{if(!t||!n)return;const C=J.chain(u).map(w=>({time:w.timestamp,value:w.value})).uniqWith((w,A)=>w.time===A.time).orderBy(w=>w.time,"asc").value();C.length>0&&n.setData(C),t.timeScale().fitContent()},g=u=>`$${te(u,1,"dollar")}${Z(u,"dollar")}`;return(u,C)=>(i(),$(o(ee),{class:"chart-container",title:o(e)("title"),loading:o(p)},{default:y(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function it(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Total deposits in stability pool"])}}})}typeof it=="function"&&it(Ht);const tl=k(Ht,[["__scopeId","data-v-e251da43"]]),qt=S({__name:"ChartStableFlow",setup(s){const{t:e}=x(),a=new U(E()),t=q(),{loading:n,data:l,loadData:r}=N(()=>a.getStableFlow("ethereum","1m"),{deposits:[],withdrawals:[]});F(()=>void r());const p=D(()=>{const m=H(t.theme),g=ae(t.theme);return le({colors:m,colorsArray:g},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[m.green,m.red],xaxis:{categories:_.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:b}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:u,dataPointIndex:C,w})=>{let A=0;const R=u.map((se,V)=>{const P=se[C];return A+=P,`<div><b>${w.globals.seriesNames[V]}</b>:	${b(P)}</div>`});return R.push(`<div><b>Total</b>:	${b(A)}</div>`),R.join("")}}})}),_=D(()=>l.value.deposits.length===0?[]:l.value.deposits.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=D(()=>[{name:e("deposits"),data:Object.values(l.value.deposits).map(m=>m.value)},{name:e("withdrawals"),data:Object.values(l.value.withdrawals).map(m=>m.value)}]),v=m=>m,b=m=>`$${te(m,0,"dollar")}${Z(m,"dollar")}`;return(m,g)=>(i(),$(o(ne),{title:o(e)("title"),loading:o(n),options:p.value,series:c.value},null,8,["title","loading","options","series"]))}});function ct(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD deposits and withdrawals"])},deposits:a=>{const{normalize:t}=a;return t(["Deposits"])},withdrawals:a=>{const{normalize:t}=a;return t(["Withdrawals"])}}})}typeof ct=="function"&&ct(qt);const al=k(qt,[["__scopeId","data-v-c17d1a80"]]),Gt=S({__name:"ChartDepositDistribution",setup(s){const{t:e}=x(),a=new U(E()),t=q(),{loading:n,data:l,loadData:r}=N(()=>a.getStableDistribution("ethereum").then(v=>v.distribution),[]);F(()=>void r());const p=D(()=>{const v=H(t.theme),b=ae(t.theme);return le({colors:v,colorsArray:b},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:c.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=D(()=>[{name:e("numPos"),data:Object.values(l.value).map(v=>v.value)}]),c=D(()=>l.value.map(v=>v.label));return(v,b)=>(i(),$(o(ne),{title:o(e)("title"),loading:o(n),series:_.value,options:p.value},null,8,["title","loading","series","options"]))}});function ut(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Distribution of current user deposits"])},numPos:a=>{const{normalize:t}=a;return t(["# of positions"])}}})}typeof ut=="function"&&ut(Gt);const sl=k(Gt,[["__scopeId","data-v-0286f136"]]),jt=S({__name:"ChartCumulativeWithdrawals",setup(s){const{t:e}=x(),a=new U(E());let t,n;const l=q(),r=L(null),{loading:p,data:_,loadData:c}=N(()=>a.getCumulativeWithdrawals("ethereum","all").then(u=>u.withdrawals),[]);F(()=>{r.value&&(t=ve(r.value,v(r.value,l.theme)),n=t.addAreaSeries(b(l.theme)),m(_.value),c())}),O(()=>l.theme,u=>{r.value&&(t.applyOptions(v(r.value,u)),n.applyOptions(b(u)))}),O(_,u=>{m(u)});const v=(u,C)=>me(u,C,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:w=>g(w)}}),b=u=>{const C=H(u);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:_e.WithSteps,lineColor:C.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=u=>{if(!t||!n)return;const C=J.chain(u).map(w=>({time:w.timestamp,value:w.value})).uniqWith((w,A)=>w.time===A.time).orderBy(w=>w.time,"asc").value();C.length>0&&n.setData(C),t.timeScale().fitContent()},g=u=>`$${te(u,1,"dollar")}${Z(u,"dollar")}`;return(u,C)=>(i(),$(o(ee),{class:"chart-container",title:o(e)("title"),loading:o(p)},{default:y(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function dt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Cumulative value of collaterals withdrawn"])}}})}typeof dt=="function"&&dt(jt);const ol=k(jt,[["__scopeId","data-v-c87ea7d3"]]),nl={class:"address"},ll=["href"],rl={class:"number"},il={class:"number"},cl={class:"address"},ul=["href"],Jt=S({__name:"TableTopDeposits",setup(s){const{t:e}=x(),a=new U(E()),t=D(()=>J.chain(l.value).map(p=>p).value()),{loading:n,data:l,loadData:r}=N(()=>a.getTopStableDeposits("ethereum",5,"7d").then(p=>p.operations),[]);return F(()=>void r()),(p,_)=>(i(),$(o(ke),{class:"datatable-deposits","columns-header":"1fr","columns-data":"deposits-columns-data",loading:o(n),rows:t.value,columns:["Address","Amount","Date","Tx"]},{"header-title":y(()=>[d("div",null,T(o(e)("title")),1)]),row:y(c=>[d("div",nl,[d("a",{href:`https://etherscan.io/address/${c.item.user}`,target:"_blank"},T(o(ie)(c.item.user,8)),9,ll)]),d("div",rl,[h(o(M),{value:c.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",il,T(new Date(c.item.timestamp*1e3).toLocaleDateString()),1),d("div",cl,[d("a",{href:`https://etherscan.io/tx/${c.item.hash}`,target:"_blank"},T(o(ie)(c.item.hash,8)),9,ul)])]),_:1},8,["loading","rows"]))}});function _t(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest deposits past 7 days"])}}})}typeof _t=="function"&&_t(Jt);const dl=k(Jt,[["__scopeId","data-v-c62e207d"]]),_l={class:"address"},pl=["href"],vl={class:"number"},ml={class:"number"},hl={class:"address"},fl=["href"],Qt=S({__name:"TableTopWithdrawals",setup(s){const{t:e}=x(),a=new U(E()),t=D(()=>J.chain(l.value).map(p=>p).value()),{loading:n,data:l,loadData:r}=N(()=>a.getTopStableDeposits("ethereum",5,"7d").then(p=>p.operations),[]);return F(()=>void r()),(p,_)=>(i(),$(o(ke),{class:"datatable-withdrawals","columns-header":"1fr","columns-data":"withdrawals-columns-data",loading:o(n),rows:t.value,columns:["Address","Amount","Date","Tx"]},{"header-title":y(()=>[d("div",null,T(o(e)("title")),1)]),row:y(c=>[d("div",_l,[d("a",{href:`https://etherscan.io/address/${c.item.user}`,target:"_blank"},T(o(ie)(c.item.user,8)),9,pl)]),d("div",vl,[h(o(M),{value:c.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",ml,T(new Date(c.item.timestamp*1e3).toLocaleDateString()),1),d("div",hl,[d("a",{href:`https://etherscan.io/tx/${c.item.hash}`,target:"_blank"},T(o(ie)(c.item.hash,8)),9,fl)])]),_:1},8,["loading","rows"]))}});function pt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest withdrawals past 7 days"])}}})}typeof pt=="function"&&pt(Qt);const gl=k(Qt,[["__scopeId","data-v-a0b172aa"]]),bl={class:"pool"},yl=S({__name:"StabilityPool",setup(s){return(e,a)=>(i(),f("div",bl,[h(tl),h(al),h(sl),h(ol),h(dl),h(gl)]))}});const $l=k(yl,[["__scopeId","data-v-c433301c"]]),Cl=s=>(ce("data-v-530ed967"),s=s(),ue(),s),wl=Cl(()=>d("div",null,[j(" Price data is sourced from Coingecko via Defi Llama."),d("br"),j(" Due to a bug in the way Coingecko aggregates mkUSD price data, "),d("br"),j("the chart may erroneously report large price variations. A fix is on its way. ")],-1)),Yt=S({__name:"ChartPrice",setup(s){const{t:e}=x(),a=new U(E());let t,n;const l=q(),r=L(null),{loading:p,data:_,loadData:c}=N(()=>a.getPriceHistory("ethereum","1m").then(u=>u.prices),[]);F(()=>{r.value&&(t=ve(r.value,v(r.value,l.theme)),n=t.addAreaSeries(b(l.theme)),m(_.value),c())}),O(()=>l.theme,u=>{r.value&&(t.applyOptions(v(r.value,u)),n.applyOptions(b(u)))}),O(_,u=>{m(u)});const v=(u,C)=>me(u,C,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:w=>g(w)}}),b=u=>{const C=H(u);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:_e.WithSteps,lineColor:C.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=u=>{if(!t||!n)return;const C=J.chain(u).map(w=>({time:w.timestamp,value:w.value})).uniqWith((w,A)=>w.time===A.time).orderBy(w=>w.time,"asc").value();C.length>0&&n.setData(C),t.timeScale().fitContent()},g=u=>`$${te(u,2,"dollar")}${Z(u,"dollar")}`;return(u,C)=>(i(),$(o(ee),{class:"chart-container",title:o(e)("title"),loading:o(p)},{actions:y(()=>[h(o(Ve),null,{default:y(()=>[wl]),_:1})]),default:y(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function vt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD price (last 30 days)"])}}})}typeof vt=="function"&&vt(Yt);const kl=k(Yt,[["__scopeId","data-v-530ed967"]]),Kt=S({__name:"ChartPriceDistribution",setup(s){const{t:e}=x(),a=new U(E()),t=q(),{loading:n,data:l,loadData:r}=N(()=>a.getPriceHistogram("ethereum",10,"all").then(v=>v.histogram),[]);F(()=>void r());const p=D(()=>{const v=H(t.theme),b=ae(t.theme);return le({colors:v,colorsArray:b},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:c.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=D(()=>[{name:e("numPos"),data:Object.values(l.value).map(v=>v.value)}]),c=D(()=>l.value.map(v=>v.label));return(v,b)=>(i(),$(o(ne),{title:o(e)("title"),loading:o(n),series:_.value,options:p.value},null,8,["title","loading","series","options"]))}});function mt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Price histogram"])},numPos:a=>{const{normalize:t}=a;return t(["# of hourly price records"])}}})}typeof mt=="function"&&mt(Kt);const Sl=k(Kt,[["__scopeId","data-v-cb3982fd"]]),Xt=S({__name:"ChartHolders",setup(s){const{t:e}=x(),a=new U(E()),t=q(),{loading:n,data:l,loadData:r}=N(()=>a.getLargeStableCoinHolders("ethereum").then(b=>b.holders),[]);F(()=>void r());const p=D(()=>{const b=H(t.theme),m=ae(t.theme);return le({colors:b,colorsArray:m},{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:g=>{let u=c.value[g.seriesIndex];u=u.length>10&&u.startsWith("0x")?ie(u):u;const C=g.series[g.seriesIndex];return[`<div><b>${u}</b>:</div><div>${v(C)}</div>`].join("")}},labels:l.value.map(g=>g.label.length>10&&g.label.startsWith("0x")?ie(g.label):g.label)})}),_=D(()=>l.value.map(b=>b.value)),c=D(()=>l.value.map(b=>b.label)),v=b=>`$${te(Math.abs(b),1,"dollar")}${Z(b,"dollar")}`;return(b,m)=>(i(),$(o(ne),{class:"graph",title:o(e)("title"),loading:o(n),options:p.value,series:_.value},null,8,["title","loading","options","series"]))}});function ht(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest holders"])},numPos:a=>{const{normalize:t}=a;return t(["mkUSD balance:"])}}})}typeof ht=="function"&&ht(Xt);const Dl=k(Xt,[["__scopeId","data-v-87a21766"]]),Al={class:"kpis"},Tl=S({__name:"KPIs",setup(s){const e=new U(E()),{data:a,loadData:t}=N(()=>e.getStableCoinKPI("ethereum").then(n=>n.info),null);return F(()=>void t()),(n,l)=>(i(),f("div",Al,[h(o(K),{label:"mkUSD price","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),$(o(M),{key:0,value:o(a).price,precision:4,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(K),{label:"Total supply","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),$(o(M),{key:0,value:o(a).supply,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(K),{label:"24h Volume (Curve)","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),$(o(M),{key:0,value:o(a).volume,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(K),{label:"Aggregate -2% Depth (Curve)","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),$(o(M),{key:0,value:o(a).depth,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"])]))}});const Il=k(Tl,[["__scopeId","data-v-b3576350"]]),Zt=S({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(s){const{t:e}=x(),a=q(),t=D(()=>{const p=H(a.theme),_=ae(a.theme);return le({colors:p,colorsArray:_},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:c=>r(c)}},yaxis:{seriesName:"amounts",labels:{formatter:c=>r(c)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:c=>r(c)}},colors:[c=>c.value===0?p.blue:p.green,c=>c.value===0?p.blue:p.red]})}),n=D(()=>{if(!s.depth)return[];const p=[...s.depth.ask.prices.map(c=>({x:c,y:0})),...s.depth.bid.prices.map((c,v)=>({x:c,y:s.depth.bid.amounts[v]}))],_=[...s.depth.ask.prices.map((c,v)=>({x:c,y:s.depth.ask.amounts[v]}))];return[{name:"Bid",data:p},{name:"Ask",data:_}]}),l=D(()=>{var _;if(!((_=s.depth)!=null&&_.tokens)||s.depth.tokens.length===0)return e("title");const p=s.depth.tokens.join(" / ");return`${e("title")} - ${p} (Curve)`}),r=p=>`$${te(Math.abs(p),2,"dollar")}${Z(p,"dollar")}`;return(p,_)=>(i(),$(o(ne),{class:"chart",title:l.value,loading:p.loading,options:t.value,series:n.value},null,8,["title","loading","options","series"]))}});function ft(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidity Depth"])}}})}typeof ft=="function"&&ft(Zt);const Pl=k(Zt,[["__scopeId","data-v-defdef9f"]]),zl=S({__name:"ChartDepthContainer",setup(s){const e=new U(E()),{loading:a,data:t,loadData:n}=N(()=>e.getCurvePoolDepth("ethereum").then(l=>l.depth),[]);return F(()=>void n()),(l,r)=>(i(!0),f(Y,null,X(o(t),p=>(i(),$(Pl,{key:p.name,loading:o(a),depth:p},null,8,["loading","depth"]))),128))}});const Ol=k(zl,[["__scopeId","data-v-f0b8731b"]]),Ll={class:"mkusd"},Ml=S({__name:"Stablecoin",setup(s){return(e,a)=>(i(),f("div",Ll,[h(Il,{style:{"grid-column":"1 / -1"}}),h(kl),h(Sl),h(Dl),h(Ol)]))}});const xl=k(Ml,[["__scopeId","data-v-738142b2"]]),Vl=S({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(s){const e=q(),a=D(()=>{const r=H(e.theme),p=ae(e.theme);return le({colors:r,colorsArray:p},{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:_=>{let c=n.value[_.seriesIndex];c=c.length>10?ie(c):c;const v=_.series[_.seriesIndex];return[`<div><b>${c}</b>:</div><div>${l(v)}</div>`].join("")}},labels:s.data.map(_=>_.label.length>10?ie(_.label):_.label)})}),t=D(()=>s.data.map(r=>r.value)),n=D(()=>s.data.map(r=>r.label)),l=r=>`$${te(Math.abs(r),1,"dollar")}${Z(r,"dollar")}`;return(r,p)=>(i(),$(o(ne),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const Bl=k(Vl,[["__scopeId","data-v-5e27d0e1"]]),Rl={class:"actions"},ea=S({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(s){const{t:e}=x(),a=new U(E()),t=L("collateral"),{loading:n,data:l,loadData:r}=N(()=>s.vault?a.getLargeTrovePositions("ethereum",s.vault.address,t.value).then(p=>p.positions):Promise.resolve([]),[]);return O(t,r,{immediate:!0}),O(()=>s.vault,r,{immediate:!0}),(p,_)=>(i(),$(o(ee),{class:"chart-container",title:o(e)("title"),loading:o(n)},{actions:y(()=>[d("div",Rl,[h(o(Pe),{value:"Coll.","model-value":t.value==="collateral",onClick:_[0]||(_[0]=c=>t.value="collateral")},null,8,["model-value"]),h(o(Pe),{value:"Debt","model-value":t.value==="debt",onClick:_[1]||(_[1]=c=>t.value="debt")},null,8,["model-value"])])]),default:y(()=>[h(Bl,{data:o(l)},null,8,["data"])]),_:1},8,["title","loading"]))}});function gt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["5 Largest Troves vs Others"])}}})}typeof gt=="function"&&gt(ea);const Wl=k(ea,[["__scopeId","data-v-3b560130"]]),Fl=S({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(s){const e=q(),a=D(()=>{const l=H(e.theme),r=ae(e.theme);return le({colors:l,colorsArray:r},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:n.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),t=D(()=>[{name:"# of troves",data:Object.values(s.data).map(l=>l.value)}]),n=D(()=>s.data.map(l=>l.label));return(l,r)=>(i(),$(o(ne),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const Nl=k(Fl,[["__scopeId","data-v-726b6957"]]),El={class:"actions"},ta=S({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(s){const{t:e}=x(),a=new U(E()),{loading:t,data:n,loadData:l}=N(()=>s.vault?a.getTroveDistribution("ethereum",s.vault.address,r.value).then(p=>p.distribution):Promise.resolve([]),[]),r=L("collateral");return O(r,l,{immediate:!0}),O(()=>s.vault,l,{immediate:!0}),(p,_)=>(i(),$(o(ee),{class:"chart-container",title:o(e)("title"),loading:o(t)},{actions:y(()=>[d("div",El,[h(o(Pe),{value:"Coll.","model-value":r.value==="collateral",onClick:_[0]||(_[0]=c=>r.value="collateral")},null,8,["model-value"]),h(o(Pe),{value:"Debt","model-value":r.value==="debt",onClick:_[1]||(_[1]=c=>r.value="debt")},null,8,["model-value"])])]),default:y(()=>[h(Nl,{data:o(n)},null,8,["data"])]),_:1},8,["title","loading"]))}});function bt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Troves Distribution"])}}})}typeof bt=="function"&&bt(ta);const Ul=k(ta,[["__scopeId","data-v-56b15476"]]),Hl={class:"kpis"},ql=S({__name:"VaultKPIs",props:{vault:{default:null}},setup(s){return(e,a)=>(i(),f("div",Hl,[h(o(K),{label:"TVL","has-value":!!e.vault},{default:y(()=>[e.vault?(i(),$(o(M),{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(K),{label:"Debt / Debt Cap","has-value":!!e.vault},{default:y(()=>[e.vault?(i(),$(o(M),{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):I("",!0),j(" / "),e.vault?(i(),$(o(M),{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(K),{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:y(()=>[e.vault?(i(),$(o(M),{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):I("",!0),j(" / "),e.vault?(i(),$(o(M),{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(K),{label:"Interest rate","has-value":!!e.vault},{default:y(()=>[e.vault?(i(),$(o(M),{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(K),{label:"Troves open / total","has-value":!!e.vault},{default:y(()=>[e.vault?(i(),$(o(M),{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0),j(" / "),e.vault?(i(),$(o(M),{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(K),{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:y(()=>[e.vault?(i(),$(o(M),{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0),j(" / "),e.vault?(i(),$(o(M),{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0)]),_:1},8,["has-value"])]))}});const Gl=k(ql,[["__scopeId","data-v-12fbfe11"]]),aa=S({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(s){const{t:e}=x(),a=new U(E());let t,n;const l=q(),r=L(null),{loading:p,data:_,loadData:c}=N(()=>s.vault?a.getVaultCollateralRatio("ethereum",s.vault.address,"1m").then(g=>g.ratio):Promise.resolve([]),[]);F(()=>{r.value&&(t=ve(r.value,v(r.value,l.theme)),n=t.addAreaSeries(b(l.theme)),m(_.value))}),O(()=>l.theme,g=>{r.value&&(t.applyOptions(v(r.value,g)),n.applyOptions(b(g)))}),O(()=>s.vault,c,{immediate:!0}),O(_,g=>{m(g)});const v=(g,u)=>me(g,u,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),b=g=>{const u=H(g);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:_e.WithSteps,lineColor:u.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=g=>{if(!t||!n)return;const u=J.chain(g).map(C=>({time:C.timestamp,value:C.value*100})).uniqWith((C,w)=>C.time===w.time).orderBy(C=>C.time,"asc").value();u.length>0&&n.setData(u),t.timeScale().fitContent()};return(g,u)=>(i(),$(o(ee),{class:"chart-container",title:o(e)("title"),loading:o(p)},{default:y(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function yt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vault collateral ratio"])}}})}typeof yt=="function"&&yt(aa);const jl=k(aa,[["__scopeId","data-v-518d60f9"]]),sa=S({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(s){const{t:e}=x(),a=new U(E());let t,n;const l=q(),r=L(null),{loading:p,data:_,loadData:c}=N(()=>s.vault?a.getVaultTroveCount("ethereum",s.vault.address,"1m").then(g=>g.count):Promise.resolve([]),[]);F(()=>{r.value&&(t=ve(r.value,v(r.value,l.theme)),n=t.addAreaSeries(b(l.theme)),m(_.value))}),O(()=>l.theme,g=>{r.value&&(t.applyOptions(v(r.value,g)),n.applyOptions(b(g)))}),O(()=>s.vault,c,{immediate:!0}),O(_,g=>{m(g)});const v=(g,u)=>me(g,u,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),b=g=>{const u=H(g);return{priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:_e.WithSteps,lineColor:u.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=g=>{if(!t||!n)return;const u=J.chain(g).map(C=>({time:C.timestamp,value:C.value})).uniqWith((C,w)=>C.time===w.time).orderBy(C=>C.time,"asc").value();u.length>0&&n.setData(u),t.timeScale().fitContent()};return(g,u)=>(i(),$(o(ee),{class:"chart-container",title:o(e)("title"),loading:o(p)},{default:y(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function $t(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Number of open troves"])}}})}typeof $t=="function"&&$t(sa);const Jl=k(sa,[["__scopeId","data-v-a04a3ea9"]]),Ql={class:"vault-overview"},Yl=S({__name:"VaultOverview",props:{vault:{}},setup(s){return(e,a)=>(i(),f("div",Ql,[h(Gl,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(Ul,{vault:e.vault},null,8,["vault"]),h(Wl,{vault:e.vault},null,8,["vault"]),h(jl,{vault:e.vault},null,8,["vault"]),h(Jl,{vault:e.vault},null,8,["vault"])]))}});const Kl=k(Yl,[["__scopeId","data-v-ad4ff57f"]]),Xl={class:"actions"},oa=S({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(s){const{t:e}=x(),a=new U(E());let t,n,l;const r=q(),p=L(null),_={oracle:[],market:[]},{loading:c,data:v,loadData:b}=N(async()=>{if(s.vault){const A=await a.getCollateralPrices("ethereum",s.vault.collateral,"7d");return m(A.oracle,A.market)}else return Promise.resolve(_)},_);F(async()=>{p.value&&(await $a(),t=ve(p.value,g(p.value,r.theme)),n=t.addAreaSeries(C(r.theme)),l=t.addAreaSeries(u(r.theme)),w(v.value))}),O(()=>s.vault,b,{immediate:!0}),O(()=>r.theme,A=>{p.value&&(t.applyOptions(g(p.value,A)),n.applyOptions(C(A)),l.applyOptions(u(A)))}),O(v,A=>{w(A)});const m=(A,R)=>{const se=Math.max(A[0].timestamp,R[0].timestamp),V=Math.min(A[A.length-1].timestamp,R[R.length-1].timestamp),P=A.filter(G=>G.timestamp>=se&&G.timestamp<=V),Q=R.filter(G=>G.timestamp>=se&&G.timestamp<=V);return P[P.length-1].timestamp<V&&P.push({timestamp:V,value:P[P.length-1].value}),Q[Q.length-1].timestamp<V&&Q.push({timestamp:V,value:Q[Q.length-1].value}),{oracle:P,market:Q}},g=(A,R)=>me(A,R,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),u=A=>{const R=H(A);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:_e.WithSteps,lineColor:R.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},C=A=>{const R=H(A);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:_e.WithSteps,lineColor:R.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},w=A=>{if(!t||!n)return;const R=J.chain(A.oracle).map(V=>({time:V.timestamp,value:V.value})).uniqWith((V,P)=>V.time===P.time).orderBy(V=>V.time,"asc").value(),se=J.chain(A.market).map(V=>({time:V.timestamp,value:V.value})).uniqWith((V,P)=>V.time===P.time).orderBy(V=>V.time,"asc").value();se.length>0&&l.setData(se),R.length>0&&n.setData(R),t.timeScale().fitContent()};return(A,R)=>(i(),$(o(ee),{class:"chart-container",title:o(e)("title"),loading:o(c)},{actions:y(()=>[d("div",Xl,[h(o(So),{items:["Oracle","Market"],colors:o(ae)(o(r).theme)},null,8,["colors"])])]),default:y(()=>[d("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ct(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Oracle & Market price"])}}})}typeof Ct=="function"&&Ct(oa);const Zl=k(oa,[["__scopeId","data-v-94a01709"]]),na=S({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(s){const{t:e}=x(),a=new U(E()),t=q(),{loading:n,data:l,loadData:r}=N(()=>s.vault?a.getCollateralPriceImpact("ethereum",s.vault.collateral).then(m=>m.impact):Promise.resolve([]),[]),p=D(()=>{const m=H(t.theme),g=ae(t.theme);return le({colors:m,colorsArray:g},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:c.value,labels:{formatter:u=>v(u)}},yaxis:{seriesName:"impact",labels:{formatter:u=>b(u)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:u=>{if(!s.vault)return"";const C=c.value[u.dataPointIndex],w=v(C*s.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${v(C)} ${s.vault.name} ($${w})</div>

          <div><b>Price impact:</b>:</div>
          <div>${b(u.series[0][u.dataPointIndex])}</div>
          `}}})}),_=D(()=>[{name:e("priceImpact"),data:Object.values(l.value).map(m=>m.impact)}]),c=D(()=>l.value.map(m=>s.vault?m.amount/s.vault.price:0)),v=m=>`${te(Math.abs(m),1,"dollar")}${Z(m,"dollar")}`,b=m=>`${te(m,2,"percentage")}${Z(m,"percentage")}`;return O(()=>s.vault,r,{immediate:!0}),(m,g)=>(i(),$(o(ne),{class:"chart",title:o(e)("title"),loading:o(n),options:p.value,series:_.value},null,8,["title","loading","options","series"]))}});function wt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["On-chain Selling Price Impact"])},priceImpact:a=>{const{normalize:t}=a;return t(["Price impact"])}}})}typeof wt=="function"&&wt(na);const er=k(na,[["__scopeId","data-v-57657d95"]]),tr={class:"kpis"},ar=["href"],sr=S({__name:"CollateralKPIs",props:{vault:{default:null}},setup(s){const e=new U(E()),{data:a,loadData:t}=N(()=>s.vault?e.getCollateralInfo("ethereum",s.vault.collateral).then(n=>n.info):Promise.resolve(null),null);return O(()=>s.vault,t,{immediate:!0}),(n,l)=>(i(),f("div",tr,[h(o(K),{label:"Oracle price","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),$(o(M),{key:0,value:o(a).price,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(K),{label:"Total supply","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),$(o(M),{key:0,value:o(a).supply,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(K),{label:"TVL","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),$(o(M),{key:0,value:o(a).tvl,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(K),{label:"Share of the ETH LSD market","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),$(o(M),{key:0,value:o(a).share,precision:1,type:"percentage"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(K),{label:"Full risk analysis by Prisma Risk team","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),f("a",{key:0,href:o(a).risk}," Risk Report ",8,ar)):I("",!0)]),_:1},8,["has-value"])]))}});const or=k(sr,[["__scopeId","data-v-abf880e6"]]),nr={class:"collateral"},lr=S({__name:"Collateral",props:{vault:{}},setup(s){return(e,a)=>(i(),f("div",nr,[h(or,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(Zl,{vault:e.vault},null,8,["vault"]),h(er,{vault:e.vault},null,8,["vault"])]))}});const rr=k(lr,[["__scopeId","data-v-a7083765"]]);const ir={},cr={class:"liquidations"};function ur(s,e){return i(),f("div",cr,"TODO")}const dr=k(ir,[["render",ur],["__scopeId","data-v-5225d811"]]);const _r={},pr={class:"redemptions"};function vr(s,e){return i(),f("div",pr,"TODO")}const mr=k(_r,[["render",vr],["__scopeId","data-v-f4b7711a"]]);function hr(s,e){const t=Math.round(s.value/1e3)-e;return t<60?`${Math.round(t)} seconds ago`:t<60*60?`${Math.round(t/60)} minutes ago`:t<60*60*24?`${Math.round(t/(60*60))} hours ago`:`${Math.round(t/(60*60*24))} days ago`}const fr=["href"],gr={class:"number"},br={class:"number"},Te=15,la=S({__name:"TableTroves",props:{vault:{default:null}},setup(s){const{t:e}=x(),a=new U(E()),t=L(""),n=L("Open"),l=L(1),r=L(Date.now()),p=L("updated"),_=L(oe.Descending),c=D(()=>n.value==="Open"?["Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["Owner","","","","Created At","Last Updated"]),v=D(()=>n.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","","","","created","updated"]),b=D(()=>n.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),m=D(()=>J.chain(C.value).filter(P=>n.value===P.status).filter(P=>{const Q=t.value.toLocaleLowerCase().split(" ");return(ra=>Q.some(ia=>ra.toLocaleLowerCase().includes(ia)))(P.owner)}).orderBy(P=>{switch(p.value){case"owner":return P.owner;case"debt":return P.debt;case"coll":return P.collateral_usd;case"ratio":return P.collateral_ratio;case"created":return P.created_at;case"updated":return P.last_update;default:return P.last_update}},_.value===oe.Descending?"desc":"asc").value()),g=D(()=>J.chain(m.value).drop((l.value-1)*Te).take(Te).value()),{loading:u,data:C,loadData:w}=N(()=>s.vault?a.getTroves("ethereum",s.vault.address,"last_update"):Promise.resolve([]),[]);F(()=>{w(),setInterval(()=>{r.value=Date.now()})});const A=P=>hr(r,P),R=P=>{l.value=P},se=P=>{P===0?n.value="Open":P===1?n.value="Closed":n.value="Open"},V=(P,Q)=>{p.value=P,_.value=Q};return O(()=>s.vault,w,{immediate:!0}),O(g,P=>{P.length===0&&(l.value=Math.max(1,Math.ceil(m.value.length/Te)))}),(P,Q)=>(i(),$(o(ke),{class:"datatable-troves","columns-header":"1fr 1fr","columns-data":"troves-columns-data",loading:o(u),rows:g.value,columns:c.value,sorting:!0,"sorting-columns":v.value,"sorting-columns-enabled":b.value,"sorting-default-column":"updated","sorting-default-dir":"Descending",onSortColumn:V},{"header-title":y(()=>[h(o(Ot),{class:"types",onTab:Q[0]||(Q[0]=G=>se(G.index))},{default:y(()=>[h(o(de),{header:"Open"}),h(o(de),{header:"Closed"})]),_:1}),h(o(At),{modelValue:t.value,"onUpdate:modelValue":Q[1]||(Q[1]=G=>t.value=G),class:"search",search:!0,placeholder:o(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(o(Js),{class:"pagination","items-count":m.value.length,"items-per-page":Te,page:l.value,onPage:R},null,8,["items-count","page"])]),row:y(G=>[d("div",{onClick:Q[2]||(Q[2]=Ie(()=>{},["stop"]))},[d("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${G.item.owner}`,target:"_blank"},T(o(ie)(G.item.owner)),9,fr)]),d("div",{class:z(["number",{hide:n.value==="Closed"}])}," $"+T(Math.round(G.item.debt)),3),d("div",{class:z(["number",{hide:n.value==="Closed"}])}," $"+T(Math.round(G.item.collateral_usd)),3),d("div",{class:z(["number",{hide:n.value==="Closed"}])},[h(o(M),{value:G.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),d("div",gr,T(A(G.item.created_at)),1),d("div",br,T(A(G.item.last_update)),1)]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]))}});function kt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof kt=="function"&&kt(la);const yr=k(la,[["__scopeId","data-v-a8638d92"]]),$r={class:"troves"},Cr=S({__name:"Troves",props:{vault:{}},setup(s){return(e,a)=>(i(),f("div",$r,[h(yr,{vault:e.vault},null,8,["vault"])]))}});const wr=k(Cr,[["__scopeId","data-v-de9cb246"]]);const kr={},Sr={class:"simulation"};function Dr(s,e){return i(),f("div",Sr,"TODO")}const Ar=k(kr,[["render",Dr],["__scopeId","data-v-a5df65ee"]]),Tr={class:"vault-manager"},Ir=S({__name:"VaultManager",setup(s){const e=new Nt("ethereum"),a=ze(),t=We(),n=He(),l=Ut(),r=L(0),p=D(()=>a.params.vaultAddr),_=D(()=>l.vault);return F(()=>{var v;const c=a.params.tab;c&&typeof c=="string"&&(c==="collateral"?r.value=1:c==="trove"?r.value=2:c==="liquidations"?r.value=3:c==="redemptions"?r.value=4:c==="simulation"&&(r.value=5)),n.show=!0,n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((v=_.value)==null?void 0:v.name)??"?"}`}]}),O(e.currentData,c=>{const v=c.find(b=>b.address===p.value);v&&(l.vault=v)}),O(_,c=>{n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(c==null?void 0:c.name)??"?"}`}]}),O(r,async c=>{c===0?await t.push({name:"prismavault",params:{tab:"",vaultAddr:p.value}}):c===1?await t.push({name:"prismavault",params:{tab:"collateral",vaultAddr:p.value}}):c===2?await t.push({name:"prismavault",params:{tab:"trove",vaultAddr:p.value}}):c===3?await t.push({name:"prismavault",params:{tab:"liquidations",vaultAddr:p.value}}):c===4?await t.push({name:"prismavault",params:{tab:"redemptions",vaultAddr:p.value}}):c===5&&await t.push({name:"prismavault",params:{tab:"simulation",vaultAddr:p.value}})}),(c,v)=>(i(),f("div",Tr,[h(o(Ot),{active:r.value,onTab:v[0]||(v[0]=b=>r.value=b.index)},{default:y(()=>[h(o(de),{header:"Overview"},{default:y(()=>[(i(),$(he,null,[r.value===0?(i(),$(Kl,{key:0,vault:_.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(o(de),{header:"Collateral"},{default:y(()=>[(i(),$(he,null,[r.value===1&&_.value?(i(),$(rr,{key:0,vault:_.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(o(de),{header:"Troves"},{default:y(()=>[(i(),$(he,null,[r.value===2&&_.value?(i(),$(wr,{key:0,vault:_.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(o(de),{header:"Liquidations",disabled:!0},{default:y(()=>[(i(),$(he,null,[r.value===3&&_.value?(i(),$(dr,{key:0,vault:_.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(o(de),{header:"Redemptions",disabled:!0},{default:y(()=>[(i(),$(he,null,[r.value===4&&_.value?(i(),$(mr,{key:0,vault:_.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(o(de),{header:"Simulation",disabled:!0},{default:y(()=>[(i(),$(he,null,[r.value===5&&_.value?(i(),$(Ar,{key:0,vault:_.value},null,8,["vault"])):I("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const Pr=k(Ir,[["__scopeId","data-v-5797ecb4"]]),zr={titleRoute:"/",routes:[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:$l},{path:"/mkusd",name:"mkusd",component:xl},{path:"/vaults",name:"vaults",component:el},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:Pr}],menuItems:[{to:"/vaults",label:"Vaults"},{to:"/mkusd",label:"mkUSD"},{to:"/pool",label:"Stability pool"}]},qe=Ca(pn),Or=wa({legacy:!1,locale:"en",fallbackLocale:"en"});qe.use(Or);const Lr=ka();qe.use(Lr);const Mr=[zr],xr=Ue();xr.pages=Mr;const Vr=Sn();qe.use(Vr).use(Sa).use(Da).mount("#app");
