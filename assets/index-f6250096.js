import{L as Ka,d as D,r as A,c as C,w as R,t as k,l as Q,o as d,a as S,b as y,e as h,f as $,g as le,h as lt,n as B,i as G,j as x,F as ee,T as Xa,u as s,k as Be,m as Za,p as eo,q as to,W as ao,s as oo,v as so,x as J,y as u,z as no,A as W,B as pe,C as ra,D as ve,E as me,G as ze,H as ie,I as N,J as lo,K as ro,M as io,N as co,O as Ae,P as We,Q as ft,R as uo,S as _o,U as vo,V as mo,X as we,Y as ge,Z as po,_ as Le,$ as ho,a0 as fo,a1 as go,a2 as bo,a3 as yo}from"./vendor-40bd07cf.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(n){if(n.ep)return;n.ep=!0;const l=o(n);fetch(n.href,l)}})();function $e(a,e=0,o=".",t=","){const n=isFinite(+a)?+a:0,l=isFinite(+e)?Math.abs(e):0,r=typeof t>"u"?",":t,c=typeof o>"u"?".":o,_=function(v,m){const f=Math.pow(10,m);return Math.round(v*f)/f},i=(l?_(n,l):Math.round(n)).toString().split(".");return i[0].length>3&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(i[1]||"").length<l&&(i[1]=i[1]||"",i[1]+=new Array(l-i[1].length+1).join("0")),i.join(c)}function oe(a,e){const o=Math.abs(a);return e==="percentage"?"%":e==="dollar"?o>=1*10**12?"t":o>=1*10**9?"b":o>=1*10**6?"m":o>=1*10**3?"k":"":""}function se(a,e,o){const t=Math.abs(a);return o==="percentage"?$e(a,e):o==="dollar"?t>=1*10**12?$e(a/10**12,e):t>=1*10**9?$e(a/10**9,e):t>=1*10**6?$e(a/10**6,e):t>=1*10**3?$e(a/10**3,e):$e(a,e):a.toString()}async function at(a,e=0,o=1e3){const t=await a(e,o),n=await(t.length>=o?at(a,e+1,o):Promise.resolve([]));return t.concat(n)}function ot(a,e){return(Array.isArray(a)?a:[a]).some(t=>e.path.startsWith(t))}const $o="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",wo="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",Co="0x657ce046d98d163ef4f846210f25919fa7b31944",ko="https://api.llama.airforce/";async function So(a,e,o){return await fetch(a,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:o}).then(t=>{if(t.ok)return t;throw new Error(`Fetch error ${t.status} for URL: ${a}`)})}async function To(a,e,o){return await(await So(a,e,o)).json()}class Do{constructor(e){this.host=e}async fetch(e,o,t){return To(e,o,t)}}async function Po(a){try{return await a()}catch(e){e instanceof Error&&Ka({text:e.message,type:"error"});return}}const Io="|/-\\",E=D({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(a){let e=0,o=0;const t=A("|"),n=C(()=>a.value?se(a.value,typeof a.precision=="function"?a.precision(a.value):a.precision,a.type??""):a.value===0&&a.showZero?"0":a.value===null||a.value===void 0?t.value:"?"),l=C(()=>!a.value||!a.type||!Q.isFinite(a.value)?a.showUnit&&a.type?oe(0,a.type):"":oe(a.value,a.type));return R(()=>a.value,r=>{if(clearInterval(o),e=0,r)return;const c=()=>{e=(e+1)%4,t.value=Io[e]};o=window.setInterval(c,250)},{immediate:!0}),(r,c)=>k(r.showSymbol&&r.type==="dollar"?"$":"")+k(n.value)+k(r.showUnit?l.value:"")}}),zo={key:0,class:"fas fa-chevron-right"},Ao=D({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(a,{emit:e}){const o=e,t=l=>{var r;return a.active?a.active.id===l.id:((r=a.crumbs.at(-1))==null?void 0:r.id)===l.id},n=l=>{var r;return((r=a.crumbs.at(-1))==null?void 0:r.id)===l.id};return(l,r)=>(d(),S(s(ne),null,{default:y(()=>[h(Xa,{name:"fade",tag:"ul"},{default:y(()=>[(d(!0),$(ee,null,le(l.crumbs,c=>(d(),$("li",{key:c.id},[(d(),S(lt(t(c)?"span":"a"),{class:B({active:t(c)}),onClick:_=>o("crumb",c)},{default:y(()=>[G(k(c.label),1)]),_:2},1032,["class","onClick"])),!n(c)||l.crumbs.length===1?(d(),$("i",zo)):x("",!0)]))),128))]),_:1})]),_:1}))}});const P=(a,e)=>{const o=a.__vccOpts||a;for(const[t,n]of e)o[t]=n;return o},xo=P(Ao,[["__scopeId","data-v-997741c8"]]);function Lo(){return!1}const rt=Be({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(a){this.address=a==null?void 0:a.toLocaleLowerCase()}}}),Oo=Za(),Mo=eo({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"}),Ro=oo({darkMode:!0}),Vo=so();let he=null;function Bo(){const a=to({wallets:[Oo,Mo,Ro,Vo],chains:[{id:"0x1",token:"ETH",label:"Ethereum Mainnet",rpcUrl:"https://mainnet.infura.io/v3/878382a352b14db1b7ad52a89a886207"}],appMetadata:{name:"Llama Airforce",icon:"/wallet-icon.png",description:"Airdropping knowledge bombs about the Curve ecosystem"},theme:"dark"});return a.state.actions.updateAccountCenter({enabled:!1}),a}let st=null;async function ia(a=!1){he||(he=Bo());let[e]=he.state.get().wallets;if(!e){const o=window.localStorage.getItem("connectedWallet");o?[e]=await he.connectWallet({autoSelect:{label:o,disableModals:!0}}):a&&([e]=await(he==null?void 0:he.connectWallet())??[null],e&&window.localStorage.setItem("connectedWallet",e.label))}st=e||null}function Me(){return st?new ao(st.provider):void 0}async function Wo(){if(!he)return;const[a]=he.state.get().wallets;await he.disconnectWallet({label:a.label}),window.localStorage.removeItem("connectedWallet")}async function ca(a){if(!a)return!1;try{const o=await a.getSigner().getAddress();return!0}catch{return!1}}async function ua(a){if(!a)return!1;try{const{name:e,chainId:o}=await a.getNetwork();return e==="homestead"&&o===1}catch{return!1}}async function Eo(a){return await a.getSigner().getAddress()}function te(a,e=6){if(!a)return"0x000...000";const o=e/2+2,t=a.length-e/2;return`${a.substring(0,o)}...${a.substring(t)}`}const No=D({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(a,{emit:e}){const o=e,t=async n=>{if(n.stopImmediatePropagation(),a.web3&&Lo()){const l=Me();if(!l)return;await ua(l)||(await l.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())}o("click")};return(n,l)=>(d(),$("button",{class:B({primary:n.primary}),onClick:t},[J(n.$slots,"default",{},()=>[n.icon?(d(),$("i",{key:0,class:B(["icon",[n.icon,{noValue:!!n.value}]])},null,2)):x("",!0),G(" "+k(n.value),1)],!0)],2))}});const _e=P(No,[["__scopeId","data-v-b051a687"]]),Fo=D({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(a,{emit:e}){const o=e,t=()=>{o("update:modelValue",!a.modelValue)};return(n,l)=>(d(),$("button",{class:B({toggled:n.modelValue}),onClick:t},[J(n.$slots,"default",{},()=>[n.icon?(d(),$("i",{key:0,class:B(["icon",n.icon])},null,2)):x("",!0),G(" "+k(n.value),1)],!0)],2))}});const Qe=P(Fo,[["__scopeId","data-v-a2cabc6a"]]),Uo={class:"card"},Ho={class:"text"},qo=D({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(a){return(e,o)=>(d(),$("div",Uo,[e.loading?(d(),S(s(ma),{key:0,class:"loader"})):x("",!0),u("div",{class:B(["card-container",{loading:e.loading}])},[e.title?(d(),$("div",{key:0,class:B(["card-header",{collapsible:e.collapsible}])},[u("div",Ho,[e.icon?(d(),$("i",{key:0,class:B(["icon",e.icon])},null,2)):x("",!0),G(" "+k(e.title),1)]),J(e.$slots,"actions",{},void 0,!0)],2)):(d(),$("div",{key:1,class:B(["card-no-header",{compact:e.compact}])},null,2)),u("div",{class:B(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[J(e.$slots,"default",{},void 0,!0)],2)],2)]))}});const ne=P(qo,[["__scopeId","data-v-317ddfe2"]]),jo=D({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(a){return(e,o)=>(d(),S(s(ne),{class:"card-graph",title:e.title,loading:e.loading},{default:y(()=>[h(s(da),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),J(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const de=P(jo,[["__scopeId","data-v-4e0fd9b7"]]),Go={class:"chip"},Qo={class:"label"},Jo=D({__name:"Chip",props:{label:{default:""}},setup(a){return(e,o)=>(d(),$("div",Go,[u("div",Qo,k(e.label),1)]))}});const Yo=P(Jo,[["__scopeId","data-v-1eb2caf8"]]);const Ko={class:"collapsible-inside"},Xo=D({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(a){return(e,o)=>(d(),$("div",{class:B(["collapsible-outside",{expanded:e.expanded}])},[u("div",Ko,[J(e.$slots,"default",{},void 0,!0)])],2))}});const it=P(Xo,[["__scopeId","data-v-25b74378"]]),Zo={key:1,class:"header"},es={key:0,class:"header-icon"},ts={class:"header-actions"},as={key:2,class:"list"},os=["onClick"],ss={key:0,class:"sorting-arrows"},ns={key:0,class:"sorting-arrow fa fa-caret-up"},ls={key:1,class:"sorting-arrow fa fa-caret-down"},rs={key:2,class:"sorting-arrow"},is={class:"rows"},cs={key:3,class:"no-data"},ct=D({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(a,{emit:e}){const o=e,t=A(""),n=A(Z.Ascending),l=C(()=>`grid-template-columns: ${a.columnsHeader}`),r=C(()=>{if(a.rowsMin===null)return[];const g=Math.max(0,a.rowsMin-a.rows.length);return new Array(g)});no(()=>{a.sortingDefaultColumn&&(t.value=a.sortingDefaultColumn),a.sortingDefaultDir&&(n.value=a.sortingDefaultDir===Z.Ascending?Z.Ascending:Z.Descending)});const c=g=>{o("selected",g)},{t:_}=W(),i=g=>{const z=g+1;return!!(a.rows[g+1]&&a.rows.findIndex(F=>F===a.selectedRow)===z)},v=g=>a.expanded.includes(g),m=g=>{const z=a.sortingColumns[g];return a.sortingColumnsEnabled.includes(z)},f=g=>t.value===a.sortingColumns[g]&&n.value==="Ascending",b=g=>t.value===a.sortingColumns[g]&&n.value==="Descending",p=g=>{if(!a.sorting||!a.sortingColumns||!m(g))return;const z=a.sortingColumns[g];z===t.value?n.value=n.value===Z.Ascending?Z.Descending:Z.Ascending:n.value=Z.Ascending,t.value=z,o("sortColumn",t.value,n.value)};return(g,z)=>(d(),$("div",{class:B(["datatable",{loading:g.loading}])},[g.loading?(d(),S(s(ma),{key:0,class:"loader"})):x("",!0),g.header?(d(),$("div",Zo,[g.icon?(d(),$("div",es,[u("i",{class:B(g.icon)},null,2)])):x("",!0),u("div",{class:"header-title",style:pe(l.value)},[J(g.$slots,"header-title",{},void 0,!0)],4),u("div",ts,[J(g.$slots,"header-actions",{},void 0,!0)])])):x("",!0),g.rowsMin||g.rows&&g.rows.length>0?(d(),$("div",as,[u("div",{class:B(["row-data",[g.columnsData,{"selected-below":i(-1)}]])},[J(g.$slots,"column-headers",{},()=>[(d(!0),$(ee,null,le(g.columns,(I,V)=>(d(),$("div",{key:I,class:B(["column-header",{"sortable-header":g.sorting&&m(V),"current-sort":t.value==g.sortingColumns[V]}]),onClick:F=>p(V)},[G(k(I)+" ",1),g.sorting&&m(V)?(d(),$("div",ss,[f(V)?(d(),$("i",ns)):b(V)?(d(),$("i",ls)):(d(),$("span",rs," — "))])):x("",!0)],10,os))),128))],!0)],2),u("div",is,[(d(!0),$(ee,null,le(g.rows,(I,V)=>(d(),S(s(Ze),{key:I,data:I,class:B({"selected-below":i(V)}),columns:g.columnsData,selected:g.selectedRow===I,expanded:v(I),onClick:c},{row:y(()=>[J(g.$slots,"row",{item:I},void 0,!0)]),"row-details":y(()=>[J(g.$slots,"row-details",{item:I},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(d(!0),$(ee,null,le(r.value,I=>(d(),S(s(Ze),{key:I}))),128)),g.$slots["row-aggregation"]?(d(),S(s(Ze),{key:0,class:"aggregation",columns:g.columnsData},{row:y(()=>[J(g.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):x("",!0)])])):!g.rowsMin&&!g.loading?(d(),$("div",cs,[J(g.$slots,"no-data",{},()=>[G(k(s(_)("no-data")),1)],!0)])):x("",!0)],2))}});function gt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":o=>{const{normalize:t}=o;return t(["No data :("])}}})}function bt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":o=>{const{normalize:t}=o;return t(["没有数据 :("])}}})}typeof gt=="function"&&gt(ct);typeof bt=="function"&&bt(ct);const ue=P(ct,[["__scopeId","data-v-50e85b9c"]]),us=a=>(ve("data-v-45ff862c"),a=a(),me(),a),ds=us(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),_s=[ds],vs={class:"row-details"},ms=D({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(a,{emit:e}){const o=e,t=ra(),n=C(()=>{var c;const r=t["row-details"];if(r){const _=(c=r()[0])==null?void 0:c.children;if(_)return _.length>0}return!1}),l=()=>{o("click",a.data)};return(r,c)=>(d(),$("div",{class:B(["row",{expanded:r.expanded}])},[u("div",{class:B(["row-data item",[r.columns,{active:r.selected,expandable:n.value}]]),onClick:l},[J(r.$slots,"row",{},void 0,!0),n.value?(d(),$("div",{key:0,class:B(["expander",{expanded:r.expanded}])},_s,2)):x("",!0)],2),h(s(it),{expanded:r.expanded},{default:y(()=>[u("div",vs,[J(r.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const Ze=P(ms,[["__scopeId","data-v-45ff862c"]]),ps=D({__name:"GraphApex",props:{options:{},series:{}},setup(a){return(e,o)=>{const t=ze("apexchart");return d(),S(t,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const da=P(ps,[["__scopeId","data-v-3e2879ed"]]);const hs=a=>(ve("data-v-a7ae5e73"),a=a(),me(),a),fs={class:"input-text"},gs={key:0,class:"icon"},bs=hs(()=>u("i",{class:"fas fa-search"},null,-1)),ys=[bs],$s=["type","value","placeholder","onInput"],ws=["onClick"],Cs=D({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(a,{emit:e}){const o=e,t=C(()=>{const l=a.options.filter(c=>a.filter(a.modelValue,c));return a.sort?[...l].sort(a.sort):l}),n=l=>{const r=l.target.value;o("update:modelValue",r),o("input",r)};return(l,r)=>(d(),$("div",fs,[l.search?(d(),$("span",gs,ys)):x("",!0),u("input",{type:l.search?"search":"text",value:l.modelValue,placeholder:l.placeholder,onInput:ie(n,["stop"]),onSelect:r[0]||(r[0]=ie(()=>{},["stop"]))},null,40,$s),l.options&&l.autoComplete?(d(),$("div",{key:1,class:B(["items",{selectHide:!l.autoComplete}])},[(d(!0),$(ee,null,le(t.value,(c,_)=>(d(),$("div",{key:_,onClick:i=>o("select",c)},[J(l.$slots,"item",{item:c,idx:_},()=>[G(k(c),1)],!0)],8,ws))),128))],2)):x("",!0)]))}});const Ce=P(Cs,[["__scopeId","data-v-a7ae5e73"]]),ks={key:0,class:"value"},Ss={key:1,class:"value"},Ts=["innerHTML"],Ds={key:0,class:"value"},Ps={key:1,class:"value"},Is=["innerHTML"],zs={class:"labels"},As={class:"label"},xs={class:"label-second"},Ls=D({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(a){return(e,o)=>(d(),$("div",{class:B(["kpi",{disabled:!e.hasValue}])},[u("div",{class:B(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[J(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(d(),S(s(Re),{key:0},{item:y(()=>[e.hasValue?(d(),$("span",ks,k(e.value),1)):(d(),$("span",Ss," ? "))]),default:y(()=>[J(e.$slots,"tooltip",{},()=>[u("span",{innerHTML:e.tooltip},null,8,Ts)],!0)]),_:3})):(d(),$(ee,{key:1},[e.hasValue?(d(),$("span",Ds,k(e.value),1)):(d(),$("span",Ps," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(d(),S(s(Re),{key:0},{default:y(()=>[u("span",{innerHTML:e.tooltip},null,8,Is)]),_:1})):x("",!0)],2),u("div",zs,[J(e.$slots,"label",{},()=>[u("div",As,k(e.label),1)],!0),J(e.$slots,"label-second",{},()=>[u("div",xs,k(e.labelSecond),1)],!0)])],2))}});const ae=P(Ls,[["__scopeId","data-v-0123c061"]]),Os={key:0,class:"modal"},Ms={class:"modal-popup"},Rs=D({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(a,{emit:e}){const o=e,t=n=>{n.code==="Escape"&&o("close")};return N(()=>{document.addEventListener("keydown",t)}),lo(()=>{document.removeEventListener("keydown",t)}),R(()=>a.show,n=>{document.body.style.overflow=n?"hidden":""}),(n,l)=>n.show?(d(),$("div",Os,[u("div",{class:"modal-mask",onClick:l[0]||(l[0]=r=>o("close"))}),u("div",Ms,[J(n.$slots,"default",{},void 0,!0)])])):x("",!0)}});const Je=P(Rs,[["__scopeId","data-v-8f349360"]]),Vs={class:"buttons"},Bs={key:1,class:"not-ready"},_a=D({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(a,{emit:e}){const o=e,{t}=W();return(n,l)=>(d(),S(s(Je),{show:n.show},{default:y(()=>[h(s(ne),{title:n.title},{default:y(()=>[J(n.$slots,"default",{},void 0,!0),u("div",Vs,[h(s(_e),{class:"no",value:s(t)("no"),onClick:l[0]||(l[0]=r=>o("no"))},null,8,["value"]),n.ready?(d(),S(s(_e),{key:0,class:"yes",value:s(t)("yes"),onClick:l[1]||(l[1]=r=>o("yes"))},null,8,["value"])):(d(),$("div",Bs,k(n.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function yt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:o=>{const{normalize:t}=o;return t(["Yes"])},no:o=>{const{normalize:t}=o;return t(["No"])}}})}function $t(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:o=>{const{normalize:t}=o;return t(["是的"])},no:o=>{const{normalize:t}=o;return t(["不是"])}}})}typeof yt=="function"&&yt(_a);typeof $t=="function"&&$t(_a);const ut=a=>(ve("data-v-6ab859e6"),a=a(),me(),a),Ws=ut(()=>u("button",null,"1",-1)),Es=[Ws],Ns=ut(()=>u("button",null,[u("i",{class:"fas fa-chevron-left"})],-1)),Fs=[Ns],Us=["onClick"],Hs=ut(()=>u("button",null,[u("i",{class:"fas fa-chevron-right"})],-1)),qs=[Hs],js=D({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(a,{emit:e}){const o=e,t=C(()=>Math.ceil(a.itemsCount/a.itemsPerPage)),n=C(()=>{const m=[...Array(12).keys()].map(I=>I-6+a.page).filter(I=>I>=1&&I<=t.value),f=m.findIndex(I=>I===a.page),b=[],p=[],g=a.page!==1&&a.page!==t.value?[a.page]:[];let z=1;for(;;){const I=m[f-z];if(I&&I!==1&&b.unshift(I),b.length+p.length+g.length>=5||z>m.length)break;const V=m[f+z];if(V&&V!==t.value&&p.push(V),z++,b.length+p.length+g.length>=5||z>m.length)break}return[...b,...g,...p]}),l=(i,v,m)=>Math.min(Math.max(i,v),m),r=()=>o("page",l(a.page-1,1,t.value)),c=()=>o("page",l(a.page+1,1,t.value)),_=i=>o("page",l(i,1,t.value));return(i,v)=>(d(),$("ul",null,[u("li",{class:B({active:i.page===1}),onClick:v[0]||(v[0]=m=>_(1))},Es,2),t.value>2?(d(),$("li",{key:0,onClick:r},Fs)):x("",!0),(d(!0),$(ee,null,le(n.value,m=>(d(),$("li",{key:m,class:B({active:m===i.page}),onClick:f=>_(m)},[u("button",null,k(m),1)],10,Us))),128)),t.value>2?(d(),$("li",{key:1,onClick:c},qs)):x("",!0),t.value>1?(d(),$("li",{key:2,class:B({active:i.page===t.value}),onClick:v[1]||(v[1]=m=>_(t.value))},[u("button",null,k(t.value),1)],2)):x("",!0)]))}});const Ee=P(js,[["__scopeId","data-v-6ab859e6"]]),Gs=a=>(ve("data-v-8e55132f"),a=a(),me(),a),Qs={class:"select"},Js={class:"item"},Ys={key:0,class:"label"},Ks=["onClick"],Xs=Gs(()=>u("div",{class:"chevrons"},[u("i",{class:"fas fa-chevron-up"}),u("i",{class:"fas fa-chevron-down"})],-1)),Zs=D({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(a,{emit:e}){const o=e;return(t,n)=>(d(),$("div",{class:"select-container",tabindex:"0",onClick:n[0]||(n[0]=ie(l=>o("open"),["stop"])),onBlur:n[1]||(n[1]=l=>o("close"))},[u("div",Qs,[u("div",{class:B(["selected",{open:t.open}])},[J(t.$slots,"item",{item:t.selected},()=>[u("div",Js,k(t.selected),1)],!0),t.label?(d(),$("div",Ys,k(t.label),1)):x("",!0)],2),u("div",{class:B(["items",{selectHide:!t.open}])},[(d(!0),$(ee,null,le(t.options,(l,r)=>(d(),$("div",{key:r,onClick:c=>o("input",l)},[J(t.$slots,"item",{item:l},()=>[G(k(l),1)],!0)],8,Ks))),128))],2)]),Xs],32))}});const dt=P(Zs,[["__scopeId","data-v-8e55132f"]]),en={class:"item"},tn={class:"label"},wt="locale",an=D({__name:"SelectLanguage",props:{locales:{default:()=>on},direction:{default:"up"}},setup(a){const{t:e}=W(),{locale:o}=W({useScope:"global"}),t=A("en"),n=A(!1);N(()=>{const c=localStorage.getItem(wt);c&&a.locales.some(_=>_===c)&&r(c)});const l=()=>{n.value=!n.value},r=c=>{t.value=c,o.value=t.value,localStorage.setItem(wt,t.value)};return(c,_)=>(d(),S(s(dt),{class:B(["select",{"direction-up":c.direction==="up"}]),options:c.locales.map(i=>i),selected:t.value,open:n.value,onOpen:l,onClose:_[0]||(_[0]=i=>n.value=!1),onInput:r},{item:y(i=>[u("div",en,[u("div",tn,k(s(e)(i.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function Ct(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:o=>{const{normalize:t}=o;return t(["English"])},zh:o=>{const{normalize:t}=o;return t(["中文"])},fr:o=>{const{normalize:t}=o;return t(["Français"])}}})}typeof Ct=="function"&&Ct(an);const on=["en","zh","fr"];var Z=(a=>(a.Ascending="Ascending",a.Descending="Descending",a))(Z||{});const sn={},va=a=>(ve("data-v-ad2adcec"),a=a(),me(),a),nn={class:"lds-ripple"},ln=va(()=>u("div",null,null,-1)),rn=va(()=>u("div",null,null,-1)),cn=[ln,rn];function un(a,e){return d(),$("div",nn,cn)}const ma=P(sn,[["render",un],["__scopeId","data-v-ad2adcec"]]),fe=D({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(a){return(e,o)=>J(e.$slots,"default")}}),dn={class:"tab-view"},_n={class:"tab-headers"},vn=["onClick"],mn={class:"tabs"},pn=D({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(a,{emit:e}){const o=e,t=A(null),n=ra(),l=C(()=>n!=null&&n.default?n.default():[]);R(()=>a.active,c=>{t.value=c,o("tab",{tab:l.value[c],index:t.value})},{immediate:!0});const r=(c,_)=>{c.props.disabled||(t.value=_,o("tab",{tab:l.value[_],index:t.value}))};return(c,_)=>(d(),$("div",dn,[u("ul",_n,[(d(!0),$(ee,null,le(l.value,(i,v)=>(d(),$("li",{key:v,class:B(["tab-header",{active:t.value===v,disabled:i.props.disabled}]),onClick:m=>r(i,v)},k(i.props.header),11,vn))),128))]),u("div",mn,[(d(!0),$(ee,null,le(l.value,(i,v)=>ro((d(),$("div",{key:v,class:"tab"},[(d(),S(lt(i)))])),[[io,t.value===v]])),128))])]))}});const _t=P(pn,[["__scopeId","data-v-4a99a489"]]),hn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",fn={key:1,src:hn},gn=D({__name:"Tooltip",props:{icon:{default:""}},setup(a){const e=A(!1);return(o,t)=>(d(),S(s(co),{class:"tooltip",show:e.value},{content:y(()=>[J(o.$slots,"default",{},void 0,!0)]),default:y(()=>[u("div",{onMouseover:t[0]||(t[0]=n=>e.value=!0),onMouseleave:t[1]||(t[1]=n=>e.value=!1)},[J(o.$slots,"item",{},()=>[o.icon?(d(),$("i",{key:0,class:B(o.icon)},null,2)):(d(),$("img",fn))],!0)],32)]),_:3},8,["show"]))}});const Re=P(gn,[["__scopeId","data-v-2158cb4b"]]);function q(a,e){const o=A(!1),t=A(e);return{loading:o,data:t,loadData:()=>(o.value=!0,Po(async()=>{t.value=await a(),o.value=!1}))}}const bn={class:"legend"},yn=["onClick"],$n={class:"label"},wn=D({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(a,{emit:e}){const o=e,t=n=>a.colors[n];return(n,l)=>(d(),$("div",bn,[(d(!0),$(ee,null,le(n.items,(r,c)=>(d(),$("div",{key:r,class:B(["item",{clickable:n.clickable,disabled:n.disabled.includes(r)}]),onClick:_=>{n.clickable&&o("click",r)}},[u("div",{class:"color",style:pe({"background-color":t(c)})},null,4),u("div",$n,k(r),1)],10,yn))),128))]))}});const Cn=P(wn,[["__scopeId","data-v-b0a9ca48"]]);function et(a){return(a==null?void 0:a.children)!==void 0}function kt(a){return(a==null?void 0:a.to)!==void 0}const kn={key:0},Sn={class:"nav-link-container"},Tn={class:"nav-link-container"},Dn={class:"left"},Pn={class:"right"},In=D({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(a,{emit:e}){const o=e,t=Ae(),n=A(!0),l=C(()=>kt(a.item)?[a.item]:et(a.item)?a.item.children:[]),r=()=>{et(a.item)&&a.item.children.filter(i=>ot(i.to,t)).length>0&&(n.value=!0)};R(()=>a.item,()=>{r()},{immediate:!0}),R(()=>t.fullPath,()=>{r()},{immediate:!0});const c=()=>{n.value=!n.value};return(_,i)=>{const v=ze("router-link");return d(),$(ee,null,[s(et)(_.item)?(d(),$("li",kn,[u("a",{class:"nav-link node",onClick:c},[u("div",Sn,[G(k(_.item.label)+" ",1),u("i",{class:B(["expander fas fa-chevron-up",{expanded:n.value}])},null,2)])])])):x("",!0),h(s(it),{class:"items",expanded:n.value},{default:y(()=>[u("ul",null,[(d(!0),$(ee,null,le(l.value,m=>(d(),$("li",{key:m.label},[s(kt)(m)?(d(),S(v,{key:0,to:m.to,class:B(["nav-link leaf",{"router-link-active":s(ot)(m.to,s(t))}]),onClick:i[0]||(i[0]=f=>o("navigated"))},{default:y(()=>[u("div",Tn,[u("div",Dn,k(m.label),1),u("div",Pn,[m.tag==="beta"?(d(),S(s(Yo),{key:0,label:"BETA"})):x("",!0)])])]),_:2},1032,["to","class"])):x("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const zn=P(In,[["__scopeId","data-v-d8ba8816"]]),An=D({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(a,{emit:e}){const o=e,t=Ae(),n=C(()=>a.pages.find(r=>ot(r.titleRoute,t))),l=C(()=>{var r;return((r=n.value)==null?void 0:r.menuItems)??[]});return(r,c)=>(d(),$("nav",null,[(d(!0),$(ee,null,le(l.value,_=>(d(),$("ul",{key:_.label},[h(zn,{item:_,onNavigated:c[0]||(c[0]=i=>o("navigated"))},null,8,["item"])]))),128))]))}});const xn=P(An,[["__scopeId","data-v-59493144"]]),Ln="/assets/prisma-b38af1f3.png",On="/assets/hat-80c6c9b1.png";const Mn={},pa=a=>(ve("data-v-f01d266e"),a=a(),me(),a),Rn={class:"logo"},Vn=pa(()=>u("div",{class:"visual"},[u("img",{src:Ln}),u("img",{src:On})],-1)),Bn=pa(()=>u("span",null,"prisma.monitor",-1)),Wn=[Vn,Bn];function En(a,e){return d(),$("div",Rn,Wn)}const Nn=P(Mn,[["render",En],["__scopeId","data-v-f01d266e"]]),Fn={class:"header"},Un={class:"buttons"},Hn=D({__name:"Header",emits:["toggle-expansion","navigated"],setup(a,{emit:e}){const o=e;return(t,n)=>{const l=ze("router-link");return d(),$("div",Fn,[h(l,{class:"logo",to:"/",onClick:n[0]||(n[0]=r=>o("navigated"))},{default:y(()=>[h(Nn,{class:"logo"})]),_:1}),u("div",Un,[h(s(_e),{icon:"fas fa-bars",onClick:n[1]||(n[1]=r=>o("toggle-expansion"))})])])}}});const qn=P(Hn,[["__scopeId","data-v-a5771fce"]]),jn=a=>(ve("data-v-2a3f89a0"),a=a(),me(),a),Gn={class:"buttons"},Qn=jn(()=>u("i",{class:"fas fa-trash"},null,-1)),Jn=["innerHTML"],vt=D({__name:"WalletConnectButton",emits:["connected"],setup(a,{emit:e}){const{t:o}=W(),t=e,n=rt(),l=async()=>{await ia(!0);const c=Me(),_=await ca(c);n.connected=_,_&&t("connected")},r=()=>{window.localStorage.removeItem("connectedWallet")};return(c,_)=>(d(),$("div",Gn,[h(s(_e),{class:"button",primary:!0,onClick:l},{default:y(()=>[G(k(s(o)("connect-your-wallet")),1)]),_:1}),h(s(Re),{class:"tooltip"},{item:y(()=>[h(s(_e),{class:"button clear",onClick:r},{default:y(()=>[Qn]),_:1})]),default:y(()=>[u("div",{class:"ping",innerHTML:s(o)("clear-cache")},null,8,Jn)]),_:1})]))}});function St(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"connect-your-wallet":o=>{const{normalize:t}=o;return t(["Connect Wallet"])},"clear-cache":o=>{const{normalize:t}=o;return t(["<b>Clear Cache</b><br /> Press this button to possibly solve the issue of a non-working connect button.<br /> This problem often occurs when you switch between wallet extensions in your browser.<br /> Try to connect again after pressing this button."])}}})}function Tt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"connect-your-wallet":o=>{const{normalize:t}=o;return t(["连接你的钱包"])},"clear-cache":o=>{const{normalize:t}=o;return t(["<b>清除缓存</b><br /> 按下这个按钮，可能会解决连接按钮不工作的问题.<br /> 这个问题经常发生在你在浏览器中切换钱包扩展时.<br /> 按下这个按钮后，尝试再次连接."])}}})}typeof St=="function"&&St(vt);typeof Tt=="function"&&Tt(vt);const Yn=P(vt,[["__scopeId","data-v-2a3f89a0"]]),Kn={class:"wallet"},Xn={key:0,class:"connected"},Zn={key:0,class:"incorrectNetwork"},el={class:"info"},tl={key:1,class:"notConnected"},al={key:0,class:"info"},ha=D({__name:"Wallet",props:{labelPleaseConnect:{}},setup(a){const{t:e}=W(),o=rt(),t=C(()=>o.connected),n=C(()=>o.correctNetwork),l=C(()=>te(o.address));N(async()=>{await ia();const _=Me(),i=await ca(_);o.connected=i;const v=await ua(_);o.correctNetwork=v}),R(()=>o.connected,async _=>{const i=Me(),v=i&&_?await Eo(i):void 0;o.setAddress(v)},{immediate:!0});const r=async()=>{const _=Me();_&&(await _.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())},c=async()=>{await Wo(),o.connected=!1};return(_,i)=>(d(),$("div",Kn,[t.value?(d(),$("div",Xn,[n.value?x("",!0):(d(),$("div",Zn,[h(s(_e),{class:"changeNetwork",value:"Change Network",primary:!0,onClick:r}),u("span",el,k(s(e)("incorrect-network")),1)])),h(s(_e),{class:"disconnect",icon:"fas fa-check",value:l.value,onClick:c},null,8,["value"])])):(d(),$("div",tl,[h(Yn),_.labelPleaseConnect?(d(),$("span",al,k(_.labelPleaseConnect),1)):x("",!0)]))]))}});function Dt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"incorrect-network":o=>{const{normalize:t}=o;return t(["You are not on the correct network; should be Ethereum"])}}})}typeof Dt=="function"&&Dt(ha);const ol=P(ha,[["__scopeId","data-v-7d2ec4f7"]]),Se={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"};Se.blue,Se.yellow,Se.green,Se.red,Se.purple;const Te={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"};Te.blue,Te.yellow,Te.green,Te.red,Te.purple;const De={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"};De.blue,De.yellow,De.green,De.red,De.purple;function Pt(a){return a==="chad"?De:a==="light"?Te:Se}const X=Be({id:"settingsStore",state:()=>({theme:"light"})}),sl={class:"theme"},nl={class:"label"},ll={class:"colors"},rl=D({__name:"SelectTheme",setup(a){const e=[{id:"dark",colors:Pt("dark")},{id:"light",colors:Pt("light")}],o=X(),t=A(e[0]),n=A(!1);N(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)").matches,_=localStorage.getItem("theme");if(!_&&c)r(e.find(i=>i.id==="dark"));else{const i=e.find(v=>v.id===_)??e.find(v=>v.id==="light")??e[0];r(i)}});const l=()=>{n.value=!n.value},r=c=>{t.value=c,window.document.documentElement.setAttribute("data-theme",t.value.id),o.theme=t.value.id,localStorage.setItem("theme",t.value.id)};return(c,_)=>(d(),S(s(dt),{class:"select direction-up",options:e.map(i=>i),selected:t.value,open:n.value,onOpen:l,onClose:_[0]||(_[0]=i=>n.value=!1),onInput:r},{item:y(i=>[u("div",sl,[u("div",nl,k(i.item.id),1),u("div",ll,[u("div",{class:"color",style:pe({"background-color":i.item.colors.backgroundColor})},null,4),u("div",{class:"color",style:pe({"background-color":i.item.colors.level1})},null,4),u("div",{class:"color",style:pe({"background-color":i.item.colors.level2})},null,4),u("div",{class:"color",style:pe({"background-color":i.item.colors.blue})},null,4),u("div",{class:"color",style:pe({"background-color":i.item.colors.yellow})},null,4),u("div",{class:"color",style:pe({"background-color":i.item.colors.green})},null,4),u("div",{class:"color",style:pe({"background-color":i.item.colors.red})},null,4),u("div",{class:"color",style:pe({"background-color":i.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const il=P(rl,[["__scopeId","data-v-12a81df3"]]),cl={class:"bottom"},ul={class:"buttons"},dl={href:"https://twitter.com/0xAlunara",target:"_blank"},_l={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},vl={class:"selectors"},ml=D({__name:"Bottom",emits:["navigated"],setup(a,{emit:e}){const o=e,t=async()=>{await navigator.clipboard.writeText(window.location.href)};return(n,l)=>{const r=ze("router-link");return d(),$("div",cl,[u("div",ul,[h(s(_e),{class:"copy",icon:"fas fa-link",onClick:t}),u("a",dl,[h(s(_e),{icon:"fab fa-twitter"})]),u("a",_l,[h(s(_e),{icon:"fab fa-github"})]),h(r,{to:"/code"},{default:y(()=>[h(s(_e),{icon:"fas fa-code",onClick:l[0]||(l[0]=c=>o("navigated"))})]),_:1})]),u("div",vl,[h(il,{class:"themes"})]),h(ol)])}}});const pl=P(ml,[["__scopeId","data-v-0cf9bbd9"]]),mt=Be({id:"pageStore",state:()=>({pages:[]})}),hl=D({__name:"Navigation",emits:["navigated"],setup(a,{emit:e}){const o=e,t=mt(),n=A(!1),l=()=>{n.value=!1,o("navigated")};return(r,c)=>(d(),$("div",{class:B(["menu-desktop",{expanded:n.value}])},[h(qn,{onToggleExpansion:c[0]||(c[0]=_=>n.value=!n.value),onNavigated:l}),h(s(it),{class:"menu-content",expanded:n.value},{default:y(()=>[h(s(xn),{pages:s(t).pages,onNavigated:l},null,8,["pages"]),h(pl,{onNavigated:l})]),_:1},8,["expanded"])],2))}});const fl=P(hl,[["__scopeId","data-v-07323d4e"]]),Ye=Be({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),gl={class:"root"},bl={class:"main"},yl={class:"content"},$l=D({__name:"App",setup(a){const e=Ye(),o=Ae(),t=We();R(()=>o.fullPath,l=>{["/pool","/mkusd","/redemptions","/profile"].some(c=>l.startsWith(c))&&(e.show=!1)});const n=async l=>{l.pathName&&await t.push({name:l.pathName})};return(l,r)=>{const c=ze("notifications"),_=ze("router-view");return d(),$("div",gl,[h(c,{width:600,duration:-1}),h(fl,{class:"navigation"}),u("main",bl,[h(ft,{name:"fade",mode:"out-in"},{default:y(()=>[s(e).show?(d(),S(s(xo),{key:0,class:"breadcrumb",crumbs:s(e).crumbs,onCrumb:n},null,8,["crumbs"])):x("",!0)]),_:1}),u("div",yl,[h(_,null,{default:y(({Component:i})=>[h(ft,{name:"fade",mode:"out-in"},{default:y(()=>[(d(),S(lt(i)))]),_:2},1024)]),_:1})])])])}}});const wl=P($l,[["__scopeId","data-v-6dcc5c4c"]]),Cl="/assets/404-3a4df870.png",kl=a=>(ve("data-v-c157f3ee"),a=a(),me(),a),Sl={class:"not-found"},Tl={class:"not-found-container"},Dl=kl(()=>u("img",{src:Cl},null,-1)),fa=D({__name:"NotFound",setup(a){const{t:e}=W();return(o,t)=>(d(),$("div",Sl,[u("div",Tl,[h(s(ne),null,{default:y(()=>[G(k(s(e)("404")),1)]),_:1}),Dl])]))}});function It(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:o=>{const{normalize:t}=o;return t(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof It=="function"&&It(fa);const Pl=P(fa,[["__scopeId","data-v-c157f3ee"]]),Il={class:"contracts"},zl={class:"row"},Al=["href"],xl=["href"],ga=D({__name:"Code",setup(a){const{t:e}=W(),t=[{name:"Llama Airforce",contracts:[{contract:$o,description:"multisig",gnosis:!0},{contract:wo,description:"treasury",gnosis:!0},{contract:Co,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]}],n=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}],l=r=>{switch(r.network){case"arbitrum":return r.gnosis?`https://app.safe.global/arb1:${r.contract}`:`https://arbiscan.io/address/${r.contract}`;case"ethereum":default:return r.gnosis?`https://app.safe.global/eth:${r.contract}`:`https://etherscan.io/address/${r.contract}`}};return(r,c)=>(d(),$("div",Il,[u("div",zl,[h(s(ue),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:n,columns:[s(e)("repository"),s(e)("description")]},{"header-title":y(()=>[u("div",null,k(s(e)("repositories")),1)]),row:y(_=>[u("div",null,[u("a",{href:_.item.url,target:"_blank"},k(_.item.name),9,Al)]),u("div",null,k(s(e)(_.item.description)),1)]),_:1},8,["columns"])]),(d(),$(ee,null,le(t,(_,i)=>h(s(ue),{key:i,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:_.contracts,columns:[s(e)("contract"),s(e)("description")]},{"header-title":y(()=>[u("div",null,k(s(e)(_.name)),1)]),row:y(v=>[u("div",null,[u("a",{href:l(v.item),target:"_blank"},k(v.item.contract),9,xl)]),u("div",null,k(s(e)(v.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function zt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:o=>{const{normalize:t}=o;return t(["Repositories"])},repository:o=>{const{normalize:t}=o;return t(["Repository"])},description:o=>{const{normalize:t}=o;return t(["Description"])},contract:o=>{const{normalize:t}=o;return t(["Contract"])},other:o=>{const{normalize:t}=o;return t(["Other"])},"repo-laf":o=>{const{normalize:t}=o;return t(["This website's front-end, excluding the Union"])},multisig:o=>{const{normalize:t}=o;return t(["Multisig"])},treasury:o=>{const{normalize:t}=o;return t(["Treasury"])},"treasury-arbitrum":o=>{const{normalize:t}=o;return t(["Treasury Arbitrum"])}}})}typeof zt=="function"&&zt(ga);const Ll=P(ga,[["__scopeId","data-v-ed0a11dc"]]);function Ol(){const a=mt(),e=[{path:"/code",component:Ll},...a.pages.flatMap(t=>t.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:Pl}];return uo({history:_o(),routes:e})}const Ml=a=>({chart:{id:"chart",background:"transparant",foreColor:a.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:a.colorsArray,grid:{borderColor:a.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:a.colors.level5,height:1},axisTicks:{color:a.colors.level5},title:{color:a.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:a.colors.level5},axisTicks:{color:a.colors.level5},title:{color:a.colors.level5}}});function ce(a,e){const o=Ml(a),t=(n,l)=>{if(typeof l=="object"){Q.mergeWith(n,l,t);return}else return n||l};return Q.mergeWith(e,o,t)}const Pe={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},Rl=[Pe.blue,Pe.yellow,Pe.green,Pe.red,Pe.purple,"#ff8f33"],Ie={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Vl=[Ie.blue,Ie.yellow,Ie.green,Ie.red,Ie.purple];function Y(a){return a==="light"?Ie:Pe}function re(a){return a==="light"?Vl:Rl}function U(){return ko}const j="https://api.prismamonitor.com/v1";class H extends Do{async getHistoricalOpenTrovesOverview(e,o){return this.fetch(`${j}/managers/${e}/open_troves?period=${o}`)}async getHistoricalCollateralRatiosOverview(e,o){return this.fetch(`${j}/managers/${e}/collateral_ratios?period=${o}`)}async getCollateralRatioGrouped(e,o){return this.fetch(`${j}/managers/${e}/global_collateral_ratio?period=${o}`)}async getHistoricalCollateralOverview(e,o){return this.fetch(`${j}/managers/${e}/collateral?period=${o}`)}async getRatioDistributionGrouped(e){return this.fetch(`${j}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,o,t){return this.fetch(`${j}/managers/${e}/${o}/large_positions?unit=${t}`)}async getVaultCollateralRatio(e,o,t){return this.fetch(`${j}/managers/${e}/${o}/collateral_ratio?period=${t}`)}async getVaultTroveCount(e,o,t){return this.fetch(`${j}/managers/${e}/${o}/open_trove_count?period=${t}`)}async getTroveDistribution(e,o,t){return this.fetch(`${j}/managers/${e}/${o}/histograms?unit=${t}`)}async getCollateralPrices(e,o,t){return this.fetch(`${j}/collateral/${e}/${o}/prices?period=${t}`)}async getCollateralPriceImpact(e,o){return this.fetch(`${j}/collateral/${e}/${o}/impact`)}async getCollateralInfo(e,o){return this.fetch(`${j}/collateral/${e}/${o}/info`)}async getPoolTvl(e,o){return this.fetch(`${j}/pool/${e}/deposits?period=${o}`)}async getStableFlow(e,o){return this.fetch(`${j}/pool/${e}/stable_operations?period=${o}`)}async getStableDistribution(e){return this.fetch(`${j}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,o){return this.fetch(`${j}/pool/${e}/cumulative_withdrawals?period=${o}`)}async getTopStableDeposits(e,o,t){return this.fetch(`${j}/pool/${e}/top/stable_deposits?top=${o}&period=${t}`)}async getTopStableWithdrawals(e,o,t){return this.fetch(`${j}/pool/${e}/top/stable_withdrawals?top=${o}&period=${t}`)}async getPriceHistory(e,o){return this.fetch(`${j}/mkusd/${e}/history?period=${o}`)}async getPriceHistogram(e,o,t){return this.fetch(`${j}/mkusd/${e}/histogram?period=${t}&bins=${o}`)}async getLargeStableCoinHolders(e){return this.fetch(`${j}/mkusd/${e}/holders`)}async getStableCoinKPI(e){return this.fetch(`${j}/mkusd/${e}/general`)}async getCurvePoolDepth(e){return this.fetch(`${j}/mkusd/${e}/depth`)}async getRedemptions(e,o){return at(n=>this.fetch(`${j}/redemptions/${e}/${o}?items=100&page=${n}&order_by=block_timestamp&desc=true`).then(l=>l.redemptions),1,100)}async getTroves(e,o,t){return at(l=>this.fetch(`${j}/trove/${e}/${o}/troves?items=100&page=${l}&order_by=${t}&desc=true`).then(r=>r.troves),1,100)}async getTroveSnapshots(e,o,t){return this.fetch(`${j}/trove/${e}/${o}/snapshots/${t}`)}async getTroveDetail(e,o,t){return this.fetch(`${j}/trove/${e}/${o}/${t}`)}async getTroveHistory(e,o,t){return this.fetch(`${j}/trove/${e}/${o}/history/${t}`)}async getTroveRank(e,o,t){return this.fetch(`${j}/trove/${e}/${o}/rank/${t}`)}}const ba=D({__name:"ChartOpenTroves",setup(a){const{t:e}=W(),o=new H(U()),t=X(),{loading:n,data:l,loadData:r}=q(()=>o.getHistoricalOpenTrovesOverview("ethereum","6m").then(m=>m.managers),[]);N(()=>void r());const c=C(()=>{const m=Y(t.theme),f=re(t.theme);return ce({colors:m,colorsArray:f},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:b,dataPointIndex:p,w:g})=>{let z=0;const I=b.map((V,F)=>{const O=V[p];return z+=O,`<div><b>${g.globals.seriesNames[F]}</b>: ${O}</div>`});return I.push(`<div><b>Total</b>: ${z}</div>`),I.join("")}}})}),_=C(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),i=C(()=>l.value.length===0?[]:l.value.map(m=>({name:m.manager,data:m.data.map(f=>f.value)}))),v=m=>m;return(m,f)=>(d(),S(s(de),{class:"chart",title:s(e)("title"),loading:s(n),options:c.value,series:i.value},null,8,["title","loading","options","series"]))}});function At(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Open troves"])}}})}typeof At=="function"&&At(ba);const Bl=P(ba,[["__scopeId","data-v-17e23069"]]),Wl=(a,e)=>{const o=Y(e);return{width:a.clientWidth,height:a.clientHeight,layout:{background:{type:vo.Solid,color:o.backgroundColor},textColor:o.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:o.level4,style:mo.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ke(a,e,o){const t=Wl(a,e),n=(l,r)=>{if(typeof r=="object"){Q.mergeWith(l,r,n);return}else return l||r};return Q.mergeWith(o,t,n)}const ya=D({__name:"ChartCollateralRatio",setup(a){const{t:e}=W(),o=new H(U());let t,n;const l=X(),r=A(null),{loading:c,data:_,loadData:i}=q(()=>o.getCollateralRatioGrouped("ethereum","all").then(b=>b.data),[]);N(()=>{r.value&&(t=we(r.value,v(r.value,l.theme)),n=t.addAreaSeries(m(l.theme)),f(_.value),i())}),R(()=>l.theme,b=>{r.value&&(t.applyOptions(v(r.value,b)),n.applyOptions(m(b)))}),R(_,b=>{f(b)});const v=(b,p)=>ke(b,p,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),m=b=>{const p=Y(b);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ge.WithSteps,lineColor:p.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},f=b=>{if(!t||!n)return;const p=Q.chain(b).map(g=>({time:g.timestamp,value:g.value*100})).uniqWith((g,z)=>g.time===z.time).orderBy(g=>g.time,"asc").value();p.length>0&&n.setData(p),t.timeScale().fitContent()};return(b,p)=>(d(),S(s(ne),{class:"chart-container",title:s(e)("title"),loading:s(c)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function xt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Global collateral ratio"])}}})}typeof xt=="function"&&xt(ya);const El=P(ya,[["__scopeId","data-v-f7711ac1"]]),$a=D({__name:"ChartRatioDeciles",setup(a){const{t:e}=W(),o=new H(U()),t=X(),{loading:n,data:l,loadData:r}=q(()=>o.getRatioDistributionGrouped("ethereum").then(f=>f.deciles),[]);N(()=>void r());const c=C(()=>{const f=Y(t.theme),b=re(t.theme);return ce({colors:f,colorsArray:b},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:m}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=C(()=>l.value.map(f=>f.label)),i=C(()=>[{name:e("debt"),data:Object.values(l.value).map(f=>f.data)}]),v=f=>f,m=f=>`$${se(f,0,"dollar")}${oe(f,"dollar")}`;return(f,b)=>(d(),S(s(de),{class:"chart",title:s(e)("title"),loading:s(n),options:c.value,series:i.value},null,8,["title","loading","options","series"]))}});function Lt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Debt per Collateral Ratio Deciles"])},debt:o=>{const{normalize:t}=o;return t(["Debt"])}}})}typeof Lt=="function"&&Lt($a);const Nl=P($a,[["__scopeId","data-v-148e81ae"]]),wa=D({__name:"ChartGlobalCollateral",setup(a){const{t:e}=W(),o=new H(U()),t=X(),{loading:n,data:l,loadData:r}=q(()=>o.getHistoricalCollateralOverview("ethereum","6m").then(f=>f.managers),[]);N(()=>void r());const c=C(()=>{const f=Y(t.theme),b=re(t.theme);return ce({colors:f,colorsArray:b},{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:m}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),_=C(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(f=>new Date(f.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),i=C(()=>l.value.length===0?[]:l.value.map(f=>({name:f.manager,data:f.data.map(b=>b.value)}))),v=f=>f,m=f=>`$${se(f,1,"dollar")}${oe(f,"dollar")}`;return(f,b)=>(d(),S(s(de),{class:"chart",title:s(e)("title"),loading:s(n),options:c.value,series:i.value},null,8,["title","loading","options","series"]))}});function Ot(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Collateral value"])}}})}typeof Ot=="function"&&Ot(wa);const Fl=P(wa,[["__scopeId","data-v-91cb0ff3"]]);function Ve(a){return a==="all"?"":`icons/tokens/${(o=>{switch(o){case"cbETH":return"cbeth.webp";case"wstETH":return"steth.webp";case"rETH":return"reth.webp";case"sfrxETH":return"frxeth.webp";default:return""}})(a)}`}const Ca=class Oe{constructor(e){this.url=e,this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={},this.channelSubscriptionParsers={},this.reconnectDelay=1e3,this.maxReconnectDelay=3e4,this.reconnectMultiplier=2,this.connect()}static getInstance(e){return Oe.instances[e]||(Oe.instances[e]=new Oe(e)),Oe.instances[e]}connect(){this.ws||(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.processMessageQueue(),this.reconnectDelay=1e3},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>{this.connect(),this.reconnectDelay*=this.reconnectMultiplier,this.reconnectDelay>this.maxReconnectDelay&&(this.reconnectDelay=this.maxReconnectDelay)},this.reconnectDelay)},this.ws.onmessage=e=>{var r;const o=JSON.parse(e.data),t=this.channelSubscriptionParsers[o.channel],n=t?t(e.data):"",l=(r=this.listeners[o.channel])==null?void 0:r[n];l==null||l(e.data)})}registerListener(e,o,t,n){this.listeners[e]||(this.listeners[e]={}),this.listeners[e][o]=n,this.channelSubscriptionParsers[e]=t;const l=this.messageQueue.filter(r=>JSON.parse(r).channel===e);l.forEach(n),this.messageQueue=this.messageQueue.filter(r=>!l.includes(r))}send(e){var o;((o=this.ws)==null?void 0:o.readyState)===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length;)this.send(this.messageQueue.shift()??"")}closeConnection(){var e;this.shouldReconnect=!1,(e=this.ws)==null||e.close()}getConnection(){return this.ws}};Ca.instances={};let Ul=Ca;var nt=(a=>(a.subscribe="subscribe",a.unsubscribe="unsubscribe",a.snapshots="snapshots",a))(nt||{});const Hl="wss://api.prismamonitor.com/v1/prisma/ws",tt="troves_overview";class Ne{constructor(e){this.chain=e,this.currentData=A([]),this.parseSubscriptionFromMessage=o=>JSON.parse(o).subscription.chain,this.wsManager=Ul.getInstance(Hl),this.wsManager.registerListener(tt,e,this.parseSubscriptionFromMessage,o=>{try{const t=JSON.parse(o);t.subscription.chain===this.chain&&(this.currentData.value=t.payload)}catch(t){console.error("Error parsing WebSocket message:",t,"Raw data:",o)}}),this.requestSnapshots(),this.subscribeToUpdates()}getCurrentData(){return this.currentData.value}requestSnapshots(){const e={action:nt.snapshots,channel:tt,settings:[{chain:this.chain}]};this.send(e)}subscribeToUpdates(){const e={action:nt.subscribe,channel:tt,settings:[{chain:this.chain}]};this.send(e)}send(e){this.wsManager.send(JSON.stringify(e))}}const Fe=a=>(ve("data-v-55362754"),a=a(),me(),a),ql=["src"],jl={class:"number"},Gl={class:"number"},Ql={class:"number"},Jl={class:"number"},Yl={class:"number"},Kl={class:"number"},Xl=Fe(()=>u("div",null,null,-1)),Zl=Fe(()=>u("div",null,null,-1)),er={class:"number"},tr={class:"number"},ar=Fe(()=>u("div",null,null,-1)),or=Fe(()=>u("div",null,null,-1)),sr={class:"number"},nr=Fe(()=>u("div",null,null,-1)),ka=D({__name:"TableVaults",setup(a){const{t:e}=W(),o=new Ne("ethereum"),t=A(!0),n=A(""),l=A([]),r=C(()=>Q.chain(l.value).filter(c=>{const _=n.value.toLocaleLowerCase().split(" "),i=v=>_.some(m=>v.toLocaleLowerCase().includes(m));return i(c.name)||i(c.address)}).value());return R(o.currentData,c=>{t.value=!0,l.value=c,t.value=!1}),N(()=>{t.value=!0,l.value=o.currentData.value,t.value=!1}),(c,_)=>(d(),S(s(ue),{class:"datatable-vaults","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"vaults-columns-data",loading:t.value,rows:r.value,columns:["","Name","TVL","Debt","CR","MCR","Troves","Price"]},{"header-title":y(()=>[u("div",null,k(s(e)("title")),1),h(s(Ce),{modelValue:n.value,"onUpdate:modelValue":_[0]||(_[0]=i=>n.value=i),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(i=>[u("img",{src:s(Ve)(i.item.name)},null,8,ql),u("div",null,k(i.item.name),1),u("div",jl,[h(s(E),{value:i.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",Gl,[h(s(E),{value:i.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",Ql,[h(s(E),{value:i.item.cr*100,precision:2,type:"percentage"},null,8,["value"])]),u("div",Jl,[h(s(E),{value:i.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])]),u("div",Yl,k(i.item.open_troves),1),u("div",Kl,"$"+k(Math.round(i.item.price)),1)]),"row-aggregation":y(()=>[Xl,Zl,u("div",er,[h(s(E),{value:r.value.reduce((i,v)=>i+v.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",tr,[h(s(E),{value:r.value.reduce((i,v)=>i+v.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),ar,or,u("div",sr,[h(s(E),{value:r.value.reduce((i,v)=>i+v.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),nr]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows"]))}});function Mt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Vaults"])},"search-placeholder":o=>{const{normalize:t}=o;return t(["Search for..."])}}})}typeof Mt=="function"&&Mt(ka);const lr=P(ka,[["__scopeId","data-v-55362754"]]),Ke=Be({id:"vaultStore",state:()=>({vault:null,trove:null})}),rr={class:"vaults"},ir=D({__name:"Vaults",setup(a){const e=Ye(),o=Ke(),t=We();N(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const n=async l=>{o.vault=l,await t.push({name:"prismavault",params:{tab:"",vaultAddr:l.address}})};return(l,r)=>(d(),$("div",rr,[h(lr,{style:{"grid-column":"1 / -1"},onSelected:n}),h(El),h(Nl),h(Fl),h(Bl)]))}});const cr=P(ir,[["__scopeId","data-v-47785ba8"]]),Sa=D({__name:"ChartPoolTvl",setup(a){const{t:e}=W(),o=new H(U());let t,n;const l=X(),r=A(null),{loading:c,data:_,loadData:i}=q(()=>o.getPoolTvl("ethereum","1m").then(p=>p.deposits),[]);N(()=>{r.value&&(t=we(r.value,v(r.value,l.theme)),n=t.addAreaSeries(m(l.theme)),f(_.value),i())}),R(()=>l.theme,p=>{r.value&&(t.applyOptions(v(r.value,p)),n.applyOptions(m(p)))}),R(_,p=>{f(p)});const v=(p,g)=>ke(p,g,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:z=>b(z)}}),m=p=>{const g=Y(p);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ge.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},f=p=>{if(!t||!n)return;const g=Q.chain(p).map(z=>({time:z.timestamp,value:z.value})).uniqWith((z,I)=>z.time===I.time).orderBy(z=>z.time,"asc").value();g.length>0&&n.setData(g),t.timeScale().fitContent()},b=p=>`$${se(p,1,"dollar")}${oe(p,"dollar")}`;return(p,g)=>(d(),S(s(ne),{class:"chart-container",title:s(e)("title"),loading:s(c)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Rt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Total deposits in stability pool"])}}})}typeof Rt=="function"&&Rt(Sa);const ur=P(Sa,[["__scopeId","data-v-e251da43"]]),Ta=D({__name:"ChartStableFlow",setup(a){const{t:e}=W(),o=new H(U()),t=X(),{loading:n,data:l,loadData:r}=q(()=>o.getStableFlow("ethereum","1m"),{deposits:[],withdrawals:[]});N(()=>void r());const c=C(()=>{const f=Y(t.theme),b=re(t.theme);return ce({colors:f,colorsArray:b},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[f.green,f.red],xaxis:{categories:_.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:m}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:p,dataPointIndex:g,w:z})=>{let I=0;const V=p.map((F,O)=>{const L=F[g];return I+=L,`<div><b>${z.globals.seriesNames[O]}</b>:	${m(L)}</div>`});return V.push(`<div><b>Total</b>:	${m(I)}</div>`),V.join("")}}})}),_=C(()=>l.value.deposits.length===0?[]:l.value.deposits.map(f=>new Date(f.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),i=C(()=>[{name:e("deposits"),data:Object.values(l.value.deposits).map(f=>f.value)},{name:e("withdrawals"),data:Object.values(l.value.withdrawals).map(f=>f.value)}]),v=f=>f,m=f=>`$${se(f,0,"dollar")}${oe(f,"dollar")}`;return(f,b)=>(d(),S(s(de),{title:s(e)("title"),loading:s(n),options:c.value,series:i.value},null,8,["title","loading","options","series"]))}});function Vt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["mkUSD deposits and withdrawals"])},deposits:o=>{const{normalize:t}=o;return t(["Deposits"])},withdrawals:o=>{const{normalize:t}=o;return t(["Withdrawals"])}}})}typeof Vt=="function"&&Vt(Ta);const dr=P(Ta,[["__scopeId","data-v-c17d1a80"]]),Da=D({__name:"ChartDepositDistribution",setup(a){const{t:e}=W(),o=new H(U()),t=X(),{loading:n,data:l,loadData:r}=q(()=>o.getStableDistribution("ethereum").then(v=>v.distribution),[]);N(()=>void r());const c=C(()=>{const v=Y(t.theme),m=re(t.theme);return ce({colors:v,colorsArray:m},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:i.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=C(()=>[{name:e("numPos"),data:Object.values(l.value).map(v=>v.value)}]),i=C(()=>l.value.map(v=>v.label));return(v,m)=>(d(),S(s(de),{title:s(e)("title"),loading:s(n),series:_.value,options:c.value},null,8,["title","loading","series","options"]))}});function Bt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Distribution of current user deposits"])},numPos:o=>{const{normalize:t}=o;return t(["# of positions"])}}})}typeof Bt=="function"&&Bt(Da);const _r=P(Da,[["__scopeId","data-v-0286f136"]]),Pa=D({__name:"ChartCumulativeWithdrawals",setup(a){const{t:e}=W(),o=new H(U());let t,n;const l=X(),r=A(null),{loading:c,data:_,loadData:i}=q(()=>o.getCumulativeWithdrawals("ethereum","all").then(p=>p.withdrawals),[]);N(()=>{r.value&&(t=we(r.value,v(r.value,l.theme)),n=t.addAreaSeries(m(l.theme)),f(_.value),i())}),R(()=>l.theme,p=>{r.value&&(t.applyOptions(v(r.value,p)),n.applyOptions(m(p)))}),R(_,p=>{f(p)});const v=(p,g)=>ke(p,g,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:z=>b(z)}}),m=p=>{const g=Y(p);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ge.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},f=p=>{if(!t||!n)return;const g=Q.chain(p).map(z=>({time:z.timestamp,value:z.value})).uniqWith((z,I)=>z.time===I.time).orderBy(z=>z.time,"asc").value();g.length>0&&n.setData(g),t.timeScale().fitContent()},b=p=>`$${se(p,1,"dollar")}${oe(p,"dollar")}`;return(p,g)=>(d(),S(s(ne),{class:"chart-container",title:s(e)("title"),loading:s(c)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Wt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Cumulative value of collaterals withdrawn"])}}})}typeof Wt=="function"&&Wt(Pa);const vr=P(Pa,[["__scopeId","data-v-c87ea7d3"]]),mr={class:"address"},pr=["href"],hr={class:"number"},fr={class:"number"},gr={class:"address"},br=["href"],Ia=D({__name:"TableTopDeposits",setup(a){const{t:e}=W(),o=new H(U()),t=C(()=>Q.chain(l.value).map(c=>c).value()),{loading:n,data:l,loadData:r}=q(()=>o.getTopStableDeposits("ethereum",5,"7d").then(c=>c.operations),[]);return N(()=>void r()),(c,_)=>(d(),S(s(ue),{class:"datatable-deposits","columns-header":"1fr","columns-data":"deposits-columns-data",loading:s(n),rows:t.value,columns:["Address","Amount","Date","Tx"]},{"header-title":y(()=>[u("div",null,k(s(e)("title")),1)]),row:y(i=>[u("div",mr,[u("a",{href:`https://etherscan.io/address/${i.item.user}`,target:"_blank"},k(s(te)(i.item.user,8)),9,pr)]),u("div",hr,[h(s(E),{value:i.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",fr,k(new Date(i.item.timestamp*1e3).toLocaleDateString()),1),u("div",gr,[u("a",{href:`https://etherscan.io/tx/${i.item.hash}`,target:"_blank"},k(s(te)(i.item.hash,8)),9,br)])]),_:1},8,["loading","rows"]))}});function Et(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Largest deposits past 7 days"])}}})}typeof Et=="function"&&Et(Ia);const yr=P(Ia,[["__scopeId","data-v-c62e207d"]]),$r={class:"address"},wr=["href"],Cr={class:"number"},kr={class:"number"},Sr={class:"address"},Tr=["href"],za=D({__name:"TableTopWithdrawals",setup(a){const{t:e}=W(),o=new H(U()),t=C(()=>Q.chain(l.value).map(c=>c).value()),{loading:n,data:l,loadData:r}=q(()=>o.getTopStableWithdrawals("ethereum",5,"7d").then(c=>c.operations),[]);return N(()=>void r()),(c,_)=>(d(),S(s(ue),{class:"datatable-withdrawals","columns-header":"1fr","columns-data":"withdrawals-columns-data",loading:s(n),rows:t.value,columns:["Address","Amount","Date","Tx"]},{"header-title":y(()=>[u("div",null,k(s(e)("title")),1)]),row:y(i=>[u("div",$r,[u("a",{href:`https://etherscan.io/address/${i.item.user}`,target:"_blank"},k(s(te)(i.item.user,8)),9,wr)]),u("div",Cr,[h(s(E),{value:i.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",kr,k(new Date(i.item.timestamp*1e3).toLocaleDateString()),1),u("div",Sr,[u("a",{href:`https://etherscan.io/tx/${i.item.hash}`,target:"_blank"},k(s(te)(i.item.hash,8)),9,Tr)])]),_:1},8,["loading","rows"]))}});function Nt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Largest withdrawals past 7 days"])}}})}typeof Nt=="function"&&Nt(za);const Dr=P(za,[["__scopeId","data-v-030921fd"]]),Pr={class:"pool"},Ir=D({__name:"StabilityPool",setup(a){return(e,o)=>(d(),$("div",Pr,[h(ur),h(dr),h(_r),h(vr),h(yr),h(Dr)]))}});const zr=P(Ir,[["__scopeId","data-v-c433301c"]]),Ar=a=>(ve("data-v-39b2c7b0"),a=a(),me(),a),xr=Ar(()=>u("div",null," Price data is sourced from Curve pools only. ",-1)),Aa=D({__name:"ChartPrice",setup(a){const{t:e}=W(),o=new H(U());let t,n;const l=X(),r=A(null),{loading:c,data:_,loadData:i}=q(()=>o.getPriceHistory("ethereum","1m").then(p=>p.prices),[]);N(()=>{r.value&&(t=we(r.value,v(r.value,l.theme)),n=t.addAreaSeries(m(l.theme)),f(_.value),i())}),R(()=>l.theme,p=>{r.value&&(t.applyOptions(v(r.value,p)),n.applyOptions(m(p)))}),R(_,p=>{f(p)});const v=(p,g)=>ke(p,g,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:z=>b(z)}}),m=p=>{const g=Y(p);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:ge.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},f=p=>{if(!t||!n)return;const g=Q.chain(p).map(z=>({time:z.timestamp,value:z.value})).uniqWith((z,I)=>z.time===I.time).orderBy(z=>z.time,"asc").value();g.length>0&&n.setData(g),t.timeScale().fitContent()},b=p=>`$${se(p,2,"dollar")}${oe(p,"dollar")}`;return(p,g)=>(d(),S(s(ne),{class:"chart-container",title:s(e)("title"),loading:s(c)},{actions:y(()=>[h(s(Re),null,{default:y(()=>[xr]),_:1})]),default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ft(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["mkUSD price (last 30 days)"])}}})}typeof Ft=="function"&&Ft(Aa);const Lr=P(Aa,[["__scopeId","data-v-39b2c7b0"]]),xa=D({__name:"ChartPriceDistribution",setup(a){const{t:e}=W(),o=new H(U()),t=X(),{loading:n,data:l,loadData:r}=q(()=>o.getPriceHistogram("ethereum",10,"all").then(v=>v.histogram),[]);N(()=>void r());const c=C(()=>{const v=Y(t.theme),m=re(t.theme);return ce({colors:v,colorsArray:m},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:i.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=C(()=>[{name:e("numPos"),data:Object.values(l.value).map(v=>v.value)}]),i=C(()=>l.value.map(v=>v.label));return(v,m)=>(d(),S(s(de),{title:s(e)("title"),loading:s(n),series:_.value,options:c.value},null,8,["title","loading","series","options"]))}});function Ut(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Price histogram"])},numPos:o=>{const{normalize:t}=o;return t(["# of hourly price records"])}}})}typeof Ut=="function"&&Ut(xa);const Or=P(xa,[["__scopeId","data-v-cb3982fd"]]),La=D({__name:"ChartHolders",setup(a){const{t:e}=W(),o=new H(U()),t=X(),{loading:n,data:l,loadData:r}=q(()=>o.getLargeStableCoinHolders("ethereum").then(m=>m.holders),[]);N(()=>void r());const c=C(()=>{const m=Y(t.theme),f=re(t.theme);return ce({colors:m,colorsArray:f},{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:b=>{let p=i.value[b.seriesIndex];p=p.length>10&&p.startsWith("0x")?te(p):p;const g=b.series[b.seriesIndex];return[`<div><b>${p}</b>:</div><div>${v(g)}</div>`].join("")}},labels:l.value.map(b=>b.label.length>10&&b.label.startsWith("0x")?te(b.label):b.label)})}),_=C(()=>l.value.map(m=>m.value)),i=C(()=>l.value.map(m=>m.label)),v=m=>`$${se(Math.abs(m),1,"dollar")}${oe(m,"dollar")}`;return(m,f)=>(d(),S(s(de),{class:"graph",title:s(e)("title"),loading:s(n),options:c.value,series:_.value},null,8,["title","loading","options","series"]))}});function Ht(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Largest holders"])},numPos:o=>{const{normalize:t}=o;return t(["mkUSD balance:"])}}})}typeof Ht=="function"&&Ht(La);const Mr=P(La,[["__scopeId","data-v-87a21766"]]),Rr={class:"kpis"},Vr=D({__name:"KPIs",setup(a){const e=new H(U()),{data:o,loadData:t}=q(()=>e.getStableCoinKPI("ethereum").then(n=>n.info),null);return N(()=>void t()),(n,l)=>(d(),$("div",Rr,[h(s(ae),{label:"mkUSD price","has-value":!!s(o)},{default:y(()=>[s(o)?(d(),S(s(E),{key:0,value:s(o).price,precision:4,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),h(s(ae),{label:"Total supply","has-value":!!s(o)},{default:y(()=>[s(o)?(d(),S(s(E),{key:0,value:s(o).supply,precision:2,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),h(s(ae),{label:"24h Volume (Curve)","has-value":!!s(o)},{default:y(()=>[s(o)?(d(),S(s(E),{key:0,value:s(o).volume,precision:1,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),h(s(ae),{label:"Aggregate -2% Depth (Curve)","has-value":!!s(o)},{default:y(()=>[s(o)?(d(),S(s(E),{key:0,value:s(o).depth,precision:1,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"])]))}});const Br=P(Vr,[["__scopeId","data-v-b3576350"]]),Oa=D({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(a){const{t:e}=W(),o=X(),t=C(()=>{const c=Y(o.theme),_=re(o.theme);return ce({colors:c,colorsArray:_},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:i=>r(i)}},yaxis:{seriesName:"amounts",labels:{formatter:i=>r(i)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:i=>r(i)}},colors:[i=>i.value===0?c.blue:c.green,i=>i.value===0?c.blue:c.red]})}),n=C(()=>{if(!a.depth)return[];const c=[...a.depth.ask.prices.map(i=>({x:i,y:0})),...a.depth.bid.prices.map((i,v)=>({x:i,y:a.depth.bid.amounts[v]}))],_=[...a.depth.ask.prices.map((i,v)=>({x:i,y:a.depth.ask.amounts[v]}))];return[{name:"Bid",data:c},{name:"Ask",data:_}]}),l=C(()=>{var _;if(!((_=a.depth)!=null&&_.tokens)||a.depth.tokens.length===0)return e("title");const c=a.depth.tokens.join(" / ");return`${e("title")} - ${c} (Curve)`}),r=c=>`$${se(Math.abs(c),2,"dollar")}${oe(c,"dollar")}`;return(c,_)=>(d(),S(s(de),{class:"chart",title:l.value,loading:c.loading,options:t.value,series:n.value},null,8,["title","loading","options","series"]))}});function qt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Liquidity Depth"])}}})}typeof qt=="function"&&qt(Oa);const Wr=P(Oa,[["__scopeId","data-v-defdef9f"]]),Er=D({__name:"ChartDepthContainer",setup(a){const e=new H(U()),{loading:o,data:t,loadData:n}=q(()=>e.getCurvePoolDepth("ethereum").then(l=>l.depth),[]);return N(()=>void n()),(l,r)=>(d(!0),$(ee,null,le(s(t),c=>(d(),S(Wr,{key:c.name,loading:s(o),depth:c},null,8,["loading","depth"]))),128))}});const Nr=P(Er,[["__scopeId","data-v-f0b8731b"]]),Fr={class:"mkusd"},Ur=D({__name:"Stablecoin",setup(a){return(e,o)=>(d(),$("div",Fr,[h(Br,{style:{"grid-column":"1 / -1"}}),h(Lr),h(Or),h(Mr),h(Nr)]))}});const Hr=P(Ur,[["__scopeId","data-v-738142b2"]]);function xe(a,e){const t=Math.round(a.value/1e3)-e;return t<60?`${Math.round(t)} seconds ago`:t<60*60?`${Math.round(t/60)} minutes ago`:t<60*60*24?`${Math.round(t/(60*60))} hours ago`:`${Math.round(t/(60*60*24))} days ago`}const qr={class:"redemption-details"},jr={class:"kpis"},Gr={class:"title"},Qr=["href"],Ma=D({__name:"RedemptionDetails",props:{vaultAddr:{},redemption:{}},setup(a){const{t:e}=W(),o=A(""),t=C(()=>Q.chain(a.redemption.troves_affected).filter(n=>{const l=o.value.toLocaleLowerCase().split(" ");return(c=>l.some(_=>c.toLocaleLowerCase().includes(_)))(n)}).value());return(n,l)=>(d(),S(s(ne),{title:s(e)("redemption-details")},{default:y(()=>[u("div",qr,[u("div",jr,[h(s(ae),{label:s(e)("withdrawal")},{default:y(()=>[h(s(E),{value:n.redemption.attempted_debt_amount,precision:2,type:"dollar"},null,8,["value"]),G(" / "),h(s(E),{value:n.redemption.collateral_sent_to_redeemer_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),h(s(ae),{label:s(e)("fee")},{default:y(()=>[h(s(E),{value:n.redemption.collateral_fee_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),h(s(ue),{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:t.value,columns:["Trove"]},{"header-title":y(()=>[u("div",Gr,k(s(e)("troves-affected")),1),h(s(Ce),{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=r=>o.value=r),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(r=>[u("div",{onClick:l[1]||(l[1]=ie(()=>{},["stop"]))},[u("a",{style:{"font-family":"monospace"},target:"_blank",href:`#/vault/${n.vaultAddr}/trove/${r.item}`},k(r.item),9,Qr)])]),_:1},8,["rows"])])]),_:1},8,["title"]))}});function jt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":o=>{const{normalize:t}=o;return t(["Troves affected"])},"search-placeholder":o=>{const{normalize:t}=o;return t(["Search for..."])},"redemption-details":o=>{const{normalize:t}=o;return t(["Redemption Details"])},withdrawal:o=>{const{normalize:t}=o;return t(["Attempted / Received"])},fee:o=>{const{normalize:t}=o;return t(["Fee"])}}})}typeof jt=="function"&&jt(Ma);const pt=P(Ma,[["__scopeId","data-v-051a73d3"]]),Jr={key:0,class:"item"},Yr=["src"],Kr={key:1,class:"empty"},Xr={class:"label"},Zr=D({__name:"SelectCollateral",props:{collateral:{default:null},all:{type:Boolean,default:!1}},emits:["select-collateral"],setup(a,{emit:e}){const o=e,t=A(!1),n=[...a.all?[{collateral:"all",label:"All"}]:[],{collateral:"cbETH",label:"cbETH"},{collateral:"wstETH",label:"wstETH"},{collateral:"rETH",label:"rETH"},{collateral:"sfrxETH",label:"sfrxETH"}],l=C(()=>n.find(i=>i.collateral===a.collateral)??null);N(()=>{_(n[0])});const r=i=>i.label,c=()=>{t.value=!t.value},_=i=>{const{collateral:v}=i;o("select-collateral",v)};return(i,v)=>(d(),S(s(dt),{class:"select",options:n,selected:l.value,open:t.value,onOpen:c,onClose:v[0]||(v[0]=m=>t.value=!1),onInput:_},{item:y(m=>[m.item?(d(),$("div",Jr,[s(Ve)(m.item.collateral)?(d(),$("img",{key:0,src:s(Ve)(m.item.collateral)},null,8,Yr)):(d(),$("div",Kr)),u("div",Xr,k(r(m.item)),1)])):x("",!0)]),_:1},8,["selected","open"]))}});const Ra=P(Zr,[["__scopeId","data-v-2bf0e714"]]),ei=["src"],ti=["href"],ai=["href"],oi={class:"number"},si={class:"number"},ni={class:"number"},Ue=15,Va=D({__name:"TableRedemptions",props:{vaults:{default:()=>[]}},setup(a){const e=new H(U()),{t:o}=W(),t=A(""),n=A("all"),l=A(1),r=A(Date.now()),c=A(null),_=A("timestamp"),i=A(Z.Descending),v=C(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),m=C(()=>["icon","redeemer","tx","debt","numtroves","timestamp"]),f=C(()=>["redeemer","tx","debt","numtroves","timestamp"]),b=C(()=>Q.chain(z.value).filter(w=>{const T=t.value.toLocaleLowerCase().split(" "),M=be=>T.some(ye=>be.toLocaleLowerCase().includes(ye)),K=n.value==="all"?!0:n.value===w.vault.name;return M(w.redeemer)&&K}).orderBy(w=>{switch(_.value){case"redeemer":return w.redeemer;case"tx":return w.transaction;case"debt":return w.actual_debt_amount;case"numtroves":return w.troves_affected_count;case"timestamp":return w.timestamp;default:return w.timestamp}},i.value===Z.Descending?"desc":"asc").value()),p=C(()=>Q.chain(b.value).drop((l.value-1)*Ue).take(Ue).value()),{loading:g,data:z,loadData:I}=q(()=>a.vaults.length>0?Promise.all(a.vaults.map(w=>e.getRedemptions("ethereum",w.address).then(T=>T.map(M=>({...M,vault:{name:w.name,address:w.address}}))))).then(w=>w.flat()):Promise.resolve([]),[]);N(()=>{I(),setInterval(()=>{r.value=Date.now()})});const V=w=>xe(r,w),F=w=>{l.value=w},O=(w,T)=>{_.value=w,i.value=T},L=w=>{c.value=w};return R(()=>a.vaults,I,{immediate:!0}),R(p,w=>{w.length===0&&(l.value=Math.max(1,Math.ceil(b.value.length/Ue)))}),(w,T)=>(d(),$(ee,null,[h(s(ue),{class:"datatable-redemptions","columns-header":"1fr 12rem minmax(auto, 25rem) auto","columns-data":"redemptions-columns-data",loading:s(g),rows:p.value,columns:v.value,sorting:!0,"sorting-columns":m.value,"sorting-columns-enabled":f.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:O,onSelected:L},{"header-title":y(()=>[u("div",null,k(s(o)("title")),1),h(Ra,{class:"select-collateral",collateral:n.value,all:!0,onSelectCollateral:T[0]||(T[0]=M=>n.value=M)},null,8,["collateral"]),h(s(Ce),{modelValue:t.value,"onUpdate:modelValue":T[1]||(T[1]=M=>t.value=M),class:"search",search:!0,placeholder:s(o)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(s(Ee),{class:"pagination","items-count":b.value.length,"items-per-page":Ue,page:l.value,onPage:F},null,8,["items-count","page"])]),row:y(M=>[u("img",{src:s(Ve)(M.item.vault.name)},null,8,ei),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${M.item.redeemer}`,target:"_blank",onClick:T[2]||(T[2]=ie(()=>{},["stop"]))},k(s(te)(M.item.redeemer)),9,ti)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${M.item.transaction}`,target:"_blank",onClick:T[3]||(T[3]=ie(()=>{},["stop"]))},k(s(te)(M.item.transaction)),9,ai)]),u("div",oi,"$"+k(Math.round(M.item.actual_debt_amount)),1),u("div",si,k(M.item.troves_affected_count),1),u("div",ni,k(V(M.item.timestamp)),1)]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]),h(s(Je),{show:!!c.value,onClose:T[4]||(T[4]=M=>c.value=null)},{default:y(()=>[c.value?(d(),S(pt,{key:0,redemption:c.value,"vault-addr":c.value.vault.address},null,8,["redemption","vault-addr"])):x("",!0)]),_:1},8,["show"])],64))}});function Gt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Redemptions"])},"search-placeholder":o=>{const{normalize:t}=o;return t(["Search for..."])}}})}typeof Gt=="function"&&Gt(Va);const li=P(Va,[["__scopeId","data-v-083aac5e"]]),ri={class:"redemptions"},ii=D({__name:"Redemptions",setup(a){const e=new Ne("ethereum"),o=A([]);return R(e.currentData,t=>{o.value=t}),N(()=>{o.value=e.currentData.value}),(t,n)=>(d(),$("div",ri,[h(li,{vaults:o.value},null,8,["vaults"])]))}});const ci=P(ii,[["__scopeId","data-v-7e3aa5fe"]]),ui=D({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(a){const e=X(),o=C(()=>{const r=Y(e.theme),c=re(e.theme);return ce({colors:r,colorsArray:c},{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:_=>{let i=n.value[_.seriesIndex];i=i.length>10?te(i):i;const v=_.series[_.seriesIndex];return[`<div><b>${i}</b>:</div><div>${l(v)}</div>`].join("")}},labels:a.data.map(_=>_.label.length>10?te(_.label):_.label)})}),t=C(()=>a.data.map(r=>r.value)),n=C(()=>a.data.map(r=>r.label)),l=r=>`$${se(Math.abs(r),1,"dollar")}${oe(r,"dollar")}`;return(r,c)=>(d(),S(s(de),{class:"graph",options:o.value,series:t.value},null,8,["options","series"]))}});const di=P(ui,[["__scopeId","data-v-5e27d0e1"]]),_i={class:"actions"},Ba=D({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(a){const{t:e}=W(),o=new H(U()),t=A("collateral"),{loading:n,data:l,loadData:r}=q(()=>a.vault?o.getLargeTrovePositions("ethereum",a.vault.address,t.value).then(c=>c.positions):Promise.resolve([]),[]);return R(t,r,{immediate:!0}),R(()=>a.vault,r,{immediate:!0}),(c,_)=>(d(),S(s(ne),{class:"chart-container",title:s(e)("title"),loading:s(n)},{actions:y(()=>[u("div",_i,[h(s(Qe),{value:"Coll.","model-value":t.value==="collateral",onClick:_[0]||(_[0]=i=>t.value="collateral")},null,8,["model-value"]),h(s(Qe),{value:"Debt","model-value":t.value==="debt",onClick:_[1]||(_[1]=i=>t.value="debt")},null,8,["model-value"])])]),default:y(()=>[h(di,{data:s(l)},null,8,["data"])]),_:1},8,["title","loading"]))}});function Qt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["5 Largest Troves vs Others"])}}})}typeof Qt=="function"&&Qt(Ba);const vi=P(Ba,[["__scopeId","data-v-3b560130"]]),mi=D({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(a){const e=X(),o=C(()=>{const l=Y(e.theme),r=re(e.theme);return ce({colors:l,colorsArray:r},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:n.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),t=C(()=>[{name:"# of troves",data:Object.values(a.data).map(l=>l.value)}]),n=C(()=>a.data.map(l=>l.label));return(l,r)=>(d(),S(s(de),{class:"graph",options:o.value,series:t.value},null,8,["options","series"]))}});const pi=P(mi,[["__scopeId","data-v-726b6957"]]),hi={class:"actions"},Wa=D({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(a){const{t:e}=W(),o=new H(U()),{loading:t,data:n,loadData:l}=q(()=>a.vault?o.getTroveDistribution("ethereum",a.vault.address,r.value).then(c=>c.distribution):Promise.resolve([]),[]),r=A("collateral");return R(r,l,{immediate:!0}),R(()=>a.vault,l,{immediate:!0}),(c,_)=>(d(),S(s(ne),{class:"chart-container",title:s(e)("title"),loading:s(t)},{actions:y(()=>[u("div",hi,[h(s(Qe),{value:"Coll.","model-value":r.value==="collateral",onClick:_[0]||(_[0]=i=>r.value="collateral")},null,8,["model-value"]),h(s(Qe),{value:"Debt","model-value":r.value==="debt",onClick:_[1]||(_[1]=i=>r.value="debt")},null,8,["model-value"])])]),default:y(()=>[h(pi,{data:s(n)},null,8,["data"])]),_:1},8,["title","loading"]))}});function Jt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Troves Distribution"])}}})}typeof Jt=="function"&&Jt(Wa);const fi=P(Wa,[["__scopeId","data-v-56b15476"]]),gi={class:"kpis"},bi=D({__name:"VaultKPIs",props:{vault:{default:null}},setup(a){return(e,o)=>(d(),$("div",gi,[h(s(ae),{label:"TVL","has-value":!!e.vault},{default:y(()=>[e.vault?(d(),S(s(E),{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),h(s(ae),{label:"Debt / Debt Cap","has-value":!!e.vault},{default:y(()=>[e.vault?(d(),S(s(E),{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):x("",!0),G(" / "),e.vault?(d(),S(s(E),{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),h(s(ae),{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:y(()=>[e.vault?(d(),S(s(E),{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):x("",!0),G(" / "),e.vault?(d(),S(s(E),{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),h(s(ae),{label:"Interest rate","has-value":!!e.vault},{default:y(()=>[e.vault?(d(),S(s(E),{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),h(s(ae),{label:"Troves open / total","has-value":!!e.vault},{default:y(()=>[e.vault?(d(),S(s(E),{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):x("",!0),G(" / "),e.vault?(d(),S(s(E),{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),h(s(ae),{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:y(()=>[e.vault?(d(),S(s(E),{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):x("",!0),G(" / "),e.vault?(d(),S(s(E),{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):x("",!0)]),_:1},8,["has-value"])]))}});const yi=P(bi,[["__scopeId","data-v-12fbfe11"]]),Ea=D({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(a){const{t:e}=W(),o=new H(U());let t,n;const l=X(),r=A(null),{loading:c,data:_,loadData:i}=q(()=>a.vault?o.getVaultCollateralRatio("ethereum",a.vault.address,"1m").then(b=>b.ratio):Promise.resolve([]),[]);N(()=>{r.value&&(t=we(r.value,v(r.value,l.theme)),n=t.addAreaSeries(m(l.theme)),f(_.value))}),R(()=>l.theme,b=>{r.value&&(t.applyOptions(v(r.value,b)),n.applyOptions(m(b)))}),R(()=>a.vault,i,{immediate:!0}),R(_,b=>{f(b)});const v=(b,p)=>ke(b,p,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),m=b=>{const p=Y(b);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ge.WithSteps,lineColor:p.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},f=b=>{if(!t||!n)return;const p=Q.chain(b).map(g=>({time:g.timestamp,value:g.value*100})).uniqWith((g,z)=>g.time===z.time).orderBy(g=>g.time,"asc").value();p.length>0&&n.setData(p),t.timeScale().fitContent()};return(b,p)=>(d(),S(s(ne),{class:"chart-container",title:s(e)("title"),loading:s(c)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Yt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Vault collateral ratio"])}}})}typeof Yt=="function"&&Yt(Ea);const $i=P(Ea,[["__scopeId","data-v-518d60f9"]]),Na=D({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(a){const{t:e}=W(),o=new H(U());let t,n;const l=X(),r=A(null),{loading:c,data:_,loadData:i}=q(()=>a.vault?o.getVaultTroveCount("ethereum",a.vault.address,"1m").then(b=>b.count):Promise.resolve([]),[]);N(()=>{r.value&&(t=we(r.value,v(r.value,l.theme)),n=t.addAreaSeries(m(l.theme)),f(_.value))}),R(()=>l.theme,b=>{r.value&&(t.applyOptions(v(r.value,b)),n.applyOptions(m(b)))}),R(()=>a.vault,i,{immediate:!0}),R(_,b=>{f(b)});const v=(b,p)=>ke(b,p,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),m=b=>{const p=Y(b);return{priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:ge.WithSteps,lineColor:p.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},f=b=>{if(!t||!n)return;const p=Q.chain(b).map(g=>({time:g.timestamp,value:g.value})).uniqWith((g,z)=>g.time===z.time).orderBy(g=>g.time,"asc").value();p.length>0&&n.setData(p),t.timeScale().fitContent()};return(b,p)=>(d(),S(s(ne),{class:"chart-container",title:s(e)("title"),loading:s(c)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Kt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Number of open troves"])}}})}typeof Kt=="function"&&Kt(Na);const wi=P(Na,[["__scopeId","data-v-a04a3ea9"]]),Ci={class:"vault-overview"},ki=D({__name:"VaultOverview",props:{vault:{}},setup(a){return(e,o)=>(d(),$("div",Ci,[h(yi,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(fi,{vault:e.vault},null,8,["vault"]),h(vi,{vault:e.vault},null,8,["vault"]),h($i,{vault:e.vault},null,8,["vault"]),h(wi,{vault:e.vault},null,8,["vault"])]))}});const Si=P(ki,[["__scopeId","data-v-ad4ff57f"]]),Ti={class:"actions"},Fa=D({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(a){const{t:e}=W(),o=new H(U());let t,n,l;const r=X(),c=A(null),_={oracle:[],market:[]},{loading:i,data:v,loadData:m}=q(async()=>{if(a.vault){const I=await o.getCollateralPrices("ethereum",a.vault.collateral,"7d");return f(I.oracle,I.market)}else return Promise.resolve(_)},_);N(async()=>{c.value&&(await po(),t=we(c.value,b(c.value,r.theme)),n=t.addAreaSeries(g(r.theme)),l=t.addAreaSeries(p(r.theme)),z(v.value))}),R(()=>a.vault,m,{immediate:!0}),R(()=>r.theme,I=>{c.value&&(t.applyOptions(b(c.value,I)),n.applyOptions(g(I)),l.applyOptions(p(I)))}),R(v,I=>{z(I)});const f=(I,V)=>{const F=Math.max(I[0].timestamp,V[0].timestamp),O=Math.min(I[I.length-1].timestamp,V[V.length-1].timestamp),L=I.filter(T=>T.timestamp>=F&&T.timestamp<=O),w=V.filter(T=>T.timestamp>=F&&T.timestamp<=O);return L[L.length-1].timestamp<O&&L.push({timestamp:O,value:L[L.length-1].value}),w[w.length-1].timestamp<O&&w.push({timestamp:O,value:w[w.length-1].value}),{oracle:L,market:w}},b=(I,V)=>ke(I,V,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),p=I=>{const V=Y(I);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ge.WithSteps,lineColor:V.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=I=>{const V=Y(I);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ge.WithSteps,lineColor:V.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},z=I=>{if(!t||!n)return;const V=Q.chain(I.oracle).map(O=>({time:O.timestamp,value:O.value})).uniqWith((O,L)=>O.time===L.time).orderBy(O=>O.time,"asc").value(),F=Q.chain(I.market).map(O=>({time:O.timestamp,value:O.value})).uniqWith((O,L)=>O.time===L.time).orderBy(O=>O.time,"asc").value();F.length>0&&l.setData(F),V.length>0&&n.setData(V),t.timeScale().fitContent()};return(I,V)=>(d(),S(s(ne),{class:"chart-container",title:s(e)("title"),loading:s(i)},{actions:y(()=>[u("div",Ti,[h(s(Cn),{items:["Oracle","Market"],colors:s(re)(s(r).theme)},null,8,["colors"])])]),default:y(()=>[u("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Xt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Oracle & Market price"])}}})}typeof Xt=="function"&&Xt(Fa);const Di=P(Fa,[["__scopeId","data-v-94a01709"]]),Ua=D({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(a){const{t:e}=W(),o=new H(U()),t=X(),{loading:n,data:l,loadData:r}=q(()=>a.vault?o.getCollateralPriceImpact("ethereum",a.vault.collateral).then(f=>f.impact):Promise.resolve([]),[]),c=C(()=>{const f=Y(t.theme),b=re(t.theme);return ce({colors:f,colorsArray:b},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:i.value,labels:{formatter:p=>v(p)}},yaxis:{seriesName:"impact",labels:{formatter:p=>m(p)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:p=>{if(!a.vault)return"";const g=i.value[p.dataPointIndex],z=v(g*a.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${v(g)} ${a.vault.name} ($${z})</div>

          <div><b>Price impact:</b>:</div>
          <div>${m(p.series[0][p.dataPointIndex])}</div>
          `}}})}),_=C(()=>[{name:e("priceImpact"),data:Object.values(l.value).map(f=>f.impact)}]),i=C(()=>l.value.map(f=>a.vault?f.amount/a.vault.price:0)),v=f=>`${se(Math.abs(f),1,"dollar")}${oe(f,"dollar")}`,m=f=>`${se(f,2,"percentage")}${oe(f,"percentage")}`;return R(()=>a.vault,r,{immediate:!0}),(f,b)=>(d(),S(s(de),{class:"chart",title:s(e)("title"),loading:s(n),options:c.value,series:_.value},null,8,["title","loading","options","series"]))}});function Zt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["On-chain Selling Price Impact"])},priceImpact:o=>{const{normalize:t}=o;return t(["Price impact"])}}})}typeof Zt=="function"&&Zt(Ua);const Pi=P(Ua,[["__scopeId","data-v-57657d95"]]),Ii={class:"kpis"},zi=["href"],Ai=D({__name:"CollateralKPIs",props:{vault:{default:null}},setup(a){const e=new H(U()),{data:o,loadData:t}=q(()=>a.vault?e.getCollateralInfo("ethereum",a.vault.collateral).then(n=>n.info):Promise.resolve(null),null);return R(()=>a.vault,t,{immediate:!0}),(n,l)=>(d(),$("div",Ii,[h(s(ae),{label:"Oracle price","has-value":!!s(o)},{default:y(()=>[s(o)?(d(),S(s(E),{key:0,value:s(o).price,precision:2,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),h(s(ae),{label:"Total supply","has-value":!!s(o)},{default:y(()=>[s(o)?(d(),S(s(E),{key:0,value:s(o).supply,precision:2,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),h(s(ae),{label:"TVL","has-value":!!s(o)},{default:y(()=>[s(o)?(d(),S(s(E),{key:0,value:s(o).tvl,precision:1,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),h(s(ae),{label:"Share of the ETH LSD market","has-value":!!s(o)},{default:y(()=>[s(o)?(d(),S(s(E),{key:0,value:s(o).share,precision:1,type:"percentage"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),h(s(ae),{label:"Full risk analysis by Prisma Risk team","has-value":!!s(o)},{default:y(()=>[s(o)?(d(),$("a",{key:0,href:s(o).risk}," Risk Report ",8,zi)):x("",!0)]),_:1},8,["has-value"])]))}});const xi=P(Ai,[["__scopeId","data-v-abf880e6"]]),Li={class:"collateral"},Oi=D({__name:"Collateral",props:{vault:{}},setup(a){return(e,o)=>(d(),$("div",Li,[h(xi,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(Di,{vault:e.vault},null,8,["vault"]),h(Pi,{vault:e.vault},null,8,["vault"])]))}});const Mi=P(Oi,[["__scopeId","data-v-a7083765"]]);const Ri={},Vi={class:"liquidations"};function Bi(a,e){return d(),$("div",Vi,"TODO")}const Wi=P(Ri,[["render",Bi],["__scopeId","data-v-5225d811"]]),Ei=["href"],Ni=["href"],Fi={class:"number"},Ui={class:"number"},Hi={class:"number"},He=15,Ha=D({__name:"TableRedemptions",props:{vault:{default:null}},setup(a){const{t:e}=W(),o=new H(U()),t=A(""),n=A(1),l=A(Date.now()),r=A(null),c=A("timestamp"),_=A(Z.Descending),i=C(()=>["Redeemer","Transaction","Debt","# Troves","Time"]),v=C(()=>["redeemer","tx","debt","numtroves","timestamp"]),m=C(()=>Q.chain(p.value).filter(O=>{const L=t.value.toLocaleLowerCase().split(" ");return(T=>L.some(M=>T.toLocaleLowerCase().includes(M)))(O.redeemer)}).orderBy(O=>{switch(c.value){case"redeemer":return O.redeemer;case"tx":return O.transaction;case"debt":return O.actual_debt_amount;case"numtroves":return O.troves_affected_count;case"timestamp":return O.timestamp;default:return O.timestamp}},_.value===Z.Descending?"desc":"asc").value()),f=C(()=>Q.chain(m.value).drop((n.value-1)*He).take(He).value()),{loading:b,data:p,loadData:g}=q(()=>a.vault?o.getRedemptions("ethereum",a.vault.address):Promise.resolve([]),[]);N(()=>{g(),setInterval(()=>{l.value=Date.now()})});const z=O=>xe(l,O),I=O=>{n.value=O},V=(O,L)=>{c.value=O,_.value=L},F=O=>{r.value=O};return R(()=>a.vault,g,{immediate:!0}),R(f,O=>{O.length===0&&(n.value=Math.max(1,Math.ceil(m.value.length/He)))}),(O,L)=>(d(),$(ee,null,[h(s(ue),{class:"datatable-redemptions","columns-header":"1fr 1fr auto","columns-data":"redemptions-columns-data",loading:s(b),rows:f.value,columns:i.value,sorting:!0,"sorting-columns":v.value,"sorting-columns-enabled":v.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:V,onSelected:F},{"header-title":y(()=>[u("div",null,k(s(e)("title")),1),h(s(Ce),{modelValue:t.value,"onUpdate:modelValue":L[0]||(L[0]=w=>t.value=w),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(s(Ee),{class:"pagination","items-count":m.value.length,"items-per-page":He,page:n.value,onPage:I},null,8,["items-count","page"])]),row:y(w=>[u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${w.item.redeemer}`,target:"_blank",onClick:L[1]||(L[1]=ie(()=>{},["stop"]))},k(s(te)(w.item.redeemer)),9,Ei)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${w.item.transaction}`,target:"_blank",onClick:L[2]||(L[2]=ie(()=>{},["stop"]))},k(s(te)(w.item.transaction)),9,Ni)]),u("div",Fi,"$"+k(Math.round(w.item.actual_debt_amount)),1),u("div",Ui,k(w.item.troves_affected_count),1),u("div",Hi,k(z(w.item.timestamp)),1)]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]),h(s(Je),{show:!!r.value,onClose:L[3]||(L[3]=w=>r.value=null)},{default:y(()=>{var w;return[r.value?(d(),S(pt,{key:0,redemption:r.value,"vault-addr":((w=O.vault)==null?void 0:w.address)??""},null,8,["redemption","vault-addr"])):x("",!0)]}),_:1},8,["show"])],64))}});function ea(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Redemptions"])},"search-placeholder":o=>{const{normalize:t}=o;return t(["Search for..."])}}})}typeof ea=="function"&&ea(Ha);const qi=P(Ha,[["__scopeId","data-v-dce7a443"]]),ji={class:"redemptions"},Gi=D({__name:"Redemptions",props:{vault:{}},setup(a){return(e,o)=>(d(),$("div",ji,[h(qi,{vault:e.vault},null,8,["vault"])]))}});const Qi=P(Gi,[["__scopeId","data-v-ff43effe"]]),Ji=["href"],Yi={class:"number"},Ki={class:"number"},qe=15,qa=D({__name:"TableTroves",props:{vault:{default:null}},setup(a){const{t:e}=W(),o=new H(U()),t=A(""),n=A("Open"),l=A(1),r=A(Date.now()),c=A("updated"),_=A(Z.Descending),i=C(()=>n.value==="Open"?["Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["Owner","","","","Created At","Last Updated"]),v=C(()=>n.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","","","","created","updated"]),m=C(()=>n.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),f=C(()=>Q.chain(g.value).filter(L=>n.value===L.status).filter(L=>{const w=t.value.toLocaleLowerCase().split(" ");return(M=>w.some(K=>M.toLocaleLowerCase().includes(K)))(L.owner)}).orderBy(L=>{switch(c.value){case"owner":return L.owner;case"debt":return L.debt;case"coll":return L.collateral_usd;case"ratio":return L.collateral_ratio;case"created":return L.created_at;case"updated":return L.last_update;default:return L.last_update}},_.value===Z.Descending?"desc":"asc").value()),b=C(()=>Q.chain(f.value).drop((l.value-1)*qe).take(qe).value()),{loading:p,data:g,loadData:z}=q(()=>a.vault?o.getTroves("ethereum",a.vault.address,"last_update"):Promise.resolve([]),[]);N(()=>{z(),setInterval(()=>{r.value=Date.now()})});const I=L=>xe(r,L),V=L=>{l.value=L},F=L=>{L===0?n.value="Open":L===1?n.value="Closed":n.value="Open"},O=(L,w)=>{c.value=L,_.value=w};return R(()=>a.vault,z,{immediate:!0}),R(b,L=>{L.length===0&&(l.value=Math.max(1,Math.ceil(f.value.length/qe)))}),(L,w)=>(d(),S(s(ue),{class:"datatable-troves","columns-header":"1fr 1fr","columns-data":"troves-columns-data",loading:s(p),rows:b.value,columns:i.value,sorting:!0,"sorting-columns":v.value,"sorting-columns-enabled":m.value,"sorting-default-column":"updated","sorting-default-dir":"Descending",onSortColumn:O},{"header-title":y(()=>[h(s(_t),{class:"types",onTab:w[0]||(w[0]=T=>F(T.index))},{default:y(()=>[h(s(fe),{header:"Open"}),h(s(fe),{header:"Closed"})]),_:1}),h(s(Ce),{modelValue:t.value,"onUpdate:modelValue":w[1]||(w[1]=T=>t.value=T),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(s(Ee),{class:"pagination","items-count":f.value.length,"items-per-page":qe,page:l.value,onPage:V},null,8,["items-count","page"])]),row:y(T=>[u("div",{onClick:w[2]||(w[2]=ie(()=>{},["stop"]))},[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${T.item.owner}`,target:"_blank"},k(s(te)(T.item.owner)),9,Ji)]),u("div",{class:B(["number",{hide:n.value==="Closed"}])}," $"+k(Math.round(T.item.debt)),3),u("div",{class:B(["number",{hide:n.value==="Closed"}])}," $"+k(Math.round(T.item.collateral_usd)),3),u("div",{class:B(["number",{hide:n.value==="Closed"}])},[h(s(E),{value:T.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",Yi,k(I(T.item.created_at)),1),u("div",Ki,k(I(T.item.last_update)),1)]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]))}});function ta(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":o=>{const{normalize:t}=o;return t(["Search for..."])}}})}typeof ta=="function"&&ta(qa);const Xi=P(qa,[["__scopeId","data-v-2333b5bf"]]),Zi={class:"troves"},ec=D({__name:"Troves",props:{vault:{}},setup(a){const e=Ke(),o=We(),t=async n=>{e.trove=n,a.vault&&await o.push({name:"prismatrove",params:{troveAddr:n.owner,vaultAddr:a.vault.address}})};return(n,l)=>(d(),$("div",Zi,[h(Xi,{vault:n.vault,onSelected:t},null,8,["vault"])]))}});const tc=P(ec,[["__scopeId","data-v-e65b0341"]]),ac={class:"vault-manager"},oc=D({__name:"VaultManager",setup(a){const e=new Ne("ethereum"),o=Ae(),t=We(),n=Ye(),l=Ke(),r=A(0),c=C(()=>o.params.vaultAddr),_=C(()=>l.vault);return N(()=>{var v;const i=o.params.tab;i&&typeof i=="string"&&(i==="collateral"?r.value=1:i==="trove"?r.value=2:i==="liquidations"?r.value=3:i==="redemptions"&&(r.value=4)),n.show=!0,n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((v=_.value)==null?void 0:v.name)??"?"}`}]}),R(e.currentData,i=>{const v=i.find(m=>m.address===c.value);v&&(l.vault=v)}),R(_,i=>{n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(i==null?void 0:i.name)??"?"}`}]}),R(r,async i=>{i===0?await t.push({name:"prismavault",params:{tab:"",vaultAddr:c.value}}):i===1?await t.push({name:"prismavault",params:{tab:"collateral",vaultAddr:c.value}}):i===2?await t.push({name:"prismavault",params:{tab:"trove",vaultAddr:c.value}}):i===3?await t.push({name:"prismavault",params:{tab:"liquidations",vaultAddr:c.value}}):i===4&&await t.push({name:"prismavault",params:{tab:"redemptions",vaultAddr:c.value}})}),(i,v)=>(d(),$("div",ac,[h(s(_t),{active:r.value,onTab:v[0]||(v[0]=m=>r.value=m.index)},{default:y(()=>[h(s(fe),{header:"Overview"},{default:y(()=>[(d(),S(Le,null,[r.value===0?(d(),S(Si,{key:0,vault:_.value},null,8,["vault"])):x("",!0)],1024))]),_:1}),h(s(fe),{header:"Collateral"},{default:y(()=>[(d(),S(Le,null,[r.value===1&&_.value?(d(),S(Mi,{key:0,vault:_.value},null,8,["vault"])):x("",!0)],1024))]),_:1}),h(s(fe),{header:"Troves"},{default:y(()=>[(d(),S(Le,null,[r.value===2&&_.value?(d(),S(tc,{key:0,vault:_.value},null,8,["vault"])):x("",!0)],1024))]),_:1}),h(s(fe),{header:"Liquidations",disabled:!0},{default:y(()=>[(d(),S(Le,null,[r.value===3&&_.value?(d(),S(Wi,{key:0,vault:_.value},null,8,["vault"])):x("",!0)],1024))]),_:1}),h(s(fe),{header:"Redemptions"},{default:y(()=>[(d(),S(Le,null,[r.value===4&&_.value?(d(),S(Qi,{key:0,vault:_.value},null,8,["vault"])):x("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const sc=P(oc,[["__scopeId","data-v-e93c424a"]]),nc=a=>(ve("data-v-b0efbcdc"),a=a(),me(),a),lc=nc(()=>u("div",null,[G(" This chart displays that amount of collateral available below different collateral ratios. "),u("br"),G(" It also displays the position of the trove relative to other troves in this vault. "),u("br"),u("br"),G(" This information is useful to estimate a trove's risk of redemption. "),u("br"),G(" Even if the trove's collateral ratio is high in the absolute, a lower ratio relative "),u("br"),G(" to other troves means a higher risk of redemption."),u("br"),u("br"),G(` As such, the lower the "risk rank" displayed, the higher the trove's risk of being redeemed. `)],-1)),ja=D({__name:"ChartTroveRank",props:{vault:{default:null},trove:{default:null}},setup(a){const{t:e}=W(),o=new H(U()),t=X(),n=A("Trove Relative Position"),l={rank:null,total_positions:0,ratio:null,positions:[]},{loading:r,data:c,loadData:_}=q(async()=>a.vault&&a.trove?await o.getTroveRank("ethereum",a.vault.address,a.trove.owner):Promise.resolve(l),l),i=C(()=>{var I,V;const p=Y(t.theme),g=re(t.theme),z={x:((I=c.value)==null?void 0:I.ratio)??0,borderColor:p.yellow,strokeDashArray:2,label:{borderColor:p.yellow,style:{background:p.yellow,color:"rgb(34, 34, 34)"},position:"top",offsetX:15,text:`This trove: ${b(((V=c.value)==null?void 0:V.ratio)??0,1)}`}};return ce({colors:p,colorsArray:g},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!0}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},annotations:{xaxis:c.value.ratio?[z]:[]},toolbar:{show:!1},xaxis:{type:"numeric",categories:m.value,labels:{formatter:F=>b(F)}},yaxis:{seriesName:"impact",labels:{formatter:F=>f(F)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:F=>{if(!a.vault)return"";const O=m.value[F.dataPointIndex];return`
          <div><b>Collateral ratio:</b>:</div>
          <div>${F.dataPointIndex===m.value.length-1?"Over 250%":b(O)}</div>

          <div><b>Troves with lower or equal ratio:</b>:</div>
          <div>${c.value.positions[F.dataPointIndex].trove_count}</div>

          <div><b>Collateral value at lower or equal ratio:</b>:</div>
          <div>$${f(F.series[0][F.dataPointIndex])}</div>
          `}}})}),v=C(()=>[{name:e("rank"),data:Object.values(c.value.positions).map(p=>p.collateral_usd)}]),m=C(()=>c.value.positions.map(p=>p.ratio)),f=p=>`${se(Math.abs(p),1,"dollar")}${oe(p,"dollar")}`,b=(p,g=0)=>`${se(p,g,"percentage")}${oe(p,"percentage")}`;return R(()=>a.vault,_,{immediate:!0}),R(c,p=>{p&&typeof p.rank=="number"&&(n.value=e("title",{rank:p.rank,total_positions:p.total_positions}))},{immediate:!0}),(p,g)=>(d(),S(s(ne),{class:"chart-container",title:n.value,loading:s(r)},{actions:y(()=>[h(s(Re),null,{default:y(()=>[lc]),_:1})]),default:y(()=>[h(s(da),{class:"chart",options:i.value,series:v.value},null,8,["options","series"])]),_:1},8,["title","loading"]))}});function aa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t,interpolate:n,named:l}=o;return t(["Trove Relative Position (Risk rank: ",n(l("rank"))," / ",n(l("total_positions")),")"])}}})}typeof aa=="function"&&aa(ja);const rc=P(ja,[["__scopeId","data-v-b0efbcdc"]]),Ga=D({__name:"ChartTroveHealth",props:{vault:{default:null},trove:{default:null}},setup(a){const{t:e}=W(),o=new H(U()),t=X(),{loading:n,data:l,loadData:r}=q(async()=>a.vault&&a.trove?await o.getTroveSnapshots("ethereum",a.vault.address,a.trove.owner).then(f=>f.snapshots):Promise.resolve([]),[]),c=C(()=>{const m=Y(t.theme),f=re(t.theme);return ce({colors:m,colorsArray:f},{chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"collateralUsd",tickAmount:4,opposite:!0,labels:{formatter:b=>i(b)},min:0,max:Math.max(...l.value.map(b=>b.collateral_usd))},{seriesName:"ratio",tickAmount:4,labels:{formatter:b=>v(b)},min:0,max:Math.max(...l.value.map(b=>b.cr??0))}],dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:b=>{const p=b.w.globals.initialSeries[0].data[b.dataPointIndex].y,g=b.w.globals.initialSeries[1].data[b.dataPointIndex]?b.w.globals.initialSeries[1].data[b.dataPointIndex].y:0;return[`<div><b>${e("ratio")}</b>:</div><div>${v(g)}</div>`,`<div><b>${e("collateralUsd")}</b>:</div><div>${i(p)}</div>`].join("")}}})}),_=C(()=>[{name:e("collateralUsd"),type:"line",data:l.value.map(m=>({x:m.timestamp*1e3,y:m.collateral_usd}))},{name:e("ratio"),type:"line",data:l.value.map(m=>({x:m.timestamp*1e3,y:m.cr??0}))}]),i=m=>`$${se(m,1,"dollar")}${oe(m,"dollar")}`,v=m=>`${$e(m*100,2)}%`;return R(()=>a.vault,r,{immediate:!0}),(m,f)=>(d(),S(s(de),{class:"health",title:s(e)("title"),options:c.value,series:_.value,loading:s(n)},null,8,["title","options","series","loading"]))}});function oa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Health"])},collateralUsd:o=>{const{normalize:t}=o;return t(["Collateral ($)"])},ratio:o=>{const{normalize:t}=o;return t(["Ratio"])}}})}typeof oa=="function"&&oa(Ga);const ic=P(Ga,[["__scopeId","data-v-639bce2b"]]),cc={class:"number"},uc={key:1},dc={class:"number"},_c={class:"number"},vc={class:"number"},mc={class:"number"},pc=["href"],hc={class:"number"},Qa=D({__name:"TableTroveOps",props:{vault:{default:null},trove:{default:null}},setup(a){const{t:e}=W(),o=new H(U()),t=A(Date.now()),n=C(()=>Q.orderBy(r.value,v=>v.timestamp,"desc")),{loading:l,data:r,loadData:c}=q(()=>a.vault&&a.trove?o.getTroveSnapshots("ethereum",a.vault.address,a.trove.owner).then(v=>v.snapshots):Promise.resolve([]),[]);N(()=>{c(),setInterval(()=>{t.value=Date.now()})});const _=v=>xe(t,v),i=v=>v.replace(/^_*(.)|_+(.)/g,(m,f,b)=>f?f.toUpperCase():" "+b.toUpperCase());return R(()=>a.vault,c,{immediate:!0}),(v,m)=>(d(),S(s(ue),{class:"datatable-trove-ops","columns-header":"1fr 1fr auto","columns-data":"trove-ops-columns-data",loading:s(l),rows:n.value,columns:["Operation","Collateral","Debt","Ratio","Stake","Tx","Time"]},{"header-title":y(()=>[u("div",null,k(s(e)("title")),1)]),row:y(f=>[u("div",null,k(i(f.item.operation)),1),u("div",cc,[f.item.collateral?(d(),S(s(E),{key:0,value:f.item.collateral,precision:3,"show-symbol":!1,type:"dollar"},null,8,["value"])):x("",!0),f.item.debt?(d(),$("span",uc," ($"+k(Math.round(f.item.debt))+") ",1)):x("",!0)]),u("div",dc,"$"+k(Math.round(f.item.debt)),1),u("div",_c,[f.item.cr?(d(),S(s(E),{key:0,value:f.item.cr*100,precision:2,type:"percentage"},null,8,["value"])):x("",!0)]),u("div",vc,[f.item.stake?(d(),S(s(E),{key:0,value:f.item.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])):x("",!0)]),u("div",mc,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${f.item.hash}`,target:"_blank",onClick:m[0]||(m[0]=ie(()=>{},["stop"]))},k(s(te)(f.item.hash)),9,pc)]),u("div",hc,k(_(f.item.timestamp)),1)]),_:1},8,["loading","rows"]))}});function sa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Operations"])}}})}typeof sa=="function"&&sa(Qa);const fc=P(Qa,[["__scopeId","data-v-9bc04fc6"]]),gc={class:"trove"},bc=D({__name:"Trove",setup(a){const e=new H(U()),o=new Ne("ethereum"),t=Ye(),n=Ke(),l=Ae(),r=C(()=>l.params.vaultAddr),c=C(()=>n.vault),_=C(()=>n.trove);return N(async()=>{var v,m;const i=await e.getTroveDetail("ethereum",l.params.vaultAddr,l.params.troveAddr);i&&(n.trove=i),t.show=!0,t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((v=c.value)==null?void 0:v.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((m=_.value)==null?void 0:m.owner)??"?"}`}]}),R(o.currentData,i=>{const v=i.find(m=>m.address===r.value);v&&(n.vault=v)}),R(c,i=>{var v;t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(i==null?void 0:i.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((v=_.value)==null?void 0:v.owner)??"?"}`}]}),R(_,i=>{var v;t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((v=c.value)==null?void 0:v.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(i==null?void 0:i.owner)??"?"}`}]}),(i,v)=>(d(),$("div",gc,[h(rc,{class:"graph-rank",vault:c.value,trove:_.value},null,8,["vault","trove"]),h(ic,{class:"graph-health",vault:c.value,trove:_.value},null,8,["vault","trove"]),h(fc,{class:"table-ops",vault:c.value,trove:_.value},null,8,["vault","trove"])]))}});const yc=P(bc,[["__scopeId","data-v-96bc8cff"]]),$c=["src"],wc=["href"],Cc=["href"],kc={class:"number"},Sc={class:"number"},Tc={class:"number"},je=15,Ja=D({__name:"TableRedemptions",props:{vaults:{default:()=>[]},troves:{default:()=>[]}},setup(a){const e=new H(U()),{t:o}=W(),t=A(""),n=A("all"),l=A(1),r=A(Date.now()),c=A(null),_=A("timestamp"),i=A(Z.Descending),v=C(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),m=C(()=>["icon","redeemer","tx","debt","numtroves","timestamp"]),f=C(()=>["redeemer","tx","debt","numtroves","timestamp"]),b=C(()=>Q.chain(z.value).filter(w=>{const T=t.value.toLocaleLowerCase().split(" "),M=ye=>T.some(Xe=>ye.toLocaleLowerCase().includes(Xe)),K=n.value==="all"?!0:n.value===w.vault.name,be=w.troves_affected.some(ye=>a.troves.includes(ye.toLocaleLowerCase()));return M(w.redeemer)&&K&&be}).orderBy(w=>{switch(_.value){case"redeemer":return w.redeemer;case"tx":return w.transaction;case"debt":return w.actual_debt_amount;case"numtroves":return w.troves_affected_count;case"timestamp":return w.timestamp;default:return w.timestamp}},i.value===Z.Descending?"desc":"asc").value()),p=C(()=>Q.chain(b.value).drop((l.value-1)*je).take(je).value()),{loading:g,data:z,loadData:I}=q(()=>a.vaults.length>0?Promise.all(a.vaults.map(w=>e.getRedemptions("ethereum",w.address).then(T=>T.map(M=>({...M,vault:{name:w.name,address:w.address}}))))).then(w=>w.flat()):Promise.resolve([]),[]);N(()=>{I(),setInterval(()=>{r.value=Date.now()})});const V=w=>xe(r,w),F=w=>{l.value=w},O=(w,T)=>{_.value=w,i.value=T},L=w=>{c.value=w};return R(()=>a.vaults,I,{immediate:!0}),R(p,w=>{w.length===0&&(l.value=Math.max(1,Math.ceil(b.value.length/je)))}),(w,T)=>(d(),$(ee,null,[h(s(ue),{class:"datatable-redemptions","columns-header":"1fr 12rem minmax(auto, 25rem) auto","columns-data":"redemptions-columns-data",loading:s(g)||w.troves.length===0,rows:p.value,columns:v.value,sorting:!0,"sorting-columns":m.value,"sorting-columns-enabled":f.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:O,onSelected:L},{"header-title":y(()=>[u("div",null,k(s(o)("title")),1),h(Ra,{class:"select-collateral",collateral:n.value,all:!0,onSelectCollateral:T[0]||(T[0]=M=>n.value=M)},null,8,["collateral"]),h(s(Ce),{modelValue:t.value,"onUpdate:modelValue":T[1]||(T[1]=M=>t.value=M),class:"search",search:!0,placeholder:s(o)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(s(Ee),{class:"pagination","items-count":b.value.length,"items-per-page":je,page:l.value,onPage:F},null,8,["items-count","page"])]),row:y(M=>[u("img",{src:s(Ve)(M.item.vault.name)},null,8,$c),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${M.item.redeemer}`,target:"_blank",onClick:T[2]||(T[2]=ie(()=>{},["stop"]))},k(s(te)(M.item.redeemer)),9,wc)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${M.item.transaction}`,target:"_blank",onClick:T[3]||(T[3]=ie(()=>{},["stop"]))},k(s(te)(M.item.transaction)),9,Cc)]),u("div",kc,"$"+k(Math.round(M.item.actual_debt_amount)),1),u("div",Sc,k(M.item.troves_affected_count),1),u("div",Tc,k(V(M.item.timestamp)),1)]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]),h(s(Je),{show:!!c.value,onClose:T[4]||(T[4]=M=>c.value=null)},{default:y(()=>[c.value?(d(),S(pt,{key:0,redemption:c.value,"vault-addr":c.value.vault.address},null,8,["redemption","vault-addr"])):x("",!0)]),_:1},8,["show"])],64))}});function na(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Redemptions"])},"search-placeholder":o=>{const{normalize:t}=o;return t(["Search for..."])}}})}typeof na=="function"&&na(Ja);const Dc=P(Ja,[["__scopeId","data-v-5e6797c9"]]),Pc=["href"],Ic={class:"number"},zc={class:"number"},Ge=15,Ya=D({__name:"TableTroves",props:{vaults:{default:()=>[]},user:{}},emits:["troves"],setup(a,{emit:e}){const{t:o}=W(),t=new H(U()),n=e,l=A(""),r=A("Open"),c=A(1),_=A(Date.now()),i=A("updated"),v=A(Z.Descending),m=C(()=>r.value==="Open"?["Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["Owner","","","","Created At","Last Updated"]),f=C(()=>r.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","","","","created","updated"]),b=C(()=>r.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),p=C(()=>Q.chain(I.value).filter(T=>r.value===T.status).filter(T=>{const M=l.value.toLocaleLowerCase().split(" "),K=ye=>M.some(Xe=>ye.toLocaleLowerCase().includes(Xe)),be=a.user?T.owner.toLocaleLowerCase()===a.user.toLocaleLowerCase():!0;return K(T.owner)&&be}).orderBy(T=>{switch(i.value){case"owner":return T.owner;case"debt":return T.debt;case"coll":return T.collateral_usd;case"ratio":return T.collateral_ratio;case"created":return T.created_at;case"updated":return T.last_update;default:return T.last_update}},v.value===Z.Descending?"desc":"asc").value()),g=C(()=>Q.chain(p.value).drop((c.value-1)*Ge).take(Ge).value()),{loading:z,data:I,loadData:V}=q(async()=>{if(a.vaults.length>0){const T=await Promise.all(a.vaults.map(M=>t.getTroves("ethereum",M.address,"last_update").then(K=>K.map(be=>({...be,vault:{name:M.name,address:M.address}}))))).then(M=>M.flat());return n("troves",T),T}else return Promise.resolve([])},[]);N(()=>{V(),setInterval(()=>{_.value=Date.now()})});const F=T=>xe(_,T),O=T=>{c.value=T},L=T=>{T===0?r.value="Open":T===1?r.value="Closed":r.value="Open"},w=(T,M)=>{i.value=T,v.value=M};return R(()=>a.vaults,V,{immediate:!0}),R(g,T=>{T.length===0&&(c.value=Math.max(1,Math.ceil(p.value.length/Ge)))}),(T,M)=>(d(),S(s(ue),{class:"datatable-troves","columns-header":"auto 1fr minmax(auto, 25rem)","columns-data":"troves-columns-data",loading:s(z),rows:g.value,columns:m.value,sorting:!0,"sorting-columns":f.value,"sorting-columns-enabled":b.value,"sorting-default-column":"updated","sorting-default-dir":"Descending",onSortColumn:w},{"header-title":y(()=>[u("div",null,k(s(o)("title")),1),h(s(_t),{class:"types",onTab:M[0]||(M[0]=K=>L(K.index))},{default:y(()=>[h(s(fe),{header:"Open"}),h(s(fe),{header:"Closed"})]),_:1}),h(s(Ce),{modelValue:l.value,"onUpdate:modelValue":M[1]||(M[1]=K=>l.value=K),class:"search",search:!0,placeholder:s(o)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(s(Ee),{class:"pagination","items-count":p.value.length,"items-per-page":Ge,page:c.value,onPage:O},null,8,["items-count","page"])]),row:y(K=>[u("div",{onClick:M[2]||(M[2]=ie(()=>{},["stop"]))},[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${K.item.owner}`,target:"_blank"},k(s(te)(K.item.owner)),9,Pc)]),u("div",{class:B(["number",{hide:r.value==="Closed"}])}," $"+k(Math.round(K.item.debt)),3),u("div",{class:B(["number",{hide:r.value==="Closed"}])}," $"+k(Math.round(K.item.collateral_usd)),3),u("div",{class:B(["number",{hide:r.value==="Closed"}])},[h(s(E),{value:K.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",Ic,k(F(K.item.created_at)),1),u("div",zc,k(F(K.item.last_update)),1)]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]))}});function la(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Troves"])},"search-placeholder":o=>{const{normalize:t}=o;return t(["Search for..."])}}})}typeof la=="function"&&la(Ya);const Ac=P(Ya,[["__scopeId","data-v-dafd57d3"]]),xc={class:"profile"},Lc={style:{"grid-column":"1 / -1","margin-bottom":"-0.5rem"}},Oc=D({__name:"Profile",setup(a){const e=new Ne("ethereum"),o=Ae(),t=We(),n=rt(),l=A(void 0),r=A([]),c=A([]),_=C(()=>c.value.filter(v=>l.value?v.owner.toLocaleLowerCase()===l.value.toLocaleLowerCase():!1).map(v=>v.owner));R(e.currentData,v=>{r.value=v}),N(()=>{r.value=e.currentData.value;const v=o.params.addr;v&&typeof v=="string"&&(l.value=v)});const i=v=>{c.value=v};return R(()=>n.address,async()=>{!o.params.addr&&!l.value&&n.address&&await t.push({name:"profile",params:{addr:n.address}})},{immediate:!0}),R(()=>o.params,()=>{const v=o.params.addr;v&&typeof v=="string"&&(l.value=v)}),(v,m)=>(d(),$("div",xc,[u("h2",Lc," Profile: "+k(l.value??"?"),1),h(Ac,{vaults:r.value,user:l.value,onTroves:i},null,8,["vaults","user"]),h(Dc,{vaults:r.value,troves:_.value},null,8,["vaults","troves"])]))}});const Mc=P(Oc,[["__scopeId","data-v-71bd6061"]]),Rc={titleRoute:"/",routes:[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:zr},{path:"/mkusd",name:"mkusd",component:Hr},{path:"/redemptions",name:"redemptions",component:ci},{path:"/vaults",name:"vaults",component:cr},{path:"/profile/:addr?",name:"profile",component:Mc},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:sc},{path:"/vault/:vaultAddr/trove/:troveAddr",name:"prismatrove",component:yc}],menuItems:[{to:"/vaults",label:"Vaults"},{to:"/mkusd",label:"mkUSD"},{to:"/pool",label:"Stability pool"},{to:"/redemptions",label:"Redemptions"},{to:"/profile",label:"Profile"}]},ht=ho(wl),Vc=fo({legacy:!1,locale:"en",fallbackLocale:"en"});ht.use(Vc);const Bc=go();ht.use(Bc);const Wc=[Rc],Ec=mt();Ec.pages=Wc;const Nc=Ol();ht.use(Nc).use(bo).use(yo).mount("#app");
