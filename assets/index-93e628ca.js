import{L as za,d as w,r as O,c as k,w as L,t as T,l as Q,o as u,a as C,b as $,e as f,f as y,g as se,h as Ke,n as V,i as G,j as A,F as X,T as xa,u as l,k as Ie,m as Oa,p as La,q as j,s as d,v as Ma,x as E,y as ce,z as Ut,A as _e,B as ve,C as Se,D as ue,E as W,G as Ra,H as Va,I as Ba,J as Ea,K as Pe,M as Be,N as lt,O as Wa,P as Na,Q as Fa,R as Ha,S as ge,U as me,V as Ua,W as Te,X as qa,Y as ja,Z as Ga,_ as Qa,$ as Ja}from"./vendor-24945336.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();function pe(a,e=0,o=".",t=","){const s=isFinite(+a)?+a:0,n=isFinite(+e)?Math.abs(e):0,r=typeof t>"u"?",":t,c=typeof o>"u"?".":o,_=function(v,m){const h=Math.pow(10,m);return Math.round(v*h)/h},i=(n?_(s,n):Math.round(s)).toString().split(".");return i[0].length>3&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(i[1]||"").length<n&&(i[1]=i[1]||"",i[1]+=new Array(n-i[1].length+1).join("0")),i.join(c)}function ee(a,e){const o=Math.abs(a);return e==="percentage"?"%":e==="dollar"?o>=1*10**12?"t":o>=1*10**9?"b":o>=1*10**6?"m":o>=1*10**3?"k":"":""}function ae(a,e,o){const t=Math.abs(a);return o==="percentage"?pe(a,e):o==="dollar"?t>=1*10**12?pe(a/10**12,e):t>=1*10**9?pe(a/10**9,e):t>=1*10**6?pe(a/10**6,e):t>=1*10**3?pe(a/10**3,e):pe(a,e):a.toString()}async function Ge(a,e=0,o=1e3){const t=await a(e,o),s=await(t.length>=o?Ge(a,e+1,o):Promise.resolve([]));return t.concat(s)}function Qe(a,e){return(Array.isArray(a)?a:[a]).some(t=>e.path.startsWith(t))}const Ka="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",Ya="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",Xa="0x657ce046d98d163ef4f846210f25919fa7b31944",Za="https://api.llama.airforce/";async function eo(a,e,o){return await fetch(a,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:o}).then(t=>{if(t.ok)return t;throw new Error(`Fetch error ${t.status} for URL: ${a}`)})}async function to(a,e,o){return await(await eo(a,e,o)).json()}class ao{constructor(e){this.host=e}async fetch(e,o,t){return to(e,o,t)}}async function oo(a){try{return await a()}catch(e){e instanceof Error&&za({text:e.message,type:"error"});return}}const so="|/-\\",B=w({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(a){let e=0,o=0;const t=O("|"),s=k(()=>a.value?ae(a.value,typeof a.precision=="function"?a.precision(a.value):a.precision,a.type??""):a.value===0&&a.showZero?"0":a.value===null||a.value===void 0?t.value:"?"),n=k(()=>!a.value||!a.type||!Q.isFinite(a.value)?a.showUnit&&a.type?ee(0,a.type):"":ee(a.value,a.type));return L(()=>a.value,r=>{if(clearInterval(o),e=0,r)return;const c=()=>{e=(e+1)%4,t.value=so[e]};o=window.setInterval(c,250)},{immediate:!0}),(r,c)=>T(r.showSymbol&&r.type==="dollar"?"$":"")+T(s.value)+T(r.showUnit?n.value:"")}}),lo={key:0,class:"fas fa-chevron-right"},no=w({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(a,{emit:e}){const o=e,t=n=>{var r;return a.active?a.active.id===n.id:((r=a.crumbs.at(-1))==null?void 0:r.id)===n.id},s=n=>{var r;return((r=a.crumbs.at(-1))==null?void 0:r.id)===n.id};return(n,r)=>(u(),C(l(oe),null,{default:$(()=>[f(xa,{name:"fade",tag:"ul"},{default:$(()=>[(u(!0),y(X,null,se(n.crumbs,c=>(u(),y("li",{key:c.id},[(u(),C(Ke(t(c)?"span":"a"),{class:V({active:t(c)}),onClick:_=>o("crumb",c)},{default:$(()=>[G(T(c.label),1)]),_:2},1032,["class","onClick"])),!s(c)||n.crumbs.length===1?(u(),y("i",lo)):A("",!0)]))),128))]),_:1})]),_:1}))}});const S=(a,e)=>{const o=a.__vccOpts||a;for(const[t,s]of e)o[t]=s;return o},ro=S(no,[["__scopeId","data-v-997741c8"]]);function io(){return!1}Ie({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(a){this.address=a==null?void 0:a.toLocaleLowerCase()}}});Oa();La({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"});function le(a,e=6){if(!a)return"0x000...000";const o=e/2+2,t=a.length-e/2;return`${a.substring(0,o)}...${a.substring(t)}`}const co=w({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(a,{emit:e}){const o=e,t=async s=>{s.stopImmediatePropagation(),!(a.web3&&io())&&o("click")};return(s,n)=>(u(),y("button",{class:V({primary:s.primary}),onClick:t},[j(s.$slots,"default",{},()=>[s.icon?(u(),y("i",{key:0,class:V(["icon",[s.icon,{noValue:!!s.value}]])},null,2)):A("",!0),G(" "+T(s.value),1)],!0)],2))}});const fe=S(co,[["__scopeId","data-v-b051a687"]]),uo=w({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(a,{emit:e}){const o=e,t=()=>{o("update:modelValue",!a.modelValue)};return(s,n)=>(u(),y("button",{class:V({toggled:s.modelValue}),onClick:t},[j(s.$slots,"default",{},()=>[s.icon?(u(),y("i",{key:0,class:V(["icon",s.icon])},null,2)):A("",!0),G(" "+T(s.value),1)],!0)],2))}});const Me=S(uo,[["__scopeId","data-v-a2cabc6a"]]),_o={class:"card"},vo={class:"text"},mo=w({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(a){return(e,o)=>(u(),y("div",_o,[e.loading?(u(),C(l(Qt),{key:0,class:"loader"})):A("",!0),d("div",{class:V(["card-container",{loading:e.loading}])},[e.title?(u(),y("div",{key:0,class:V(["card-header",{collapsible:e.collapsible}])},[d("div",vo,[e.icon?(u(),y("i",{key:0,class:V(["icon",e.icon])},null,2)):A("",!0),G(" "+T(e.title),1)]),j(e.$slots,"actions",{},void 0,!0)],2)):(u(),y("div",{key:1,class:V(["card-no-header",{compact:e.compact}])},null,2)),d("div",{class:V(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[j(e.$slots,"default",{},void 0,!0)],2)],2)]))}});const oe=S(mo,[["__scopeId","data-v-317ddfe2"]]),po=w({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(a){return(e,o)=>(u(),C(l(oe),{class:"card-graph",title:e.title,loading:e.loading},{default:$(()=>[f(l(qt),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),j(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const ie=S(po,[["__scopeId","data-v-4e0fd9b7"]]),ho={class:"chip"},fo={class:"label"},go=w({__name:"Chip",props:{label:{default:""}},setup(a){return(e,o)=>(u(),y("div",ho,[d("div",fo,T(e.label),1)]))}});const bo=S(go,[["__scopeId","data-v-1eb2caf8"]]);const yo={class:"collapsible-inside"},$o=w({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(a){return(e,o)=>(u(),y("div",{class:V(["collapsible-outside",{expanded:e.expanded}])},[d("div",yo,[j(e.$slots,"default",{},void 0,!0)])],2))}});const Ye=S($o,[["__scopeId","data-v-25b74378"]]),Co={key:1,class:"header"},wo={key:0,class:"header-icon"},ko={class:"header-actions"},So={key:2,class:"list"},To=["onClick"],Do={key:0,class:"sorting-arrows"},Io={key:0,class:"sorting-arrow fa fa-caret-up"},Po={key:1,class:"sorting-arrow fa fa-caret-down"},Ao={key:2,class:"sorting-arrow"},zo={class:"rows"},xo={key:3,class:"no-data"},Xe=w({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(a,{emit:e}){const o=e,t=O(""),s=O(te.Ascending),n=k(()=>`grid-template-columns: ${a.columnsHeader}`),r=k(()=>{if(a.rowsMin===null)return[];const g=Math.max(0,a.rowsMin-a.rows.length);return new Array(g)});Ma(()=>{a.sortingDefaultColumn&&(t.value=a.sortingDefaultColumn),a.sortingDefaultDir&&(s.value=a.sortingDefaultDir===te.Ascending?te.Ascending:te.Descending)});const c=g=>{o("selected",g)},{t:_}=E(),i=g=>{const I=g+1;return!!(a.rows[g+1]&&a.rows.findIndex(U=>U===a.selectedRow)===I)},v=g=>a.expanded.includes(g),m=g=>{const I=a.sortingColumns[g];return a.sortingColumnsEnabled.includes(I)},h=g=>t.value===a.sortingColumns[g]&&s.value==="Ascending",b=g=>t.value===a.sortingColumns[g]&&s.value==="Descending",p=g=>{if(!a.sorting||!a.sortingColumns||!m(g))return;const I=a.sortingColumns[g];I===t.value?s.value=s.value===te.Ascending?te.Descending:te.Ascending:s.value=te.Ascending,t.value=I,o("sortColumn",t.value,s.value)};return(g,I)=>(u(),y("div",{class:V(["datatable",{loading:g.loading}])},[g.loading?(u(),C(l(Qt),{key:0,class:"loader"})):A("",!0),g.header?(u(),y("div",Co,[g.icon?(u(),y("div",wo,[d("i",{class:V(g.icon)},null,2)])):A("",!0),d("div",{class:"header-title",style:ce(n.value)},[j(g.$slots,"header-title",{},void 0,!0)],4),d("div",ko,[j(g.$slots,"header-actions",{},void 0,!0)])])):A("",!0),g.rowsMin||g.rows&&g.rows.length>0?(u(),y("div",So,[d("div",{class:V(["row-data",[g.columnsData,{"selected-below":i(-1)}]])},[j(g.$slots,"column-headers",{},()=>[(u(!0),y(X,null,se(g.columns,(D,M)=>(u(),y("div",{key:D,class:V(["column-header",{"sortable-header":g.sorting&&m(M),"current-sort":t.value==g.sortingColumns[M]}]),onClick:U=>p(M)},[G(T(D)+" ",1),g.sorting&&m(M)?(u(),y("div",Do,[h(M)?(u(),y("i",Io)):b(M)?(u(),y("i",Po)):(u(),y("span",Ao," — "))])):A("",!0)],10,To))),128))],!0)],2),d("div",zo,[(u(!0),y(X,null,se(g.rows,(D,M)=>(u(),C(l(Ue),{key:D,data:D,class:V({"selected-below":i(M)}),columns:g.columnsData,selected:g.selectedRow===D,expanded:v(D),onClick:c},{row:$(()=>[j(g.$slots,"row",{item:D},void 0,!0)]),"row-details":$(()=>[j(g.$slots,"row-details",{item:D},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(u(!0),y(X,null,se(r.value,D=>(u(),C(l(Ue),{key:D}))),128)),g.$slots["row-aggregation"]?(u(),C(l(Ue),{key:0,class:"aggregation",columns:g.columnsData},{row:$(()=>[j(g.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):A("",!0)])])):!g.rowsMin&&!g.loading?(u(),y("div",xo,[j(g.$slots,"no-data",{},()=>[G(T(l(_)("no-data")),1)],!0)])):A("",!0)],2))}});function nt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":o=>{const{normalize:t}=o;return t(["No data :("])}}})}function rt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":o=>{const{normalize:t}=o;return t(["没有数据 :("])}}})}typeof nt=="function"&&nt(Xe);typeof rt=="function"&&rt(Xe);const de=S(Xe,[["__scopeId","data-v-50e85b9c"]]),Oo=a=>(_e("data-v-45ff862c"),a=a(),ve(),a),Lo=Oo(()=>d("i",{class:"fas fa-chevron-up"},null,-1)),Mo=[Lo],Ro={class:"row-details"},Vo=w({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(a,{emit:e}){const o=e,t=Ut(),s=k(()=>{var c;const r=t["row-details"];if(r){const _=(c=r()[0])==null?void 0:c.children;if(_)return _.length>0}return!1}),n=()=>{o("click",a.data)};return(r,c)=>(u(),y("div",{class:V(["row",{expanded:r.expanded}])},[d("div",{class:V(["row-data item",[r.columns,{active:r.selected,expandable:s.value}]]),onClick:n},[j(r.$slots,"row",{},void 0,!0),s.value?(u(),y("div",{key:0,class:V(["expander",{expanded:r.expanded}])},Mo,2)):A("",!0)],2),f(l(Ye),{expanded:r.expanded},{default:$(()=>[d("div",Ro,[j(r.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const Ue=S(Vo,[["__scopeId","data-v-45ff862c"]]),Bo=w({__name:"GraphApex",props:{options:{},series:{}},setup(a){return(e,o)=>{const t=Se("apexchart");return u(),C(t,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const qt=S(Bo,[["__scopeId","data-v-3e2879ed"]]);const Eo=a=>(_e("data-v-a7ae5e73"),a=a(),ve(),a),Wo={class:"input-text"},No={key:0,class:"icon"},Fo=Eo(()=>d("i",{class:"fas fa-search"},null,-1)),Ho=[Fo],Uo=["type","value","placeholder","onInput"],qo=["onClick"],jo=w({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(a,{emit:e}){const o=e,t=k(()=>{const n=a.options.filter(c=>a.filter(a.modelValue,c));return a.sort?[...n].sort(a.sort):n}),s=n=>{const r=n.target.value;o("update:modelValue",r),o("input",r)};return(n,r)=>(u(),y("div",Wo,[n.search?(u(),y("span",No,Ho)):A("",!0),d("input",{type:n.search?"search":"text",value:n.modelValue,placeholder:n.placeholder,onInput:ue(s,["stop"]),onSelect:r[0]||(r[0]=ue(()=>{},["stop"]))},null,40,Uo),n.options&&n.autoComplete?(u(),y("div",{key:1,class:V(["items",{selectHide:!n.autoComplete}])},[(u(!0),y(X,null,se(t.value,(c,_)=>(u(),y("div",{key:_,onClick:i=>o("select",c)},[j(n.$slots,"item",{item:c,idx:_},()=>[G(T(c),1)],!0)],8,qo))),128))],2)):A("",!0)]))}});const Ae=S(jo,[["__scopeId","data-v-a7ae5e73"]]),Go={key:0,class:"value"},Qo={key:1,class:"value"},Jo=["innerHTML"],Ko={key:0,class:"value"},Yo={key:1,class:"value"},Xo=["innerHTML"],Zo={class:"labels"},es={class:"label"},ts={class:"label-second"},as=w({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(a){return(e,o)=>(u(),y("div",{class:V(["kpi",{disabled:!e.hasValue}])},[d("div",{class:V(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[j(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(u(),C(l(Re),{key:0},{item:$(()=>[e.hasValue?(u(),y("span",Go,T(e.value),1)):(u(),y("span",Qo," ? "))]),default:$(()=>[j(e.$slots,"tooltip",{},()=>[d("span",{innerHTML:e.tooltip},null,8,Jo)],!0)]),_:3})):(u(),y(X,{key:1},[e.hasValue?(u(),y("span",Ko,T(e.value),1)):(u(),y("span",Yo," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(u(),C(l(Re),{key:0},{default:$(()=>[d("span",{innerHTML:e.tooltip},null,8,Xo)]),_:1})):A("",!0)],2),d("div",Zo,[j(e.$slots,"label",{},()=>[d("div",es,T(e.label),1)],!0),j(e.$slots,"label-second",{},()=>[d("div",ts,T(e.labelSecond),1)],!0)])],2))}});const Z=S(as,[["__scopeId","data-v-0123c061"]]),os={key:0,class:"modal"},ss={class:"modal-popup"},ls=w({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(a,{emit:e}){const o=e,t=s=>{s.code==="Escape"&&o("close")};return W(()=>{document.addEventListener("keydown",t)}),Ra(()=>{document.removeEventListener("keydown",t)}),L(()=>a.show,s=>{document.body.style.overflow=s?"hidden":""}),(s,n)=>s.show?(u(),y("div",os,[d("div",{class:"modal-mask",onClick:n[0]||(n[0]=r=>o("close"))}),d("div",ss,[j(s.$slots,"default",{},void 0,!0)])])):A("",!0)}});const Ze=S(ls,[["__scopeId","data-v-8f349360"]]),ns={class:"buttons"},rs={key:1,class:"not-ready"},jt=w({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(a,{emit:e}){const o=e,{t}=E();return(s,n)=>(u(),C(l(Ze),{show:s.show},{default:$(()=>[f(l(oe),{title:s.title},{default:$(()=>[j(s.$slots,"default",{},void 0,!0),d("div",ns,[f(l(fe),{class:"no",value:l(t)("no"),onClick:n[0]||(n[0]=r=>o("no"))},null,8,["value"]),s.ready?(u(),C(l(fe),{key:0,class:"yes",value:l(t)("yes"),onClick:n[1]||(n[1]=r=>o("yes"))},null,8,["value"])):(u(),y("div",rs,T(s.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function it(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:o=>{const{normalize:t}=o;return t(["Yes"])},no:o=>{const{normalize:t}=o;return t(["No"])}}})}function ct(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:o=>{const{normalize:t}=o;return t(["是的"])},no:o=>{const{normalize:t}=o;return t(["不是"])}}})}typeof it=="function"&&it(jt);typeof ct=="function"&&ct(jt);const et=a=>(_e("data-v-6ab859e6"),a=a(),ve(),a),is=et(()=>d("button",null,"1",-1)),cs=[is],us=et(()=>d("button",null,[d("i",{class:"fas fa-chevron-left"})],-1)),ds=[us],_s=["onClick"],vs=et(()=>d("button",null,[d("i",{class:"fas fa-chevron-right"})],-1)),ms=[vs],ps=w({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(a,{emit:e}){const o=e,t=k(()=>Math.ceil(a.itemsCount/a.itemsPerPage)),s=k(()=>{const m=[...Array(12).keys()].map(D=>D-6+a.page).filter(D=>D>=1&&D<=t.value),h=m.findIndex(D=>D===a.page),b=[],p=[],g=a.page!==1&&a.page!==t.value?[a.page]:[];let I=1;for(;;){const D=m[h-I];if(D&&D!==1&&b.unshift(D),b.length+p.length+g.length>=5||I>m.length)break;const M=m[h+I];if(M&&M!==t.value&&p.push(M),I++,b.length+p.length+g.length>=5||I>m.length)break}return[...b,...g,...p]}),n=(i,v,m)=>Math.min(Math.max(i,v),m),r=()=>o("page",n(a.page-1,1,t.value)),c=()=>o("page",n(a.page+1,1,t.value)),_=i=>o("page",n(i,1,t.value));return(i,v)=>(u(),y("ul",null,[d("li",{class:V({active:i.page===1}),onClick:v[0]||(v[0]=m=>_(1))},cs,2),t.value>2?(u(),y("li",{key:0,onClick:r},ds)):A("",!0),(u(!0),y(X,null,se(s.value,m=>(u(),y("li",{key:m,class:V({active:m===i.page}),onClick:h=>_(m)},[d("button",null,T(m),1)],10,_s))),128)),t.value>2?(u(),y("li",{key:1,onClick:c},ms)):A("",!0),t.value>1?(u(),y("li",{key:2,class:V({active:i.page===t.value}),onClick:v[1]||(v[1]=m=>_(t.value))},[d("button",null,T(t.value),1)],2)):A("",!0)]))}});const tt=S(ps,[["__scopeId","data-v-6ab859e6"]]),hs=a=>(_e("data-v-8e55132f"),a=a(),ve(),a),fs={class:"select"},gs={class:"item"},bs={key:0,class:"label"},ys=["onClick"],$s=hs(()=>d("div",{class:"chevrons"},[d("i",{class:"fas fa-chevron-up"}),d("i",{class:"fas fa-chevron-down"})],-1)),Cs=w({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(a,{emit:e}){const o=e;return(t,s)=>(u(),y("div",{class:"select-container",tabindex:"0",onClick:s[0]||(s[0]=ue(n=>o("open"),["stop"])),onBlur:s[1]||(s[1]=n=>o("close"))},[d("div",fs,[d("div",{class:V(["selected",{open:t.open}])},[j(t.$slots,"item",{item:t.selected},()=>[d("div",gs,T(t.selected),1)],!0),t.label?(u(),y("div",bs,T(t.label),1)):A("",!0)],2),d("div",{class:V(["items",{selectHide:!t.open}])},[(u(!0),y(X,null,se(t.options,(n,r)=>(u(),y("div",{key:r,onClick:c=>o("input",n)},[j(t.$slots,"item",{item:n},()=>[G(T(n),1)],!0)],8,ys))),128))],2)]),$s],32))}});const at=S(Cs,[["__scopeId","data-v-8e55132f"]]),ws={class:"item"},ks={class:"label"},ut="locale",Ss=w({__name:"SelectLanguage",props:{locales:{default:()=>Ts},direction:{default:"up"}},setup(a){const{t:e}=E(),{locale:o}=E({useScope:"global"}),t=O("en"),s=O(!1);W(()=>{const c=localStorage.getItem(ut);c&&a.locales.some(_=>_===c)&&r(c)});const n=()=>{s.value=!s.value},r=c=>{t.value=c,o.value=t.value,localStorage.setItem(ut,t.value)};return(c,_)=>(u(),C(l(at),{class:V(["select",{"direction-up":c.direction==="up"}]),options:c.locales.map(i=>i),selected:t.value,open:s.value,onOpen:n,onClose:_[0]||(_[0]=i=>s.value=!1),onInput:r},{item:$(i=>[d("div",ws,[d("div",ks,T(l(e)(i.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function dt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:o=>{const{normalize:t}=o;return t(["English"])},zh:o=>{const{normalize:t}=o;return t(["中文"])},fr:o=>{const{normalize:t}=o;return t(["Français"])}}})}typeof dt=="function"&&dt(Ss);const Ts=["en","zh","fr"];var te=(a=>(a.Ascending="Ascending",a.Descending="Descending",a))(te||{});const Ds={},Gt=a=>(_e("data-v-ad2adcec"),a=a(),ve(),a),Is={class:"lds-ripple"},Ps=Gt(()=>d("div",null,null,-1)),As=Gt(()=>d("div",null,null,-1)),zs=[Ps,As];function xs(a,e){return u(),y("div",Is,zs)}const Qt=S(Ds,[["render",xs],["__scopeId","data-v-ad2adcec"]]),he=w({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(a){return(e,o)=>j(e.$slots,"default")}}),Os={class:"tab-view"},Ls={class:"tab-headers"},Ms=["onClick"],Rs={class:"tabs"},Vs=w({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(a,{emit:e}){const o=e,t=O(null),s=Ut(),n=k(()=>s!=null&&s.default?s.default():[]);L(()=>a.active,c=>{t.value=c,o("tab",{tab:n.value[c],index:t.value})},{immediate:!0});const r=(c,_)=>{c.props.disabled||(t.value=_,o("tab",{tab:n.value[_],index:t.value}))};return(c,_)=>(u(),y("div",Os,[d("ul",Ls,[(u(!0),y(X,null,se(n.value,(i,v)=>(u(),y("li",{key:v,class:V(["tab-header",{active:t.value===v,disabled:i.props.disabled}]),onClick:m=>r(i,v)},T(i.props.header),11,Ms))),128))]),d("div",Rs,[(u(!0),y(X,null,se(n.value,(i,v)=>Va((u(),y("div",{key:v,class:"tab"},[(u(),C(Ke(i)))])),[[Ba,t.value===v]])),128))])]))}});const Jt=S(Vs,[["__scopeId","data-v-4a99a489"]]),Bs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",Es={key:1,src:Bs},Ws=w({__name:"Tooltip",props:{icon:{default:""}},setup(a){const e=O(!1);return(o,t)=>(u(),C(l(Ea),{class:"tooltip",show:e.value},{content:$(()=>[j(o.$slots,"default",{},void 0,!0)]),default:$(()=>[d("div",{onMouseover:t[0]||(t[0]=s=>e.value=!0),onMouseleave:t[1]||(t[1]=s=>e.value=!1)},[j(o.$slots,"item",{},()=>[o.icon?(u(),y("i",{key:0,class:V(o.icon)},null,2)):(u(),y("img",Es))],!0)],32)]),_:3},8,["show"]))}});const Re=S(Ws,[["__scopeId","data-v-2158cb4b"]]);function q(a,e){const o=O(!1),t=O(e);return{loading:o,data:t,loadData:()=>(o.value=!0,oo(async()=>{t.value=await a(),o.value=!1}))}}const Ns={class:"legend"},Fs=["onClick"],Hs={class:"label"},Us=w({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(a,{emit:e}){const o=e,t=s=>a.colors[s];return(s,n)=>(u(),y("div",Ns,[(u(!0),y(X,null,se(s.items,(r,c)=>(u(),y("div",{key:r,class:V(["item",{clickable:s.clickable,disabled:s.disabled.includes(r)}]),onClick:_=>{s.clickable&&o("click",r)}},[d("div",{class:"color",style:ce({"background-color":t(c)})},null,4),d("div",Hs,T(r),1)],10,Fs))),128))]))}});const qs=S(Us,[["__scopeId","data-v-b0a9ca48"]]);function qe(a){return(a==null?void 0:a.children)!==void 0}function _t(a){return(a==null?void 0:a.to)!==void 0}const js={key:0},Gs={class:"nav-link-container"},Qs={class:"nav-link-container"},Js={class:"left"},Ks={class:"right"},Ys=w({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(a,{emit:e}){const o=e,t=Pe(),s=O(!0),n=k(()=>_t(a.item)?[a.item]:qe(a.item)?a.item.children:[]),r=()=>{qe(a.item)&&a.item.children.filter(i=>Qe(i.to,t)).length>0&&(s.value=!0)};L(()=>a.item,()=>{r()},{immediate:!0}),L(()=>t.fullPath,()=>{r()},{immediate:!0});const c=()=>{s.value=!s.value};return(_,i)=>{const v=Se("router-link");return u(),y(X,null,[l(qe)(_.item)?(u(),y("li",js,[d("a",{class:"nav-link node",onClick:c},[d("div",Gs,[G(T(_.item.label)+" ",1),d("i",{class:V(["expander fas fa-chevron-up",{expanded:s.value}])},null,2)])])])):A("",!0),f(l(Ye),{class:"items",expanded:s.value},{default:$(()=>[d("ul",null,[(u(!0),y(X,null,se(n.value,m=>(u(),y("li",{key:m.label},[l(_t)(m)?(u(),C(v,{key:0,to:m.to,class:V(["nav-link leaf",{"router-link-active":l(Qe)(m.to,l(t))}]),onClick:i[0]||(i[0]=h=>o("navigated"))},{default:$(()=>[d("div",Qs,[d("div",Js,T(m.label),1),d("div",Ks,[m.tag==="beta"?(u(),C(l(bo),{key:0,label:"BETA"})):A("",!0)])])]),_:2},1032,["to","class"])):A("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const Xs=S(Ys,[["__scopeId","data-v-d8ba8816"]]),Zs=w({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(a,{emit:e}){const o=e,t=Pe(),s=k(()=>a.pages.find(r=>Qe(r.titleRoute,t))),n=k(()=>{var r;return((r=s.value)==null?void 0:r.menuItems)??[]});return(r,c)=>(u(),y("nav",null,[(u(!0),y(X,null,se(n.value,_=>(u(),y("ul",{key:_.label},[f(Xs,{item:_,onNavigated:c[0]||(c[0]=i=>o("navigated"))},null,8,["item"])]))),128))]))}});const el=S(Zs,[["__scopeId","data-v-59493144"]]),tl="/assets/prisma-b38af1f3.png",al="/assets/hat-80c6c9b1.png";const ol={},Kt=a=>(_e("data-v-f01d266e"),a=a(),ve(),a),sl={class:"logo"},ll=Kt(()=>d("div",{class:"visual"},[d("img",{src:tl}),d("img",{src:al})],-1)),nl=Kt(()=>d("span",null,"prisma.monitor",-1)),rl=[ll,nl];function il(a,e){return u(),y("div",sl,rl)}const cl=S(ol,[["render",il],["__scopeId","data-v-f01d266e"]]),ul={class:"header"},dl={class:"buttons"},_l=w({__name:"Header",emits:["toggle-expansion","navigated"],setup(a,{emit:e}){const o=e;return(t,s)=>{const n=Se("router-link");return u(),y("div",ul,[f(n,{class:"logo",to:"/",onClick:s[0]||(s[0]=r=>o("navigated"))},{default:$(()=>[f(cl,{class:"logo"})]),_:1}),d("div",dl,[f(l(fe),{icon:"fas fa-bars",onClick:s[1]||(s[1]=r=>o("toggle-expansion"))})])])}}});const vl=S(_l,[["__scopeId","data-v-a5771fce"]]),ye={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"};ye.blue,ye.yellow,ye.green,ye.red,ye.purple;const $e={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"};$e.blue,$e.yellow,$e.green,$e.red,$e.purple;const Ce={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"};Ce.blue,Ce.yellow,Ce.green,Ce.red,Ce.purple;function vt(a){return a==="chad"?Ce:a==="light"?$e:ye}const Y=Ie({id:"settingsStore",state:()=>({theme:"light"})}),ml={class:"theme"},pl={class:"label"},hl={class:"colors"},fl=w({__name:"SelectTheme",setup(a){const e=[{id:"dark",colors:vt("dark")},{id:"light",colors:vt("light")}],o=Y(),t=O(e[0]),s=O(!1);W(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)").matches,_=localStorage.getItem("theme");if(!_&&c)r(e.find(i=>i.id==="dark"));else{const i=e.find(v=>v.id===_)??e.find(v=>v.id==="light")??e[0];r(i)}});const n=()=>{s.value=!s.value},r=c=>{t.value=c,window.document.documentElement.setAttribute("data-theme",t.value.id),o.theme=t.value.id,localStorage.setItem("theme",t.value.id)};return(c,_)=>(u(),C(l(at),{class:"select direction-up",options:e.map(i=>i),selected:t.value,open:s.value,onOpen:n,onClose:_[0]||(_[0]=i=>s.value=!1),onInput:r},{item:$(i=>[d("div",ml,[d("div",pl,T(i.item.id),1),d("div",hl,[d("div",{class:"color",style:ce({"background-color":i.item.colors.backgroundColor})},null,4),d("div",{class:"color",style:ce({"background-color":i.item.colors.level1})},null,4),d("div",{class:"color",style:ce({"background-color":i.item.colors.level2})},null,4),d("div",{class:"color",style:ce({"background-color":i.item.colors.blue})},null,4),d("div",{class:"color",style:ce({"background-color":i.item.colors.yellow})},null,4),d("div",{class:"color",style:ce({"background-color":i.item.colors.green})},null,4),d("div",{class:"color",style:ce({"background-color":i.item.colors.red})},null,4),d("div",{class:"color",style:ce({"background-color":i.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const gl=S(fl,[["__scopeId","data-v-12a81df3"]]),bl={class:"bottom"},yl={class:"buttons"},$l={href:"https://twitter.com/0xAlunara",target:"_blank"},Cl={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},wl={class:"selectors"},kl=w({__name:"Bottom",emits:["navigated"],setup(a,{emit:e}){const o=e,t=async()=>{await navigator.clipboard.writeText(window.location.href)};return(s,n)=>{const r=Se("router-link");return u(),y("div",bl,[d("div",yl,[f(l(fe),{class:"copy",icon:"fas fa-link",onClick:t}),d("a",$l,[f(l(fe),{icon:"fab fa-twitter"})]),d("a",Cl,[f(l(fe),{icon:"fab fa-github"})]),f(r,{to:"/code"},{default:$(()=>[f(l(fe),{icon:"fas fa-code",onClick:n[0]||(n[0]=c=>o("navigated"))})]),_:1})]),d("div",wl,[f(gl,{class:"themes"})])])}}});const Sl=S(kl,[["__scopeId","data-v-949dc793"]]),ot=Ie({id:"pageStore",state:()=>({pages:[]})}),Tl=w({__name:"Navigation",emits:["navigated"],setup(a,{emit:e}){const o=e,t=ot(),s=O(!1),n=()=>{s.value=!1,o("navigated")};return(r,c)=>(u(),y("div",{class:V(["menu-desktop",{expanded:s.value}])},[f(vl,{onToggleExpansion:c[0]||(c[0]=_=>s.value=!s.value),onNavigated:n}),f(l(Ye),{class:"menu-content",expanded:s.value},{default:$(()=>[f(l(el),{pages:l(t).pages,onNavigated:n},null,8,["pages"]),f(Sl,{onNavigated:n})]),_:1},8,["expanded"])],2))}});const Dl=S(Tl,[["__scopeId","data-v-07323d4e"]]),Ee=Ie({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),Il={class:"root"},Pl={class:"main"},Al={class:"content"},zl=w({__name:"App",setup(a){const e=Ee(),o=Pe(),t=Be();L(()=>o.fullPath,n=>{["/pool","/mkusd","/redemptions"].some(c=>n.startsWith(c))&&(e.show=!1)});const s=async n=>{n.pathName&&await t.push({name:n.pathName})};return(n,r)=>{const c=Se("notifications"),_=Se("router-view");return u(),y("div",Il,[f(c,{width:600,duration:-1}),f(Dl,{class:"navigation"}),d("main",Pl,[f(lt,{name:"fade",mode:"out-in"},{default:$(()=>[l(e).show?(u(),C(l(ro),{key:0,class:"breadcrumb",crumbs:l(e).crumbs,onCrumb:s},null,8,["crumbs"])):A("",!0)]),_:1}),d("div",Al,[f(_,null,{default:$(({Component:i})=>[f(lt,{name:"fade",mode:"out-in"},{default:$(()=>[(u(),C(Ke(i)))]),_:2},1024)]),_:1})])])])}}});const xl=S(zl,[["__scopeId","data-v-84d39ce5"]]),Ol="/assets/404-3a4df870.png",Ll=a=>(_e("data-v-c157f3ee"),a=a(),ve(),a),Ml={class:"not-found"},Rl={class:"not-found-container"},Vl=Ll(()=>d("img",{src:Ol},null,-1)),Yt=w({__name:"NotFound",setup(a){const{t:e}=E();return(o,t)=>(u(),y("div",Ml,[d("div",Rl,[f(l(oe),null,{default:$(()=>[G(T(l(e)("404")),1)]),_:1}),Vl])]))}});function mt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:o=>{const{normalize:t}=o;return t(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof mt=="function"&&mt(Yt);const Bl=S(Yt,[["__scopeId","data-v-c157f3ee"]]),El={class:"contracts"},Wl={class:"row"},Nl=["href"],Fl=["href"],Xt=w({__name:"Code",setup(a){const{t:e}=E(),t=[{name:"Llama Airforce",contracts:[{contract:Ka,description:"multisig",gnosis:!0},{contract:Ya,description:"treasury",gnosis:!0},{contract:Xa,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]}],s=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}],n=r=>{switch(r.network){case"arbitrum":return r.gnosis?`https://app.safe.global/arb1:${r.contract}`:`https://arbiscan.io/address/${r.contract}`;case"ethereum":default:return r.gnosis?`https://app.safe.global/eth:${r.contract}`:`https://etherscan.io/address/${r.contract}`}};return(r,c)=>(u(),y("div",El,[d("div",Wl,[f(l(de),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:s,columns:[l(e)("repository"),l(e)("description")]},{"header-title":$(()=>[d("div",null,T(l(e)("repositories")),1)]),row:$(_=>[d("div",null,[d("a",{href:_.item.url,target:"_blank"},T(_.item.name),9,Nl)]),d("div",null,T(l(e)(_.item.description)),1)]),_:1},8,["columns"])]),(u(),y(X,null,se(t,(_,i)=>f(l(de),{key:i,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:_.contracts,columns:[l(e)("contract"),l(e)("description")]},{"header-title":$(()=>[d("div",null,T(l(e)(_.name)),1)]),row:$(v=>[d("div",null,[d("a",{href:n(v.item),target:"_blank"},T(v.item.contract),9,Fl)]),d("div",null,T(l(e)(v.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function pt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:o=>{const{normalize:t}=o;return t(["Repositories"])},repository:o=>{const{normalize:t}=o;return t(["Repository"])},description:o=>{const{normalize:t}=o;return t(["Description"])},contract:o=>{const{normalize:t}=o;return t(["Contract"])},other:o=>{const{normalize:t}=o;return t(["Other"])},"repo-laf":o=>{const{normalize:t}=o;return t(["This website's front-end, excluding the Union"])},multisig:o=>{const{normalize:t}=o;return t(["Multisig"])},treasury:o=>{const{normalize:t}=o;return t(["Treasury"])},"treasury-arbitrum":o=>{const{normalize:t}=o;return t(["Treasury Arbitrum"])}}})}typeof pt=="function"&&pt(Xt);const Hl=S(Xt,[["__scopeId","data-v-ed0a11dc"]]);function Ul(){const a=ot(),e=[{path:"/code",component:Hl},...a.pages.flatMap(t=>t.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:Bl}];return Wa({history:Na(),routes:e})}const ql=a=>({chart:{id:"chart",background:"transparant",foreColor:a.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:a.colorsArray,grid:{borderColor:a.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:a.colors.level5,height:1},axisTicks:{color:a.colors.level5},title:{color:a.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:a.colors.level5},axisTicks:{color:a.colors.level5},title:{color:a.colors.level5}}});function re(a,e){const o=ql(a),t=(s,n)=>{if(typeof n=="object"){Q.mergeWith(s,n,t);return}else return s||n};return Q.mergeWith(e,o,t)}const we={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},jl=[we.blue,we.yellow,we.green,we.red,we.purple,"#ff8f33"],ke={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Gl=[ke.blue,ke.yellow,ke.green,ke.red,ke.purple];function J(a){return a==="light"?ke:we}function ne(a){return a==="light"?Gl:jl}function F(){return Za}const N="https://api.prismamonitor.com/v1";class H extends ao{async getHistoricalOpenTrovesOverview(e,o){return this.fetch(`${N}/managers/${e}/open_troves?period=${o}`)}async getHistoricalCollateralRatiosOverview(e,o){return this.fetch(`${N}/managers/${e}/collateral_ratios?period=${o}`)}async getCollateralRatioGrouped(e,o){return this.fetch(`${N}/managers/${e}/global_collateral_ratio?period=${o}`)}async getHistoricalCollateralOverview(e,o){return this.fetch(`${N}/managers/${e}/collateral?period=${o}`)}async getRatioDistributionGrouped(e){return this.fetch(`${N}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,o,t){return this.fetch(`${N}/managers/${e}/${o}/large_positions?unit=${t}`)}async getVaultCollateralRatio(e,o,t){return this.fetch(`${N}/managers/${e}/${o}/collateral_ratio?period=${t}`)}async getVaultTroveCount(e,o,t){return this.fetch(`${N}/managers/${e}/${o}/open_trove_count?period=${t}`)}async getTroveDistribution(e,o,t){return this.fetch(`${N}/managers/${e}/${o}/histograms?unit=${t}`)}async getCollateralPrices(e,o,t){return this.fetch(`${N}/collateral/${e}/${o}/prices?period=${t}`)}async getCollateralPriceImpact(e,o){return this.fetch(`${N}/collateral/${e}/${o}/impact`)}async getCollateralInfo(e,o){return this.fetch(`${N}/collateral/${e}/${o}/info`)}async getPoolTvl(e,o){return this.fetch(`${N}/pool/${e}/deposits?period=${o}`)}async getStableFlow(e,o){return this.fetch(`${N}/pool/${e}/stable_operations?period=${o}`)}async getStableDistribution(e){return this.fetch(`${N}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,o){return this.fetch(`${N}/pool/${e}/cumulative_withdrawals?period=${o}`)}async getTopStableDeposits(e,o,t){return this.fetch(`${N}/pool/${e}/top/stable_deposits?top=${o}&period=${t}`)}async getTopStableWithdrawals(e,o,t){return this.fetch(`${N}/pool/${e}/top/stable_withdrawals?top=${o}&period=${t}`)}async getPriceHistory(e,o){return this.fetch(`${N}/mkusd/${e}/history?period=${o}`)}async getPriceHistogram(e,o,t){return this.fetch(`${N}/mkusd/${e}/histogram?period=${t}&bins=${o}`)}async getLargeStableCoinHolders(e){return this.fetch(`${N}/mkusd/${e}/holders`)}async getStableCoinKPI(e){return this.fetch(`${N}/mkusd/${e}/general`)}async getCurvePoolDepth(e){return this.fetch(`${N}/mkusd/${e}/depth`)}async getRedemptions(e,o){return Ge(s=>this.fetch(`${N}/redemptions/${e}/${o}?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(n=>n.redemptions),1,100)}async getTroves(e,o,t){return Ge(n=>this.fetch(`${N}/trove/${e}/${o}/troves?items=100&page=${n}&order_by=${t}&desc=true`).then(r=>r.troves),1,100)}async getTroveSnapshots(e,o,t){return this.fetch(`${N}/trove/${e}/${o}/snapshots/${t}`)}async getTroveDetail(e,o,t){return this.fetch(`${N}/trove/${e}/${o}/${t}`)}async getTroveHistory(e,o,t){return this.fetch(`${N}/trove/${e}/${o}/history/${t}`)}async getTroveRank(e,o,t){return this.fetch(`${N}/trove/${e}/${o}/rank/${t}`)}}const Zt=w({__name:"ChartOpenTroves",setup(a){const{t:e}=E(),o=new H(F()),t=Y(),{loading:s,data:n,loadData:r}=q(()=>o.getHistoricalOpenTrovesOverview("ethereum","6m").then(m=>m.managers),[]);W(()=>void r());const c=k(()=>{const m=J(t.theme),h=ne(t.theme);return re({colors:m,colorsArray:h},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:b,dataPointIndex:p,w:g})=>{let I=0;const D=b.map((M,U)=>{const x=M[p];return I+=x,`<div><b>${g.globals.seriesNames[U]}</b>: ${x}</div>`});return D.push(`<div><b>Total</b>: ${I}</div>`),D.join("")}}})}),_=k(()=>n.value.length===0||n.value[0].data.length===0?[]:n.value[0].data.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),i=k(()=>n.value.length===0?[]:n.value.map(m=>({name:m.manager,data:m.data.map(h=>h.value)}))),v=m=>m;return(m,h)=>(u(),C(l(ie),{class:"chart",title:l(e)("title"),loading:l(s),options:c.value,series:i.value},null,8,["title","loading","options","series"]))}});function ht(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Open troves"])}}})}typeof ht=="function"&&ht(Zt);const Ql=S(Zt,[["__scopeId","data-v-17e23069"]]),Jl=(a,e)=>{const o=J(e);return{width:a.clientWidth,height:a.clientHeight,layout:{background:{type:Fa.Solid,color:o.backgroundColor},textColor:o.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:o.level4,style:Ha.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function be(a,e,o){const t=Jl(a,e),s=(n,r)=>{if(typeof r=="object"){Q.mergeWith(n,r,s);return}else return n||r};return Q.mergeWith(o,t,s)}const ea=w({__name:"ChartCollateralRatio",setup(a){const{t:e}=E(),o=new H(F());let t,s;const n=Y(),r=O(null),{loading:c,data:_,loadData:i}=q(()=>o.getCollateralRatioGrouped("ethereum","all").then(b=>b.data),[]);W(()=>{r.value&&(t=ge(r.value,v(r.value,n.theme)),s=t.addAreaSeries(m(n.theme)),h(_.value),i())}),L(()=>n.theme,b=>{r.value&&(t.applyOptions(v(r.value,b)),s.applyOptions(m(b)))}),L(_,b=>{h(b)});const v=(b,p)=>be(b,p,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),m=b=>{const p=J(b);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:me.WithSteps,lineColor:p.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},h=b=>{if(!t||!s)return;const p=Q.chain(b).map(g=>({time:g.timestamp,value:g.value*100})).uniqWith((g,I)=>g.time===I.time).orderBy(g=>g.time,"asc").value();p.length>0&&s.setData(p),t.timeScale().fitContent()};return(b,p)=>(u(),C(l(oe),{class:"chart-container",title:l(e)("title"),loading:l(c)},{default:$(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ft(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Global collateral ratio"])}}})}typeof ft=="function"&&ft(ea);const Kl=S(ea,[["__scopeId","data-v-f7711ac1"]]),ta=w({__name:"ChartRatioDeciles",setup(a){const{t:e}=E(),o=new H(F()),t=Y(),{loading:s,data:n,loadData:r}=q(()=>o.getRatioDistributionGrouped("ethereum").then(h=>h.deciles),[]);W(()=>void r());const c=k(()=>{const h=J(t.theme),b=ne(t.theme);return re({colors:h,colorsArray:b},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:m}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=k(()=>n.value.map(h=>h.label)),i=k(()=>[{name:e("debt"),data:Object.values(n.value).map(h=>h.data)}]),v=h=>h,m=h=>`$${ae(h,0,"dollar")}${ee(h,"dollar")}`;return(h,b)=>(u(),C(l(ie),{class:"chart",title:l(e)("title"),loading:l(s),options:c.value,series:i.value},null,8,["title","loading","options","series"]))}});function gt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Debt per Collateral Ratio Deciles"])},debt:o=>{const{normalize:t}=o;return t(["Debt"])}}})}typeof gt=="function"&&gt(ta);const Yl=S(ta,[["__scopeId","data-v-148e81ae"]]),aa=w({__name:"ChartGlobalCollateral",setup(a){const{t:e}=E(),o=new H(F()),t=Y(),{loading:s,data:n,loadData:r}=q(()=>o.getHistoricalCollateralOverview("ethereum","6m").then(h=>h.managers),[]);W(()=>void r());const c=k(()=>{const h=J(t.theme),b=ne(t.theme);return re({colors:h,colorsArray:b},{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:m}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),_=k(()=>n.value.length===0||n.value[0].data.length===0?[]:n.value[0].data.map(h=>new Date(h.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),i=k(()=>n.value.length===0?[]:n.value.map(h=>({name:h.manager,data:h.data.map(b=>b.value)}))),v=h=>h,m=h=>`$${ae(h,1,"dollar")}${ee(h,"dollar")}`;return(h,b)=>(u(),C(l(ie),{class:"chart",title:l(e)("title"),loading:l(s),options:c.value,series:i.value},null,8,["title","loading","options","series"]))}});function bt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Collateral value"])}}})}typeof bt=="function"&&bt(aa);const Xl=S(aa,[["__scopeId","data-v-91cb0ff3"]]);function Ve(a){return a==="all"?"":`icons/tokens/${(o=>{switch(o){case"cbETH":return"cbeth.webp";case"wstETH":return"steth.webp";case"rETH":return"reth.webp";case"sfrxETH":return"frxeth.webp";default:return""}})(a)}`}const oa=class De{constructor(e){this.url=e,this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={},this.channelSubscriptionParsers={},this.reconnectDelay=1e3,this.maxReconnectDelay=3e4,this.reconnectMultiplier=2,this.connect()}static getInstance(e){return De.instances[e]||(De.instances[e]=new De(e)),De.instances[e]}connect(){this.ws||(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.processMessageQueue(),this.reconnectDelay=1e3},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>{this.connect(),this.reconnectDelay*=this.reconnectMultiplier,this.reconnectDelay>this.maxReconnectDelay&&(this.reconnectDelay=this.maxReconnectDelay)},this.reconnectDelay)},this.ws.onmessage=e=>{var r;const o=JSON.parse(e.data),t=this.channelSubscriptionParsers[o.channel],s=t?t(e.data):"",n=(r=this.listeners[o.channel])==null?void 0:r[s];n==null||n(e.data)})}registerListener(e,o,t,s){this.listeners[e]||(this.listeners[e]={}),this.listeners[e][o]=s,this.channelSubscriptionParsers[e]=t;const n=this.messageQueue.filter(r=>JSON.parse(r).channel===e);n.forEach(s),this.messageQueue=this.messageQueue.filter(r=>!n.includes(r))}send(e){var o;((o=this.ws)==null?void 0:o.readyState)===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length;)this.send(this.messageQueue.shift()??"")}closeConnection(){var e;this.shouldReconnect=!1,(e=this.ws)==null||e.close()}getConnection(){return this.ws}};oa.instances={};let Zl=oa;var Je=(a=>(a.subscribe="subscribe",a.unsubscribe="unsubscribe",a.snapshots="snapshots",a))(Je||{});const en="wss://api.prismamonitor.com/v1/prisma/ws",je="troves_overview";class We{constructor(e){this.chain=e,this.currentData=O([]),this.parseSubscriptionFromMessage=o=>JSON.parse(o).subscription.chain,this.wsManager=Zl.getInstance(en),this.wsManager.registerListener(je,e,this.parseSubscriptionFromMessage,o=>{try{const t=JSON.parse(o);t.subscription.chain===this.chain&&(this.currentData.value=t.payload)}catch(t){console.error("Error parsing WebSocket message:",t,"Raw data:",o)}}),this.requestSnapshots(),this.subscribeToUpdates()}getCurrentData(){return this.currentData.value}requestSnapshots(){const e={action:Je.snapshots,channel:je,settings:[{chain:this.chain}]};this.send(e)}subscribeToUpdates(){const e={action:Je.subscribe,channel:je,settings:[{chain:this.chain}]};this.send(e)}send(e){this.wsManager.send(JSON.stringify(e))}}const ze=a=>(_e("data-v-55362754"),a=a(),ve(),a),tn=["src"],an={class:"number"},on={class:"number"},sn={class:"number"},ln={class:"number"},nn={class:"number"},rn={class:"number"},cn=ze(()=>d("div",null,null,-1)),un=ze(()=>d("div",null,null,-1)),dn={class:"number"},_n={class:"number"},vn=ze(()=>d("div",null,null,-1)),mn=ze(()=>d("div",null,null,-1)),pn={class:"number"},hn=ze(()=>d("div",null,null,-1)),sa=w({__name:"TableVaults",setup(a){const{t:e}=E(),o=new We("ethereum"),t=O(!0),s=O(""),n=O([]),r=k(()=>Q.chain(n.value).filter(c=>{const _=s.value.toLocaleLowerCase().split(" "),i=v=>_.some(m=>v.toLocaleLowerCase().includes(m));return i(c.name)||i(c.address)}).value());return L(o.currentData,c=>{t.value=!0,n.value=c,t.value=!1}),W(()=>{t.value=!0,n.value=o.currentData.value,t.value=!1}),(c,_)=>(u(),C(l(de),{class:"datatable-vaults","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"vaults-columns-data",loading:t.value,rows:r.value,columns:["","Name","TVL","Debt","CR","MCR","Troves","Price"]},{"header-title":$(()=>[d("div",null,T(l(e)("title")),1),f(l(Ae),{modelValue:s.value,"onUpdate:modelValue":_[0]||(_[0]=i=>s.value=i),class:"search",search:!0,placeholder:l(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:$(i=>[d("img",{src:l(Ve)(i.item.name)},null,8,tn),d("div",null,T(i.item.name),1),d("div",an,[f(l(B),{value:i.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",on,[f(l(B),{value:i.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",sn,[f(l(B),{value:i.item.cr*100,precision:2,type:"percentage"},null,8,["value"])]),d("div",ln,[f(l(B),{value:i.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])]),d("div",nn,T(i.item.open_troves),1),d("div",rn,"$"+T(Math.round(i.item.price)),1)]),"row-aggregation":$(()=>[cn,un,d("div",dn,[f(l(B),{value:r.value.reduce((i,v)=>i+v.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",_n,[f(l(B),{value:r.value.reduce((i,v)=>i+v.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),vn,mn,d("div",pn,[f(l(B),{value:r.value.reduce((i,v)=>i+v.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),hn]),"row-details":$(()=>[G("   ")]),_:1},8,["loading","rows"]))}});function yt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Vaults"])},"search-placeholder":o=>{const{normalize:t}=o;return t(["Search for..."])}}})}typeof yt=="function"&&yt(sa);const fn=S(sa,[["__scopeId","data-v-55362754"]]),Ne=Ie({id:"vaultStore",state:()=>({vault:null,trove:null})}),gn={class:"vaults"},bn=w({__name:"Vaults",setup(a){const e=Ee(),o=Ne(),t=Be();W(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const s=async n=>{o.vault=n,await t.push({name:"prismavault",params:{tab:"",vaultAddr:n.address}})};return(n,r)=>(u(),y("div",gn,[f(fn,{style:{"grid-column":"1 / -1"},onSelected:s}),f(Kl),f(Yl),f(Xl),f(Ql)]))}});const yn=S(bn,[["__scopeId","data-v-47785ba8"]]),la=w({__name:"ChartPoolTvl",setup(a){const{t:e}=E(),o=new H(F());let t,s;const n=Y(),r=O(null),{loading:c,data:_,loadData:i}=q(()=>o.getPoolTvl("ethereum","1m").then(p=>p.deposits),[]);W(()=>{r.value&&(t=ge(r.value,v(r.value,n.theme)),s=t.addAreaSeries(m(n.theme)),h(_.value),i())}),L(()=>n.theme,p=>{r.value&&(t.applyOptions(v(r.value,p)),s.applyOptions(m(p)))}),L(_,p=>{h(p)});const v=(p,g)=>be(p,g,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:I=>b(I)}}),m=p=>{const g=J(p);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:me.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},h=p=>{if(!t||!s)return;const g=Q.chain(p).map(I=>({time:I.timestamp,value:I.value})).uniqWith((I,D)=>I.time===D.time).orderBy(I=>I.time,"asc").value();g.length>0&&s.setData(g),t.timeScale().fitContent()},b=p=>`$${ae(p,1,"dollar")}${ee(p,"dollar")}`;return(p,g)=>(u(),C(l(oe),{class:"chart-container",title:l(e)("title"),loading:l(c)},{default:$(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function $t(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Total deposits in stability pool"])}}})}typeof $t=="function"&&$t(la);const $n=S(la,[["__scopeId","data-v-e251da43"]]),na=w({__name:"ChartStableFlow",setup(a){const{t:e}=E(),o=new H(F()),t=Y(),{loading:s,data:n,loadData:r}=q(()=>o.getStableFlow("ethereum","1m"),{deposits:[],withdrawals:[]});W(()=>void r());const c=k(()=>{const h=J(t.theme),b=ne(t.theme);return re({colors:h,colorsArray:b},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[h.green,h.red],xaxis:{categories:_.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:m}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:p,dataPointIndex:g,w:I})=>{let D=0;const M=p.map((U,x)=>{const z=U[g];return D+=z,`<div><b>${I.globals.seriesNames[x]}</b>:	${m(z)}</div>`});return M.push(`<div><b>Total</b>:	${m(D)}</div>`),M.join("")}}})}),_=k(()=>n.value.deposits.length===0?[]:n.value.deposits.map(h=>new Date(h.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),i=k(()=>[{name:e("deposits"),data:Object.values(n.value.deposits).map(h=>h.value)},{name:e("withdrawals"),data:Object.values(n.value.withdrawals).map(h=>h.value)}]),v=h=>h,m=h=>`$${ae(h,0,"dollar")}${ee(h,"dollar")}`;return(h,b)=>(u(),C(l(ie),{title:l(e)("title"),loading:l(s),options:c.value,series:i.value},null,8,["title","loading","options","series"]))}});function Ct(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["mkUSD deposits and withdrawals"])},deposits:o=>{const{normalize:t}=o;return t(["Deposits"])},withdrawals:o=>{const{normalize:t}=o;return t(["Withdrawals"])}}})}typeof Ct=="function"&&Ct(na);const Cn=S(na,[["__scopeId","data-v-c17d1a80"]]),ra=w({__name:"ChartDepositDistribution",setup(a){const{t:e}=E(),o=new H(F()),t=Y(),{loading:s,data:n,loadData:r}=q(()=>o.getStableDistribution("ethereum").then(v=>v.distribution),[]);W(()=>void r());const c=k(()=>{const v=J(t.theme),m=ne(t.theme);return re({colors:v,colorsArray:m},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:i.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=k(()=>[{name:e("numPos"),data:Object.values(n.value).map(v=>v.value)}]),i=k(()=>n.value.map(v=>v.label));return(v,m)=>(u(),C(l(ie),{title:l(e)("title"),loading:l(s),series:_.value,options:c.value},null,8,["title","loading","series","options"]))}});function wt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Distribution of current user deposits"])},numPos:o=>{const{normalize:t}=o;return t(["# of positions"])}}})}typeof wt=="function"&&wt(ra);const wn=S(ra,[["__scopeId","data-v-0286f136"]]),ia=w({__name:"ChartCumulativeWithdrawals",setup(a){const{t:e}=E(),o=new H(F());let t,s;const n=Y(),r=O(null),{loading:c,data:_,loadData:i}=q(()=>o.getCumulativeWithdrawals("ethereum","all").then(p=>p.withdrawals),[]);W(()=>{r.value&&(t=ge(r.value,v(r.value,n.theme)),s=t.addAreaSeries(m(n.theme)),h(_.value),i())}),L(()=>n.theme,p=>{r.value&&(t.applyOptions(v(r.value,p)),s.applyOptions(m(p)))}),L(_,p=>{h(p)});const v=(p,g)=>be(p,g,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:I=>b(I)}}),m=p=>{const g=J(p);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:me.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},h=p=>{if(!t||!s)return;const g=Q.chain(p).map(I=>({time:I.timestamp,value:I.value})).uniqWith((I,D)=>I.time===D.time).orderBy(I=>I.time,"asc").value();g.length>0&&s.setData(g),t.timeScale().fitContent()},b=p=>`$${ae(p,1,"dollar")}${ee(p,"dollar")}`;return(p,g)=>(u(),C(l(oe),{class:"chart-container",title:l(e)("title"),loading:l(c)},{default:$(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function kt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Cumulative value of collaterals withdrawn"])}}})}typeof kt=="function"&&kt(ia);const kn=S(ia,[["__scopeId","data-v-c87ea7d3"]]),Sn={class:"address"},Tn=["href"],Dn={class:"number"},In={class:"number"},Pn={class:"address"},An=["href"],ca=w({__name:"TableTopDeposits",setup(a){const{t:e}=E(),o=new H(F()),t=k(()=>Q.chain(n.value).map(c=>c).value()),{loading:s,data:n,loadData:r}=q(()=>o.getTopStableDeposits("ethereum",5,"7d").then(c=>c.operations),[]);return W(()=>void r()),(c,_)=>(u(),C(l(de),{class:"datatable-deposits","columns-header":"1fr","columns-data":"deposits-columns-data",loading:l(s),rows:t.value,columns:["Address","Amount","Date","Tx"]},{"header-title":$(()=>[d("div",null,T(l(e)("title")),1)]),row:$(i=>[d("div",Sn,[d("a",{href:`https://etherscan.io/address/${i.item.user}`,target:"_blank"},T(l(le)(i.item.user,8)),9,Tn)]),d("div",Dn,[f(l(B),{value:i.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",In,T(new Date(i.item.timestamp*1e3).toLocaleDateString()),1),d("div",Pn,[d("a",{href:`https://etherscan.io/tx/${i.item.hash}`,target:"_blank"},T(l(le)(i.item.hash,8)),9,An)])]),_:1},8,["loading","rows"]))}});function St(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Largest deposits past 7 days"])}}})}typeof St=="function"&&St(ca);const zn=S(ca,[["__scopeId","data-v-c62e207d"]]),xn={class:"address"},On=["href"],Ln={class:"number"},Mn={class:"number"},Rn={class:"address"},Vn=["href"],ua=w({__name:"TableTopWithdrawals",setup(a){const{t:e}=E(),o=new H(F()),t=k(()=>Q.chain(n.value).map(c=>c).value()),{loading:s,data:n,loadData:r}=q(()=>o.getTopStableWithdrawals("ethereum",5,"7d").then(c=>c.operations),[]);return W(()=>void r()),(c,_)=>(u(),C(l(de),{class:"datatable-withdrawals","columns-header":"1fr","columns-data":"withdrawals-columns-data",loading:l(s),rows:t.value,columns:["Address","Amount","Date","Tx"]},{"header-title":$(()=>[d("div",null,T(l(e)("title")),1)]),row:$(i=>[d("div",xn,[d("a",{href:`https://etherscan.io/address/${i.item.user}`,target:"_blank"},T(l(le)(i.item.user,8)),9,On)]),d("div",Ln,[f(l(B),{value:i.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",Mn,T(new Date(i.item.timestamp*1e3).toLocaleDateString()),1),d("div",Rn,[d("a",{href:`https://etherscan.io/tx/${i.item.hash}`,target:"_blank"},T(l(le)(i.item.hash,8)),9,Vn)])]),_:1},8,["loading","rows"]))}});function Tt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Largest withdrawals past 7 days"])}}})}typeof Tt=="function"&&Tt(ua);const Bn=S(ua,[["__scopeId","data-v-030921fd"]]),En={class:"pool"},Wn=w({__name:"StabilityPool",setup(a){return(e,o)=>(u(),y("div",En,[f($n),f(Cn),f(wn),f(kn),f(zn),f(Bn)]))}});const Nn=S(Wn,[["__scopeId","data-v-c433301c"]]),Fn=a=>(_e("data-v-39b2c7b0"),a=a(),ve(),a),Hn=Fn(()=>d("div",null," Price data is sourced from Curve pools only. ",-1)),da=w({__name:"ChartPrice",setup(a){const{t:e}=E(),o=new H(F());let t,s;const n=Y(),r=O(null),{loading:c,data:_,loadData:i}=q(()=>o.getPriceHistory("ethereum","1m").then(p=>p.prices),[]);W(()=>{r.value&&(t=ge(r.value,v(r.value,n.theme)),s=t.addAreaSeries(m(n.theme)),h(_.value),i())}),L(()=>n.theme,p=>{r.value&&(t.applyOptions(v(r.value,p)),s.applyOptions(m(p)))}),L(_,p=>{h(p)});const v=(p,g)=>be(p,g,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:I=>b(I)}}),m=p=>{const g=J(p);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:me.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},h=p=>{if(!t||!s)return;const g=Q.chain(p).map(I=>({time:I.timestamp,value:I.value})).uniqWith((I,D)=>I.time===D.time).orderBy(I=>I.time,"asc").value();g.length>0&&s.setData(g),t.timeScale().fitContent()},b=p=>`$${ae(p,2,"dollar")}${ee(p,"dollar")}`;return(p,g)=>(u(),C(l(oe),{class:"chart-container",title:l(e)("title"),loading:l(c)},{actions:$(()=>[f(l(Re),null,{default:$(()=>[Hn]),_:1})]),default:$(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Dt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["mkUSD price (last 30 days)"])}}})}typeof Dt=="function"&&Dt(da);const Un=S(da,[["__scopeId","data-v-39b2c7b0"]]),_a=w({__name:"ChartPriceDistribution",setup(a){const{t:e}=E(),o=new H(F()),t=Y(),{loading:s,data:n,loadData:r}=q(()=>o.getPriceHistogram("ethereum",10,"all").then(v=>v.histogram),[]);W(()=>void r());const c=k(()=>{const v=J(t.theme),m=ne(t.theme);return re({colors:v,colorsArray:m},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:i.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=k(()=>[{name:e("numPos"),data:Object.values(n.value).map(v=>v.value)}]),i=k(()=>n.value.map(v=>v.label));return(v,m)=>(u(),C(l(ie),{title:l(e)("title"),loading:l(s),series:_.value,options:c.value},null,8,["title","loading","series","options"]))}});function It(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Price histogram"])},numPos:o=>{const{normalize:t}=o;return t(["# of hourly price records"])}}})}typeof It=="function"&&It(_a);const qn=S(_a,[["__scopeId","data-v-cb3982fd"]]),va=w({__name:"ChartHolders",setup(a){const{t:e}=E(),o=new H(F()),t=Y(),{loading:s,data:n,loadData:r}=q(()=>o.getLargeStableCoinHolders("ethereum").then(m=>m.holders),[]);W(()=>void r());const c=k(()=>{const m=J(t.theme),h=ne(t.theme);return re({colors:m,colorsArray:h},{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:b=>{let p=i.value[b.seriesIndex];p=p.length>10&&p.startsWith("0x")?le(p):p;const g=b.series[b.seriesIndex];return[`<div><b>${p}</b>:</div><div>${v(g)}</div>`].join("")}},labels:n.value.map(b=>b.label.length>10&&b.label.startsWith("0x")?le(b.label):b.label)})}),_=k(()=>n.value.map(m=>m.value)),i=k(()=>n.value.map(m=>m.label)),v=m=>`$${ae(Math.abs(m),1,"dollar")}${ee(m,"dollar")}`;return(m,h)=>(u(),C(l(ie),{class:"graph",title:l(e)("title"),loading:l(s),options:c.value,series:_.value},null,8,["title","loading","options","series"]))}});function Pt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Largest holders"])},numPos:o=>{const{normalize:t}=o;return t(["mkUSD balance:"])}}})}typeof Pt=="function"&&Pt(va);const jn=S(va,[["__scopeId","data-v-87a21766"]]),Gn={class:"kpis"},Qn=w({__name:"KPIs",setup(a){const e=new H(F()),{data:o,loadData:t}=q(()=>e.getStableCoinKPI("ethereum").then(s=>s.info),null);return W(()=>void t()),(s,n)=>(u(),y("div",Gn,[f(l(Z),{label:"mkUSD price","has-value":!!l(o)},{default:$(()=>[l(o)?(u(),C(l(B),{key:0,value:l(o).price,precision:4,type:"dollar"},null,8,["value"])):A("",!0)]),_:1},8,["has-value"]),f(l(Z),{label:"Total supply","has-value":!!l(o)},{default:$(()=>[l(o)?(u(),C(l(B),{key:0,value:l(o).supply,precision:2,type:"dollar"},null,8,["value"])):A("",!0)]),_:1},8,["has-value"]),f(l(Z),{label:"24h Volume (Curve)","has-value":!!l(o)},{default:$(()=>[l(o)?(u(),C(l(B),{key:0,value:l(o).volume,precision:1,type:"dollar"},null,8,["value"])):A("",!0)]),_:1},8,["has-value"]),f(l(Z),{label:"Aggregate -2% Depth (Curve)","has-value":!!l(o)},{default:$(()=>[l(o)?(u(),C(l(B),{key:0,value:l(o).depth,precision:1,type:"dollar"},null,8,["value"])):A("",!0)]),_:1},8,["has-value"])]))}});const Jn=S(Qn,[["__scopeId","data-v-b3576350"]]),ma=w({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(a){const{t:e}=E(),o=Y(),t=k(()=>{const c=J(o.theme),_=ne(o.theme);return re({colors:c,colorsArray:_},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:i=>r(i)}},yaxis:{seriesName:"amounts",labels:{formatter:i=>r(i)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:i=>r(i)}},colors:[i=>i.value===0?c.blue:c.green,i=>i.value===0?c.blue:c.red]})}),s=k(()=>{if(!a.depth)return[];const c=[...a.depth.ask.prices.map(i=>({x:i,y:0})),...a.depth.bid.prices.map((i,v)=>({x:i,y:a.depth.bid.amounts[v]}))],_=[...a.depth.ask.prices.map((i,v)=>({x:i,y:a.depth.ask.amounts[v]}))];return[{name:"Bid",data:c},{name:"Ask",data:_}]}),n=k(()=>{var _;if(!((_=a.depth)!=null&&_.tokens)||a.depth.tokens.length===0)return e("title");const c=a.depth.tokens.join(" / ");return`${e("title")} - ${c} (Curve)`}),r=c=>`$${ae(Math.abs(c),2,"dollar")}${ee(c,"dollar")}`;return(c,_)=>(u(),C(l(ie),{class:"chart",title:n.value,loading:c.loading,options:t.value,series:s.value},null,8,["title","loading","options","series"]))}});function At(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Liquidity Depth"])}}})}typeof At=="function"&&At(ma);const Kn=S(ma,[["__scopeId","data-v-defdef9f"]]),Yn=w({__name:"ChartDepthContainer",setup(a){const e=new H(F()),{loading:o,data:t,loadData:s}=q(()=>e.getCurvePoolDepth("ethereum").then(n=>n.depth),[]);return W(()=>void s()),(n,r)=>(u(!0),y(X,null,se(l(t),c=>(u(),C(Kn,{key:c.name,loading:l(o),depth:c},null,8,["loading","depth"]))),128))}});const Xn=S(Yn,[["__scopeId","data-v-f0b8731b"]]),Zn={class:"mkusd"},er=w({__name:"Stablecoin",setup(a){return(e,o)=>(u(),y("div",Zn,[f(Jn,{style:{"grid-column":"1 / -1"}}),f(Un),f(qn),f(jn),f(Xn)]))}});const tr=S(er,[["__scopeId","data-v-738142b2"]]);function Fe(a,e){const t=Math.round(a.value/1e3)-e;return t<60?`${Math.round(t)} seconds ago`:t<60*60?`${Math.round(t/60)} minutes ago`:t<60*60*24?`${Math.round(t/(60*60))} hours ago`:`${Math.round(t/(60*60*24))} days ago`}const ar={class:"redemption-details"},or={class:"kpis"},sr={class:"title"},lr=["href"],pa=w({__name:"RedemptionDetails",props:{vaultAddr:{},redemption:{}},setup(a){const{t:e}=E(),o=O(""),t=k(()=>Q.chain(a.redemption.troves_affected).filter(s=>{const n=o.value.toLocaleLowerCase().split(" ");return(c=>n.some(_=>c.toLocaleLowerCase().includes(_)))(s)}).value());return(s,n)=>(u(),C(l(oe),{title:l(e)("redemption-details")},{default:$(()=>[d("div",ar,[d("div",or,[f(l(Z),{label:l(e)("withdrawal")},{default:$(()=>[f(l(B),{value:s.redemption.attempted_debt_amount,precision:2,type:"dollar"},null,8,["value"]),G(" / "),f(l(B),{value:s.redemption.collateral_sent_to_redeemer_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),f(l(Z),{label:l(e)("fee")},{default:$(()=>[f(l(B),{value:s.redemption.collateral_fee_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),f(l(de),{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:t.value,columns:["Trove"]},{"header-title":$(()=>[d("div",sr,T(l(e)("troves-affected")),1),f(l(Ae),{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=r=>o.value=r),class:"search",search:!0,placeholder:l(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:$(r=>[d("div",{onClick:n[1]||(n[1]=ue(()=>{},["stop"]))},[d("a",{style:{"font-family":"monospace"},target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${r.item}`},T(r.item),9,lr)])]),_:1},8,["rows"])])]),_:1},8,["title"]))}});function zt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":o=>{const{normalize:t}=o;return t(["Troves affected"])},"search-placeholder":o=>{const{normalize:t}=o;return t(["Search for..."])},"redemption-details":o=>{const{normalize:t}=o;return t(["Redemption Details"])},withdrawal:o=>{const{normalize:t}=o;return t(["Attempted / Received"])},fee:o=>{const{normalize:t}=o;return t(["Fee"])}}})}typeof zt=="function"&&zt(pa);const ha=S(pa,[["__scopeId","data-v-051a73d3"]]),nr={key:0,class:"item"},rr=["src"],ir={key:1,class:"empty"},cr={class:"label"},ur=w({__name:"SelectCollateral",props:{collateral:{default:null},all:{type:Boolean,default:!1}},emits:["select-collateral"],setup(a,{emit:e}){const o=e,t=O(!1),s=[...a.all?[{collateral:"all",label:"All"}]:[],{collateral:"cbETH",label:"cbETH"},{collateral:"wstETH",label:"wstETH"},{collateral:"rETH",label:"rETH"},{collateral:"sfrxETH",label:"sfrxETH"}],n=k(()=>s.find(i=>i.collateral===a.collateral)??null);W(()=>{_(s[0])});const r=i=>i.label,c=()=>{t.value=!t.value},_=i=>{const{collateral:v}=i;o("select-collateral",v)};return(i,v)=>(u(),C(l(at),{class:"select",options:s,selected:n.value,open:t.value,onOpen:c,onClose:v[0]||(v[0]=m=>t.value=!1),onInput:_},{item:$(m=>[m.item?(u(),y("div",nr,[l(Ve)(m.item.collateral)?(u(),y("img",{key:0,src:l(Ve)(m.item.collateral)},null,8,rr)):(u(),y("div",ir)),d("div",cr,T(r(m.item)),1)])):A("",!0)]),_:1},8,["selected","open"]))}});const dr=S(ur,[["__scopeId","data-v-2bf0e714"]]),_r=["src"],vr=["href"],mr=["href"],pr={class:"number"},hr={class:"number"},fr={class:"number"},xe=15,fa=w({__name:"TableRedemptions",props:{vaults:{default:()=>[]}},setup(a){const e=new H(F()),{t:o}=E(),t=O(""),s=O("all"),n=O(1),r=O(Date.now()),c=O(null),_=O("timestamp"),i=O(te.Descending),v=k(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),m=k(()=>["icon","redeemer","tx","debt","numtroves","timestamp"]),h=k(()=>["redeemer","tx","debt","numtroves","timestamp"]),b=k(()=>Q.chain(I.value).filter(P=>{const R=t.value.toLocaleLowerCase().split(" "),K=Pa=>R.some(Aa=>Pa.toLocaleLowerCase().includes(Aa)),He=s.value==="all"?!0:s.value===P.vault.name;return K(P.redeemer)&&He}).orderBy(P=>{switch(_.value){case"redeemer":return P.redeemer;case"tx":return P.transaction;case"debt":return P.actual_debt_amount;case"numtroves":return P.troves_affected_count;case"timestamp":return P.timestamp;default:return P.timestamp}},i.value===te.Descending?"desc":"asc").value()),p=k(()=>Q.chain(b.value).drop((n.value-1)*xe).take(xe).value()),{loading:g,data:I,loadData:D}=q(()=>a.vaults.length>0?Promise.all(a.vaults.map(P=>e.getRedemptions("ethereum",P.address).then(R=>R.map(K=>({...K,vault:{name:P.name,address:P.address}}))))).then(P=>P.flat()):Promise.resolve([]),[]);W(()=>{D(),setInterval(()=>{r.value=Date.now()})});const M=P=>Fe(r,P),U=P=>{n.value=P},x=(P,R)=>{_.value=P,i.value=R},z=P=>{c.value=P};return L(()=>a.vaults,D,{immediate:!0}),L(p,P=>{P.length===0&&(n.value=Math.max(1,Math.ceil(b.value.length/xe)))}),(P,R)=>(u(),y(X,null,[f(l(de),{class:"datatable-redemptions","columns-header":"1fr 12rem minmax(auto, 25rem) auto","columns-data":"redemptions-columns-data",loading:l(g),rows:p.value,columns:v.value,sorting:!0,"sorting-columns":m.value,"sorting-columns-enabled":h.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:x,onSelected:z},{"header-title":$(()=>[d("div",null,T(l(o)("title")),1),f(dr,{class:"select-collateral",collateral:s.value,all:!0,onSelectCollateral:R[0]||(R[0]=K=>s.value=K)},null,8,["collateral"]),f(l(Ae),{modelValue:t.value,"onUpdate:modelValue":R[1]||(R[1]=K=>t.value=K),class:"search",search:!0,placeholder:l(o)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":$(()=>[f(l(tt),{class:"pagination","items-count":b.value.length,"items-per-page":xe,page:n.value,onPage:U},null,8,["items-count","page"])]),row:$(K=>[d("img",{src:l(Ve)(K.item.vault.name)},null,8,_r),d("div",null,[d("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${K.item.redeemer}`,target:"_blank",onClick:R[2]||(R[2]=ue(()=>{},["stop"]))},T(l(le)(K.item.redeemer)),9,vr)]),d("div",null,[d("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${K.item.transaction}`,target:"_blank",onClick:R[3]||(R[3]=ue(()=>{},["stop"]))},T(l(le)(K.item.transaction)),9,mr)]),d("div",pr,"$"+T(Math.round(K.item.actual_debt_amount)),1),d("div",hr,T(K.item.troves_affected_count),1),d("div",fr,T(M(K.item.timestamp)),1)]),"row-details":$(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]),f(l(Ze),{show:!!c.value,onClose:R[4]||(R[4]=K=>c.value=null)},{default:$(()=>[c.value?(u(),C(ha,{key:0,redemption:c.value,"vault-addr":c.value.vault.address},null,8,["redemption","vault-addr"])):A("",!0)]),_:1},8,["show"])],64))}});function xt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Redemptions"])},"search-placeholder":o=>{const{normalize:t}=o;return t(["Search for..."])}}})}typeof xt=="function"&&xt(fa);const gr=S(fa,[["__scopeId","data-v-083aac5e"]]),br={class:"redemptions"},yr=w({__name:"Redemptions",setup(a){const e=new We("ethereum"),o=O([]);return L(e.currentData,t=>{o.value=t}),W(()=>{o.value=e.currentData.value}),(t,s)=>(u(),y("div",br,[f(gr,{vaults:o.value},null,8,["vaults"])]))}});const $r=S(yr,[["__scopeId","data-v-7e3aa5fe"]]),Cr=w({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(a){const e=Y(),o=k(()=>{const r=J(e.theme),c=ne(e.theme);return re({colors:r,colorsArray:c},{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:_=>{let i=s.value[_.seriesIndex];i=i.length>10?le(i):i;const v=_.series[_.seriesIndex];return[`<div><b>${i}</b>:</div><div>${n(v)}</div>`].join("")}},labels:a.data.map(_=>_.label.length>10?le(_.label):_.label)})}),t=k(()=>a.data.map(r=>r.value)),s=k(()=>a.data.map(r=>r.label)),n=r=>`$${ae(Math.abs(r),1,"dollar")}${ee(r,"dollar")}`;return(r,c)=>(u(),C(l(ie),{class:"graph",options:o.value,series:t.value},null,8,["options","series"]))}});const wr=S(Cr,[["__scopeId","data-v-5e27d0e1"]]),kr={class:"actions"},ga=w({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(a){const{t:e}=E(),o=new H(F()),t=O("collateral"),{loading:s,data:n,loadData:r}=q(()=>a.vault?o.getLargeTrovePositions("ethereum",a.vault.address,t.value).then(c=>c.positions):Promise.resolve([]),[]);return L(t,r,{immediate:!0}),L(()=>a.vault,r,{immediate:!0}),(c,_)=>(u(),C(l(oe),{class:"chart-container",title:l(e)("title"),loading:l(s)},{actions:$(()=>[d("div",kr,[f(l(Me),{value:"Coll.","model-value":t.value==="collateral",onClick:_[0]||(_[0]=i=>t.value="collateral")},null,8,["model-value"]),f(l(Me),{value:"Debt","model-value":t.value==="debt",onClick:_[1]||(_[1]=i=>t.value="debt")},null,8,["model-value"])])]),default:$(()=>[f(wr,{data:l(n)},null,8,["data"])]),_:1},8,["title","loading"]))}});function Ot(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["5 Largest Troves vs Others"])}}})}typeof Ot=="function"&&Ot(ga);const Sr=S(ga,[["__scopeId","data-v-3b560130"]]),Tr=w({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(a){const e=Y(),o=k(()=>{const n=J(e.theme),r=ne(e.theme);return re({colors:n,colorsArray:r},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:s.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),t=k(()=>[{name:"# of troves",data:Object.values(a.data).map(n=>n.value)}]),s=k(()=>a.data.map(n=>n.label));return(n,r)=>(u(),C(l(ie),{class:"graph",options:o.value,series:t.value},null,8,["options","series"]))}});const Dr=S(Tr,[["__scopeId","data-v-726b6957"]]),Ir={class:"actions"},ba=w({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(a){const{t:e}=E(),o=new H(F()),{loading:t,data:s,loadData:n}=q(()=>a.vault?o.getTroveDistribution("ethereum",a.vault.address,r.value).then(c=>c.distribution):Promise.resolve([]),[]),r=O("collateral");return L(r,n,{immediate:!0}),L(()=>a.vault,n,{immediate:!0}),(c,_)=>(u(),C(l(oe),{class:"chart-container",title:l(e)("title"),loading:l(t)},{actions:$(()=>[d("div",Ir,[f(l(Me),{value:"Coll.","model-value":r.value==="collateral",onClick:_[0]||(_[0]=i=>r.value="collateral")},null,8,["model-value"]),f(l(Me),{value:"Debt","model-value":r.value==="debt",onClick:_[1]||(_[1]=i=>r.value="debt")},null,8,["model-value"])])]),default:$(()=>[f(Dr,{data:l(s)},null,8,["data"])]),_:1},8,["title","loading"]))}});function Lt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Troves Distribution"])}}})}typeof Lt=="function"&&Lt(ba);const Pr=S(ba,[["__scopeId","data-v-56b15476"]]),Ar={class:"kpis"},zr=w({__name:"VaultKPIs",props:{vault:{default:null}},setup(a){return(e,o)=>(u(),y("div",Ar,[f(l(Z),{label:"TVL","has-value":!!e.vault},{default:$(()=>[e.vault?(u(),C(l(B),{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):A("",!0)]),_:1},8,["has-value"]),f(l(Z),{label:"Debt / Debt Cap","has-value":!!e.vault},{default:$(()=>[e.vault?(u(),C(l(B),{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):A("",!0),G(" / "),e.vault?(u(),C(l(B),{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):A("",!0)]),_:1},8,["has-value"]),f(l(Z),{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:$(()=>[e.vault?(u(),C(l(B),{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):A("",!0),G(" / "),e.vault?(u(),C(l(B),{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):A("",!0)]),_:1},8,["has-value"]),f(l(Z),{label:"Interest rate","has-value":!!e.vault},{default:$(()=>[e.vault?(u(),C(l(B),{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):A("",!0)]),_:1},8,["has-value"]),f(l(Z),{label:"Troves open / total","has-value":!!e.vault},{default:$(()=>[e.vault?(u(),C(l(B),{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):A("",!0),G(" / "),e.vault?(u(),C(l(B),{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):A("",!0)]),_:1},8,["has-value"]),f(l(Z),{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:$(()=>[e.vault?(u(),C(l(B),{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):A("",!0),G(" / "),e.vault?(u(),C(l(B),{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):A("",!0)]),_:1},8,["has-value"])]))}});const xr=S(zr,[["__scopeId","data-v-12fbfe11"]]),ya=w({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(a){const{t:e}=E(),o=new H(F());let t,s;const n=Y(),r=O(null),{loading:c,data:_,loadData:i}=q(()=>a.vault?o.getVaultCollateralRatio("ethereum",a.vault.address,"1m").then(b=>b.ratio):Promise.resolve([]),[]);W(()=>{r.value&&(t=ge(r.value,v(r.value,n.theme)),s=t.addAreaSeries(m(n.theme)),h(_.value))}),L(()=>n.theme,b=>{r.value&&(t.applyOptions(v(r.value,b)),s.applyOptions(m(b)))}),L(()=>a.vault,i,{immediate:!0}),L(_,b=>{h(b)});const v=(b,p)=>be(b,p,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),m=b=>{const p=J(b);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:me.WithSteps,lineColor:p.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},h=b=>{if(!t||!s)return;const p=Q.chain(b).map(g=>({time:g.timestamp,value:g.value*100})).uniqWith((g,I)=>g.time===I.time).orderBy(g=>g.time,"asc").value();p.length>0&&s.setData(p),t.timeScale().fitContent()};return(b,p)=>(u(),C(l(oe),{class:"chart-container",title:l(e)("title"),loading:l(c)},{default:$(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Mt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Vault collateral ratio"])}}})}typeof Mt=="function"&&Mt(ya);const Or=S(ya,[["__scopeId","data-v-518d60f9"]]),$a=w({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(a){const{t:e}=E(),o=new H(F());let t,s;const n=Y(),r=O(null),{loading:c,data:_,loadData:i}=q(()=>a.vault?o.getVaultTroveCount("ethereum",a.vault.address,"1m").then(b=>b.count):Promise.resolve([]),[]);W(()=>{r.value&&(t=ge(r.value,v(r.value,n.theme)),s=t.addAreaSeries(m(n.theme)),h(_.value))}),L(()=>n.theme,b=>{r.value&&(t.applyOptions(v(r.value,b)),s.applyOptions(m(b)))}),L(()=>a.vault,i,{immediate:!0}),L(_,b=>{h(b)});const v=(b,p)=>be(b,p,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),m=b=>{const p=J(b);return{priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:me.WithSteps,lineColor:p.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},h=b=>{if(!t||!s)return;const p=Q.chain(b).map(g=>({time:g.timestamp,value:g.value})).uniqWith((g,I)=>g.time===I.time).orderBy(g=>g.time,"asc").value();p.length>0&&s.setData(p),t.timeScale().fitContent()};return(b,p)=>(u(),C(l(oe),{class:"chart-container",title:l(e)("title"),loading:l(c)},{default:$(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Rt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Number of open troves"])}}})}typeof Rt=="function"&&Rt($a);const Lr=S($a,[["__scopeId","data-v-a04a3ea9"]]),Mr={class:"vault-overview"},Rr=w({__name:"VaultOverview",props:{vault:{}},setup(a){return(e,o)=>(u(),y("div",Mr,[f(xr,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),f(Pr,{vault:e.vault},null,8,["vault"]),f(Sr,{vault:e.vault},null,8,["vault"]),f(Or,{vault:e.vault},null,8,["vault"]),f(Lr,{vault:e.vault},null,8,["vault"])]))}});const Vr=S(Rr,[["__scopeId","data-v-ad4ff57f"]]),Br={class:"actions"},Ca=w({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(a){const{t:e}=E(),o=new H(F());let t,s,n;const r=Y(),c=O(null),_={oracle:[],market:[]},{loading:i,data:v,loadData:m}=q(async()=>{if(a.vault){const D=await o.getCollateralPrices("ethereum",a.vault.collateral,"7d");return h(D.oracle,D.market)}else return Promise.resolve(_)},_);W(async()=>{c.value&&(await Ua(),t=ge(c.value,b(c.value,r.theme)),s=t.addAreaSeries(g(r.theme)),n=t.addAreaSeries(p(r.theme)),I(v.value))}),L(()=>a.vault,m,{immediate:!0}),L(()=>r.theme,D=>{c.value&&(t.applyOptions(b(c.value,D)),s.applyOptions(g(D)),n.applyOptions(p(D)))}),L(v,D=>{I(D)});const h=(D,M)=>{const U=Math.max(D[0].timestamp,M[0].timestamp),x=Math.min(D[D.length-1].timestamp,M[M.length-1].timestamp),z=D.filter(R=>R.timestamp>=U&&R.timestamp<=x),P=M.filter(R=>R.timestamp>=U&&R.timestamp<=x);return z[z.length-1].timestamp<x&&z.push({timestamp:x,value:z[z.length-1].value}),P[P.length-1].timestamp<x&&P.push({timestamp:x,value:P[P.length-1].value}),{oracle:z,market:P}},b=(D,M)=>be(D,M,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),p=D=>{const M=J(D);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:me.WithSteps,lineColor:M.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=D=>{const M=J(D);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:me.WithSteps,lineColor:M.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},I=D=>{if(!t||!s)return;const M=Q.chain(D.oracle).map(x=>({time:x.timestamp,value:x.value})).uniqWith((x,z)=>x.time===z.time).orderBy(x=>x.time,"asc").value(),U=Q.chain(D.market).map(x=>({time:x.timestamp,value:x.value})).uniqWith((x,z)=>x.time===z.time).orderBy(x=>x.time,"asc").value();U.length>0&&n.setData(U),M.length>0&&s.setData(M),t.timeScale().fitContent()};return(D,M)=>(u(),C(l(oe),{class:"chart-container",title:l(e)("title"),loading:l(i)},{actions:$(()=>[d("div",Br,[f(l(qs),{items:["Oracle","Market"],colors:l(ne)(l(r).theme)},null,8,["colors"])])]),default:$(()=>[d("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Vt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Oracle & Market price"])}}})}typeof Vt=="function"&&Vt(Ca);const Er=S(Ca,[["__scopeId","data-v-94a01709"]]),wa=w({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(a){const{t:e}=E(),o=new H(F()),t=Y(),{loading:s,data:n,loadData:r}=q(()=>a.vault?o.getCollateralPriceImpact("ethereum",a.vault.collateral).then(h=>h.impact):Promise.resolve([]),[]),c=k(()=>{const h=J(t.theme),b=ne(t.theme);return re({colors:h,colorsArray:b},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:i.value,labels:{formatter:p=>v(p)}},yaxis:{seriesName:"impact",labels:{formatter:p=>m(p)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:p=>{if(!a.vault)return"";const g=i.value[p.dataPointIndex],I=v(g*a.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${v(g)} ${a.vault.name} ($${I})</div>

          <div><b>Price impact:</b>:</div>
          <div>${m(p.series[0][p.dataPointIndex])}</div>
          `}}})}),_=k(()=>[{name:e("priceImpact"),data:Object.values(n.value).map(h=>h.impact)}]),i=k(()=>n.value.map(h=>a.vault?h.amount/a.vault.price:0)),v=h=>`${ae(Math.abs(h),1,"dollar")}${ee(h,"dollar")}`,m=h=>`${ae(h,2,"percentage")}${ee(h,"percentage")}`;return L(()=>a.vault,r,{immediate:!0}),(h,b)=>(u(),C(l(ie),{class:"chart",title:l(e)("title"),loading:l(s),options:c.value,series:_.value},null,8,["title","loading","options","series"]))}});function Bt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["On-chain Selling Price Impact"])},priceImpact:o=>{const{normalize:t}=o;return t(["Price impact"])}}})}typeof Bt=="function"&&Bt(wa);const Wr=S(wa,[["__scopeId","data-v-57657d95"]]),Nr={class:"kpis"},Fr=["href"],Hr=w({__name:"CollateralKPIs",props:{vault:{default:null}},setup(a){const e=new H(F()),{data:o,loadData:t}=q(()=>a.vault?e.getCollateralInfo("ethereum",a.vault.collateral).then(s=>s.info):Promise.resolve(null),null);return L(()=>a.vault,t,{immediate:!0}),(s,n)=>(u(),y("div",Nr,[f(l(Z),{label:"Oracle price","has-value":!!l(o)},{default:$(()=>[l(o)?(u(),C(l(B),{key:0,value:l(o).price,precision:2,type:"dollar"},null,8,["value"])):A("",!0)]),_:1},8,["has-value"]),f(l(Z),{label:"Total supply","has-value":!!l(o)},{default:$(()=>[l(o)?(u(),C(l(B),{key:0,value:l(o).supply,precision:2,type:"dollar"},null,8,["value"])):A("",!0)]),_:1},8,["has-value"]),f(l(Z),{label:"TVL","has-value":!!l(o)},{default:$(()=>[l(o)?(u(),C(l(B),{key:0,value:l(o).tvl,precision:1,type:"dollar"},null,8,["value"])):A("",!0)]),_:1},8,["has-value"]),f(l(Z),{label:"Share of the ETH LSD market","has-value":!!l(o)},{default:$(()=>[l(o)?(u(),C(l(B),{key:0,value:l(o).share,precision:1,type:"percentage"},null,8,["value"])):A("",!0)]),_:1},8,["has-value"]),f(l(Z),{label:"Full risk analysis by Prisma Risk team","has-value":!!l(o)},{default:$(()=>[l(o)?(u(),y("a",{key:0,href:l(o).risk}," Risk Report ",8,Fr)):A("",!0)]),_:1},8,["has-value"])]))}});const Ur=S(Hr,[["__scopeId","data-v-abf880e6"]]),qr={class:"collateral"},jr=w({__name:"Collateral",props:{vault:{}},setup(a){return(e,o)=>(u(),y("div",qr,[f(Ur,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),f(Er,{vault:e.vault},null,8,["vault"]),f(Wr,{vault:e.vault},null,8,["vault"])]))}});const Gr=S(jr,[["__scopeId","data-v-a7083765"]]);const Qr={},Jr={class:"liquidations"};function Kr(a,e){return u(),y("div",Jr,"TODO")}const Yr=S(Qr,[["render",Kr],["__scopeId","data-v-5225d811"]]),Xr=["href"],Zr=["href"],ei={class:"number"},ti={class:"number"},ai={class:"number"},Oe=15,ka=w({__name:"TableRedemptions",props:{vault:{default:null}},setup(a){const{t:e}=E(),o=new H(F()),t=O(""),s=O(1),n=O(Date.now()),r=O(null),c=O("timestamp"),_=O(te.Descending),i=k(()=>["Redeemer","Transaction","Debt","# Troves","Time"]),v=k(()=>["redeemer","tx","debt","numtroves","timestamp"]),m=k(()=>Q.chain(p.value).filter(x=>{const z=t.value.toLocaleLowerCase().split(" ");return(R=>z.some(K=>R.toLocaleLowerCase().includes(K)))(x.redeemer)}).orderBy(x=>{switch(c.value){case"redeemer":return x.redeemer;case"tx":return x.transaction;case"debt":return x.actual_debt_amount;case"numtroves":return x.troves_affected_count;case"timestamp":return x.timestamp;default:return x.timestamp}},_.value===te.Descending?"desc":"asc").value()),h=k(()=>Q.chain(m.value).drop((s.value-1)*Oe).take(Oe).value()),{loading:b,data:p,loadData:g}=q(()=>a.vault?o.getRedemptions("ethereum",a.vault.address):Promise.resolve([]),[]);W(()=>{g(),setInterval(()=>{n.value=Date.now()})});const I=x=>Fe(n,x),D=x=>{s.value=x},M=(x,z)=>{c.value=x,_.value=z},U=x=>{r.value=x};return L(()=>a.vault,g,{immediate:!0}),L(h,x=>{x.length===0&&(s.value=Math.max(1,Math.ceil(m.value.length/Oe)))}),(x,z)=>(u(),y(X,null,[f(l(de),{class:"datatable-redemptions","columns-header":"1fr 1fr auto","columns-data":"redemptions-columns-data",loading:l(b),rows:h.value,columns:i.value,sorting:!0,"sorting-columns":v.value,"sorting-columns-enabled":v.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:M,onSelected:U},{"header-title":$(()=>[d("div",null,T(l(e)("title")),1),f(l(Ae),{modelValue:t.value,"onUpdate:modelValue":z[0]||(z[0]=P=>t.value=P),class:"search",search:!0,placeholder:l(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":$(()=>[f(l(tt),{class:"pagination","items-count":m.value.length,"items-per-page":Oe,page:s.value,onPage:D},null,8,["items-count","page"])]),row:$(P=>[d("div",null,[d("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${P.item.redeemer}`,target:"_blank",onClick:z[1]||(z[1]=ue(()=>{},["stop"]))},T(l(le)(P.item.redeemer)),9,Xr)]),d("div",null,[d("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${P.item.transaction}`,target:"_blank",onClick:z[2]||(z[2]=ue(()=>{},["stop"]))},T(l(le)(P.item.transaction)),9,Zr)]),d("div",ei,"$"+T(Math.round(P.item.actual_debt_amount)),1),d("div",ti,T(P.item.troves_affected_count),1),d("div",ai,T(I(P.item.timestamp)),1)]),"row-details":$(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]),f(l(Ze),{show:!!r.value,onClose:z[3]||(z[3]=P=>r.value=null)},{default:$(()=>{var P;return[r.value?(u(),C(ha,{key:0,redemption:r.value,"vault-addr":((P=x.vault)==null?void 0:P.address)??""},null,8,["redemption","vault-addr"])):A("",!0)]}),_:1},8,["show"])],64))}});function Et(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Redemptions"])},"search-placeholder":o=>{const{normalize:t}=o;return t(["Search for..."])}}})}typeof Et=="function"&&Et(ka);const oi=S(ka,[["__scopeId","data-v-dce7a443"]]),si={class:"redemptions"},li=w({__name:"Redemptions",props:{vault:{}},setup(a){return(e,o)=>(u(),y("div",si,[f(oi,{vault:e.vault},null,8,["vault"])]))}});const ni=S(li,[["__scopeId","data-v-ff43effe"]]),ri=["href"],ii={class:"number"},ci={class:"number"},Le=15,Sa=w({__name:"TableTroves",props:{vault:{default:null}},setup(a){const{t:e}=E(),o=new H(F()),t=O(""),s=O("Open"),n=O(1),r=O(Date.now()),c=O("updated"),_=O(te.Descending),i=k(()=>s.value==="Open"?["Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["Owner","","","","Created At","Last Updated"]),v=k(()=>s.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","","","","created","updated"]),m=k(()=>s.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),h=k(()=>Q.chain(g.value).filter(z=>s.value===z.status).filter(z=>{const P=t.value.toLocaleLowerCase().split(" ");return(K=>P.some(He=>K.toLocaleLowerCase().includes(He)))(z.owner)}).orderBy(z=>{switch(c.value){case"owner":return z.owner;case"debt":return z.debt;case"coll":return z.collateral_usd;case"ratio":return z.collateral_ratio;case"created":return z.created_at;case"updated":return z.last_update;default:return z.last_update}},_.value===te.Descending?"desc":"asc").value()),b=k(()=>Q.chain(h.value).drop((n.value-1)*Le).take(Le).value()),{loading:p,data:g,loadData:I}=q(()=>a.vault?o.getTroves("ethereum",a.vault.address,"last_update"):Promise.resolve([]),[]);W(()=>{I(),setInterval(()=>{r.value=Date.now()})});const D=z=>Fe(r,z),M=z=>{n.value=z},U=z=>{z===0?s.value="Open":z===1?s.value="Closed":s.value="Open"},x=(z,P)=>{c.value=z,_.value=P};return L(()=>a.vault,I,{immediate:!0}),L(b,z=>{z.length===0&&(n.value=Math.max(1,Math.ceil(h.value.length/Le)))}),(z,P)=>(u(),C(l(de),{class:"datatable-troves","columns-header":"1fr 1fr","columns-data":"troves-columns-data",loading:l(p),rows:b.value,columns:i.value,sorting:!0,"sorting-columns":v.value,"sorting-columns-enabled":m.value,"sorting-default-column":"updated","sorting-default-dir":"Descending",onSortColumn:x},{"header-title":$(()=>[f(l(Jt),{class:"types",onTab:P[0]||(P[0]=R=>U(R.index))},{default:$(()=>[f(l(he),{header:"Open"}),f(l(he),{header:"Closed"})]),_:1}),f(l(Ae),{modelValue:t.value,"onUpdate:modelValue":P[1]||(P[1]=R=>t.value=R),class:"search",search:!0,placeholder:l(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":$(()=>[f(l(tt),{class:"pagination","items-count":h.value.length,"items-per-page":Le,page:n.value,onPage:M},null,8,["items-count","page"])]),row:$(R=>[d("div",{onClick:P[2]||(P[2]=ue(()=>{},["stop"]))},[d("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${R.item.owner}`,target:"_blank"},T(l(le)(R.item.owner)),9,ri)]),d("div",{class:V(["number",{hide:s.value==="Closed"}])}," $"+T(Math.round(R.item.debt)),3),d("div",{class:V(["number",{hide:s.value==="Closed"}])}," $"+T(Math.round(R.item.collateral_usd)),3),d("div",{class:V(["number",{hide:s.value==="Closed"}])},[f(l(B),{value:R.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),d("div",ii,T(D(R.item.created_at)),1),d("div",ci,T(D(R.item.last_update)),1)]),"row-details":$(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]))}});function Wt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":o=>{const{normalize:t}=o;return t(["Search for..."])}}})}typeof Wt=="function"&&Wt(Sa);const ui=S(Sa,[["__scopeId","data-v-2333b5bf"]]),di={class:"troves"},_i=w({__name:"Troves",props:{vault:{}},setup(a){const e=Ne(),o=Be(),t=async s=>{e.trove=s,a.vault&&await o.push({name:"prismatrove",params:{troveAddr:s.owner,vaultAddr:a.vault.address}})};return(s,n)=>(u(),y("div",di,[f(ui,{vault:s.vault,onSelected:t},null,8,["vault"])]))}});const vi=S(_i,[["__scopeId","data-v-e65b0341"]]),mi={class:"vault-manager"},pi=w({__name:"VaultManager",setup(a){const e=new We("ethereum"),o=Pe(),t=Be(),s=Ee(),n=Ne(),r=O(0),c=k(()=>o.params.vaultAddr),_=k(()=>n.vault);return W(()=>{var v;const i=o.params.tab;i&&typeof i=="string"&&(i==="collateral"?r.value=1:i==="trove"?r.value=2:i==="liquidations"?r.value=3:i==="redemptions"&&(r.value=4)),s.show=!0,s.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((v=_.value)==null?void 0:v.name)??"?"}`}]}),L(e.currentData,i=>{const v=i.find(m=>m.address===c.value);v&&(n.vault=v)}),L(_,i=>{s.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(i==null?void 0:i.name)??"?"}`}]}),L(r,async i=>{i===0?await t.push({name:"prismavault",params:{tab:"",vaultAddr:c.value}}):i===1?await t.push({name:"prismavault",params:{tab:"collateral",vaultAddr:c.value}}):i===2?await t.push({name:"prismavault",params:{tab:"trove",vaultAddr:c.value}}):i===3?await t.push({name:"prismavault",params:{tab:"liquidations",vaultAddr:c.value}}):i===4&&await t.push({name:"prismavault",params:{tab:"redemptions",vaultAddr:c.value}})}),(i,v)=>(u(),y("div",mi,[f(l(Jt),{active:r.value,onTab:v[0]||(v[0]=m=>r.value=m.index)},{default:$(()=>[f(l(he),{header:"Overview"},{default:$(()=>[(u(),C(Te,null,[r.value===0?(u(),C(Vr,{key:0,vault:_.value},null,8,["vault"])):A("",!0)],1024))]),_:1}),f(l(he),{header:"Collateral"},{default:$(()=>[(u(),C(Te,null,[r.value===1&&_.value?(u(),C(Gr,{key:0,vault:_.value},null,8,["vault"])):A("",!0)],1024))]),_:1}),f(l(he),{header:"Troves"},{default:$(()=>[(u(),C(Te,null,[r.value===2&&_.value?(u(),C(vi,{key:0,vault:_.value},null,8,["vault"])):A("",!0)],1024))]),_:1}),f(l(he),{header:"Liquidations",disabled:!0},{default:$(()=>[(u(),C(Te,null,[r.value===3&&_.value?(u(),C(Yr,{key:0,vault:_.value},null,8,["vault"])):A("",!0)],1024))]),_:1}),f(l(he),{header:"Redemptions"},{default:$(()=>[(u(),C(Te,null,[r.value===4&&_.value?(u(),C(ni,{key:0,vault:_.value},null,8,["vault"])):A("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const hi=S(pi,[["__scopeId","data-v-e93c424a"]]),fi=a=>(_e("data-v-b0efbcdc"),a=a(),ve(),a),gi=fi(()=>d("div",null,[G(" This chart displays that amount of collateral available below different collateral ratios. "),d("br"),G(" It also displays the position of the trove relative to other troves in this vault. "),d("br"),d("br"),G(" This information is useful to estimate a trove's risk of redemption. "),d("br"),G(" Even if the trove's collateral ratio is high in the absolute, a lower ratio relative "),d("br"),G(" to other troves means a higher risk of redemption."),d("br"),d("br"),G(` As such, the lower the "risk rank" displayed, the higher the trove's risk of being redeemed. `)],-1)),Ta=w({__name:"ChartTroveRank",props:{vault:{default:null},trove:{default:null}},setup(a){const{t:e}=E(),o=new H(F()),t=Y(),s=O("Trove Relative Position"),n={rank:null,total_positions:0,ratio:null,positions:[]},{loading:r,data:c,loadData:_}=q(async()=>a.vault&&a.trove?await o.getTroveRank("ethereum",a.vault.address,a.trove.owner):Promise.resolve(n),n),i=k(()=>{var D,M;const p=J(t.theme),g=ne(t.theme),I={x:((D=c.value)==null?void 0:D.ratio)??0,borderColor:p.yellow,strokeDashArray:2,label:{borderColor:p.yellow,style:{background:p.yellow,color:"rgb(34, 34, 34)"},position:"top",offsetX:15,text:`This trove: ${b(((M=c.value)==null?void 0:M.ratio)??0,1)}`}};return re({colors:p,colorsArray:g},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!0}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},annotations:{xaxis:c.value.ratio?[I]:[]},toolbar:{show:!1},xaxis:{type:"numeric",categories:m.value,labels:{formatter:U=>b(U)}},yaxis:{seriesName:"impact",labels:{formatter:U=>h(U)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:U=>{if(!a.vault)return"";const x=m.value[U.dataPointIndex];return`
          <div><b>Collateral ratio:</b>:</div>
          <div>${U.dataPointIndex===m.value.length-1?"Over 250%":b(x)}</div>

          <div><b>Troves with lower or equal ratio:</b>:</div>
          <div>${c.value.positions[U.dataPointIndex].trove_count}</div>

          <div><b>Collateral value at lower or equal ratio:</b>:</div>
          <div>$${h(U.series[0][U.dataPointIndex])}</div>
          `}}})}),v=k(()=>[{name:e("rank"),data:Object.values(c.value.positions).map(p=>p.collateral_usd)}]),m=k(()=>c.value.positions.map(p=>p.ratio)),h=p=>`${ae(Math.abs(p),1,"dollar")}${ee(p,"dollar")}`,b=(p,g=0)=>`${ae(p,g,"percentage")}${ee(p,"percentage")}`;return L(()=>a.vault,_,{immediate:!0}),L(c,p=>{p&&typeof p.rank=="number"&&(s.value=e("title",{rank:p.rank,total_positions:p.total_positions}))},{immediate:!0}),(p,g)=>(u(),C(l(oe),{class:"chart-container",title:s.value,loading:l(r)},{actions:$(()=>[f(l(Re),null,{default:$(()=>[gi]),_:1})]),default:$(()=>[f(l(qt),{class:"chart",options:i.value,series:v.value},null,8,["options","series"])]),_:1},8,["title","loading"]))}});function Nt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t,interpolate:s,named:n}=o;return t(["Trove Relative Position (Risk rank: ",s(n("rank"))," / ",s(n("total_positions")),")"])}}})}typeof Nt=="function"&&Nt(Ta);const bi=S(Ta,[["__scopeId","data-v-b0efbcdc"]]),Da=w({__name:"ChartTroveHealth",props:{vault:{default:null},trove:{default:null}},setup(a){const{t:e}=E(),o=new H(F()),t=Y(),{loading:s,data:n,loadData:r}=q(async()=>a.vault&&a.trove?await o.getTroveSnapshots("ethereum",a.vault.address,a.trove.owner).then(h=>h.snapshots):Promise.resolve([]),[]),c=k(()=>{const m=J(t.theme),h=ne(t.theme);return re({colors:m,colorsArray:h},{chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"collateralUsd",tickAmount:4,opposite:!0,labels:{formatter:b=>i(b)},min:0,max:Math.max(...n.value.map(b=>b.collateral_usd))},{seriesName:"ratio",tickAmount:4,labels:{formatter:b=>v(b)},min:0,max:Math.max(...n.value.map(b=>b.cr??0))}],dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:b=>{const p=b.w.globals.initialSeries[0].data[b.dataPointIndex].y,g=b.w.globals.initialSeries[1].data[b.dataPointIndex]?b.w.globals.initialSeries[1].data[b.dataPointIndex].y:0;return[`<div><b>${e("ratio")}</b>:</div><div>${v(g)}</div>`,`<div><b>${e("collateralUsd")}</b>:</div><div>${i(p)}</div>`].join("")}}})}),_=k(()=>[{name:e("collateralUsd"),type:"line",data:n.value.map(m=>({x:m.timestamp*1e3,y:m.collateral_usd}))},{name:e("ratio"),type:"line",data:n.value.map(m=>({x:m.timestamp*1e3,y:m.cr??0}))}]),i=m=>`$${ae(m,1,"dollar")}${ee(m,"dollar")}`,v=m=>`${pe(m*100,2)}%`;return L(()=>a.vault,r,{immediate:!0}),(m,h)=>(u(),C(l(ie),{class:"health",title:l(e)("title"),options:c.value,series:_.value,loading:l(s)},null,8,["title","options","series","loading"]))}});function Ft(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Health"])},collateralUsd:o=>{const{normalize:t}=o;return t(["Collateral ($)"])},ratio:o=>{const{normalize:t}=o;return t(["Ratio"])}}})}typeof Ft=="function"&&Ft(Da);const yi=S(Da,[["__scopeId","data-v-639bce2b"]]),$i={class:"number"},Ci={key:1},wi={class:"number"},ki={class:"number"},Si={class:"number"},Ti={class:"number"},Di=["href"],Ii={class:"number"},Ia=w({__name:"TableTroveOps",props:{vault:{default:null},trove:{default:null}},setup(a){const{t:e}=E(),o=new H(F()),t=O(Date.now()),s=k(()=>Q.orderBy(r.value,v=>v.timestamp,"desc")),{loading:n,data:r,loadData:c}=q(()=>a.vault&&a.trove?o.getTroveSnapshots("ethereum",a.vault.address,a.trove.owner).then(v=>v.snapshots):Promise.resolve([]),[]);W(()=>{c(),setInterval(()=>{t.value=Date.now()})});const _=v=>Fe(t,v),i=v=>v.replace(/^_*(.)|_+(.)/g,(m,h,b)=>h?h.toUpperCase():" "+b.toUpperCase());return L(()=>a.vault,c,{immediate:!0}),(v,m)=>(u(),C(l(de),{class:"datatable-trove-ops","columns-header":"1fr 1fr auto","columns-data":"trove-ops-columns-data",loading:l(n),rows:s.value,columns:["Operation","Collateral","Debt","Ratio","Stake","Tx","Time"]},{"header-title":$(()=>[d("div",null,T(l(e)("title")),1)]),row:$(h=>[d("div",null,T(i(h.item.operation)),1),d("div",$i,[h.item.collateral?(u(),C(l(B),{key:0,value:h.item.collateral,precision:3,"show-symbol":!1,type:"dollar"},null,8,["value"])):A("",!0),h.item.debt?(u(),y("span",Ci," ($"+T(Math.round(h.item.debt))+") ",1)):A("",!0)]),d("div",wi,"$"+T(Math.round(h.item.debt)),1),d("div",ki,[h.item.cr?(u(),C(l(B),{key:0,value:h.item.cr*100,precision:2,type:"percentage"},null,8,["value"])):A("",!0)]),d("div",Si,[h.item.stake?(u(),C(l(B),{key:0,value:h.item.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])):A("",!0)]),d("div",Ti,[d("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${h.item.hash}`,target:"_blank",onClick:m[0]||(m[0]=ue(()=>{},["stop"]))},T(l(le)(h.item.hash)),9,Di)]),d("div",Ii,T(_(h.item.timestamp)),1)]),_:1},8,["loading","rows"]))}});function Ht(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:o=>{const{normalize:t}=o;return t(["Operations"])}}})}typeof Ht=="function"&&Ht(Ia);const Pi=S(Ia,[["__scopeId","data-v-9bc04fc6"]]),Ai={class:"trove"},zi=w({__name:"Trove",setup(a){const e=new H(F()),o=new We("ethereum"),t=Ee(),s=Ne(),n=Pe(),r=k(()=>n.params.vaultAddr),c=k(()=>s.vault),_=k(()=>s.trove);return W(async()=>{var v,m;const i=await e.getTroveDetail("ethereum",n.params.vaultAddr,n.params.troveAddr);i&&(s.trove=i),t.show=!0,t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((v=c.value)==null?void 0:v.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((m=_.value)==null?void 0:m.owner)??"?"}`}]}),L(o.currentData,i=>{const v=i.find(m=>m.address===r.value);v&&(s.vault=v)}),L(c,i=>{var v;t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(i==null?void 0:i.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((v=_.value)==null?void 0:v.owner)??"?"}`}]}),L(_,i=>{var v;t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((v=c.value)==null?void 0:v.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(i==null?void 0:i.owner)??"?"}`}]}),(i,v)=>(u(),y("div",Ai,[f(bi,{class:"graph-rank",vault:c.value,trove:_.value},null,8,["vault","trove"]),f(yi,{class:"graph-health",vault:c.value,trove:_.value},null,8,["vault","trove"]),f(Pi,{class:"table-ops",vault:c.value,trove:_.value},null,8,["vault","trove"])]))}});const xi=S(zi,[["__scopeId","data-v-96bc8cff"]]),Oi={titleRoute:"/",routes:[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:Nn},{path:"/mkusd",name:"mkusd",component:tr},{path:"/redemptions",name:"redemptions",component:$r},{path:"/vaults",name:"vaults",component:yn},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:hi},{path:"/vault/:vaultAddr/trove/:troveAddr",name:"prismatrove",component:xi}],menuItems:[{to:"/vaults",label:"Vaults"},{to:"/mkusd",label:"mkUSD"},{to:"/pool",label:"Stability pool"},{to:"/redemptions",label:"Redemptions"}]},st=qa(xl),Li=ja({legacy:!1,locale:"en",fallbackLocale:"en"});st.use(Li);const Mi=Ga();st.use(Mi);const Ri=[Oi],Vi=ot();Vi.pages=Ri;const Bi=Ul();st.use(Bi).use(Qa).use(Ja).mount("#app");
