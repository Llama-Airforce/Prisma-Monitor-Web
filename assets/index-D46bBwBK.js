const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vue3-apexcharts-BG5QeLF1.js","assets/vendor-Cet4MM0q.js"])))=>i.map(i=>d[i]);
var xn=Object.defineProperty;var Dn=(t,e,o)=>e in t?xn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var re=(t,e,o)=>Dn(t,typeof e!="symbol"?e+"":e,o);import{o as _,c as C,a as m,d as T,u as At,b as w,e as A,n as M,f as D,g as a,r as Y,h as W,t as I,w as y,i as f,T as Vn,F as z,j as ne,k as Tt,l as Qe,m as q,p as Re,q as pt,V as qn,s as Mn,v as Fe,x as It,y as Pt,z as xt,A as Q,B as Fn,C as Rn,D as bo,E as Be,G as ve,H as Dt,I as Bn,J as Ct,K as Un,L as En,M as On,N as Wn,O as Ze,P as J,Q as go,R as Kn,S as Nn,U as pe,W as B,X as Hn,Y as Gn,Z as jn,_ as Zn,$ as ze,a0 as Vt,a1 as N,a2 as O,a3 as kt,a4 as zn,a5 as Yn,a6 as Qn,a7 as ft,a8 as Jn,a9 as Xn,aa as ue,ab as se,ac as le,ad as yo,ae as es,af as ts,ag as as,ah as Ye,ai as os,aj as jt,ak as Zt,al as it,am as ns,an as Ke,ao as ss,ap as zt,aq as ls,ar as Yt,as as rs,at as is,au as cs,av as us,aw as ds,ax as ps,ay as ms,az as vs,aA as fs,aB as _s}from"./vendor-Cet4MM0q.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const r of u.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(s){if(s.ep)return;s.ep=!0;const u=o(s);fetch(s.href,u)}})();class hs{constructor(e){this.value=e}entries(){return Object.entries(this.value)}}Array.prototype.take=function(t){return this.slice(0,t)};Array.prototype.takeRight=function(t){return this.slice(-t)};Array.prototype.drop=function(t=1){return this.slice(Math.max(0,t))};Array.prototype.dropWhile=function(t){const e=this.findIndex((o,n,s)=>!t(o,n,s));return e===-1?[]:this.slice(e)};Array.prototype.zip=function(...t){return this.map((e,o)=>[e,...t.map(n=>n[o])])};Array.prototype.uniq=function(){return[...new Set(this)]};Array.prototype.uniqWith=function(t){return this.filter((e,o)=>this.findIndex(n=>t(e,n))===o)};Array.prototype.orderBy=function(t,e="asc"){const o=Array.isArray(t)?t:[t],n=Array.isArray(e)?e:[e];return[...this].sort((s,u)=>{for(let r=0;r<o.length;r++){const i=o[r],v=Array.isArray(e)?n[r]||"asc":e,p=i(s),c=i(u);if(p!==c)return(p>c?1:-1)*(v==="asc"?1:-1)}return 0})};Array.prototype.groupBy=function(t){const e=Object.groupBy(this,t);return new hs(e)};Array.prototype.sumBy=function(t){return this.reduce((e,o)=>e+t(o),0)};Array.prototype.meanBy=function(t){const e=this.sumBy(t);return this.length>0?e/this.length:0};Array.prototype.maxBy=function(t){return this.reduce((e,o)=>t(o)>t(e)?o:e)};Array.prototype.difference=function(...t){const e=new Set(t.flat());return this.filter(o=>!e.has(o))};const P=(t,e)=>{const o=t.__vccOpts||t;for(const[n,s]of e)o[n]=s;return o},bs={},gs={class:"spinner"};function ys(t,e){return _(),C("div",gs,e[0]||(e[0]=[m("div",null,null,-1),m("div",null,null,-1)]))}const wo=P(bs,[["render",ys],["__scopeId","data-v-754dcb15"]]),ws=["inert"],$s={key:0,class:"card-title"},Cs={key:1,class:"card-actions-secondary"},ks={key:2,class:"card-actions"},Ss=T({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:[Boolean,null],default:null}},setup(t){const e=At(),o=w(()=>t.title||e.title),n=w(()=>e.actions),s=w(()=>e["actions-secondary"]),u=w(()=>t.title||e.title||n.value||s.value);return(r,i)=>{const v=wo;return _(),C("div",{class:M(["card",{loading:r.loading,"loading-backdrop":r.loading!==null}]),inert:!!r.loading},[r.loading!==null?(_(),A(v,{key:0,class:M({loading:r.loading})},null,8,["class"])):D("",!0),a(u)?(_(),C("div",{key:1,class:M(["card-header",{collapsible:r.collapsible}])},[a(o)?(_(),C("div",$s,[Y(r.$slots,"title",{},()=>[r.icon?(_(),C("i",{key:0,class:M(["icon",r.icon])},null,2)):D("",!0),W(" "+I(r.title),1)],!0)])):D("",!0),a(s)?(_(),C("div",Cs,[Y(r.$slots,"actions-secondary",{},void 0,!0)])):D("",!0),a(n)?(_(),C("div",ks,[Y(r.$slots,"actions",{},void 0,!0)])):D("",!0)],2)):(_(),C("div",{key:2,class:M(["card-no-header",{compact:r.compact}])},null,2)),m("div",{class:M(["card-body",{compact:r.compact,collapsed:r.collapsed}])},[Y(r.$slots,"default",{},void 0,!0)],2)],10,ws)}}}),U=P(Ss,[["__scopeId","data-v-23e3fe3b"]]),Ls={key:0,class:"fas fa-chevron-right"},As=T({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(t,{emit:e}){const o=e,n=u=>{var i;const r=t.active?t.active.id===u.id:((i=t.crumbs.filter(v=>!v.hint).at(-1))==null?void 0:i.id)===u.id;return u.hint??r},s=u=>{var r;return((r=t.crumbs.at(-1))==null?void 0:r.id)===u.id};return(u,r)=>{const i=U;return _(),A(i,null,{default:y(()=>[f(Vn,{name:"fade",tag:"ul"},{default:y(()=>[(_(!0),C(z,null,ne(u.crumbs,v=>(_(),C("li",{key:v.id},[(_(),A(Tt(n(v)?"span":"a"),{class:M({active:n(v),hint:v.hint}),onClick:p=>o("crumb",v)},{default:y(()=>[W(I(v.label),1)]),_:2},1032,["class","onClick"])),!s(v)||u.crumbs.length===1?(_(),C("i",Ls)):D("",!0)]))),128))]),_:1})]),_:1})}}}),Ts=P(As,[["__scopeId","data-v-f3224b5d"]]),Je=Qe("breadcrumbStore",()=>{const t=q([]),e=q(!1);return{crumbs:t,show:e}}),Is={class:"root"},Ps={class:"toolbar-container"},xs={class:"content"},Ds=T({__name:"Layout",setup(t){const e=Je(),o=Re(),n=async s=>{s.pathName&&await o.push({name:s.pathName,...s.params&&{params:s.params()}})};return(s,u)=>{const r=pt("notifications"),i=Ts,v=pt("router-view");return _(),C("div",Is,[f(r,{width:600,duration:-1}),f(a(qn)),Y(s.$slots,"navigation",{},void 0,!0),m("main",null,[m("div",Ps,[a(e).show?(_(),A(i,{key:0,class:"breadcrumb",crumbs:a(e).crumbs,onCrumb:n},null,8,["crumbs"])):D("",!0),u[0]||(u[0]=m("div",{id:"toolbar",class:"toolbar-teleport"},null,-1))]),m("div",xs,[f(v,null,{default:y(({Component:p})=>[f(Mn,{name:"fade",mode:"out-in"},{default:y(()=>[(_(),A(Tt(p)))]),_:2},1024)]),_:1})])])])}}}),Vs=P(Ds,[["__scopeId","data-v-41beb257"]]),qs={class:"collapsible-inside"},Ms=T({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(t){return(e,o)=>(_(),C("div",{class:M(["collapsible-outside",{expanded:e.expanded}])},[m("div",qs,[Y(e.$slots,"default",{},void 0,!0)])],2))}}),Xe=P(Ms,[["__scopeId","data-v-adb182cc"]]),Fs={class:"badge"},Rs={class:"label"},Bs=T({__name:"Badge",props:{label:{default:""}},setup(t){return(e,o)=>(_(),C("div",Fs,[m("div",Rs,I(e.label),1)]))}}),Us=P(Bs,[["__scopeId","data-v-efe380bc"]]);function Ne(t){return!!t.children}function yt(t){return!!t.to}function Es(t){return!!t.url}function Os(t){function e(l){return l<10?"0"+l.toString():l.toString()}const o=t.getTime()-new Date().getTime();if(o<=0)return"00:00:00:00";const n=1e3,s=n*60,u=s*60,r=u*24,i=Math.floor(o/r),v=Math.floor(o%r/u),p=Math.floor(o%u/s),c=Math.floor(o%s/n);return e(i)+":"+e(v)+":"+e(p)+":"+e(c)}function Te(t,e=0,o=".",n=","){const s=isFinite(+t)?+t:0,u=isFinite(+e)?Math.abs(e):0,r=typeof n>"u"?",":n,i=typeof o>"u"?".":o,v=function(c,l){const d=Math.pow(10,l);return Math.round(c*d)/d},p=(u?v(s,u):Math.round(s)).toString().split(".");return p[0].length>3&&(p[0]=p[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(p[1]||"").length<u&&(p[1]=p[1]||"",p[1]+=new Array(u-p[1].length+1).join("0")),p.join(i)}function G(t,e){const o=Math.abs(t);return e==="percentage"?"%":e==="dollar"?o>=1*10**12?"t":o>=1*10**9?"b":o>=1*10**6?"m":o>=1*10**3?"k":"":""}function j(t,e,o){const n=Math.abs(t);return e===1/0?t.toLocaleString():o==="percentage"?Te(t,e):o==="dollar"?n>=1*10**12?Te(t/10**12,e):n>=1*10**9?Te(t/10**9,e):n>=1*10**6?Te(t/10**6,e):n>=1*10**3?Te(t/10**3,e):Te(t,e):t.toString()}function qt(t,e){const o={...t};for(const n in e)Array.isArray(e[n])?o[n]=[...e[n]]:typeof e[n]=="object"&&e[n]!==null?o[n]=qt(o[n],e[n]):o[n]=e[n];return o}async function Pe(t,e=0,o=1e3){const n=await t(e,o),s=await(n.length>=o?Pe(t,e+1,o):Promise.resolve([]));return n.concat(s)}function dt(t,e){return(Array.isArray(t)?t:[t]).some(n=>e.path.startsWith(n))}const He="0xc53baaaa8595a7a2e7fee71db7291b939f696734";class Ws extends Error{constructor(e,o){super(o),this.status=e}}async function Ks(t,e,o){try{const n=await fetch(t,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:o});if(n.ok)return n;throw new Ws(n.status,`Fetch error ${n.status} for URL: ${t}`)}catch(n){throw n instanceof Error?n:new Error("Unknown fetch error")}}async function Ns(t,e,o){return await(await Ks(t,e,o)).json()}class fe{async fetch(e,o,n){return Ns(e,o,n)}}const Hs="wss://prices.curve.fi/v1/stream/ws",Qt="pool_ohlc";class mt{constructor(e,o,n){re(this,"socket");re(this,"ohlc$");this.chain=o,this.settings=n,this.socket=e,this.ohlc$=this.socket.pipe(Fe(s=>s),It(s=>s.subscription.chain===this.chain&&s.channel===Qt&&JSON.stringify(s.subscription)===JSON.stringify(n)),Fe(s=>s.payload),Pt(1)),this.send("snapshots")}send(e){const o={action:e,channel:Qt,settings:[this.settings]};this.socket.next(o)}}const Jt="pool_volume";class Gs{constructor(e,o,n){re(this,"socket");re(this,"volume$");this.chain=o,this.settings=n,this.socket=e,this.volume$=this.socket.pipe(Fe(s=>s),It(s=>s.subscription.chain===this.chain&&s.channel===Jt&&JSON.stringify(s.subscription)===JSON.stringify(n)),Fe(s=>s.payload),Pt(1)),this.send("snapshots")}send(e){const o={action:e,channel:Jt,settings:[this.settings]};this.socket.next(o)}}const js={key:0},Zs=["href"],zs={class:"nav-link-container"},Ys={key:1},Qs={class:"nav-link-container"},Js={class:"left"},Xs={key:0,class:"icon"},el={class:"right"},tl={key:2},al={class:"nav-link-container"},ol={class:"nav-link-container"},nl={class:"left"},sl={key:0,class:"icon"},ll={class:"right"},rl=T({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(t,{emit:e}){const o=e,n=xt(),s=q(!0),u=w(()=>yt(t.item)?[t.item]:Ne(t.item)?t.item.children:[]),r=()=>{Ne(t.item)&&t.item.children.filter(c=>dt(c.to,n)).length>0&&(s.value=!0)},i=p=>typeof p.label=="string"?p.label:p.label();Q(()=>t.item,p=>{Ne(p)&&(s.value=!p.initCollapsed),r()},{immediate:!0}),Q(()=>n.fullPath,()=>{r()},{immediate:!0});const v=()=>{s.value=!s.value};return(p,c)=>{const l=Us,d=pt("router-link"),g=Xe;return _(),C(z,null,[a(Es)(p.item)?(_(),C("li",js,[m("a",{class:"nav-link root",href:p.item.url,target:"_blank"},[m("div",zs,I(p.item.label),1)],8,Zs)])):a(yt)(p.item)?(_(),C("li",Ys,[f(d,{to:p.item.to,class:M(["nav-link root",{"router-link-active":a(dt)(p.item.to,a(n))}]),onClick:c[0]||(c[0]=h=>o("navigated"))},{default:y(()=>[m("div",Qs,[m("div",Js,[p.item.icon?(_(),C("div",Xs,[m("i",{class:M(p.item.icon)},null,2)])):D("",!0),W(" "+I(i(p.item)),1)]),m("div",el,[p.item.tag?(_(),A(l,{key:0,label:p.item.tag},null,8,["label"])):D("",!0)])])]),_:1},8,["to","class"])])):a(Ne)(p.item)?(_(),C("li",tl,[m("a",{class:"nav-link root",onClick:v},[m("div",al,[W(I(p.item.label)+" ",1),m("i",{class:M(["expander fas fa-chevron-up",{expanded:a(s)}])},null,2)])])])):D("",!0),a(Ne)(p.item)?(_(),A(g,{key:3,class:"items",expanded:a(s)},{default:y(()=>[m("ul",null,[(_(!0),C(z,null,ne(a(u),h=>(_(),C("li",{key:i(h)},[a(yt)(h)?(_(),A(d,{key:0,to:h.to,class:M(["nav-link",{"router-link-active":a(dt)(h.to,a(n))}]),onClick:c[1]||(c[1]=S=>o("navigated"))},{default:y(()=>[m("div",ol,[m("div",nl,[h.icon?(_(),C("div",sl,[m("i",{class:M(h.icon)},null,2)])):D("",!0),W(" "+I(i(h)),1)]),m("div",ll,[h.tag?(_(),A(l,{key:0,label:h.tag},null,8,["label"])):D("",!0)])])]),_:2},1032,["to","class"])):D("",!0)]))),128))])]),_:1},8,["expanded"])):D("",!0)],64)}}}),il=P(rl,[["__scopeId","data-v-eb3c12a9"]]),cl=T({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(t,{emit:e}){const o=e,n=xt(),s=w(()=>t.pages.find(i=>dt(i.titleRoute,n))),u=w(()=>{var i;return((i=s.value)==null?void 0:i.menuItems)??[]}),r=i=>typeof i.label=="string"?i.label:i.label();return(i,v)=>(_(),C("nav",null,[(_(!0),C(z,null,ne(a(u),p=>(_(),C("ul",{key:r(p)},[f(il,{item:p,onNavigated:v[0]||(v[0]=c=>o("navigated"))},null,8,["item"])]))),128))]))}}),ul=P(cl,[["__scopeId","data-v-eac6628d"]]);function et(){const{address:t,isConnected:e,chainId:o}=Fn(),n=Rn(),s=w(()=>n.data.value&&t.value?t.value.toLocaleLowerCase():void 0);return{isConnected:e,chainId:o,address:s}}function H(t,e=6){if(!t)return"0x000...000";const o=e/2+2,n=t.length-e/2;return`${t.substring(0,o)}...${t.substring(n)}`}const dl=T({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},chainId:{}},emits:["click"],setup(t,{emit:e}){const o=e,{chainId:n}=et(),{switchChain:s}=bo(),u=r=>{if(r.stopImmediatePropagation(),t.chainId){if(n.value===void 0){Be({text:"Wallet not connected",type:"error"});return}n.value!==t.chainId&&s({chainId:t.chainId})}o("click")};return(r,i)=>(_(),C("button",{class:M({primary:r.primary}),onClick:u},[Y(r.$slots,"default",{},()=>[r.icon?(_(),C("i",{key:0,class:M(["icon",[r.icon,{noValue:!!r.value}]])},null,2)):D("",!0),W(" "+I(r.value),1)],!0)],2))}}),tt=P(dl,[["__scopeId","data-v-a1da525d"]]),pl="/assets/prisma-B4fv490f.png",ml="/assets/hat-D1qfnSjv.png",vl={},fl={class:"logo"};function _l(t,e){return _(),C("div",fl,e[0]||(e[0]=[m("div",{class:"visual"},[m("img",{src:pl}),m("img",{src:ml})],-1),m("span",null,"prisma.monitor",-1)]))}const hl=P(vl,[["render",_l],["__scopeId","data-v-00ee0016"]]),bl={class:"header"},gl={class:"buttons"},yl=T({__name:"Header",emits:["toggle-expansion","navigated"],setup(t,{emit:e}){const o=e;return(n,s)=>{const u=pt("router-link"),r=tt;return _(),C("div",bl,[f(u,{class:"logo",to:"/",onClick:s[0]||(s[0]=i=>o("navigated"))},{default:y(()=>[f(hl,{class:"logo"})]),_:1}),m("div",gl,[f(r,{icon:"fas fa-bars",onClick:s[1]||(s[1]=i=>o("toggle-expansion"))})])])}}}),wl=P(yl,[["__scopeId","data-v-d1763e58"]]),$l={key:0,class:"modal"},Cl={class:"modal-popup"},kl=T({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e}){const o=e,n=s=>{s.code==="Escape"&&o("close")};return ve(()=>{document.addEventListener("keydown",n)}),Dt(()=>{document.removeEventListener("keydown",n)}),Q(()=>t.show,s=>{document.body.style.overflow=s?"hidden":""}),(s,u)=>(_(),A(Bn,{to:"body"},[s.show?(_(),C("div",$l,[m("div",{class:"modal-mask",onClick:u[0]||(u[0]=r=>o("close"))}),m("div",Cl,[Y(s.$slots,"default",{},void 0,!0)])])):D("",!0)]))}}),ke=P(kl,[["__scopeId","data-v-be710a4c"]]),Sl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",Ll={key:1,src:Sl},Al=T({__name:"Tooltip",props:{icon:{default:""}},emits:["show"],setup(t,{emit:e}){const o=e,n=q(!1),s=Ct("trigger"),u=Ct("content");Q(n,c=>{o("show",c),c&&Un(()=>{p()})});let r;function i(){r&&(clearTimeout(r),r=void 0),n.value=!0}function v(){r&&clearTimeout(r),r=setTimeout(()=>{n.value=!1,r=void 0},50)}ve(()=>{p(),window.addEventListener("resize",p)}),Dt(()=>{window.removeEventListener("resize",p)});function p(){if(!s.value||!u.value)return;const c=s.value.getBoundingClientRect(),l=u.value.getBoundingClientRect(),d=14,g=d,h=window.innerHeight-l.height-d,S=Math.min(Math.max(g,c.top-l.height-d),h),k=d,b=window.innerWidth-l.width-d,$=Math.min(Math.max(k,c.left+c.width/2-l.width/2),b);u.value.style.top=`${S}px`,u.value.style.left=`${$}px`}return(c,l)=>(_(),C("div",{class:M(["tooltip",{show:a(n)}])},[m("div",{ref:"trigger",class:"trigger",onMouseover:i,onMouseleave:v,onTouchstart:i,onTouchend:v},[Y(c.$slots,"trigger",{},()=>[c.icon?(_(),C("i",{key:0,class:M(c.icon)},null,2)):(_(),C("img",Ll))],!0)],544),m("div",{ref:"content",class:"content",onMouseover:i,onMouseleave:v,onTouchstart:i,onTouchend:v},[Y(c.$slots,"default",{},void 0,!0)],544)],2))}}),at=P(Al,[["__scopeId","data-v-8c170881"]]),Tl="/assets/injected-DW80ouY-.webp",Il="/assets/rabby-CG__llS3.svg",Pl="/assets/walletconnect-BCBhrtde.webp",xl="/assets/coinbase-CsqSq8Nj.webp",Dl="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",Vl={class:"buttons"},ql={class:"connectors-body"},Ml={class:"connectors"},Fl=["src"],Rl={key:1,class:"empty"},Bl={class:"name"},Ul=T({__name:"WalletConnectButton",setup(t){const{connect:e}=En(),o=On(),n=["injected","walletConnect","coinbaseWalletSDK","safe"],s=w(()=>o.value.filter(p=>n.includes(p.id))),u=q(!1);function r(p){switch(p.id){case"injected":return Tl;case"walletConnect":return Pl;case"coinbaseWalletSDK":return xl;case"safe":return Dl;case"io.rabby":return Il;default:return""}}function i(p){return p.id==="injected"?"Browser Extension":p.name}function v(p){e({connector:p}),u.value=!1}return(p,c)=>{const l=tt,d=U,g=ke;return _(),C("div",Vl,[f(l,{class:"button",primary:!0,onClick:c[0]||(c[0]=h=>u.value=!0)},{default:y(()=>c[2]||(c[2]=[W(" Connect Wallet ")])),_:1}),D("",!0),f(g,{show:a(u),onClose:c[1]||(c[1]=h=>u.value=!1)},{default:y(()=>[f(d,null,{default:y(()=>[m("div",ql,[c[5]||(c[5]=m("div",{class:"title"},"Connect Your Wallet",-1)),m("div",Ml,[(_(!0),C(z,null,ne(a(s),h=>(_(),C("div",{key:h.id,class:"connector"},[f(l,{onClick:S=>v(h)},{default:y(()=>[r(h)?(_(),C("img",{key:0,src:r(h)},null,8,Fl)):(_(),C("div",Rl)),m("div",Bl,I(i(h)),1)]),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1},8,["show"])])}}}),El=P(Ul,[["__scopeId","data-v-42fda450"]]),Ol={class:"wallet"},Wl={key:0},Kl={key:1},Nl={key:0,class:"info"},Hl=T({__name:"Wallet",props:{labelPleaseConnect:{}},setup(t){const{disconnect:e}=Wn(),{isConnected:o,chainId:n,address:s}=et(),{switchChain:u}=bo(),r=w(()=>n.value===Ze.id),i=()=>{u({chainId:Ze.id})};return(v,p)=>{const c=tt;return _(),C("div",Ol,[a(o)?(_(),C("div",Wl,[a(r)?(_(),A(c,{key:1,class:"disconnect",icon:"fas fa-check",value:a(H)(a(s)),onClick:a(e)},null,8,["value","onClick"])):(_(),A(c,{key:0,class:"change",value:"Change Network",primary:!0,onClick:i}))])):(_(),C("div",Kl,[f(El),v.labelPleaseConnect?(_(),C("span",Nl,I(v.labelPleaseConnect),1)):D("",!0)]))])}}}),Gl=P(Hl,[["__scopeId","data-v-d0f1f352"]]),jl={class:"selected"},Zl={class:"item-wrapper"},zl={key:0,class:"label"},Yl=["onClick"],Ql=T({__name:"Select",props:{options:{},selected:{},label:{}},emits:["input"],setup(t,{emit:e}){const o=e,n=q(!1);return(s,u)=>(_(),C("div",{tabindex:"0",class:M(["select",{open:a(n)}]),onBlur:u[0]||(u[0]=r=>n.value=!1),onClick:u[1]||(u[1]=J(r=>n.value=!a(n),["stop"]))},[m("div",jl,[m("div",Zl,[Y(s.$slots,"item",{item:s.selected},()=>[W(I(s.selected),1)],!0)]),s.label?(_(),C("div",zl,I(s.label),1)):D("",!0)]),m("div",{class:M(["items",{open:a(n)}])},[(_(!0),C(z,null,ne(s.options,(r,i)=>(_(),C("div",{key:i,class:"item-wrapper",onClick:J(v=>{n.value=!1,o("input",r)},["stop"])},[Y(s.$slots,"item",{item:r},()=>[W(I(r),1)],!0)],8,Yl))),128))],2),u[2]||(u[2]=m("div",{class:"chevrons"},[m("i",{class:"fas fa-chevron-up"}),m("i",{class:"fas fa-chevron-down"})],-1))],34))}}),$o=P(Ql,[["__scopeId","data-v-946cb1bb"]]),De={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},Ve={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#794dec",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},Jl=[De.blue,De.yellow,De.green,De.red,De.purple,"#ff8f33"],Xl=[Ve.purple,Ve.yellow,Ve.green,Ve.red,Ve.blue,"#ff8f33"],qe={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Me={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#a689f2",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},er=[qe.blue,qe.yellow,qe.green,qe.red,qe.purple],tr=[Me.purple,Me.yellow,Me.green,Me.red,Me.blue];function vt(t,e){switch(t){case"light":return e==="lsd"?qe:Me;default:return e==="lsd"?De:Ve}}function ar(t,e){switch(t){case"light":return e==="lsd"?er:tr;default:return e==="lsd"?Jl:Xl}}function or(t,e){const o=vt(t,e);return e==="lsd"?{lineColor:o.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)"}:{lineColor:o.purple,topColor:"rgb(163, 91, 251, 0.2)",bottomColor:"rgba(163, 91, 251, 0)"}}const F=Qe("settingsStore",()=>{const t=q("light"),e=q("lsd"),o=w(()=>({colors:vt(t.value,e.value),colorsArray:ar(t.value,e.value),lineChartColors:or(t.value,e.value)}));return{themeId:t,flavor:e,theme:o}});function _t(t){switch(t){case"lsd":return"mkUSD";case"lrt":return"ULTRA"}}function Se(t){switch(t){case"lsd":return"https://api.prismamonitor.com/v1";case"lrt":return"https://api.ultra.prismamonitor.com/v1"}}function Xt(t){switch(t){case"lsd":return"wss://api.prismamonitor.com/v1/prisma/ws";case"lrt":return"wss://api.ultra.prismamonitor.com/v1/prisma/ws"}}function nr(t){switch(t){case"api-lsd":return Xt("lsd");case"api-lrt":return Xt("lrt");case"prices":return Hs}}function Ue(t){switch(t){case"lsd":return"api-lsd";case"lrt":return"api-lrt"}}const ye=Qe("socketStore",()=>{const t=go({sockets:{"api-lsd":null,"api-lrt":null,prices:null}});return{state:t,getSocket:o=>{if(!t.sockets[o]){const n=nr(o);t.sockets[o]=Kn(n)}return t.sockets[o]}}}),sr={class:"theme"},lr={class:"label"},rr={key:0,class:"colors"},ir="theme",cr=T({__name:"SelectTheme",setup(t){const e=F(),o=[{id:"dark",colors:vt("dark",e.flavor)},{id:"light",colors:vt("light",e.flavor)}],s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",u=Nn(ir,o.find(i=>i.id===s)??o[0],void 0,{serializer:{read:i=>o.find(v=>v.id===i)??o[0],write:i=>i.id}});ve(()=>{r(u.value)});const r=i=>{u.value=i,window.document.documentElement.setAttribute("data-theme",i.id),e.themeId=i.id};return(i,v)=>{const p=$o;return _(),A(p,{class:"direction-up",options:o.map(c=>c),selected:a(u),onInput:r},{item:y(({item:c})=>[m("div",sr,[m("div",lr,I(c.id),1),a(u)!==c?(_(),C("div",rr,[m("div",{class:"color",style:pe({"background-color":c.colors.backgroundColor})},null,4),m("div",{class:"color",style:pe({"background-color":c.colors.level1})},null,4),m("div",{class:"color",style:pe({"background-color":c.colors.level2})},null,4),m("div",{class:"color",style:pe({"background-color":c.colors.blue})},null,4),m("div",{class:"color",style:pe({"background-color":c.colors.yellow})},null,4),m("div",{class:"color",style:pe({"background-color":c.colors.green})},null,4),m("div",{class:"color",style:pe({"background-color":c.colors.red})},null,4),m("div",{class:"color",style:pe({"background-color":c.colors.purple})},null,4)])):D("",!0)])]),_:1},8,["options","selected"])}}}),ur=P(cr,[["__scopeId","data-v-45b9dafe"]]),dr={class:"bottom"},pr={class:"buttons"},mr={href:"https://twitter.com/0xAlunara",target:"_blank"},vr=T({__name:"Bottom",emits:["navigated"],setup(t,{emit:e}){const o=e,n=Re();return(s,u)=>{const r=tt;return _(),C("div",dr,[m("div",pr,[m("a",mr,[f(r,{icon:"fab fa-twitter"})]),f(r,{icon:"fas fa-code",onClick:u[0]||(u[0]=i=>{a(n).push("/code"),o("navigated")})})]),f(ur,{class:"themes"}),f(Gl)])}}}),fr=P(vr,[["__scopeId","data-v-e7971cb9"]]),Mt=()=>Qe("pageStore",()=>{const t=q([]),e=q([]);return{pages:t,routes:e}})(),_r=T({__name:"Navigation",emits:["navigated"],setup(t,{emit:e}){const o=e,n=Mt(),s=q(!1),u=()=>{s.value=!1,o("navigated")};return(r,i)=>{const v=ul,p=Xe;return _(),C("div",{class:M(["menu-desktop",{expanded:a(s)}])},[f(wl,{onToggleExpansion:i[0]||(i[0]=c=>s.value=!a(s)),onNavigated:u}),f(p,{class:"menu-content",expanded:a(s)},{default:y(()=>[f(v,{pages:a(n).pages,onNavigated:u},null,8,["pages"]),f(fr,{onNavigated:u})]),_:1},8,["expanded"])],2)}}}),hr=P(_r,[["__scopeId","data-v-24de0b36"]]),br=T({__name:"App",setup(t){const e=F(),o=Je(),n=xt();return ve(()=>{e.flavor==="lrt"&&window.document.documentElement.setAttribute("data-flavor","lrt")}),Q(()=>n.fullPath,s=>{["/pool","/stable","/redemptions","/liquidation","/profile","/wrappers","/proposals","/veprisma"].some(r=>s.startsWith(r))&&(o.show=!1)}),(s,u)=>{const r=Vs;return _(),A(r,null,{navigation:y(()=>[f(hr,{class:"navigation"})]),_:1})}}}),gr=P(br,[["__scopeId","data-v-6aa8c004"]]),yr="/assets/404-DGbqGNxT.png",wr={class:"not-found"},$r={class:"not-found-container"},Co=T({__name:"NotFound.page",setup(t){const{t:e}=B();return(o,n)=>{const s=U;return _(),C("div",wr,[m("div",$r,[f(s,null,{default:y(()=>[W(I(a(e)("404")),1)]),_:1}),n[0]||(n[0]=m("img",{src:yr},null,-1))])])}}});function ea(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:{t:0,b:{t:2,i:[{t:3}],s:"Where are you going, pilot? Page not found, please return home fren."}}}})}typeof ea=="function"&&ea(Co);const Cr=P(Co,[["__scopeId","data-v-9c790780"]]),kr={key:0,class:"expander"},Sr={key:1,class:"expander"},Lr={class:"row-details"},Ar=T({__name:"TableRow",props:{data:{},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(t,{emit:e}){const o=e,n=At(),s=w(()=>{var i;const r=n["row-details"];if(r){const v=(i=r()[0])==null?void 0:i.children;if(v)return Array.isArray(v)&&v.length>0}return!1}),u=()=>{o("click",t.data)};return(r,i)=>{const v=Xe;return _(),C("div",{class:M(["row",{expanded:r.expanded}])},[m("div",{class:M(["row-data",{active:r.selected,expandable:a(s),"has-data":!!r.data}]),onClick:u},[r.data&&a(s)&&r.expandSide==="left"?(_(),C("div",kr,i[0]||(i[0]=[m("i",{class:"fas fa-chevron-up"},null,-1)]))):D("",!0),Y(r.$slots,"row",{},void 0,!0),r.data&&a(s)&&r.expandSide!=="left"?(_(),C("div",Sr,i[1]||(i[1]=[m("i",{class:"fas fa-chevron-up"},null,-1)]))):D("",!0)],2),r.data?(_(),A(v,{key:0,expanded:r.expanded},{default:y(()=>[m("div",Lr,[Y(r.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):D("",!0)],2)}}}),Tr=P(Ar,[["__scopeId","data-v-a76ffe49"]]),Ir={class:"table"},Pr=["onClick"],xr={key:1,class:"no-data"},Dr=T({__name:"Table",props:{columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{default:()=>({order:"asc"})},icon:{}},emits:["selected","sortColumn"],setup(t,{emit:e}){const o=e,n=w(()=>{if(t.rowsMin===null)return[];const c=Math.max(0,t.rowsMin-t.rows.length);return new Array(c)}),s=w(()=>t.columns.map(c=>typeof c=="string"?{id:c,label:c}:c)),u=c=>{c&&o("selected",c)},r=c=>{const l=c+1;return!!(t.rows[c+1]&&t.rows.findIndex(h=>h===t.selectedRow)===l)},i=c=>t.sorting.column===c.id&&t.sorting.order==="asc",v=c=>t.sorting.column===c.id&&t.sorting.order==="desc",p=c=>{if(!c.sort)return;const l=c.id===t.sorting.column&&t.sorting.order==="asc"?"desc":"asc";o("sortColumn",c.id,l)};return(c,l)=>{const d=Tr;return _(),C("div",Ir,[c.columns.length>0?(_(),A(d,{key:0,class:M({"selected-below":r(-1)})},{row:y(()=>[(_(!0),C(z,null,ne(a(s),g=>(_(),C("div",{key:g.id,class:M(["column-header",{sortable:g.sort,sorting:g.sort&&c.sorting.column===g.id,[g.align||""]:!!g.align}]),onClick:h=>p(g)},[m("span",null,I(g.label),1),g.sort?(_(),C("i",{key:0,class:M(["sorting-arrow fa fa-caret-right",{asc:i(g),desc:v(g)}])},null,2)):D("",!0)],10,Pr))),128))]),_:1},8,["class"])):D("",!0),(_(!0),C(z,null,ne(c.rows,(g,h)=>(_(),A(d,{key:g,data:g,class:M({"selected-below":r(h)}),selected:c.selectedRow===g,expanded:c.expanded.includes(g),"expand-side":c.expandSide,onClick:u},{row:y(()=>[Y(c.$slots,"row",{item:g},void 0,!0)]),"row-details":y(()=>[Y(c.$slots,"row-details",{item:g},void 0,!0)]),_:2},1032,["data","class","selected","expanded","expand-side"]))),128)),(_(!0),C(z,null,ne(a(n),g=>(_(),A(d,{key:g}))),128)),!c.rowsMin&&(!c.rows||c.rows.length===0)?(_(),C("div",xr,[Y(c.$slots,"no-data",{},()=>[l[0]||(l[0]=W("No data"))],!0)])):D("",!0),c.$slots["row-aggregation"]&&c.rows.length>0?(_(),A(d,{key:2,class:"aggregation"},{row:y(()=>[Y(c.$slots,"row-aggregation",{},void 0,!0)]),_:3})):D("",!0)])}}}),oe=P(Dr,[["__scopeId","data-v-fe545a5a"]]),Vr={class:"dashboard"},qr=["href"],ko=T({__name:"Code.page",setup(t){const{t:e}=B(),o=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}];return(n,s)=>{const u=oe,r=U;return _(),C("div",Vr,[f(r,{title:a(e)("repositories")},{default:y(()=>[f(u,{class:"repositories-table",rows:o,columns:[a(e)("repository"),a(e)("description")]},{row:y(({item:i})=>[m("div",null,[m("a",{href:i.url,target:"_blank"},I(i.name),9,qr)]),m("div",null,I(a(e)(i.description)),1)]),_:1},8,["columns"])]),_:1},8,["title"]),f(r,null,{default:y(()=>s[0]||(s[0]=[m("div",{class:"notices"},[W(" TradingView Lightweight Charts™ Copyright (с) 2023 TradingView, Inc. "),m("span",null,[m("a",{href:"https://www.tradingview.com/",target:"_blank"}," https://www.tradingview.com ")])],-1)])),_:1})])}}});function ta(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:{t:0,b:{t:2,i:[{t:3}],s:"Repositories"}},repository:{t:0,b:{t:2,i:[{t:3}],s:"Repository"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},"repo-laf":{t:0,b:{t:2,i:[{t:3}],s:"This website's front-end, excluding the Union"}}}})}typeof ta=="function"&&ta(ko);const Mr=P(ko,[["__scopeId","data-v-bdf925f9"]]);function Fr(){const t=Mt(),e=[{path:"/code",component:Mr},...t.routes.flatMap(n=>n),{path:"/:pathMatch(.*)*",name:"NotFound",component:Cr}];return Hn({history:Gn(),routes:e})}const Rr=T({__name:"ChartApex",props:{options:{},series:{}},setup(t){const e=jn(()=>Zn(()=>import("./vue3-apexcharts-BG5QeLF1.js"),__vite__mapDeps([0,1])));return(o,n)=>(_(),A(a(e),{class:"chart",height:"100%",options:o.options,series:o.series},null,8,["options","series"]))}}),te=P(Rr,[["__scopeId","data-v-15ef6603"]]),Br=T({__name:"ButtonToggle",props:ze({icon:{default:""},value:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ze(["change"],["update:modelValue"]),setup(t,{emit:e}){const o=Vt(t,"modelValue"),n=e,s=()=>{const u=!o.value;o.value=u,n("change",u)};return(u,r)=>(_(),C("button",{class:M({toggled:o.value}),onClick:s},[Y(u.$slots,"default",{},()=>[u.icon?(_(),C("i",{key:0,class:M(["icon",u.icon])},null,2)):D("",!0),W(" "+I(u.value),1)],!0)],2))}}),ot=P(Br,[["__scopeId","data-v-6cca1e14"]]),Ur=t=>({chart:{id:"chart",background:"transparant",foreColor:t.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:t.colorsArray,grid:{borderColor:t.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:t.colors.level5,height:1},axisTicks:{color:t.colors.level5},title:{color:t.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:t.colors.level5},axisTicks:{color:t.colors.level5},title:{color:t.colors.level5}}});function ae(t,e){const o=Ur(t);return e?qt(o,e):o}class Ft extends fe{constructor(o){super();re(this,"API_URL");this.API_URL=Se(o)}async getCollateralPrices(o,n,s){return this.fetch(`${this.API_URL}/collateral/${o}/${n}/prices?period=${s}`)}async getCollateralPriceImpact(o,n){return this.fetch(`${this.API_URL}/collateral/${o}/${n}/impact`)}async getCollateralInfo(o,n){return this.fetch(`${this.API_URL}/collateral/${o}/${n}/info`)}}class Rt extends fe{constructor(o){super();re(this,"API_URL");this.API_URL=Se(o)}async getLiquidations(o,n){return Pe(u=>this.fetch(`${this.API_URL}/liquidations/${o}/${n}?items=100&page=${u}&order_by=block_timestamp&desc=true`).then(r=>r.liquidations.map(i=>({...i,liquidator:i.liquidator.toLocaleLowerCase(),vault:i.vault.toLocaleLowerCase()}))),1,100)}async getLiquidationsForTrove(o,n){return Pe(u=>this.fetch(`${this.API_URL}/liquidations/${o}?items=100&page=${u}&order_by=block_timestamp&desc=true&trove_filter=${n}`).then(r=>r.liquidations.map(i=>({...i,liquidator:i.liquidator.toLocaleLowerCase(),vault:i.vault.toLocaleLowerCase()}))),1,100)}}class Le extends fe{constructor(o){super();re(this,"API_URL");this.API_URL=Se(o)}async getHistoricalOpenTrovesOverview(o,n){return this.fetch(`${this.API_URL}/managers/${o}/open_troves?period=${n}`)}async getHistoricalCollateralRatiosOverview(o,n){return this.fetch(`${this.API_URL}/managers/${o}/collateral_ratios?period=${n}`)}async getCollateralRatioGrouped(o,n){return this.fetch(`${this.API_URL}/managers/${o}/global_collateral_ratio?period=${n}`)}async getHistoricalCollateralOverview(o,n){return this.fetch(`${this.API_URL}/managers/${o}/collateral?period=${n}`)}async getRatioDistributionGrouped(o){return this.fetch(`${this.API_URL}/managers/${o}/ratio_distribution`)}async getLargeTrovePositions(o,n,s){return this.fetch(`${this.API_URL}/managers/${o}/${n}/large_positions?unit=${s}`)}async getVaultCollateralRatio(o,n,s){return this.fetch(`${this.API_URL}/managers/${o}/${n}/collateral_ratio?period=${s}`)}async getVaultTroveCount(o,n,s){return this.fetch(`${this.API_URL}/managers/${o}/${n}/open_trove_count?period=${s}`)}async getTroveDistribution(o,n,s){return this.fetch(`${this.API_URL}/managers/${o}/${n}/histograms?unit=${s}`)}}class nt extends fe{constructor(o){super();re(this,"API_URL");this.API_URL=Se(o)}async getPriceHistory(o,n){return this.fetch(`${this.API_URL}/mkusd/${o}/history?period=${n}`)}async getSupplyHistory(o){return this.fetch(`${this.API_URL}/mkusd/${o}/supply`)}async getPriceHistogram(o,n,s){return this.fetch(`${this.API_URL}/mkusd/${o}/histogram?period=${s}&bins=${n}`)}async getLargeStableCoinHolders(o){return this.fetch(`${this.API_URL}/mkusd/${o}/holders`)}async getStableCoinKPI(o){return this.fetch(`${this.API_URL}/mkusd/${o}/general`)}async getCurvePoolDepth(o){return this.fetch(`${this.API_URL}/mkusd/${o}/depth`)}}class Bt extends fe{constructor(o){super();re(this,"API_URL");this.API_URL=Se(o)}async getRedemptions(o,n){return Pe(u=>this.fetch(`${this.API_URL}/redemptions/${o}/${n}?items=100&page=${u}&order_by=block_timestamp&desc=true`).then(r=>r.redemptions.map(i=>({...i,redeemer:i.redeemer.toLocaleLowerCase(),vault:i.vault.toLocaleLowerCase()}))),1,100)}async getRedemptionsForTrove(o,n){return Pe(u=>this.fetch(`${this.API_URL}/redemptions/${o}?items=100&page=${u}&order_by=block_timestamp&desc=true&trove_filter=${n}`).then(r=>r.redemptions.map(i=>({...i,redeemer:i.redeemer.toLocaleLowerCase(),vault:i.vault.toLocaleLowerCase()}))),1,100)}}class So extends fe{constructor(o){super();re(this,"API_URL");this.API_URL=Se(o)}async getSnapshots(){return this.fetch(`${this.API_URL}/revenue/ethereum/snapshots?period=3m`)}async getBreakdown(){return this.fetch(`${this.API_URL}/revenue/ethereum/breakdown`)}}class Ee extends fe{constructor(o){super();re(this,"API_URL");this.API_URL=Se(o)}async getPoolTvl(o,n){return this.fetch(`${this.API_URL}/pool/${o}/deposits?period=${n}`)}async getStableFlow(o,n){return this.fetch(`${this.API_URL}/pool/${o}/stable_operations?period=${n}`)}async getStableDistribution(o){return this.fetch(`${this.API_URL}/pool/${o}/histogram/deposits`)}async getCumulativeWithdrawals(o,n){return this.fetch(`${this.API_URL}/pool/${o}/cumulative_withdrawals?period=${n}`)}async getTopStableDeposits(o,n,s){return this.fetch(`${this.API_URL}/pool/${o}/top/stable_deposits?top=${n}&period=${s}`)}async getTopStableWithdrawals(o,n,s){return this.fetch(`${this.API_URL}/pool/${o}/top/stable_withdrawals?top=${n}&period=${s}`)}}class Oe extends fe{constructor(o){super();re(this,"API_URL");this.API_URL=Se(o)}async getTroves(o,n,s){return Pe(r=>this.fetch(`${this.API_URL}/trove/${o}/${n}/troves?items=100&page=${r}&order_by=last_update&desc=true${s?"&owner_filter="+s:""}`).then(i=>i.troves),1,100)}async getTroveSnapshots(o,n,s){return this.fetch(`${this.API_URL}/trove/${o}/${n}/snapshots/${s}`)}async getTroveDetail(o,n,s){return this.fetch(`${this.API_URL}/trove/${o}/${n}/${s}`)}async getTroveHistory(o,n,s){return this.fetch(`${this.API_URL}/trove/${o}/${n}/history/${s}`)}async getTroveRank(o,n,s){return this.fetch(`${this.API_URL}/trove/${o}/${n}/rank/${s}`)}}const ct="https://api.prismamonitor.com/v1";function ut(t){switch(t){case"convex":return"0x0c73f1cfd5c9dfc150c8707aa47acbd14f0be108";case"yearn":return"0x774a55c3eeb79929fd445ae97191228ab39c4d0f"}}class st extends fe{async getTVL(e){return this.fetch(`${ct}/staking/${ut(e)}/tvl?period=all&groupby=day`)}async getFlow(e){return this.fetch(`${ct}/staking/${ut(e)}/flow?period=all&groupby=day`)}async getDistribution(e){return this.fetch(`${ct}/staking/${ut(e)}/distribution`)}async getSnapshots(e){return this.fetch(`${ct}/staking/${ut(e)}/snapshots?period=7d`)}}const aa="troves_overview";let wt=null;class We{constructor(e,o){re(this,"socket");if(this.chain=o,this.socket=e,wt){this.send("snapshots");return}wt=this.socket.pipe(Fe(n=>n),It(n=>n.subscription.chain===this.chain&&n.channel===aa),Fe(n=>n.payload),Pt(1)),this.send("subscribe"),this.send("snapshots")}get overview$(){return wt}send(e){const o={action:e,channel:aa,settings:[{chain:this.chain}]};this.socket.next(o)}}const Er={class:"periods"},Lo=T({__name:"ChartOpenTroves",setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new Le(n.value),u=q("1m"),{isFetching:r,data:i}=O({queryKey:["prisma-historical-open-troves",u],queryFn:({queryKey:[,g]})=>s.getHistoricalOpenTrovesOverview("ethereum",g).then(h=>h.managers),initialData:[],initialDataUpdatedAt:0}),v=w(()=>ae(o.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:l,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:g,dataPointIndex:h,w:S})=>{let k=0;const b=g.map(($,L)=>{const x=$[h];return k+=x,`<div><b>${S.globals.seriesNames[L]}</b>: ${x}</div>`});return b.push(`<div><b>Total</b>: ${k}</div>`),b.join("")}}})),p=w(()=>i.value.length===0||i.value[0].data.length===0?[]:i.value[0].data.map(g=>new Date(g.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=w(()=>i.value.length===0?[]:i.value.map(g=>({name:g.manager,data:g.data.map(h=>h.value)}))),l=g=>g,d=g=>{u.value!==g&&(u.value=g)};return(g,h)=>{const S=ot,k=te,b=U;return _(),A(b,{title:a(e)("title"),loading:a(r)},{actions:y(()=>[m("div",Er,[f(S,{value:"1m","model-value":a(u)==="1m",onClick:h[0]||(h[0]=$=>d("1m"))},null,8,["model-value"]),f(S,{value:"3m","model-value":a(u)==="3m",onClick:h[1]||(h[1]=$=>d("3m"))},null,8,["model-value"]),f(S,{value:"6m","model-value":a(u)==="6m",onClick:h[2]||(h[2]=$=>d("6m"))},null,8,["model-value"])])]),default:y(()=>[f(k,{options:a(v),series:a(c)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function oa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Open troves"}}}})}typeof oa=="function"&&oa(Lo);const Or=P(Lo,[["__scopeId","data-v-ed1f85d6"]]),Wr=(t,e)=>{const{colors:o}=e;return{width:t.clientWidth,height:t.clientHeight||300,rightPriceScale:{borderVisible:!1,scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},layout:{background:{type:zn.Solid,color:o.backgroundColor},textColor:o.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",attributionLogo:!1},grid:{vertLines:{visible:!1},horzLines:{color:o.level4,style:Yn.SparseDotted}},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ie(t){const{theme:e}=N(F());return o=>w(()=>{const n=Wr(o,e.value);return t?qt(n,kt(t).value):n})}function ce(t){const{createChartOptions:e,series:o}=t,n={},s=Array.isArray(o)?o:[o],u=Ct("chartRef"),r=Qn(void 0);ft(u,(i,v,p)=>{const c=e(i);r.value=Jn(i,c.value);for(const d of s){const g=Kr(r.value,d);n[d.name]=g}const l=Q(c,d=>{var g;(g=r.value)==null||g.applyOptions(d)});p(()=>{l(),r.value=void 0})}),Xn(w(()=>{var i;return(i=u.value)==null?void 0:i.parentElement}),i=>{var p,c;const v=i[0].target;(p=r.value)==null||p.applyOptions({width:v.clientWidth,height:v.clientHeight}),(c=r.value)==null||c.timeScale().fitContent()});for(const{name:i,options:v}of s)Q(v,p=>{const c=n[i];c==null||c.applyOptions(p)});return{chart:r,chartRef:u,series:n}}function Kr(t,{type:e,options:o}){return{Area:t.addAreaSeries.bind(t),Bar:t.addBarSeries.bind(t),Baseline:t.addBaselineSeries.bind(t),Line:t.addLineSeries.bind(t),Candlestick:t.addCandlestickSeries.bind(t),Histogram:t.addHistogramSeries.bind(t)}[e](o.value)}const Nr={ref:"chartRef",class:"chart"},Ao=T({__name:"ChartCollateralRatio",setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new Le(n.value),{isFetching:u,data:r}=O({queryKey:["prisma-collateral-ratios"],queryFn:()=>s.getCollateralRatioGrouped("ethereum","all").then(c=>c.data),initialData:[],initialDataUpdatedAt:0}),{chart:i,series:v}=ce({createChartOptions:ie(),series:{type:"Area",name:"cr",options:w(()=>({priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}))}});ue(p);function p(){if(!i.value||!v.cr)return;const c=r.value.map(l=>({time:l.timestamp,value:l.value*100})).uniqWith((l,d)=>l.time===d.time).orderBy(l=>l.time,"asc");c.length>0&&v.cr.setData(c),i.value.timeScale().fitContent()}return(c,l)=>{const d=U;return _(),A(d,{title:a(e)("title"),loading:a(u)},{default:y(()=>[m("div",Nr,null,512)]),_:1},8,["title","loading"])}}});function na(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Global collateral ratio"}}}})}typeof na=="function"&&na(Ao);const To=T({__name:"ChartRatioDeciles",setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new Le(n.value),{isFetching:u,data:r}=O({queryKey:["prisma-ratio-distribution"],queryFn:()=>s.getRatioDistributionGrouped("ethereum").then(d=>d.deciles),initialData:[],initialDataUpdatedAt:0}),i=w(()=>ae(o.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:v.value,labels:{formatter:c,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:l}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),v=w(()=>r.value.map(d=>d.label)),p=w(()=>[{name:e("debt"),data:Object.values(r.value).map(d=>d.data)}]),c=d=>d,l=d=>`$${j(d,0,"dollar")}${G(d,"dollar")}`;return(d,g)=>{const h=te,S=U;return _(),A(S,{title:a(e)("title"),loading:a(u)},{default:y(()=>[f(h,{options:a(i),series:a(p)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function sa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Debt per Collateral Ratio Deciles"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt"}}}})}typeof sa=="function"&&sa(To);const Hr=P(To,[["__scopeId","data-v-a2fd8d8c"]]),Gr={class:"periods"},Io=T({__name:"ChartGlobalCollateral",setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new Le(n.value),u=q("1m"),{isFetching:r,data:i}=O({queryKey:["prisma-collateral-hist-overview",u],queryFn:({queryKey:[,h]})=>s.getHistoricalCollateralOverview("ethereum",h).then(S=>S.managers),initialData:[],initialDataUpdatedAt:0}),v=w(()=>ae(o.value,{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:l,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:d}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),p=w(()=>i.value.length===0||i.value[0].data.length===0?[]:i.value[0].data.map(h=>new Date(h.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=w(()=>i.value.length===0?[]:i.value.map(h=>({name:h.manager,data:h.data.map(S=>S.value)}))),l=h=>h,d=h=>`$${j(h,1,"dollar")}${G(h,"dollar")}`,g=h=>{u.value!==h&&(u.value=h)};return(h,S)=>{const k=ot,b=te,$=U;return _(),A($,{title:a(e)("title"),loading:a(r)},{actions:y(()=>[m("div",Gr,[f(k,{value:"1m","model-value":a(u)==="1m",onClick:S[0]||(S[0]=L=>g("1m"))},null,8,["model-value"]),f(k,{value:"3m","model-value":a(u)==="3m",onClick:S[1]||(S[1]=L=>g("3m"))},null,8,["model-value"]),f(k,{value:"6m","model-value":a(u)==="6m",onClick:S[2]||(S[2]=L=>g("6m"))},null,8,["model-value"])])]),default:y(()=>[f(b,{options:a(v),series:a(c)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function la(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral value"}}}})}typeof la=="function"&&la(Io);const jr=P(Io,[["__scopeId","data-v-cd5b5366"]]),Zr={key:0,class:"async-value"},zr="|/-\\",ee=T({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(t){let e=0,o=0;const n=q("|"),s=w(()=>t.value?j(t.value,typeof t.precision=="function"?t.precision(t.value):t.precision,t.type??""):t.value===0&&t.showZero?"0":t.value===null||t.value===void 0?n.value:"?"),u=w(()=>t.precision===1/0?"":!t.value||!t.type||!isFinite(t.value)?t.showUnit&&t.type?G(0,t.type):"":G(t.value,t.type));return Q(()=>t.value,r=>{if(clearInterval(o),e=0,r)return;const i=()=>{e=(e+1)%4,n.value=zr[e]};o=window.setInterval(i,250)},{immediate:!0}),(r,i)=>r.inline?(_(),C(z,{key:1},[W(I(r.showSymbol&&r.type==="dollar"?"$":"")+I(a(s))+I(r.showUnit?a(u):""),1)],64)):(_(),C("div",Zr,I(r.showSymbol&&r.type==="dollar"?"$":"")+I(a(s))+I(r.showUnit?a(u):""),1))}}),Yr={class:"input-text"},Qr={key:0,class:"icon"},Jr=["type","value","placeholder"],Xr=["onClick"],ei=T({__name:"InputText",props:ze({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:ze(["input","select"],["update:modelValue"]),setup(t,{emit:e}){const o=Vt(t,"modelValue"),n=e,s=w(()=>{const r=t.options.filter(v=>t.filter(o.value,v));return t.sort?[...r].sort(t.sort):r}),u=r=>{const i=r.target.value;o.value=i,n("input",i)};return(r,i)=>(_(),C("div",Yr,[r.search?(_(),C("span",Qr,i[1]||(i[1]=[m("i",{class:"fas fa-search"},null,-1)]))):D("",!0),m("input",{type:r.search?"search":"text",value:o.value,placeholder:r.placeholder,onInput:J(u,["stop"]),onSelect:i[0]||(i[0]=J(()=>{},["stop"]))},null,40,Jr),r.options&&r.autoComplete?(_(),C("div",{key:1,class:M(["items",{selectHide:!r.autoComplete}])},[(_(!0),C(z,null,ne(a(s),(v,p)=>(_(),C("div",{key:p,onClick:c=>n("select",v)},[Y(r.$slots,"item",{item:v,idx:p},()=>[W(I(v),1)],!0)],8,Xr))),128))],2)):D("",!0)]))}}),de=P(ei,[["__scopeId","data-v-c1a4a57a"]]),ti="data:image/webp;base64,UklGRnYCAABXRUJQVlA4TGoCAAAvP8APEOfBIGDbNjJ/niWw77kxDQaNJCnq8+/wPDzD5pZm/hG0bRvr/EEdysfgQ5AAqiEKNuJMsZMp4sRB2ChMEQdh4zMQU/yOf+6TAoNJ3hdEgUEWNr6fOAWJY2NN4lwnBRtZgMAIf6BIWJCwILCg4ghXaGPAAx8QI9lWFf277u5+cTi4W/6B8Z+ce9kAIvrvwG3bSJITODv3vekXCoNmSGhSuGsAQgNH1qC18mGESFVJqIZIMzsbBGoJoSYCbYwgkNBCIAvbRGUstrab/SpGvWGnnmUxCeQw0TGhbJBZkzyf0HvJq0ZFb8c3d5GUMfkiXoMtWQtKVMhym58mFsgVXLLEJTZsvsTcs7GJnX5cEUDbW8oW9LQIy6RxwmUfSGxL2iNstrb4S44LhsPIaI+xWEgfaFKZwBJtYBi6DavRgEFdeUnlTYILkglQ4b2jqjc3NwarAHMAdDZUS0p9sHEAdHnqqiGhHkujT5D92uQIN+3ENVTTJIsLH1R5bm6cfggPP5nQM8eZeNHMTMxM/fNa7TxZJKsjdfsRHspDitPwRKgvT3cBVKkPAuKJibVUf6m/r0lBP/jxSmF1oqrq/92QnW5PEvdAXPlM3xEN9EDTJ7s0hLoSuVSlvQkM9//dNnCc48jyv7He5//W6n/8bxYjW9hynuob3imaMb8U78nGZWMy3jMtOCxR5h4br6eSOzrzfWOFPD7SK0T3PgDwwwWXn1TvDrqka/Bt/94bf+ekene8W3kPhpB7HzfZx22HLIfhuM1n3NhkaGXGjS7D7UpiswdVRBoXLlqC1rrw05BhWLhr2o3pzg1HVwA=",ai="data:image/webp;base64,UklGRp4HAABXRUJQVlA4TJEHAAAvP8APEOZQ0LYN4/CHvYMhIibAtxpNmo50WMwCnGb75zb8Cb8Acv2/v0PAIIyhyuiS8NQj12QYVucCKILi6XiOmQPDCoZesxH0noLBytR7LIYocxAEWtTZKoofgIyfp/89vtMAAJAGq2SXE+AHewA+kQaRB1wqD+gFviW7wC0tuTJw20hRu3hMA70n0LH/T7Wk7H8Z772WcXeXdnf37mft3vHcW7erZnYwuEs8EfHoDTlvDZyX3pDJOESuUR8idyqsDUyEE5G5wwsL73xiIk6lfSZDb4Zr7gvobeBO3BHuUGHHLGB8/ljouTtkriMhDpAAACwb5Wzbtm3btm3btm3btm9n27aNr8K2bZv/L6484vbfgdu2kaRmxoG79+F29wmhSIaZYJENznjKG77yv8b7Io5YH3arMDgy2GWNE57xhb/WkvnO1ce8Ow4GjLDADi/5aRLvluvkzR9Vwh7vzYOrA+YZ8kSX7cI8yetN12spy9zl5s38clbJYJRNPlsgXHSORTDGqfS66G/4V17g6a8E5jjnn7lR9w3UvqETtVn5rFSuTan1v6/yitiYlJ8gyJpXd2G8NGmtiE9Id9pLLXXtB7CYaJQj19FOTerr/559Rl1I15ViIY5ZTywmG6etD5Z27rRl1Y8M06wF/G5UN9qy0eGpuILQuuukrcDKQlyWlGV/+FnB33i0VXlGtes+IbQWJ62+dm7FZa4ldaMZUwlxjnNBov4bsvrpNtv5JlPAoOaZkYa1gq8SZF0ZG53KWwitbDNuRMIrk+hNLbY/4pgNfBXOMxusE1pbSaO1sSsuc6+rB9OxFgTKQ93iWhGh2KRq6Ffaslu4FXwtVMbFp+oBIKtVQ7c2Cd70KgegTDkUW6oSZJ3sFpFa6xqYXGrLSnbpxXFM6WxQ64S/EYY9Mcg2klMZ5pHiTQit5V8YzvklLfsyxLHKLVrBOmCsn+C9FxvjwjGllTvCN1yp+GR/RmYdzcOUY+2IWU0OxBhj/ojryXLDdWrImCjbIdhnyB9UUrZDXSN5kE1yuwRkFkdpl2eSwZQd0Yf3LOD7wa4b5YaolBtB1pUzi6Zlh8gOgeZ0Ki7BwQ4ZbdFwr+xLZl11hzuKwbSHe8YGvd0HSnWUeWcbHME+Ld8PRVPKbFB0WIzEdNe8ACQf/53hNFeW5XSoK/k+HWlUtaMIPp9ph/BD4ZjSyhzhl7w+EVn5lDOl/yzMPUPVG2RdI8iqlGpBm+mZ9aq6hWg6iqW5e1WJGQ62j+Q4xpR7ncpr2omIC8HVekHUvFI0oZjIBFlX8sYwTecS5Wd8CQAk91DcC67Wtay6LwSIiQvelVyDaTrmKT1gymIAqLxhIkE562KAr/vy3wdlJwAAlB1zyUGSK5jmD8XbVD+gA8AtB6QWue1LME8yr2tVL/nBbYhyI/2zoOoOAaLdvaa1xjfNNO0Q3Gtc1gwA7RWXuFbJ69VbIY5xLkls+xaIDIgVfHZYkxETlaJJPSZAPLZNTER+dy6C3In+sHuDH8xbuScpx2Mt4uJerMeYH/wGK3S2HH/r+s0CxKZ7nAEAi6ufKNnDMYtJDzmI87dmibGcaPh/OW1Ww26DUWY1uDworcJ3AYAAgFvuci5gmtRMSLHknJ+LzeD7wuUvooKjps2WA6U7W4lL+e6CiUK9E9cKpvmU+UN2m+ZxSj3JeW4G3A3Frk92uF4t4Lco1Zl4o0xrUKWMrwsndIZ6J6bPZ4ewTVycpfo5vO5KHHHkMpkBEofwUH/xm02VwWWwXT5wzGEi37wfspoU4hCu8u6muInIYbfisj5cx1rU2v15A/3exCfaPo3P51P00OtUpTLcO5dhyKfDndbY9FML+AgTftEQn2Q7BB+imXXan5OxM8TkFlw5UOYQWlhHnI0wqNHaGLRwTNGhQZTK494GXG5hchPqvvlGgw3sU4M2wlM/pFf6bI4SG5spgMtNTG7XfdPw/+Jiw1rQ2mW4bo1WDU/RghFFBgZV6mnTAZPbzrixasGQAtHGUNgm3NCefkgtcZBNUeXGBd76bzDrhjNuwab9hM4CvkYCULbdbK6iaP6gNteojPDJGwKzbglx0xufmAla6cl83EBPNDnfhkblJc2AWTeFuC1mbcI0EoC0IaqdzVXo9KO5RsM88z8mNyaVkjd42/yRppXudOcxFKhvI66dz2q2Dph9g5K31H8DU6gVfE09Plixs1VyuxXmFq33V9U90KhmbI2lvEkXdw2SP211pVyTgpmQalS554myIzAeN10xb9O9Jdss25Ah+MFukGz5jB8WhDoHPeSJ6wrcvk3OG3XvXa3+iENM1oVkI006o2hKcQmWHMmQtQ4Q2H2jnrfqYkpqkbd/yAI+Y8wGswHi9/oKIY7hlEu5+TmfCey+1Zk349au0n2W9uG+r5gFfL0j3qZdN8qiHrn/1ZPuwq5Z5cgvb6//ZrEQFRfkdioyIBf15roxNxwdkmmvZ9TaMatNQQDD7ds13YBrVhW179xbdshhl1XdswN4YTHD/m4ISLeAUAYA0e+Wtuum9uq2n1nlpxt57a0bD0ehH1Pm/XVru3VzULqdVUm3/6u63eO/wfXj6H+DEAA=",oi="/assets/reth-SHa20puJ.webp",ni="data:image/webp;base64,UklGRrIFAABXRUJQVlA4TKYFAAAvP8APEJXQ37btbKR1OlqOsbZt27bt3Y8/2bZt27ZtdG3bGmdyH9u+6vT7A4J3tpl5m2kE1Gzb3lSAwnYmKDOECTJKcOCyQVTi43EsAC4yV0agnqqq6z/nhuBGkiIpOmuxt2+gqO8JhuBAG31EWKJEhRM+8AvKqHDts1EHfcvTKrlhYYAYOWq86iHHbj7f+dBbZMQxjTI9lKNGjjhslQzoYIYUDb5y+Dxthf4aS1NZHK9y0zLKwis8zSdHBA1Sp6IEZmCKDHdF/+vcY4gMMTw4I5zBMUot14wEO0FhhWOhXy1XB/UJ9wPLjZbjiJUK6lNE2OthNTedRxDDdpUeDMcSBl0keD7uXvV5BDkauE+Zg6RUEPRQ4GuNieJ4BD1MuyKCIioEJtjot0+0InCh6qgtE/9YzLOGg4mIYat5TjbJ5yJjDHU5gYMxIxps+Yo65mNSSD4dbTXecNt1J3A4ZaYGmyhvNRT67TkiVsnLdGMNY76lKhFFDBSlbJDg6xMi38oZcmjGqiiUbz4p8uUnIkiYYIGn1RirxYhFU8dfoMgZCiifBmhixWAstloEC5a3Y3fcRB40E9wiGXUCNwMSdRcvkupuNBXj8CY5DjtGBGCNcK84NOPsVuwRSQj62I/msIEIqrmfZp8pGP53LwSsKTDDYZWGGLYLqCKEou8DGvWpFIS5SrFkrYKDQ0YbsiIrSIrxdlOK0lIFWLjno8wvxpcruMisAJjj8osM9ArX0yhS1TS2FrBQG7VQBWmq2G28KDL8Chc7AFIN/cw4OeU+6imKjXregwqpAJpHJZOMJxOpHwzQrFWHFJDG5eGaAibrWqcMA8NAjM97SCkixUOJmJQGPsvOgPy0ISRXPIIw6ZyG3MAAtU8myReHIExm8kGNASK8PE1KvjQUup1662qrMEWxxyThH6EVdbBEWEHyx0wFCMJ/u1xzXuVNXexP+chrsJDkswJCFOVp/fGp6TfKzxHvmCKdM09bLS1QS5qJ3nSYDpT6W118+jsNJardGuNzHZ3SbHCHzqrp4GZr5RtnmFzr3a6TSEe3WqcIKCcGl8YMVDj5pOHS0z45vrZEbcZ4bzhER8ft2yZLV9NCXzjlkP64GCZO+PhOZTyqeMAzBkrSxEX+kI/9M/svl2qmun6e9IhqeFgOPvD7oTg8qqovyQBP2KkYfyHdbk8bzK6Hi/kh/Kq3ePGILvaNU0T97rTvLJeMR/lblABnr3eIuN8fcYtUAgi8keU9vCOPGPk+0JuXFHhDTuHOmcdHJ/DxaosFJglMCSwkMuq5wyE8DrsHkVpFFhLw26o6SBSoEH19KMwi/KmBAtUkQXvVCPitSNxEH9IS8WeXWktHotvgHMT9buZ+i8UQiBuRuK3qFdtciLi/jdzniEDdO+YhTRH+cI7N3pZEJG6F8kYzq5hfGirgDeYgnxjJ/FRF4BBiDfQZzXqtCeUNkbwl5WQnwFEPaoIo0MmSpCKKzD2OUKfMJKVI3iLyJt+d7qBT4fWWS8IKhTXCSt0vnh9+3iTytkh3tZ5SqsAn+otF+HEfH8inlCollpTcvE3WDS4JLpODdLa7RaWs6zYHEQeR6xqJCHh1g6xbXLscaUrpfNpp6W903s1zLVLsukXXTa5x41ZUGSKlNl23ecaNe67YdZvRNwiY5l8nsDjpHy5D7L6B2bfQdiXSdG+px2bxiLpeoSN1vUTMvkWob0rzOcpq8qjtJzR/qEdmeRWpb2WisP19k1jf1twPKJNykANIDhtBSkq/ao3Zt3H7RoYok/JSRTR+il3Dy4OU35h9o0DfytDbSJPJ3lXsDEU+RiW2LK/5RRvsvjWIvrkuV1KjnXXGG26DLhiOVg+7by6hvn22IfpbQLRvL6l9Q6LqqqlEcN8Q8n1LCPdNETuwbwr5vi3U+8aQ71tDvW/+H+7bQ/5/AwM=",si="/assets/weeth-Dk-qEu8x.webp",li="data:image/svg+xml,%3csvg%20width='48'%20height='49'%20viewBox='0%200%2048%2049'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M48%2024.4997C48%2037.755%2037.2548%2048.5005%2024%2048.5005C10.7452%2048.5005%200%2037.755%200%2024.4997C0%2011.2445%2010.7452%200.499023%2024%200.499023C37.2548%200.499023%2048%2011.2445%2048%2024.4997Z'%20fill='white'/%3e%3cpath%20d='M24.4971%208L24.2785%208.74339L24.2785%2030.3129L24.4971%2030.5312L34.4939%2024.613L24.4971%208Z'%20fill='%236B6B6B'/%3e%3cpath%20d='M24.4971%208L14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L24.4971%208Z'%20fill='%23A2A2A2'/%3e%3cpath%20d='M24.4971%2032.4269L24.3739%2032.5773L24.3739%2040.2607L24.4971%2040.6207L34.5%2026.5117L24.4971%2032.4269Z'%20fill='%234F4E4E'/%3e%3cpath%20d='M24.4971%2040.6207L24.4971%2032.4269L14.5%2026.5117L24.4971%2040.6207Z'%20fill='%23A2A2A2'/%3e%3cpath%20d='M24.4971%2030.5312L34.4939%2024.613L24.4971%2020.062L24.4971%2030.5312Z'%20fill='%23797979'/%3e%3cpath%20d='M14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L14.5%2024.613Z'%20fill='%23D4D4D4'/%3e%3cg%20style='mix-blend-mode:overlay'%3e%3cpath%20d='M24.4971%208L24.2785%208.74339L24.2785%2030.3129L24.4971%2030.5312L34.4939%2024.613L24.4971%208Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%208L14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L24.4971%208Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2032.4269L24.3739%2032.5773L24.3739%2040.2607L24.4971%2040.6207L34.5%2026.5117L24.4971%2032.4269Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2040.6207L24.4971%2032.4269L14.5%2026.5117L24.4971%2040.6207Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2030.5312L34.4939%2024.613L24.4971%2020.062L24.4971%2030.5312Z'%20fill='%23ACE730'/%3e%3cpath%20d='M14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L14.5%2024.613Z'%20fill='%23ACE730'/%3e%3c/g%3e%3c/svg%3e",ri="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='36'%20height='36'%20rx='18'%20fill='%23BBE7E8'/%3e%3cpath%20d='M18%2030C24.6274%2030%2030%2024.6274%2030%2018C30%2011.3726%2024.6274%206%2018%206C11.3726%206%206%2011.3726%206%2018C6%2024.6274%2011.3726%2030%2018%2030Z'%20fill='%23075A5A'/%3e%3cg%20style='mix-blend-mode:screen'%20opacity='0.3'%3e%3cpath%20opacity='0.8'%20d='M17.9688%207.5V15.4406L24.6802%2018.4398L17.9688%207.5Z'%20fill='white'/%3e%3cpath%20d='M17.9626%207.5L11.25%2018.4398L17.9626%2015.4406V7.5Z'%20fill='white'/%3e%3cpath%20opacity='0.8'%20d='M17.9688%2023.5838V28.9795L24.6849%2019.6875L17.9688%2023.5838Z'%20fill='white'/%3e%3cpath%20d='M17.9626%2028.9795V23.583L11.25%2019.6875L17.9626%2028.9795Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2022.3396L24.6802%2018.4425L17.9688%2015.4453V22.3396Z'%20fill='white'/%3e%3cpath%20d='M11.25%2018.4425L17.9626%2022.3396V15.4453L11.25%2018.4425Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/g%3e%3cg%20style='mix-blend-mode:screen'%20opacity='0.3'%3e%3cpath%20opacity='0.8'%20d='M17.9688%207.89844V15.2584L24.1894%2018.0382L17.9688%207.89844Z'%20fill='white'/%3e%3cpath%20d='M17.9639%207.89844L11.7422%2018.0382L17.9639%2015.2584V7.89844Z'%20fill='white'/%3e%3cpath%20opacity='0.8'%20d='M17.9688%2023.9461V28.4046L23.5184%2020.7266L17.9688%2023.9461Z'%20fill='white'/%3e%3cpath%20d='M17.9686%2028.4046V23.9455L12.4219%2020.7266L17.9686%2028.4046Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2022.0815L24.1894%2018.4694L17.9688%2015.6914V22.0815Z'%20fill='white'/%3e%3cpath%20d='M11.7422%2018.4694L17.9639%2022.0815V15.6914L11.7422%2018.4694Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/g%3e%3cpath%20d='M17.9688%209.85547V16.0539L23.2077%2018.3951L17.9688%209.85547Z'%20fill='%23C1DCDC'/%3e%3cpath%20d='M17.9664%209.85547L12.7266%2018.3951L17.9664%2016.0539V9.85547Z'%20fill='white'/%3e%3cpath%20d='M17.9688%2022.4126V26.6244L23.2114%2019.3711L17.9688%2022.4126Z'%20fill='%23C1DCDC'/%3e%3cpath%20d='M17.9664%2026.6244V22.4119L12.7266%2019.3711L17.9664%2026.6244Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2021.4364L23.2077%2018.3943L17.9688%2016.0547V21.4364Z'%20fill='white'/%3e%3cpath%20d='M12.7266%2018.3943L17.9664%2021.4364V16.0547L12.7266%2018.3943Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/svg%3e";function ii(t){return{cbETH:ti,wstETH:ai,rETH:oi,sfrxETH:ni,weETH:si,ezETH:li,rsETH:ri}[t]}const ci=["0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db","0x63cc74334f4b1119276667cf0079ac0c8a96cfb2","0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6","0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f","0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0","0xe0e255fd5281bec3bb8fa1569a20097d9064e445","0xc2545c68a71f6803264bde885870fd72d361fb9e","0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483"],ui=["0x1691308554c0a5a37c87e947677a4d31b9c97da9","0xf1c45c7b1f798302d29390d90d4dac38137352b1","0x1ad10ee3284297afcf2f6a41f935300cbebcf70d","0x585d78a00d1be2e95f75b20935d4b8d3c36efef1","0x335849a1c359e83dca508101bd394a9d12e176b9","0xdb3080920ee1df720411e12c16ec3866a8c2f5c6"];function di(t){switch(t){case"0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db":case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH";case"0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6":case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH";case"0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0":case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH";case"0xc2545c68a71f6803264bde885870fd72d361fb9e":case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH";case"0x1691308554c0a5a37c87e947677a4d31b9c97da9":case"0xf1c45c7b1f798302d29390d90d4dac38137352b1":return"weETH";case"0x1ad10ee3284297afcf2f6a41f935300cbebcf70d":case"0x585d78a00d1be2e95f75b20935d4b8d3c36efef1":return"ezETH";case"0x335849a1c359e83dca508101bd394a9d12e176b9":case"0xdb3080920ee1df720411e12c16ec3866a8c2f5c6":return"rsETH";default:return null}}function xe(t){const e=di(t);return ii(e)}function Ie(t){switch(t){case"0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db":return"cbETH";case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH (deprecated)";case"0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6":return"wstETH";case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH (deprecated)";case"0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0":return"rETH";case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH (deprecated)";case"0xc2545c68a71f6803264bde885870fd72d361fb9e":return"sfrxETH";case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH (deprecated)";case"0x1691308554c0a5a37c87e947677a4d31b9c97da9":return"weETH";case"0xf1c45c7b1f798302d29390d90d4dac38137352b1":return"weETH (deprecated)";case"0x1ad10ee3284297afcf2f6a41f935300cbebcf70d":return"ezETH";case"0x585d78a00d1be2e95f75b20935d4b8d3c36efef1":return"ezETH (deprecated)";case"0x335849a1c359e83dca508101bd394a9d12e176b9":return"rsETH";case"0xdb3080920ee1df720411e12c16ec3866a8c2f5c6":return"rsETH (deprecated)";default:return null}}function Ae(t){return["0x63cc74334f4b1119276667cf0079ac0c8a96cfb2","0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f","0xe0e255fd5281bec3bb8fa1569a20097d9064e445","0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483","0xf1c45c7b1f798302d29390d90d4dac38137352b1","0x585d78a00d1be2e95f75b20935d4b8d3c36efef1","0xdb3080920ee1df720411e12c16ec3866a8c2f5c6"].includes(t)}function Ut(t){return t instanceof Error?t.message.includes("Exchange resulted in fewer coins than expected")||t.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":t.message.includes("HTTP request failed")&&t.message.includes("eth_call")?"The RPC returned an error, probably a rate-limit. Try again layer or try a different wallet.":t.message:JSON.stringify(t)}async function pi(t){try{return await t()}catch(e){Be({text:Ut(e),type:"error"});return}}async function ra(t,e){t.value=!0;try{return await e()}catch(o){Be({text:Ut(o),type:"error"});return}finally{t.value=!1}}function me(t,e){const o=q(e),n=t.subscribe({next:s=>{o.value=s},error:s=>{Be({text:Ut(s),type:"error"})}});return Dt(()=>{n.unsubscribe()}),o}const mi=["src"],vi={class:"end"},fi={class:"end"},_i={class:"end"},Po=T({__name:"TableVaults",emits:["selected"],setup(t,{emit:e}){const{t:o}=B(),n=e,s=F(),u=ye().getSocket(Ue(s.flavor)),r=new We(u,"ethereum"),i=q(""),v=me(r.overview$,[]),p=w(()=>v.value.filter(l=>{const d=i.value.toLocaleLowerCase().split(" "),g=h=>d.some(S=>h.toLocaleLowerCase().includes(S));return g(l.name)||g(l.address)}).orderBy(l=>l.debt,"desc")),c=w(()=>v.value.length===0);return(l,d)=>{const g=de,h=ee,S=oe,k=U;return _(),A(k,{class:"vaults-card",title:a(o)("title"),loading:a(c)},{actions:y(()=>[f(g,{modelValue:a(i),"onUpdate:modelValue":d[0]||(d[0]=b=>le(i)?i.value=b:null),search:!0,placeholder:a(o)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:y(()=>[f(S,{class:"vaults-table",rows:a(p),columns:["","Name",{label:"TVL",align:"end"},{label:"Debt",align:"end"},{label:"CR",align:"end"},{label:"MCR",align:"end"},{label:"Troves",align:"end"},{label:"Price",align:"end"}],onSelected:d[1]||(d[1]=b=>n("selected",b))},{row:y(({item:b})=>[m("img",{src:a(xe)(b.address)},null,8,mi),m("div",{class:M({deprecated:a(Ae)(b.address)})},I(a(Ie)(b.address)??b.name),3),m("div",{class:M(["end",{deprecated:a(Ae)(b.address)}])},[f(h,{value:b.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])],2),m("div",{class:M(["end",{deprecated:a(Ae)(b.address)}])},[f(h,{value:b.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])],2),m("div",{class:M(["end",{deprecated:a(Ae)(b.address)}])},[f(h,{value:b.cr*100,precision:2,type:"percentage"},null,8,["value"])],2),m("div",{class:M(["end",{deprecated:a(Ae)(b.address)}])},[f(h,{value:b.mcr*100,precision:2,type:"percentage"},null,8,["value"])],2),m("div",{class:M(["end",{deprecated:a(Ae)(b.address)}])},I(b.open_troves),3),m("div",{class:M(["end",{deprecated:a(Ae)(b.address)}])},[f(h,{type:"dollar",value:Math.round(b.price),precision:1/0},null,8,["value"])],2)]),"row-aggregation":y(()=>[d[2]||(d[2]=m("div",null,null,-1)),d[3]||(d[3]=m("div",null,null,-1)),m("div",vi,[f(h,{value:a(p).reduce((b,$)=>b+$.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),m("div",fi,[f(h,{value:a(p).reduce((b,$)=>b+$.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d[4]||(d[4]=m("div",null,null,-1)),d[5]||(d[5]=m("div",null,null,-1)),m("div",_i,[f(h,{value:a(p).reduce((b,$)=>b+$.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d[6]||(d[6]=m("div",null,null,-1))]),"row-details":y(()=>d[7]||(d[7]=[W("   ")])),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function ia(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Vaults"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof ia=="function"&&ia(Po);const hi=P(Po,[["__scopeId","data-v-07f838d9"]]),ht=Qe("vaultStore",()=>{const t=q(null),e=q(null);return{vault:t,trove:e}}),bi={class:"dashboard"},gi=T({__name:"Vaults.page",setup(t){const e=Je(),o=ht(),n=Re();ve(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const s=async u=>{o.vault=u,await n.push({name:"prismavault",params:{tab:"",vaultAddr:u.address}})};return(u,r)=>(_(),C("div",bi,[f(hi,{style:{"grid-column":"1 / -1"},onSelected:s}),f(Ao),f(Hr),f(jr),f(Or)]))}}),yi=P(gi,[["__scopeId","data-v-6e776469"]]),wi={ref:"chartRef",class:"chart"},xo=T({__name:"ChartPoolTvl",setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new Ee(n.value),{isFetching:u,data:r}=O({queryKey:["prisma-stable-pool-tvl"],queryFn:()=>s.getPoolTvl("ethereum","1m").then(c=>c.deposits),initialData:[],initialDataUpdatedAt:0}),{chart:i,series:v}=ce({createChartOptions:ie({localization:{priceFormatter:c=>`$${j(c,1,"dollar")}${G(c,"dollar")}`}}),series:{type:"Area",name:"tvl",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}))}});ue(p);function p(){if(!i.value||!v.tvl)return;const c=r.value.map(l=>({time:l.timestamp,value:l.value})).uniqWith((l,d)=>l.time===d.time).orderBy(l=>l.time,"asc");c.length>0&&v.tvl.setData(c),i.value.timeScale().fitContent()}return(c,l)=>{const d=U;return _(),A(d,{title:a(e)("title"),loading:a(u)},{default:y(()=>[m("div",wi,null,512)]),_:1},8,["title","loading"])}}});function ca(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total deposits in stability pool"}}}})}typeof ca=="function"&&ca(xo);const Do=T({__name:"ChartStableFlow",setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new Ee(n.value),{isFetching:u,data:r}=O({queryKey:["prisma-stable-flow"],queryFn:()=>s.getStableFlow("ethereum","1m"),initialData:{deposits:[],withdrawals:[]},initialDataUpdatedAt:0}),i=w(()=>{const{colors:d}=o.value;return ae(o.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[d.green,d.red],xaxis:{categories:v.value,labels:{formatter:c,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:l}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:g,dataPointIndex:h,w:S})=>{let k=0;const b=g.map(($,L)=>{const x=$[h];return k+=x,`<div><b>${S.globals.seriesNames[L]}</b>:	${l(x)}</div>`});return b.push(`<div><b>Total</b>:	${l(k)}</div>`),b.join("")}}})}),v=w(()=>r.value.deposits.length===0?[]:r.value.deposits.map(d=>new Date(d.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),p=w(()=>[{name:e("deposits"),data:Object.values(r.value.deposits).map(d=>d.value)},{name:e("withdrawals"),data:Object.values(r.value.withdrawals).map(d=>d.value)}]),c=d=>d,l=d=>`$${j(d,0,"dollar")}${G(d,"dollar")}`;return(d,g)=>{const h=te,S=U;return _(),A(S,{title:a(e)("title",{stable:a(_t)(a(n))}),loading:a(u)},{default:y(()=>[f(h,{options:a(i),series:a(p)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function ua(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:4,k:"stable"},{t:3,v:" deposits and withdrawals"}]}},deposits:{t:0,b:{t:2,i:[{t:3}],s:"Deposits"}},withdrawals:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawals"}}}})}typeof ua=="function"&&ua(Do);const $i=P(Do,[["__scopeId","data-v-1d587b43"]]),Vo=T({__name:"ChartDepositDistribution",setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new Ee(n.value),{isFetching:u,data:r}=O({queryKey:["prisma-stable-distribution"],queryFn:()=>s.getStableDistribution("ethereum").then(c=>c.distribution),initialData:[],initialDataUpdatedAt:0}),i=w(()=>ae(o.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),v=w(()=>[{name:e("numPos"),data:Object.values(r.value).map(c=>c.value)}]),p=w(()=>r.value.map(c=>c.label));return(c,l)=>{const d=te,g=U;return _(),A(g,{title:a(e)("title"),loading:a(u)},{default:y(()=>[f(d,{options:a(i),series:a(v)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function da(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distribution of current user deposits"}},numPos:{t:0,b:{t:2,i:[{t:3}],s:"# of positions"}}}})}typeof da=="function"&&da(Vo);const Ci=P(Vo,[["__scopeId","data-v-efda0880"]]),ki={ref:"chartRef",class:"chart"},qo=T({__name:"ChartCumulativeWithdrawals",setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new Ee(n.value),{isFetching:u,data:r}=O({queryKey:["prisma-cum-withdrawals"],queryFn:()=>s.getCumulativeWithdrawals("ethereum","all").then(c=>c.withdrawals),initialData:[],initialDataUpdatedAt:0}),{chart:i,series:v}=ce({createChartOptions:ie({localization:{priceFormatter:c=>`$${j(c,1,"dollar")}${G(c,"dollar")}`}}),series:{type:"Area",name:"withdrawals",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}))}});ue(p);function p(){if(!i.value||!v.withdrawals)return;const c=r.value.map(l=>({time:l.timestamp,value:l.value})).uniqWith((l,d)=>l.time===d.time).orderBy(l=>l.time,"asc");c.length>0&&v.withdrawals.setData(c),i.value.timeScale().fitContent()}return(c,l)=>{const d=U;return _(),A(d,{title:a(e)("title"),loading:a(u)},{default:y(()=>[m("div",ki,null,512)]),_:1},8,["title","loading"])}}});function pa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Cumulative value of collaterals withdrawn"}}}})}typeof pa=="function"&&pa(qo);const Si={class:"address font-mono"},Li=["href"],Ai={class:"end"},Ti={class:"end"},Ii={class:"address end font-mono"},Pi=["href"],Mo=T({__name:"TableTopDeposits",setup(t){const{t:e}=B(),o=F(),n=new Ee(o.flavor),{isFetching:s,data:u}=O({queryKey:["prisma-stable-top-deposits"],queryFn:()=>n.getTopStableDeposits("ethereum",5,"7d").then(i=>i.operations),initialData:[],initialDataUpdatedAt:0}),r=w(()=>u.value.map(i=>i));return(i,v)=>{const p=ee,c=oe,l=U;return _(),A(l,{title:a(e)("title"),loading:a(s)},{default:y(()=>[f(c,{class:"deposits-table",rows:a(r),columns:["Address",{label:"Amount",align:"end"},{label:"Date",align:"end"},{label:"Tx",align:"end"}]},{row:y(({item:d})=>[m("div",Si,[m("a",{href:`https://etherscan.io/address/${d.user}`,target:"_blank"},I(a(H)(d.user,8)),9,Li)]),m("div",Ai,[f(p,{value:d.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",Ti,I(new Date(d.timestamp*1e3).toLocaleDateString()),1),m("div",Ii,[m("a",{href:`https://etherscan.io/tx/${d.hash}`,target:"_blank"},I(a(H)(d.hash,8)),9,Pi)])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function ma(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest deposits past 7 days"}}}})}typeof ma=="function"&&ma(Mo);const xi=P(Mo,[["__scopeId","data-v-1ac74cce"]]),Di={class:"address font-mono"},Vi=["href"],qi={class:"end"},Mi={class:"end"},Fi={class:"address end font-mono"},Ri=["href"],Fo=T({__name:"TableTopWithdrawals",setup(t){const{t:e}=B(),o=F(),n=new Ee(o.flavor),s=w(()=>r.value.map(i=>i)),{isFetching:u,data:r}=O({queryKey:["prisma-stable-top-withdrawals"],queryFn:()=>n.getTopStableWithdrawals("ethereum",5,"7d").then(i=>i.operations),initialData:[],initialDataUpdatedAt:0});return(i,v)=>{const p=ee,c=oe,l=U;return _(),A(l,{title:a(e)("title"),loading:a(u)},{default:y(()=>[f(c,{class:"withdrawals-table",rows:a(s),columns:["Address",{label:"Amount",align:"end"},{label:"Date",align:"end"},{label:"Tx",align:"end"}]},{row:y(({item:d})=>[m("div",Di,[m("a",{href:`https://etherscan.io/address/${d.user}`,target:"_blank"},I(a(H)(d.user,8)),9,Vi)]),m("div",qi,[f(p,{value:d.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",Mi,I(new Date(d.timestamp*1e3).toLocaleDateString()),1),m("div",Fi,[m("a",{href:`https://etherscan.io/tx/${d.hash}`,target:"_blank"},I(a(H)(d.hash,8)),9,Ri)])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function va(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest withdrawals past 7 days"}}}})}typeof va=="function"&&va(Fo);const Bi=P(Fo,[["__scopeId","data-v-b1821910"]]),Ui={class:"dashboard"},Ei=T({__name:"StabilityPool.page",setup(t){return(e,o)=>(_(),C("div",Ui,[f(xo),f($i),f(Ci),f(qo),f(xi),f(Bi)]))}}),Oi=P(Ei,[["__scopeId","data-v-aff978ff"]]),Wi={key:0,class:"value"},Ki={key:1,class:"value"},Ni=["innerHTML"],Hi={key:0,class:"value"},Gi={key:1,class:"value"},ji=["innerHTML"],Zi={class:"labels"},zi={class:"label"},Yi={class:"label-second"},Qi=T({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(t){return(e,o)=>{const n=at;return _(),C("div",{class:M(["kpi",{disabled:!e.hasValue}])},[m("div",{class:M(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[Y(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(_(),A(n,{key:0},{trigger:y(()=>[e.hasValue?(_(),C("span",Wi,I(e.value),1)):(_(),C("span",Ki," ? "))]),default:y(()=>[Y(e.$slots,"tooltip",{},()=>[m("span",{innerHTML:e.tooltip},null,8,Ni)],!0)]),_:3})):(_(),C(z,{key:1},[e.hasValue?(_(),C("span",Hi,I(e.value),1)):(_(),C("span",Gi," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(_(),A(n,{key:0},{default:y(()=>[m("span",{innerHTML:e.tooltip},null,8,ji)]),_:1})):D("",!0)],2),m("div",Zi,[Y(e.$slots,"label",{},()=>[m("div",zi,I(e.label),1)],!0),Y(e.$slots,"label-second",{},()=>[m("div",Yi,I(e.labelSecond),1)],!0)])],2)}}}),we=P(Qi,[["__scopeId","data-v-a911f3fe"]]),Ji={class:"kpis"},Xi=T({__name:"KPIs",setup(t){const e=F(),o=new nt(e.flavor),{data:n}=O({queryKey:["prisma-stable-kpi"],queryFn:()=>o.getStableCoinKPI("ethereum").then(s=>s.info)});return(s,u)=>{const r=ee,i=we;return _(),C("div",Ji,[f(i,{label:`${a(_t)(a(e).flavor)} price`,"has-value":!!a(n)},{default:y(()=>[a(n)?(_(),A(r,{key:0,value:a(n).price,precision:4,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["label","has-value"]),f(i,{label:"Total supply","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),A(r,{key:0,value:a(n).supply,precision:2,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),f(i,{label:"24h Volume (Curve)","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),A(r,{key:0,value:a(n).volume,precision:1,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),f(i,{label:"Aggregate -2% Depth (Curve)","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),A(r,{key:0,value:a(n).depth,precision:1,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"])])}}}),ec=P(Xi,[["__scopeId","data-v-049fad43"]]),tc={ref:"chartRef",class:"chart"},Ro=T({__name:"ChartPrice",setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=()=>{switch(n.value){case"lsd":return"0xF980B4A4194694913Af231De69AB4593f5E0fCDc";case"lrt":return"0xC03FEF1c425956A3Cd5762022E511e0d4148B3D6"}},u=()=>{switch(n.value){case"lsd":return"0x4591DBfF62656E7859Afe5e45f6f47D3669fBB28";case"lrt":return"0x35282d87011f87508D457F08252Bc5bFa52E10A0"}},r=()=>{const S=Math.floor(new Date().getTime()/1e3),k=14400,b=S-k*200,$="0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",L=s(),x=u();return{pool:L,chain:"ethereum",main_token:$,reference_token:x,interval:k,start:b,end:S}},i=ye().getSocket("prices"),v=new mt(i,"ethereum",r()),p=me(v.ohlc$,[]),c=w(()=>p.value.length===0),l=w(()=>{switch(n.value){case"lsd":return"Price is in USDC from Curve mkUSD/USDC pool";case"lrt":return"Price is in USDC from Curve ULTRA/USDC pool";default:return"???"}}),{chart:d,series:g}=ce({createChartOptions:ie({localization:{priceFormatter:S=>`$${j(S,1,"dollar")}${G(S,"dollar")}`}}),series:{type:"Candlestick",name:"price",options:w(()=>{const{colors:S}=o.value;return{priceFormat:{type:"price",precision:6,minMove:.01},upColor:S.green,borderUpColor:S.green,wickUpColor:S.green,downColor:S.red,borderDownColor:S.red,wickDownColor:S.red,lastValueVisible:!0,priceLineVisible:!1}})}});ue(h);function h(){if(!d.value||!g.price)return;const S=p.value.map(k=>({time:k.time,open:k.open,high:k.high,low:k.low,close:k.close})).uniqWith((k,b)=>k.time===b.time).orderBy(k=>k.time,"asc");S.length>0&&g.price.setData(S),d.value.timeScale().fitContent()}return(S,k)=>{const b=at,$=U;return _(),A($,{title:a(e)("title",{stable:a(_t)(a(n))}),loading:a(c)},{actions:y(()=>[f(b,null,{default:y(()=>[m("div",null,I(a(l)),1)]),_:1})]),default:y(()=>[m("div",tc,null,512)]),_:1},8,["title","loading"])}}});function fa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:4,k:"stable"},{t:3,v:" price (last 30 days)"}]}}}})}typeof fa=="function"&&fa(Ro);const Bo=T({__name:"ChartPriceDistribution",setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new nt(n.value),{isFetching:u,data:r}=O({queryKey:["prisma-stable-price-distribution"],queryFn:()=>s.getPriceHistogram("ethereum",10,"all").then(l=>l.histogram),initialData:[],initialDataUpdatedAt:0}),i=w(()=>ae(o.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),v=w(()=>[{name:e("numPos"),data:Object.values(r.value).map(l=>l.value)}]),p=w(()=>r.value.map(l=>c(l.label))),c=l=>{const d=/-?\d+(\.\d+)?/g,g=h=>parseFloat(h).toFixed(4);return l.replace(d,h=>g(h))};return(l,d)=>{const g=te,h=U;return _(),A(h,{title:a(e)("title"),loading:a(u)},{default:y(()=>[f(g,{options:a(i),series:a(v)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function _a(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price histogram"}},numPos:{t:0,b:{t:2,i:[{t:3}],s:"# of hourly price records"}}}})}typeof _a=="function"&&_a(Bo);const ac=P(Bo,[["__scopeId","data-v-84966cee"]]),oc={ref:"chartRef",class:"chart"},Uo=T({__name:"ChartSupply",setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new nt(n.value),{isFetching:u,data:r}=O({queryKey:["prisma-stable-supply"],queryFn:()=>s.getSupplyHistory("ethereum").then(c=>c.supply),initialData:[],initialDataUpdatedAt:0}),{chart:i,series:v}=ce({createChartOptions:ie({localization:{priceFormatter:c=>`$${j(c,1,"dollar")}${G(c,"dollar")}`}}),series:{type:"Area",name:"supply",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}))}});ue(p);function p(){if(!i.value||!v.supply)return;const c=r.value.map(l=>({time:l.timestamp,value:l.value})).uniqWith((l,d)=>l.time===d.time).orderBy(l=>l.time,"asc");c.length>0&&v.supply.setData(c),i.value.timeScale().fitContent()}return(c,l)=>{const d=U;return _(),A(d,{title:a(e)("title"),loading:a(u)},{default:y(()=>[m("div",oc,null,512)]),_:1},8,["title","loading"])}}});function ha(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Supply"}}}})}typeof ha=="function"&&ha(Uo);const Eo=T({__name:"ChartHolders",setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new nt(n.value),{isFetching:u,data:r}=O({queryKey:["prisma-stable-holders"],queryFn:()=>s.getLargeStableCoinHolders("ethereum").then(l=>l.holders),initialData:[],initialDataUpdatedAt:0}),i=w(()=>ae(o.value,{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:l=>{let d=p.value[l.seriesIndex];d=d.length>10&&d.startsWith("0x")?H(d):d;const g=l.series[l.seriesIndex];return[`<div><b>${d}</b>:</div><div>${c(g)}</div>`].join("")}},labels:r.value.map(l=>l.label.length>10&&l.label.startsWith("0x")?H(l.label):l.label)})),v=w(()=>r.value.map(l=>l.value)),p=w(()=>r.value.map(l=>l.label)),c=l=>`$${j(Math.abs(l),1,"dollar")}${G(l,"dollar")}`;return(l,d)=>{const g=te,h=U;return _(),A(h,{title:a(e)("title"),loading:a(u)},{default:y(()=>[f(g,{options:a(i),series:a(v)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function ba(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest holders"}}}})}typeof ba=="function"&&ba(Eo);const nc=P(Eo,[["__scopeId","data-v-86a1c307"]]),Oo=T({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(t){const{t:e}=B(),{theme:o}=N(F()),n=w(()=>{const{colors:i}=o.value;return ae(o.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:v=>r(v)}},yaxis:{seriesName:"amounts",labels:{formatter:v=>r(v)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:v=>r(v)}},colors:[v=>v.value===0?i.blue:i.green,v=>v.value===0?i.blue:i.red]})}),s=w(()=>{if(!t.depth)return[];const i=[...t.depth.ask.prices.map(p=>({x:p,y:0})),...t.depth.bid.prices.map((p,c)=>({x:p,y:t.depth.bid.amounts[c]}))],v=[...t.depth.ask.prices.map((p,c)=>({x:p,y:t.depth.ask.amounts[c]}))];return[{name:"Bid",data:i},{name:"Ask",data:v}]}),u=w(()=>{var v;if(!((v=t.depth)!=null&&v.tokens)||t.depth.tokens.length===0)return e("title");const i=t.depth.tokens.join(" / ");return`${e("title")} - ${i} (Curve)`}),r=i=>`$${j(Math.abs(i),2,"dollar")}${G(i,"dollar")}`;return(i,v)=>{const p=te,c=U;return _(),A(c,{title:a(u),loading:i.loading},{default:y(()=>[f(p,{options:a(n),series:a(s)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function ga(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidity Depth"}}}})}typeof ga=="function"&&ga(Oo);const sc=P(Oo,[["__scopeId","data-v-46217fb2"]]),lc=T({__name:"ChartDepthContainer",setup(t){const e=F(),o=new nt(e.flavor),{isFetching:n,data:s}=O({queryKey:["prisma-stable-pool-depth"],queryFn:()=>o.getCurvePoolDepth("ethereum").then(u=>u.depth),initialData:[],initialDataUpdatedAt:0});return(u,r)=>(_(!0),C(z,null,ne(a(s),i=>(_(),A(sc,{key:i.name,loading:a(n),depth:i},null,8,["loading","depth"]))),128))}}),rc={class:"dashboard"},ic=T({__name:"Stablecoin.page",setup(t){return(e,o)=>(_(),C("div",rc,[f(ec,{style:{"grid-column":"1 / -1"}}),f(Ro),f(ac),f(Uo),f(nc),f(lc)]))}}),cc=P(ic,[["__scopeId","data-v-ca77ea76"]]),uc={key:0},dc=["onClick"],pc=T({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(t,{emit:e}){const o=e,n=w(()=>Math.ceil(t.itemsCount/t.itemsPerPage)),s=w(()=>{const l=[...Array(12).keys()].map(b=>b-6+t.page).filter(b=>b>=1&&b<=n.value),d=l.findIndex(b=>b===t.page),g=[],h=[],S=t.page!==1&&t.page!==n.value?[t.page]:[];let k=1;for(;;){const b=l[d-k];if(b&&b!==1&&g.unshift(b),g.length+h.length+S.length>=5||k>l.length)break;const $=l[d+k];if($&&$!==n.value&&h.push($),k++,g.length+h.length+S.length>=5||k>l.length)break}return[...g,...S,...h]});Q(s,()=>{const p=u(t.page,1,n.value);t.page!==p&&o("page",p)});const u=(p,c,l)=>(l<c&&(l=c),Math.min(Math.max(p,c),l)),r=()=>{o("page",u(t.page-1,1,n.value))},i=()=>{o("page",u(t.page+1,1,n.value))},v=p=>{o("page",u(p,1,n.value))};return(p,c)=>a(n)>1?(_(),C("ul",uc,[m("li",{class:M({active:p.page===1}),onClick:c[0]||(c[0]=l=>v(1))},c[2]||(c[2]=[m("button",null,"1",-1)]),2),a(n)>2?(_(),C("li",{key:0,onClick:r},c[3]||(c[3]=[m("button",null,[m("i",{class:"fas fa-chevron-left"})],-1)]))):D("",!0),(_(!0),C(z,null,ne(a(s),l=>(_(),C("li",{key:l,class:M({active:l===p.page}),onClick:d=>v(l)},[m("button",null,I(l),1)],10,dc))),128)),a(n)>2?(_(),C("li",{key:1,onClick:i},c[4]||(c[4]=[m("button",null,[m("i",{class:"fas fa-chevron-right"})],-1)]))):D("",!0),a(n)>1?(_(),C("li",{key:2,class:M({active:p.page===a(n)}),onClick:c[1]||(c[1]=l=>v(a(n)))},[m("button",null,I(a(n)),1)],2)):D("",!0)])):D("",!0)}}),_e=P(pc,[["__scopeId","data-v-2740fc27"]]),mc={class:"redemption-details"},vc={class:"kpis"},fc=["href"],Wo=T({__name:"RedemptionDetails",props:{vaultAddr:{},redemption:{}},setup(t){const{t:e}=B(),o=q(""),n=w(()=>t.redemption.troves_affected.filter(s=>{const u=o.value.toLocaleLowerCase().split(" ");return(i=>u.some(v=>i.toLocaleLowerCase().includes(v)))(s)}));return(s,u)=>{const r=ee,i=we,v=de,p=oe,c=U;return _(),A(c,{title:a(e)("redemption-details")},{default:y(()=>[m("div",mc,[m("div",vc,[f(i,{label:a(e)("withdrawal")},{default:y(()=>[f(r,{value:s.redemption.attempted_debt_amount,precision:2,type:"dollar"},null,8,["value"]),u[2]||(u[2]=W(" / ")),f(r,{value:s.redemption.collateral_sent_to_redeemer_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),f(i,{label:a(e)("fee")},{default:y(()=>[f(r,{value:s.redemption.collateral_fee_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),f(c,{title:a(e)("troves-affected"),compact:!0},{actions:y(()=>[f(v,{modelValue:a(o),"onUpdate:modelValue":u[0]||(u[0]=l=>le(o)?o.value=l:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:y(()=>[f(p,{class:"troves-affected-table",rows:a(n),columns:["Trove"]},{row:y(({item:l})=>[m("div",null,[m("a",{class:"font-mono",target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${l}`,onClick:u[1]||(u[1]=J(()=>{},["stop"]))},I(l),9,fc)])]),_:1},8,["rows"])]),_:1},8,["title"])])]),_:1},8,["title"])}}});function ya(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":{t:0,b:{t:2,i:[{t:3}],s:"Troves affected"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"redemption-details":{t:0,b:{t:2,i:[{t:3}],s:"Redemption Details"}},withdrawal:{t:0,b:{t:2,i:[{t:3}],s:"Attempted / Received"}},fee:{t:0,b:{t:2,i:[{t:3}],s:"Fee"}}}})}typeof ya=="function"&&ya(Wo);const Et=P(Wo,[["__scopeId","data-v-cf49e2ce"]]),_c={class:"item"},hc=["src"],bc={key:1,class:"empty"},gc={class:"label"},yc=T({__name:"SelectVault",props:{vault:{},all:{type:Boolean,default:!1}},emits:["select-vault"],setup(t,{emit:e}){const o=e,n=F(),s=[...t.all?["all"]:[],...n.flavor==="lsd"?ci:ui];ve(()=>{u(s[0])});const u=r=>{o("select-vault",r)};return(r,i)=>{const v=$o;return _(),A(v,{options:s,selected:r.vault,onInput:u},{item:y(({item:p})=>[m("div",_c,[p!=="all"?(_(),C("img",{key:0,src:a(xe)(p)},null,8,hc)):(_(),C("div",bc)),m("div",gc,I(p==="all"?"All":a(Ie)(p)),1)])]),_:1},8,["selected"])}}}),bt=P(yc,[["__scopeId","data-v-2a56535c"]]),wc=[{unit:"year",seconds:365*24*60*60},{unit:"month",seconds:30*24*60*60},{unit:"week",seconds:7*24*60*60},{unit:"day",seconds:24*60*60},{unit:"hour",seconds:60*60},{unit:"minute",seconds:60},{unit:"second",seconds:1}];function $c(t,e){const o=Math.round(t.value/1e3)-e;for(const{unit:n,seconds:s}of wc)if(o>=s){const u=Math.round(o/s);return`${u} ${u===1?n:n+"s"} ago`}return"just now"}function ge(){const t=q(Date.now());return ve(()=>{setInterval(()=>{t.value=Date.now()})}),{relativeTime:o=>$c(t,o)}}function $e(t,e){const o=q(t),n=q("desc"),s=(r,i)=>{o.value=r,n.value=i},u=w(()=>({column:o.value,order:n.value}));return{sortColumn:o,sortOrder:n,sorting:u,onSort:s}}function he(t,e){const o=q(1),n=w(()=>t.value.drop((o.value-1)*e).take(e)),s=u=>{o.value=u};return Q(n,u=>{u.length===0&&(o.value=Math.max(1,Math.ceil(t.value.length/e)))}),{page:o,rowsPage:n,onPage:s}}const Cc={style:{display:"flex",gap:"1rem"}},kc=["src"],Sc=["href"],Lc=["href"],Ac={class:"end"},Tc={class:"end"},Ic={class:"end"},wa=15,Ko=T({__name:"TableRedemptions",props:{vaults:{default:()=>[]}},setup(t){const e=F(),o=new Bt(e.flavor),{t:n}=B(),{isFetching:s,data:u}=O({queryKey:["prisma-redemptions",w(()=>t.vaults.map(b=>b.address))],queryFn:({queryKey:[,b]})=>b.length>0?Promise.all(b.map($=>o.getRedemptions("ethereum",$))).then($=>$.flat()):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:r}=ge(),i=q(""),v=q("all"),p=q(null),c=["",{id:"redeemer",label:"Redeemer",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:l,onSort:d}=$e("timestamp"),g=w(()=>u.value.filter(b=>{const $=i.value.toLocaleLowerCase().split(" "),L=R=>$.some(K=>R.toLocaleLowerCase().includes(K)),x=v.value==="all"?!0:b.vault===v.value;return L(b.redeemer)&&x}).orderBy(b=>{switch(l.value.column){case"redeemer":return b.redeemer;case"tx":return b.transaction;case"debt":return b.actual_debt_amount;case"numtroves":return b.troves_affected_count;case"timestamp":return b.timestamp}},l.value.order)),{page:h,rowsPage:S,onPage:k}=he(g,wa);return(b,$)=>{const L=de,x=_e,R=ee,K=oe,X=U,E=ke;return _(),C(z,null,[f(X,{class:"redemptions-card",title:a(n)("title"),loading:a(s)},{actions:y(()=>[f(bt,{vault:a(v),all:!0,onSelectVault:$[0]||($[0]=V=>v.value=V)},null,8,["vault"]),m("div",Cc,[f(L,{modelValue:a(i),"onUpdate:modelValue":$[1]||($[1]=V=>le(i)?i.value=V:null),search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),f(x,{"items-count":a(g).length,"items-per-page":wa,page:a(h),onPage:a(k)},null,8,["items-count","page","onPage"])])]),default:y(()=>[f(K,{class:"redemptions-table",rows:a(S),columns:c,sorting:a(l),onSortColumn:a(d),onSelected:$[4]||($[4]=V=>p.value=V)},{row:y(({item:V})=>[m("img",{src:a(xe)(V.vault)},null,8,kc),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/address/${V.redeemer}`,target:"_blank",onClick:$[2]||($[2]=J(()=>{},["stop"]))},I(a(H)(V.redeemer)),9,Sc)]),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.transaction}`,target:"_blank",onClick:$[3]||($[3]=J(()=>{},["stop"]))},I(a(H)(V.transaction)),9,Lc)]),m("div",Ac,[f(R,{type:"dollar",value:Math.round(V.actual_debt_amount),precision:1/0},null,8,["value"])]),m("div",Tc,I(V.troves_affected_count),1),m("div",Ic,I(a(r)(V.timestamp)),1)]),"row-details":y(()=>$[6]||($[6]=[W("   ")])),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),f(E,{show:!!a(p),onClose:$[5]||($[5]=V=>p.value=null)},{default:y(()=>[a(p)?(_(),A(Et,{key:0,redemption:a(p),"vault-addr":a(p).vault},null,8,["redemption","vault-addr"])):D("",!0)]),_:1},8,["show"])],64)}}});function $a(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof $a=="function"&&$a(Ko);const Pc=P(Ko,[["__scopeId","data-v-41946c55"]]),xc={class:"dashboard"},Dc=T({__name:"Redemptions.page",setup(t){const e=F(),o=ye().getSocket(Ue(e.flavor)),n=new We(o,"ethereum"),s=me(n.overview$,[]);return(u,r)=>(_(),C("div",xc,[f(Pc,{vaults:a(s)},null,8,["vaults"])]))}}),Vc=P(Dc,[["__scopeId","data-v-0423beeb"]]),qc={class:"liquidation-details"},Mc={class:"kpis"},Fc=["href"],No=T({__name:"LiquidationDetails",props:{vaultAddr:{},liquidation:{}},setup(t){const{t:e}=B(),o=q(""),n=w(()=>t.liquidation.troves_affected.filter(s=>{const u=o.value.toLocaleLowerCase().split(" ");return(i=>u.some(v=>i.toLocaleLowerCase().includes(v)))(s)}));return(s,u)=>{const r=ee,i=we,v=de,p=oe,c=U;return _(),A(c,{title:a(e)("liquidation-details")},{default:y(()=>[m("div",qc,[m("div",Mc,[f(i,{label:a(e)("debt")},{default:y(()=>[f(r,{value:s.liquidation.liquidated_debt,precision:2,type:"dollar"},null,8,["value"]),u[2]||(u[2]=W(" / ")),f(r,{value:s.liquidation.liquidated_collateral,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),f(i,{label:a(e)("gas-compensation")},{default:y(()=>[f(r,{value:s.liquidation.collateral_gas_compensation_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),f(c,{title:a(e)("troves-affected"),compact:!0},{actions:y(()=>[f(v,{modelValue:a(o),"onUpdate:modelValue":u[0]||(u[0]=l=>le(o)?o.value=l:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:y(()=>[f(p,{class:"troves-affected-table",rows:a(n),columns:["Trove"]},{row:y(({item:l})=>[m("div",null,[m("a",{class:"font-mono",target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${l}`,onClick:u[1]||(u[1]=J(()=>{},["stop"]))},I(l),9,Fc)])]),_:1},8,["rows"])]),_:1},8,["title"])])]),_:1},8,["title"])}}});function Ca(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":{t:0,b:{t:2,i:[{t:3}],s:"Troves affected"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"liquidation-details":{t:0,b:{t:2,i:[{t:3}],s:"Liquidation Details"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt / Collateral"}},"gas-compensation":{t:0,b:{t:2,i:[{t:3}],s:"Gas compensation"}}}})}typeof Ca=="function"&&Ca(No);const Ot=P(No,[["__scopeId","data-v-4ce6b847"]]),Rc={style:{display:"flex",gap:"1rem"}},Bc=["src"],Uc=["href"],Ec=["href"],Oc={class:"end"},Wc={class:"end"},Kc={class:"end"},ka=15,Ho=T({__name:"TableLiquidations",props:{vaults:{default:()=>[]}},setup(t){const e=F(),o=new Rt(e.flavor),{t:n}=B(),{isFetching:s,data:u}=O({queryKey:["prisma-liquidations",w(()=>t.vaults.map(b=>b.address))],queryFn:({queryKey:[,b]})=>b.length>0?Promise.all(b.map($=>o.getLiquidations("ethereum",$))).then($=>$.flat()):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:r}=ge(),i=q(""),v=q("all"),p=q(null),c=["",{id:"liquidator",label:"Liquidator",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:l,onSort:d}=$e("timestamp"),g=w(()=>u.value.filter(b=>{const $=i.value.toLocaleLowerCase().split(" "),L=R=>$.some(K=>R.toLocaleLowerCase().includes(K)),x=v.value==="all"?!0:b.vault===v.value;return L(b.liquidator)&&x}).orderBy(b=>{switch(l.value.column){case"liquidator":return b.liquidator;case"tx":return b.transaction;case"debt":return b.liquidated_collateral_usd;case"numtroves":return b.troves_affected_count;case"timestamp":return b.timestamp}},l.value.order)),{page:h,rowsPage:S,onPage:k}=he(g,ka);return(b,$)=>{const L=de,x=_e,R=ee,K=oe,X=U,E=ke;return _(),C(z,null,[f(X,{class:"liquidations-card",title:a(n)("title"),loading:a(s)},{actions:y(()=>[f(bt,{class:"select-vault",vault:a(v),all:!0,onSelectVault:$[0]||($[0]=V=>v.value=V)},null,8,["vault"]),m("div",Rc,[f(L,{modelValue:a(i),"onUpdate:modelValue":$[1]||($[1]=V=>le(i)?i.value=V:null),class:"search",style:{"flex-grow":"1"},search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),f(x,{class:"pagination","items-count":a(g).length,"items-per-page":ka,page:a(h),onPage:a(k)},null,8,["items-count","page","onPage"])])]),default:y(()=>[f(K,{class:"liquidations-table",rows:a(S),columns:c,sorting:a(l),onSortColumn:a(d),onSelected:$[4]||($[4]=V=>p.value=V)},{row:y(({item:V})=>[m("img",{src:a(xe)(V.vault)},null,8,Bc),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/address/${V.liquidator}`,target:"_blank",onClick:$[2]||($[2]=J(()=>{},["stop"]))},I(a(H)(V.liquidator)),9,Uc)]),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.transaction}`,target:"_blank",onClick:$[3]||($[3]=J(()=>{},["stop"]))},I(a(H)(V.transaction)),9,Ec)]),m("div",Oc,[f(R,{type:"dollar",value:Math.round(V.liquidated_debt),precision:1/0},null,8,["value"])]),m("div",Wc,I(V.troves_affected_count),1),m("div",Kc,I(a(r)(V.timestamp)),1)]),"row-details":y(()=>$[6]||($[6]=[W("   ")])),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),f(E,{show:!!a(p),onClose:$[5]||($[5]=V=>p.value=null)},{default:y(()=>[a(p)?(_(),A(Ot,{key:0,liquidation:a(p),"vault-addr":a(p).vault},null,8,["liquidation","vault-addr"])):D("",!0)]),_:1},8,["show"])],64)}}});function Sa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Sa=="function"&&Sa(Ho);const Nc=P(Ho,[["__scopeId","data-v-e893b02b"]]),Hc={class:"dashboard"},Gc=T({__name:"Liquidations.page",setup(t){const e=F(),o=ye().getSocket(Ue(e.flavor)),n=new We(o,"ethereum"),s=me(n.overview$,[]);return(u,r)=>(_(),C("div",Hc,[f(Nc,{vaults:a(s)},null,8,["vaults"])]))}}),jc=P(Gc,[["__scopeId","data-v-dc876344"]]),Zc=["min","max"],zc=T({__name:"InputNumber",props:ze({min:{default:()=>-1/0},max:{default:()=>1/0}},{modelValue:{required:!0,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=Vt(t,"modelValue");return Q(e,o=>{o===""?e.value=null:typeof o=="number"&&(e.value=Math.min(Math.max(o,t.min),t.max))}),(o,n)=>yo((_(),C("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>e.value=s),type:"number",min:o.min,max:o.max},null,8,Zc)),[[es,e.value]])}}),Yc=P(zc,[["__scopeId","data-v-ec706f94"]]),Qc={ref:"chartRef",class:"chart"},Jc=T({__name:"ChartRevenueLine",props:{data:{default:()=>[]}},setup(t){const{theme:e}=N(F()),{chart:o,series:n}=ce({createChartOptions:ie({localization:{priceFormatter:r=>`$${j(r,1,"dollar")}${G(r,"dollar")}`}}),series:{type:"Area",name:"revenue",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...e.value.lineChartColors}))}});ue(s);function s(){if(!o.value||!n.revenue)return;const r=t.data.groupBy(i=>i.timestamp).entries().map(([,i])=>({time:i[0].timestamp,value:u(i[0])})).uniqWith((i,v)=>i.time===v.time).orderBy(i=>i.time,"asc");r.length>0&&n.revenue.setData(r),o.value.timeScale().fitContent()}const u=r=>r.unlock_penalty_revenue_usd+r.borrowing_fees_revenue_usd+r.redemption_fees_revenue_usd;return(r,i)=>(_(),C("div",Qc,null,512))}}),Xc=T({__name:"ChartRevenueBreakdown",props:{data:{default:()=>[]}},setup(t){const{theme:e}=N(F()),o=w(()=>ae(e.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:n.value,labels:{formatter:r,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:u.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),n=w(()=>t.data.orderBy(l=>l.timestamp,"asc").groupBy(l=>l.timestamp).entries().map(([l])=>new Date(parseInt(l,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((l,d)=>d%8===0?l:"")),s=w(()=>Object.keys(t.data[0]).filter(l=>l!=="timestamp").map(l=>t.data.map(d=>({...d,source:l}))).flat().groupBy(l=>l.source).entries().map(([l,d])=>({name:p(l),data:d.orderBy(g=>g.timestamp,"asc").map(g=>({x:new Date(g.timestamp*1e3).toLocaleDateString(),y:g[l]}))}))),u=w(()=>Math.max(...t.data.groupBy(l=>l.timestamp).entries().map(([,l])=>l.reduce((d,g)=>d+v(g),0)))*1.1),r=l=>l,i=l=>`$${j(l,1,"dollar")}${G(l,"dollar")}`,v=l=>l.unlock_penalty_revenue_usd+l.borrowing_fees_revenue_usd+l.redemption_fees_revenue_usd,p=l=>{switch(l){case"unlock_penalty_revenue_usd":return"Unlock penalty";case"borrowing_fees_revenue_usd":return"Borrowing fees";case"redemption_fees_revenue_usd":return"Redemption fees";default:return c(l)}},c=l=>l.split("_").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join("");return(l,d)=>{const g=te;return _(),A(g,{options:a(o),series:a(s)},null,8,["options","series"])}}}),eu=P(Xc,[["__scopeId","data-v-ff97912b"]]),tu={class:"actions"},au={class:"chart-input"},ou={class:"chart-toggles"},nu={class:"chart-types"},Go=T({__name:"ChartRevenue",setup(t){const{t:e}=B(),o=F(),n=new So(o.flavor),s=q("line"),u=q(1699723102),r=q(!0),{isFetching:i,data:v}=O({queryKey:["prisma-revenue-snapshots"],queryFn:()=>n.getSnapshots().then(l=>l.snapshots),initialData:[],initialDataUpdatedAt:0}),p=w(()=>v.value.filter(l=>l.timestamp>u.value).map(l=>structuredClone(l)).map(l=>(r.value||(l.unlock_penalty_revenue_usd=0),l))),c=l=>{s.value!==l&&(s.value=l)};return(l,d)=>{const g=Yc,h=ot,S=at,k=U;return _(),A(k,{title:a(e)("title"),loading:a(i)},{actions:y(()=>[m("div",tu,[m("div",au,[f(g,{modelValue:a(u),"onUpdate:modelValue":d[0]||(d[0]=b=>le(u)?u.value=b:null),placeholder:"Timestamp cut-off",min:0,max:new Date().getTime()/1e3},null,8,["modelValue","max"])]),m("div",ou,[f(S,null,{trigger:y(()=>[f(h,{modelValue:a(r),"onUpdate:modelValue":d[1]||(d[1]=b=>le(r)?r.value=b:null)},{default:y(()=>d[4]||(d[4]=[m("i",{class:"fas fa-burn"},null,-1)])),_:1},8,["modelValue"])]),default:y(()=>[W(" "+I(a(e)("include-unlock-penalty")),1)]),_:1})]),m("div",nu,[f(h,{value:"Line","model-value":a(s)==="line",onClick:d[2]||(d[2]=b=>c("line"))},null,8,["model-value"]),f(h,{value:"Breakdown","model-value":a(s)==="breakdown",onClick:d[3]||(d[3]=b=>c("breakdown"))},null,8,["model-value"])])])]),default:y(()=>[a(s)==="line"?(_(),A(Jc,{key:0,data:a(p)},null,8,["data"])):(_(),A(eu,{key:1,data:a(p)},null,8,["data"]))]),_:1},8,["title","loading"])}}});function La(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"PRISMA revenue"}},"include-unlock-penalty":{t:0,b:{t:2,i:[{t:3}],s:"Include unlock penalty revenue"}}}})}typeof La=="function"&&La(Go);const su=P(Go,[["__scopeId","data-v-4a43ef5f"]]),jo=T({__name:"ChartBreakdown",setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new So(n.value),{isFetching:u,data:r}=O({queryKey:["prisma-revenue-breakdown"],queryFn:()=>s.getBreakdown(),initialData:{unlock_penalty:0,borrowing_fees:0,redemption_fees:0},initialDataUpdatedAt:0}),i=w(()=>ae(o.value,{chart:{id:"breakdown",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:l=>{const d=p.value[l.seriesIndex],g=l.series[l.seriesIndex];return[`<div><b>${d}</b>:</div><div>${c(g)}</div>`].join("")}},labels:p.value})),v=w(()=>[r.value.unlock_penalty,r.value.borrowing_fees,r.value.redemption_fees]),p=w(()=>[e("unlockPenalty"),e("borrowingFees"),e("redemptionFees")]),c=l=>`$${j(l,2,"percentage")}${G(l,"percentage")}`;return(l,d)=>{const g=te,h=U;return _(),A(h,{title:a(e)("title"),loading:a(u)},{default:y(()=>[f(g,{options:a(i),series:a(v)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function Aa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Breakdown"}},unlockPenalty:{t:0,b:{t:2,i:[{t:3}],s:"Unlock penalty"}},borrowingFees:{t:0,b:{t:2,i:[{t:3}],s:"Borrowing fees"}},redemptionFees:{t:0,b:{t:2,i:[{t:3}],s:"Redemption fees"}}}})}typeof Aa=="function"&&Aa(jo);const lu=P(jo,[["__scopeId","data-v-3a9ff47c"]]),ru={class:"dashboard"},iu=T({__name:"Revenue.page",setup(t){return(e,o)=>(_(),C("div",ru,[f(su,{style:{"grid-column":"1"}}),f(lu,{style:{"grid-column":"2"}})]))}}),cu=P(iu,[["__scopeId","data-v-f04a3993"]]),uu={class:"tab-view"},du={class:"tab-headers"},pu=["onClick"],mu={class:"tabs"},vu=T({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(t,{emit:e}){const o=e,n=q(null),s=At(),u=w(()=>(s.default?s.default():[]).filter(v=>v.props));Q(()=>t.active,i=>{n.value=i,o("tab",{tab:u.value[i],index:n.value})},{immediate:!0});const r=(i,v)=>{i.props.disabled||(n.value=v,o("tab",{tab:u.value[v],index:n.value}))};return(i,v)=>(_(),C("div",uu,[m("ul",du,[(_(!0),C(z,null,ne(a(u),(p,c)=>(_(),C("li",{key:c,class:M(["tab-header",{active:a(n)===c,disabled:p.props.disabled}]),onClick:l=>r(p,c)},I(p.props.header),11,pu))),128))]),m("div",mu,[(_(!0),C(z,null,ne(a(u),(p,c)=>yo((_(),C("div",{key:c,class:"tab"},[(_(),A(Tt(p)))])),[[ts,a(n)===c]])),128))])]))}}),lt=P(vu,[["__scopeId","data-v-9a51648f"]]),rt=T({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(t){return(e,o)=>Y(e.$slots,"default")}}),fu={class:"legend"},_u=["onClick"],hu={class:"label"},bu=T({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(t,{emit:e}){const o=e;return(n,s)=>(_(),C("div",fu,[(_(!0),C(z,null,ne(n.items,u=>(_(),C("div",{key:u.id,class:M(["item",{togglable:u.togglable,disabled:n.disabled.includes(u.id)}]),onClick:r=>{u.togglable&&o("toggle",u.id)}},[m("div",{class:"color",style:pe({"background-color":u.color})},null,4),m("div",hu,I(u.label),1)],10,_u))),128))]))}}),Wt=P(bu,[["__scopeId","data-v-7eecc2f4"]]);function St(t){const e=Math.floor(new Date().getTime()/1e3),o=14400,n=e-o*299;switch(t){case"convex":return{pool:"0x3b21C2868B6028CfB38Ff86127eF22E68d16d53B",chain:"ethereum",main_token:"0xdA47862a83dac0c112BA89c6abC2159b95afd71C",reference_token:"0x34635280737b5BFe6c7DC2FC3065D60d66e78185",interval:o,start:n,end:e};case"yearn":return{pool:"0x69833361991ed76f9e8DBBcdf9ea1520fEbFb4a7",chain:"ethereum",main_token:"0xdA47862a83dac0c112BA89c6abC2159b95afd71C",reference_token:"0xe3668873D944E4A949DA05fc8bDE419eFF543882",interval:o,start:n,end:e}}}function gu(t){const e=Math.floor(new Date().getTime()/1e3),o="day",n=e-86400*299;switch(t){case"convex":return{pool:"0x3b21C2868B6028CfB38Ff86127eF22E68d16d53B",chain:"ethereum",interval:o,start:n,end:e};case"yearn":return{pool:"0x69833361991ed76f9e8DBBcdf9ea1520fEbFb4a7",chain:"ethereum",interval:o,start:n,end:e}}}function Kt(t){const e=w(t),o=as(go(Object.fromEntries(e.value.map(s=>[s.id,!0])))),n=w(()=>e.value.filter(s=>!o[s.id].value).map(s=>s.id));return{items:e,toggles:o,disabled:n}}const yu={ref:"chartRef",class:"chart"},Zo=T({__name:"ChartComparisonPrice",setup(t){const{t:e}=B(),{theme:o}=N(F()),{items:n}=Kt(()=>[{id:"cvxprisma",label:"cvxPRISMA",color:o.value.colors.blue},{id:"yprisma",label:"yPRISMA",color:o.value.colors.yellow}]),s=ye().getSocket("prices"),u=new mt(s,"ethereum",St("convex")),r=new mt(s,"ethereum",St("yearn")),i=me(u.ohlc$,[]),v=me(r.ohlc$,[]),p=w(()=>i.value.length+v.value.length===0);let c=1.1,l=0;const{chart:d,series:g}=ce({createChartOptions:ie({localization:{priceFormatter:k=>S(k)}}),series:[{type:"Line",name:"convex",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:se.WithSteps,color:o.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"yearn",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:se.WithSteps,color:o.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});Q(i,k=>{h(k,"convex")}),Q(v,k=>{h(k,"yearn")});function h(k,b){if(!d.value||!g.convex||!g.yearn)return;const $=k.map(L=>({time:L.time,value:L.close})).uniqWith((L,x)=>L.time===x.time).orderBy(L=>L.time,"asc");if($.length>0){b==="convex"?g.convex.setData($):g.yearn.setData($);const L=[...i.value.map(x=>x.close),...v.value.map(x=>x.close)];l=Math.min(...L),c=Math.max(...L),d.value.timeScale().fitContent()}}function S(k){const b=c-l,$=b>1?b-Math.floor(b):b,L=-Math.floor(Math.log10($)+1)+2;return`${j(k,L,"dollar")}${G(k,"dollar")}`}return(k,b)=>{const $=Wt,L=U;return _(),A(L,{title:a(e)("title"),loading:a(p)},{"actions-secondary":y(()=>[f($,{items:a(n)},null,8,["items"])]),default:y(()=>[m("div",yu,null,512)]),_:1},8,["title","loading"])}}});function Ta(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price (peg)"}}}})}typeof Ta=="function"&&Ta(Zo);const wu={ref:"chartRef",class:"chart"},zo=T({__name:"ChartComparisonTVL",setup(t){const{t:e}=B(),o=new st,{theme:n}=N(F()),{items:s}=Kt(()=>[{id:"cvxprisma",label:"cvxPRISMA",color:n.value.colors.blue},{id:"yprisma",label:"yPRISMA",color:n.value.colors.yellow}]),u=w(()=>r.value||v.value),{isFetching:r,data:i}=O({queryKey:["prisma-wrapper-tvl","convex"],queryFn:()=>o.getTVL("convex").then(h=>h.tvl),initialData:[],initialDataUpdatedAt:0}),{isFetching:v,data:p}=O({queryKey:["prisma-wrapper-tvl","yearn"],queryFn:()=>o.getTVL("yearn").then(h=>h.tvl),initialData:[],initialDataUpdatedAt:0}),{chart:c,series:l}=ce({createChartOptions:ie({localization:{priceFormatter:h=>g(h)}}),series:[{type:"Line",name:"convex",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:se.WithSteps,color:n.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"yearn",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:se.WithSteps,color:n.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});Q([i,c],([h,S])=>{d("convex",h,S)}),Q([p,c],([h,S])=>{d("yearn",h,S)});function d(h,S,k){if(!k||!l.convex||!l.yearn)return;const b=(S??[]).map($=>({time:$.timestamp,value:$.value})).uniqWith(($,L)=>$.time===L.time).orderBy($=>$.time,"asc");b.length>0&&(h==="convex"?l.convex.setData(b):l.yearn.setData(b),k.timeScale().fitContent())}function g(h){return`$${j(h,0,"dollar")}${G(h,"dollar")}`}return(h,S)=>{const k=Wt,b=U;return _(),A(b,{title:a(e)("title"),loading:a(u)},{"actions-secondary":y(()=>[f(k,{items:a(s)},null,8,["items"])]),default:y(()=>[m("div",wu,null,512)]),_:1},8,["title","loading"])}}});function Ia(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof Ia=="function"&&Ia(zo);const $u={class:"dashboard-grid"},Cu=T({__name:"Overview",setup(t){return(e,o)=>(_(),C("div",$u,[f(Zo),f(zo)]))}}),ku=P(Cu,[["__scopeId","data-v-5f25051b"]]),Su={ref:"chartRef",class:"chart"},Nt=T({__name:"ChartPrice",props:{contract:{}},setup(t){const{t:e}=B(),o=St(t.contract),n=gu(t.contract),s=ye().getSocket("prices"),u=new mt(s,"ethereum",o),r=new Gs(s,"ethereum",n),i=me(u.ohlc$,[]),v=me(r.volume$,[]),p=w(()=>i.value.length+v.value.length===0);let c=1,l=0;const{theme:d,flavor:g}=N(F()),{chart:h,series:S}=ce({createChartOptions:ie({localization:{priceFormatter:L=>$(L)}}),series:[{type:"Candlestick",name:"price",options:w(()=>{const{colors:L}=d.value;return{priceFormat:{type:"price",precision:6,minMove:.01},upColor:L.green,borderUpColor:L.green,wickUpColor:L.green,downColor:L.red,borderDownColor:L.red,wickDownColor:L.red,lastValueVisible:!1,priceLineVisible:!1}})},{type:"Histogram",name:"volume",options:w(()=>{const{colors:L}=d.value;return{color:g.value==="lsd"?L.blue:L.purple,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}})}]});ue(k);function k(){if(!h.value||!S.price)return;const L=1,x=i.value.map(R=>({time:R.time,open:Math.pow(R.open,L),high:Math.pow(R.high,L),low:Math.pow(R.low,L),close:Math.pow(R.close,L)})).uniqWith((R,K)=>R.time===K.time).orderBy(R=>R.time,"asc");x.length>0&&(S.price.setData(x),h.value.timeScale().fitContent(),l=Math.min(...x.map(R=>R.low)),c=Math.max(...x.map(R=>R.high))),h.value.timeScale().fitContent()}ue(b);function b(){if(!h.value||!S.volume)return;const L=v.value.map(x=>({time:x.timestamp,value:x.volume})).uniqWith((x,R)=>x.time===R.time).orderBy(x=>x.time,"asc");L.length>0&&S.volume.setData(L)}const $=L=>{const x=c-l,R=x>1?x-Math.floor(x):x,K=-Math.floor(Math.log10(R)+1)+2;return`${j(L,K,"dollar")}${G(L,"dollar")}`};return(L,x)=>{const R=U;return _(),A(R,{title:a(e)("title"),loading:a(p)},{default:y(()=>[m("div",Su,null,512)]),_:1},8,["title","loading"])}}});function Pa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price (peg)"}}}})}typeof Pa=="function"&&Pa(Nt);const Lu={ref:"chartRef",class:"chart"},Ht=T({__name:"ChartTVL",props:{contract:{}},setup(t){const{t:e}=B(),o=new st,{isFetching:n,data:s}=O({queryKey:["prisma-wrapper-tvl",w(()=>t.contract)],queryFn:({queryKey:[,p]})=>o.getTVL(p).then(c=>c.tvl),initialData:[],initialDataUpdatedAt:0}),{theme:u}=N(F()),{chart:r,series:i}=ce({createChartOptions:ie({localization:{priceFormatter:p=>`$${j(p,1,"dollar")}${G(p,"dollar")}`}}),series:{type:"Area",name:"tvl",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...u.value.lineChartColors}))}});ue(v);function v(){if(!r.value||!i.tvl)return;const p=s.value.filter(c=>c.value>0).map(c=>({time:c.timestamp,value:c.value})).uniqWith((c,l)=>c.time===l.time).orderBy(c=>c.time,"asc");p.length>0&&i.tvl.setData(p),r.value.timeScale().fitContent()}return(p,c)=>{const l=U;return _(),A(l,{title:a(e)("title"),loading:a(n)},{default:y(()=>[m("div",Lu,null,512)]),_:1},8,["title","loading"])}}});function xa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof xa=="function"&&xa(Ht);const Yo=T({__name:"ChartFlow",props:{contract:{}},setup(t){const{t:e}=B(),o=new st,{theme:n}=N(F()),{isFetching:s,data:u}=O({queryKey:["prisma-wrapper-flow",w(()=>t.contract)],queryFn:({queryKey:[,l]})=>o.getFlow(l),initialData:{deposits:[],withdrawals:[]},initialDataUpdatedAt:0}),r=w(()=>{const{colors:l}=n.value;return ae(n.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[l.green,l.red],xaxis:{categories:i.value,labels:{formatter:p,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:c}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:d,dataPointIndex:g,w:h})=>{let S=0;const k=d.map((b,$)=>{const L=b[g];return S+=L,`<div><b>${h.globals.seriesNames[$]}</b>:	${c(L)}</div>`});return k.push(`<div><b>Total</b>:	${c(S)}</div>`),k.join("")}}})}),i=w(()=>u.value.deposits.length===0?[]:u.value.deposits.map(l=>new Date(l.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),v=w(()=>[{name:e("deposits"),data:Object.values(u.value.deposits).map(l=>l.amount_usd)},{name:e("withdrawals"),data:Object.values(u.value.withdrawals).map(l=>-l.amount_usd)}]),p=l=>l,c=l=>`$${j(l,0,"dollar")}${G(l,"dollar")}`;return(l,d)=>{const g=te,h=U;return _(),A(h,{title:a(e)("title"),loading:a(s)},{default:y(()=>[f(g,{options:a(r),series:a(v)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function Da(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Staking and unstaking"}},deposits:{t:0,b:{t:2,i:[{t:3}],s:"Deposits"}},withdrawals:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawals"}}}})}typeof Da=="function"&&Da(Yo);const Qo=P(Yo,[["__scopeId","data-v-9cd37152"]]),Au={ref:"chartRef",class:"chart"},Gt=T({__name:"ChartAPR",props:{contract:{}},setup(t){const{t:e}=B(),o=new st,{isFetching:n,data:s}=O({queryKey:["prisma-wrapper-snapshots",w(()=>t.contract)],queryFn:({queryKey:[,c]})=>o.getSnapshots(c).then(l=>l.Snapshots),initialData:[],initialDataUpdatedAt:0}),{theme:u}=N(F()),{chart:r,series:i}=ce({createChartOptions:ie({localization:{priceFormatter:c=>p(c)}}),series:{type:"Area",name:"apr",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...u.value.lineChartColors}))}});ue(v);function v(){if(!r.value||!i.apr)return;const c=s.value.filter(l=>l.timestamp>=1699630610).map(l=>({time:l.timestamp,value:l.total_apr*100})).uniqWith((l,d)=>l.time===d.time).orderBy(l=>l.time,"asc");c.length>0&&i.apr.setData(c),r.value.timeScale().fitContent()}function p(c){return`${j(c,0,"percentage")}${G(c,"percentage")}`}return(c,l)=>{const d=U;return _(),A(d,{title:a(e)("title"),loading:a(n)},{default:y(()=>[m("div",Au,null,512)]),_:1},8,["title","loading"])}}});function Va(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"APR"}}}})}typeof Va=="function"&&Va(Gt);const Jo=T({__name:"ChartDistribution",props:{contract:{}},setup(t){const{t:e}=B(),o=new st,{theme:n}=N(F()),{isFetching:s,data:u}=O({queryKey:["prisma-wrapper-distribution",w(()=>t.contract)],queryFn:({queryKey:[,l]})=>o.getDistribution(l).then(d=>d.distribution),initialData:[],initialDataUpdatedAt:0}),r=w(()=>ae(n.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:i.value,labels:{formatter:p,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:c}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),i=w(()=>u.value.map(l=>l.label)),v=w(()=>[{name:e("size"),data:Object.values(u.value).map(l=>l.value)}]),p=l=>l,c=l=>`$${j(l,0,"dollar")}${G(l,"dollar")}`;return(l,d)=>{const g=te,h=U;return _(),A(h,{title:a(e)("title"),loading:a(s)},{default:y(()=>[f(g,{options:a(r),series:a(v)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function qa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Position size"}},size:{t:0,b:{t:2,i:[{t:3}],s:"Size"}}}})}typeof qa=="function"&&qa(Jo);const Xo=P(Jo,[["__scopeId","data-v-d1e6f470"]]),Tu={class:"dashboard-grid"},Iu=T({__name:"CvxPrisma",setup(t){return(e,o)=>(_(),C("div",Tu,[f(Nt,{contract:"convex"}),f(Ht,{contract:"convex"}),f(Qo,{contract:"convex"}),f(Gt,{contract:"convex"}),f(Xo,{contract:"convex",style:{"grid-column":"1 / -1"}})]))}}),Pu=P(Iu,[["__scopeId","data-v-c863b934"]]),xu={class:"dashboard-grid"},Du=T({__name:"YPrisma",setup(t){return(e,o)=>(_(),C("div",xu,[f(Nt,{contract:"yearn"}),f(Ht,{contract:"yearn"}),f(Qo,{contract:"yearn"}),f(Gt,{contract:"yearn"}),f(Xo,{contract:"yearn",style:{"grid-column":"1 / -1"}})]))}}),Vu=P(Du,[["__scopeId","data-v-f961ef4a"]]);function en(t,e,o){const n=Re(),s=Ye("tab",t[0]),u=q(-1);return Q(s,r=>u.value=t.findIndex(i=>i===r),{immediate:!0}),Q(u,async r=>{r===-1&&(r=0),await n.push({name:e,params:{tab:t[r],...(o==null?void 0:o())??{}},replace:s.value===""})},{immediate:!0}),{tabActive:s,tabActiveIndex:u}}const qu={class:"dashboard"},Mu=T({__name:"Wrappers.page",setup(t){const{tabActive:e,tabActiveIndex:o}=en(["overview","cvxprisma","yprisma"],"wrappers");return(n,s)=>{const u=rt,r=lt;return _(),C("div",qu,[f(r,{active:a(o),onTab:s[0]||(s[0]=i=>o.value=i.index)},{default:y(()=>[f(u,{header:"Overview"},{default:y(()=>[a(e)==="overview"?(_(),A(ku,{key:0})):D("",!0)]),_:1}),f(u,{header:"cvxPRISMA"},{default:y(()=>[a(e)==="cvxprisma"?(_(),A(Pu,{key:0})):D("",!0)]),_:1}),f(u,{header:"yPRISMA"},{default:y(()=>[a(e)==="yprisma"?(_(),A(Vu,{key:0})):D("",!0)]),_:1})]),_:1},8,["active"])])}}}),Fu=P(Mu,[["__scopeId","data-v-9cc467fe"]]),Ru={style:{display:"flex",gap:"1rem"}},Bu=["href"],Ma=10,tn=T({__name:"TableLockers",props:{lockers:{default:()=>[]}},setup(t){const{t:e}=B(),o=q(""),n=[{id:"locker",label:"Locker",sort:!1},{id:"weight",label:"Weight",sort:!0,align:"end"},{id:"locked",label:"Locked",sort:!0,align:"end"},{id:"unlocked",label:"Unlocked",sort:!0,align:"end"},{id:"frozen",label:"Frozen",sort:!0,align:"end"}],{sorting:s,onSort:u}=$e("weight"),r=w(()=>t.lockers.filter(c=>{const l=o.value.toLocaleLowerCase().split(" ");return(g=>l.some(h=>g.toLocaleLowerCase().includes(h)))(c.id)}).orderBy(c=>{switch(s.value.column){case"weight":return c.weight;case"locked":return c.locked;case"unlocked":return c.unlocked;case"frozen":return c.frozen}},s.value.order)),{page:i,rowsPage:v,onPage:p}=he(r,Ma);return(c,l)=>{const d=de,g=_e,h=ee,S=oe,k=U;return _(),A(k,{class:"lockers-card",title:a(e)("title")},{actions:y(()=>[m("div",Ru,[f(d,{modelValue:a(o),"onUpdate:modelValue":l[0]||(l[0]=b=>le(o)?o.value=b:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"]),f(g,{"items-count":a(r).length,"items-per-page":Ma,page:a(i),onPage:a(p)},null,8,["items-count","page","onPage"])])]),default:y(()=>[f(S,{class:"lockers-table",rows:a(v),columns:n,sorting:a(s),onSortColumn:a(u)},{row:y(({item:b})=>[m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/address/${b.id}`,target:"_blank",onClick:l[1]||(l[1]=J(()=>{},["stop"]))},I(b.id),9,Bu)]),m("div",{class:M(["end",{zero:b.weight===0}])},[f(h,{type:"dollar",value:Math.round(b.weight),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),m("div",{class:M(["end",{zero:b.locked===0}])},[f(h,{type:"dollar",value:Math.round(b.locked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),m("div",{class:M(["end",{zero:b.unlocked===0}])},[f(h,{type:"dollar",value:Math.round(b.unlocked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),m("div",{class:M(["end",{zero:b.frozen===0}])},[f(h,{type:"dollar",value:Math.round(b.frozen),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2)]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title"])}}});function Fa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Lockers"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Fa=="function"&&Fa(tn);const Uu=P(tn,[["__scopeId","data-v-f8d8ab9a"]]),Ra="https://api.thegraph.com/subgraphs/name/benber86/prisma";class an extends fe{async getTopLockers(){const o=await this.fetch(Ra,{query:`{
      lockers {
        totalWeight
      }
      accountDatas(first: 100 orderBy: weight orderDirection: desc) {
        id
        weight
        locked
        unlocked
        frozen
      }
    }`}),n=o.data.accountDatas.map(u=>({id:u.id,weight:parseInt(u.weight,10),locked:parseInt(u.locked,10),unlocked:parseInt(u.unlocked,10),frozen:parseInt(u.frozen,10)}));return{totalWeight:parseInt(o.data.lockers[0].totalWeight,10),accounts:n}}async getVotesIncentives(){return(await this.fetch(Ra,{query:`{
      incentiveVotes(first:100, orderBy:blockNumber, orderDirection:desc) {
        voter {
          id
        }
        votes(first: 100, orderBy:points, orderDirection:desc) {
          recipient {
            id
            address
          }
          points
        }
        isClearance
        transactionHash
        blockTimestamp
      }
    }`})).data.incentiveVotes.map(n=>n.votes.map(s=>({voter:n.voter.id,recipient:s.recipient.address,points:parseInt(s.points,10),isClearance:n.isClearance,transaction:n.transactionHash,timestamp:parseInt(n.blockTimestamp,10)}))).flat()}}const Eu=["href"],Ou=["href"],Wu={class:"end"},Ku={class:"end"},Nu=["href"],Hu={class:"end"},Ba=20,on=T({__name:"TableVotesIncentives",setup(t){const{t:e}=B(),o=new an,{isFetching:n,data:s}=O({queryKey:["prisma-vote-incentives"],queryFn:()=>o.getVotesIncentives(),initialData:[],initialDataUpdatedAt:0}),{relativeTime:u}=ge(),r=w(()=>["Voter","Recipient",{label:"Points",align:"end"},{label:"Tx",align:"end"},{label:"Time",align:"end"}]),i=w(()=>s.value),{page:v,rowsPage:p,onPage:c}=he(i,Ba);return(l,d)=>{const g=_e,h=ee,S=oe,k=U;return _(),A(k,{class:"votes-incentives-card",title:a(e)("title"),loading:a(n)},{actions:y(()=>[f(g,{"items-count":a(i).length,"items-per-page":Ba,page:a(v),onPage:a(c)},null,8,["items-count","page","onPage"])]),default:y(()=>[f(S,{class:"votes-incentives-table",rows:a(p),columns:a(r)},{row:y(({item:b})=>[m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/address/${b.voter}`,target:"_blank",onClick:d[0]||(d[0]=J(()=>{},["stop"]))},I(a(H)(b.voter)),9,Eu)]),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/tx/${b.recipient}`,target:"_blank",onClick:d[1]||(d[1]=J(()=>{},["stop"]))},I(a(H)(b.recipient)),9,Ou)]),m("div",Wu,[f(h,{type:"dollar",value:Math.round(b.points),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])]),m("div",Ku,[m("a",{class:"font-mono",href:`https://etherscan.io/tx/${b.transaction}`,target:"_blank",onClick:d[2]||(d[2]=J(()=>{},["stop"]))},I(a(H)(b.transaction)),9,Nu)]),m("div",Hu,I(a(u)(b.timestamp)),1)]),_:1},8,["rows","columns"])]),_:1},8,["title","loading"])}}});function Ua(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Incentive votes"}}}})}typeof Ua=="function"&&Ua(on);const Gu=P(on,[["__scopeId","data-v-107d1fd5"]]),nn=T({__name:"ChartTopLockers",props:{totalWeight:{default:0},lockers:{default:()=>[]}},setup(t){const{t:e}=B(),{theme:o}=N(F()),n=w(()=>t.lockers.slice(0,10)),s=w(()=>ae(o.value,{chart:{id:"topLockers",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:p=>{const c=r.value[p.seriesIndex],l=p.series[p.seriesIndex],d=l/(t.totalWeight/100);return[`<div><b>${c}</b>:</div><div>${v(d)} - ${i(l)}</div>`].join("")}},labels:n.value.map(p=>p.id).concat(["Other⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"])})),u=w(()=>{const p=n.value.map(d=>d.weight),c=p.reduce((d,g)=>d+g,0),l=t.totalWeight-c;return[...p,l]}),r=w(()=>n.value.map(p=>p.id).concat(["Other"])),i=p=>`${j(p,2,"dollar")}${G(p,"dollar")}`,v=p=>`${j(p,2,"percentage")}${G(p,"percentage")}`;return(p,c)=>{const l=te,d=U;return _(),A(d,{title:a(e)("title")},{default:y(()=>[f(l,{options:a(s),series:a(u)},null,8,["options","series"])]),_:1},8,["title"])}}});function Ea(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top 10 largest lockers"}}}})}typeof Ea=="function"&&Ea(nn);const ju=P(nn,[["__scopeId","data-v-12e654a2"]]),Zu={class:"dashboard"},zu=T({__name:"VePrisma.page",setup(t){const e=new an,{isFetching:o,data:n}=O({queryKey:["prisma-top-lockers"],queryFn:()=>e.getTopLockers(),initialData:{totalWeight:0,accounts:[]},initialDataUpdatedAt:0}),s=w(()=>n.value.accounts),u=w(()=>n.value.totalWeight);return(r,i)=>(_(),C("div",Zu,[f(Uu,{style:{"grid-row":"1","grid-column":"1"},loading:a(o),lockers:a(s)},null,8,["loading","lockers"]),f(ju,{style:{"grid-row":"1","grid-column":"2"},loading:a(o),lockers:a(s),"total-weight":a(u)},null,8,["loading","lockers","total-weight"]),f(Gu,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}}),Yu=P(zu,[["__scopeId","data-v-9fe8bc1b"]]);function be(t){return t.status==="executed"?"executed":t.end>new Date().getTime()/1e3?"active":Qu(t)?"passed":"denied"}function Qu(t){return t.weightReceived>t.weightRequired}const sn=T({__name:"Status",props:{proposal:{}},setup(t){const{t:e}=B(),o=w(()=>be(t.proposal)==="denied"?e("no-quorum"):""),n=w(()=>{switch(be(t.proposal)){case"active":return e("active");case"denied":return e("denied");case"passed":return e("passed");case"executed":return e("executed");default:return"Unk. Status"}});return(s,u)=>{const r=at,i=we;return _(),A(i,{class:"status","tooltip-type":"underline",label:a(e)("status"),"has-value":!0,tooltip:a(o)},{default:y(()=>[a(o)?(_(),A(r,{key:0},{trigger:y(()=>[m("span",{class:M(["status-value",a(be)(s.proposal)])},I(a(n)),3)]),default:y(()=>[W(" "+I(a(o)),1)]),_:1})):(_(),C("span",{key:1,class:M(["status-value",a(be)(s.proposal)])},I(a(n)),3))]),_:1},8,["label","tooltip"])}}});function Oa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{status:{t:0,b:{t:2,i:[{t:3}],s:"Status"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}},"no-quorum":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was not reached"}}}})}typeof Oa=="function"&&Oa(sn);const Ju=P(sn,[["__scopeId","data-v-a000633a"]]),Xu=["href"],ln=T({__name:"Proposer",props:{proposal:{}},setup(t){const{t:e}=B();return(o,n)=>{const s=we;return _(),A(s,{class:"proposer",label:a(e)("proposer"),"has-value":!0},{default:y(()=>[m("a",{href:`https://etherscan.io/address/${o.proposal.proposer}`,target:"_blank"},I(a(H)(o.proposal.proposer)),9,Xu)]),_:1},8,["label"])}}});function Wa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{proposer:{t:0,b:{t:2,i:[{t:3}],s:"Proposer"}}}})}typeof Wa=="function"&&Wa(ln);const Lt=T({__name:"Date",props:{proposal:{},type:{}},setup(t){const{t:e}=B();let o;const n=q(""),s=w(()=>{switch(t.type){case"start":return e("start");case"end":return e("end");default:return"Unk. Type"}}),u=w(()=>{switch(t.type){case"start":return new Date(t.proposal.start*1e3).toLocaleDateString();case"end":{const v=new Date(t.proposal.end*1e3);return v>new Date?n.value:v.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),r=w(()=>{switch(t.type){case"start":return new Date(t.proposal.start*1e3).toLocaleDateString()+" "+new Date(t.proposal.start*1e3).toTimeString();case"end":return new Date(t.proposal.end*1e3).toLocaleDateString()+" "+new Date(t.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});ve(()=>{i()});const i=()=>{const v=new Date(t.proposal.end*1e3);o&&clearInterval(o),o=setInterval(()=>{n.value=Os(v)})};return(v,p)=>{const c=we;return _(),A(c,{class:"date","tooltip-type":"underline",label:a(s),value:a(u),"has-value":!0,tooltip:a(r)},null,8,["label","value","tooltip"])}}});function Ka(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{start:{t:0,b:{t:2,i:[{t:3}],s:"Start"}},end:{t:0,b:{t:2,i:[{t:3}],s:"End"}}}})}typeof Ka=="function"&&Ka(Lt);const ed={class:"id"},td={class:"metadata"},ad={class:"row"},rn=T({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(t,{emit:e}){const{t:o}=B(),n=e;return(s,u)=>{var r,i;return _(),C("div",{class:"proposal-summary",onClick:u[0]||(u[0]=v=>n("toggleExpand"))},[m("div",{class:M(["title",{"no-title":!((r=s.proposal.metadata)!=null&&r.title)}])},[m("div",ed,I(s.proposal.id),1),m("div",td,I(((i=s.proposal.metadata)==null?void 0:i.title)||a(o)("no-title")),1)],2),m("div",ad,[f(Ju,{class:"item",proposal:s.proposal},null,8,["proposal"]),f(ln,{class:"item",proposal:s.proposal},null,8,["proposal"]),f(Lt,{class:"item",proposal:s.proposal,type:"start"},null,8,["proposal"]),f(Lt,{class:"item",proposal:s.proposal,type:"end"},null,8,["proposal"]),m("div",{class:M(["item expander",{expanded:s.expanded}])},u[1]||(u[1]=[m("i",{class:"fas fa-chevron-up"},null,-1)]),2)])])}}});function Na(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-title":{t:0,b:{t:2,i:[{t:3}],s:"< No Title >"}}}})}typeof Na=="function"&&Na(rn);const od=P(rn,[["__scopeId","data-v-14b608b8"]]),nd={class:"quorum"},sd={class:"heading"},ld={class:"amount"},rd={class:"bar"},id={class:"percentages"},cd={class:"quorum"},cn=T({__name:"VotingQuorum",props:{proposal:{}},setup(t){const{t:e}=B(),o=w(()=>t.proposal.weightReceived),n=w(()=>t.proposal.weightRequired),s=w(()=>o.value/n.value*100);return(u,r)=>{const i=ee;return _(),C("div",nd,[m("div",sd,I(a(e)("quorum")),1),m("div",ld,[f(i,{value:a(o),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),r[0]||(r[0]=W(" / ")),f(i,{value:a(n),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),r[1]||(r[1]=W(" vePRISMA "))]),m("div",rd,[m("div",{class:"support",style:pe({width:`${a(s)}%`})},null,4),m("div",{class:"quorum",style:pe({width:`${100-a(s)}%`})},null,4)]),m("div",id,[r[2]||(r[2]=m("div",{class:"zero"},"0%",-1)),m("div",cd,[f(i,{value:Math.min(a(s),100),precision:0,type:"percentage"},null,8,["value"])])])])}}});function Ha(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{quorum:{t:0,b:{t:2,i:[{t:3}],s:"Quorum"}}}})}typeof Ha=="function"&&Ha(cn);const ud=P(cn,[["__scopeId","data-v-a0000fda"]]),dd=[{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"week",type:"uint256"}],name:"getAccountWeightAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Ge=[{inputs:[],name:"MAX_TIME_TO_EXECUTION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"executeProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenLocker",outputs:[{internalType:"contract ITokenLocker",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"weight",type:"uint256"}],name:"voteForProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"accountVoteWeights",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],pd={class:"buttons"},md={class:"veprisma"},vd={class:"info"},fd={class:"kpis"},_d={class:"description"},hd={class:"title"},un=T({__name:"VotingButtons",props:{proposal:{}},setup(t){const{t:e}=B(),{address:o}=et(),n=q(!1),s=q(!1),u=q(!1),r=q(!1),i=q(0n),v=q(!1),p=w(()=>i.value>0n&&!r.value&&d.value&&!v.value),c=w(()=>p.value?"submit":r.value?"voting":d.value?v.value?"voted":"not-enough-voting-power":"voting-closed"),l=w(()=>Number(i.value)),d=w(()=>be(t.proposal)==="active"),g=w(()=>be(t.proposal)==="passed"),h=os();async function S(){await ra(r,async()=>{if(!o.value)return;const L=await jt(h,{abi:Ge,address:He,functionName:"voteForProposal",args:[o.value,BigInt(t.proposal.id),i.value]});await Zt(h,{hash:L}),n.value=!1})}async function k(){await ra(s,async()=>{const L=await jt(h,{abi:Ge,address:He,functionName:"executeProposal",args:[BigInt(t.proposal.id)]});await Zt(h,{hash:L}),n.value=!1,u.value=await $()})}async function b(){if(!o.value)return;const L=await it(h,{abi:Ge,address:He,functionName:"tokenLocker"});v.value=await it(h,{abi:Ge,address:He,functionName:"accountVoteWeights",args:[o.value,BigInt(t.proposal.id)]}).then(R=>R>0n);const x=Math.floor((t.proposal.start-1691625600)/604800)-1;i.value=await it(h,{abi:dd,address:L,functionName:"getAccountWeightAt",args:[o.value,BigInt(x)]})}ft(n,async()=>{await pi(b)});async function $(){if(!g.value)return!1;const L=await it(h,{abi:Ge,address:He,functionName:"MAX_TIME_TO_EXECUTION"}),x=t.proposal.executeAfter!==0,R=t.proposal.executeAfter<new Date().getTime()/1e3,K=t.proposal.executeAfter+Number(L)>new Date().getTime()/1e3;return x&&R&&K}return Q(o,async()=>{u.value=await $()},{immediate:!0}),(L,x)=>{const R=tt,K=ee,X=we,E=U,V=ke;return _(),C(z,null,[m("div",pd,[f(R,{value:a(e)("vote"),primary:!0,onClick:x[0]||(x[0]=Ce=>n.value=!0)},null,8,["value"]),a(g)?(_(),A(R,{key:0,value:a(e)(a(s)?"executing":"execute"),primary:!0,disabled:!a(u)||a(s),onClick:k},null,8,["value","disabled"])):D("",!0)]),f(V,{show:a(n),onClose:x[1]||(x[1]=Ce=>n.value=!1)},{default:y(()=>[f(E,{title:a(e)("vote-with-veprisma"),class:"vote-content"},{default:y(()=>{var Ce;return[m("div",md,[m("div",vd,[m("div",fd,[f(X,{label:a(e)("voting-power"),"has-value":!0},{default:y(()=>[f(K,{value:a(l),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),x[2]||(x[2]=W(" vePRISMA "))]),_:1},8,["label"]),f(X,{label:a(e)("block"),value:L.proposal.block,"has-value":!0},null,8,["label","value"])]),m("div",_d,[m("span",hd,I(a(e)("description"))+": ",1),m("span",null,I(((Ce=L.proposal.metadata)==null?void 0:Ce.description)||""),1)])]),f(R,{class:"submit",value:a(e)(a(c)),primary:!0,disabled:!a(p),"chain-id":a(Ze).id,onClick:S},null,8,["value","disabled","chain-id"])])]}),_:1},8,["title"])]),_:1},8,["show"])],64)}}});function Ga(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{vote:{t:0,b:{t:2,i:[{t:3}],s:"Vote"}},"vote-with-veprisma":{t:0,b:{t:2,i:[{t:3}],s:"Vote with vePRISMA"}},voting:{t:0,b:{t:2,i:[{t:3}],s:"Voting..."}},"voting-closed":{t:0,b:{t:2,i:[{t:3}],s:"Voting closed"}},voted:{t:0,b:{t:2,i:[{t:3}],s:"You've already voted"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},"voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Voting power"}},block:{t:0,b:{t:2,i:[{t:3}],s:"Block"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Submit"}},"not-enough-voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Not enough vePRISMA voting power"}},execute:{t:0,b:{t:2,i:[{t:3}],s:"Execute"}},executing:{t:0,b:{t:2,i:[{t:3}],s:"Executing..."}}}})}typeof Ga=="function"&&Ga(un);const bd=P(un,[["__scopeId","data-v-6474df71"]]),gd={class:"voting"},yd=T({__name:"Voting",props:{proposal:{}},setup(t){return(e,o)=>(_(),C("div",gd,[f(ud,{proposal:e.proposal},null,8,["proposal"]),f(bd,{proposal:e.proposal},null,8,["proposal"])]))}}),wd=P(yd,[["__scopeId","data-v-1a419f8d"]]),$d={class:"voters"},Cd={class:"address"},kd=["href"],Sd={class:"amount"},Ld={class:"percentage"},Ad=T({__name:"Voters",props:{proposal:{}},setup(t){const{address:e}=et(),o=w(()=>t.proposal.voters.orderBy(r=>r.weight,"desc")),n=r=>r==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":r==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":r==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":H(r,12),s=r=>r/t.proposal.weightReceived*100,u=r=>r===e.value;return(r,i)=>{const v=ee;return _(),C("div",$d,[(_(!0),C(z,null,ne(a(o),p=>(_(),C("div",{key:p.voter,class:"vote"},[m("div",Cd,[m("a",{target:"_blank",href:`https://etherscan.io/address/${p.voter}`,class:M({you:u(p.voter)})},I(n(p.voter)),11,kd)]),m("div",Sd,[f(v,{value:p.weight,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),m("div",Ld,[f(v,{value:s(p.weight),precision:0,type:"percentage"},null,8,["value"])])]))),128))])}}}),Td=P(Ad,[["__scopeId","data-v-fa197a3c"]]),Id={class:"technicals"},Pd={key:0,class:"technical"},xd={class:"heading"},Dd={class:"description"},Vd=["href"],qd={key:1,class:"technical"},Md={class:"heading"},Fd={class:"description"},Rd=["href"],Bd={key:2,class:"technical"},Ud={class:"heading"},Ed={class:"description"},Od={class:"technical"},Wd={class:"technical"},Kd=["innerHTML"],dn=T({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean}},setup(t){const{t:e}=B(),o=q(!0),n=q(t.proposal.votes>0),s=w(()=>`https://twitter.com/@${t.proposal.metadata.author}`),u=w(()=>t.proposal.voters.map(i=>i.voter).uniqWith((i,v)=>i===v).length),r=w(()=>t.proposal.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,i=>/[A-F]/g.test(i)&&ns(i)?`<a href='https://etherscan.io/address/${i}'>${i}</a>`:i));return(i,v)=>{var c,l,d,g;const p=Xe;return _(),C("div",Id,[(c=i.proposal.metadata)!=null&&c.author?(_(),C("div",Pd,[m("div",xd,I(a(e)("author")),1),m("div",Dd,[m("a",{href:a(s),target:"_blank"},I(i.proposal.metadata.author),9,Vd)])])):D("",!0),(l=i.proposal.metadata)!=null&&l.link?(_(),C("div",qd,[m("div",Md,I(a(e)("link")),1),m("div",Fd,[m("a",{href:i.proposal.metadata.link,target:"_blank"},I(i.proposal.metadata.link),9,Rd)])])):D("",!0),(d=i.proposal.metadata)!=null&&d.description?(_(),C("div",Bd,[m("div",Ud,I(a(e)("description")),1),m("div",Ed,I((g=i.proposal.metadata)==null?void 0:g.description),1)])):D("",!0),m("div",Od,[m("div",{class:"heading",onClick:v[0]||(v[0]=h=>n.value=!a(n))},[W(I(a(e)("voters"))+" ("+I(a(u)??"?")+") ",1),m("i",{class:M(["fas fa-chevron-up expander",{expandedVoters:a(n)}])},null,2)]),f(p,{expanded:a(n)},{default:y(()=>[f(Td,{class:"voters",proposal:i.proposal},null,8,["proposal"])]),_:1},8,["expanded"])]),m("div",Wd,[m("div",{class:"heading",onClick:v[1]||(v[1]=h=>o.value=!a(o))},[W(I(a(e)("calldata"))+" ",1),m("i",{class:M(["fas fa-chevron-up expander",{expandedCallData:a(o)}])},null,2)]),f(p,{expanded:a(o)},{default:y(()=>[m("div",{class:"calldata",innerHTML:a(r)},null,8,Kd)]),_:1},8,["expanded"])])])}}});function ja(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},author:{t:0,b:{t:2,i:[{t:3}],s:"Author"}},link:{t:0,b:{t:2,i:[{t:3}],s:"Link"}},calldata:{t:0,b:{t:2,i:[{t:3}],s:"Calldata"}},voters:{t:0,b:{t:2,i:[{t:3}],s:"Voters"}}}})}typeof ja=="function"&&ja(dn);const Nd=P(dn,[["__scopeId","data-v-eb97f771"]]),Hd={class:"proposal-details"},Gd={class:"proposal-details-container"},jd=T({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(t){return(e,o)=>(_(),C("div",Hd,[m("div",Gd,[f(Nd,{proposal:e.proposal,expanded:e.expanded},null,8,["proposal","expanded"]),f(wd,{proposal:e.proposal},null,8,["proposal"])])]))}}),Zd=P(jd,[["__scopeId","data-v-64c8cb21"]]),zd=T({__name:"Proposal",props:{proposal:{}},setup(t){const e=q(!1);return(o,n)=>{const s=Xe,u=U;return _(),A(u,{class:"proposal",compact:!0},{default:y(()=>[f(od,{proposal:o.proposal,expanded:a(e),onToggleExpand:n[0]||(n[0]=r=>e.value=!a(e))},null,8,["proposal","expanded"]),f(s,{class:"proposal-details-collapsible",expanded:a(e)},{default:y(()=>[f(Zd,{proposal:o.proposal,expanded:a(e)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),Yd=P(zd,[["__scopeId","data-v-66b78c6a"]]),Qd={class:"proposals-tab"},Jd={class:"filters"},Xd={style:{display:"flex",gap:"1rem","justify-content":"end"}},ep={key:1},$t=10,pn=T({__name:"ProposalsTab",props:{proposals:{}},setup(t){const{t:e}=B(),o=q(""),n=q(e("search-placeholder")),s=w(()=>{const v=o.value.toLocaleLowerCase();return t.proposals.filter(p=>!!p.metadata&&p.metadata.title.toLocaleLowerCase().includes(v))}),{page:u,rowsPage:r,onPage:i}=he(s,$t);return(v,p)=>{const c=de,l=_e;return _(),C("div",Qd,[m("div",Jd,[f(c,{modelValue:a(o),"onUpdate:modelValue":p[0]||(p[0]=d=>le(o)?o.value=d:null),class:"search",placeholder:a(n),search:!0},null,8,["modelValue","placeholder"]),m("div",Xd,[a(s).length>0?(_(),A(l,{key:0,class:"pagination","items-count":a(s).length,"items-per-page":$t,page:a(u),onPage:a(i)},null,8,["items-count","page","onPage"])):D("",!0)])]),(_(!0),C(z,null,ne(a(r),d=>(_(),A(Yd,{key:d.id,proposal:d},null,8,["proposal"]))),128)),a(s).length>0?(_(),A(l,{key:0,class:"pagination","items-count":a(s).length,"items-per-page":$t,page:a(u),onPage:a(i)},null,8,["items-count","page","onPage"])):D("",!0),a(s).length===0?(_(),C("div",ep,I(a(e)("no-proposals")),1)):D("",!0)])}}});function Za(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for Prisma proposals"}},"no-proposals":{t:0,b:{t:2,i:[{t:3}],s:"No proposals could be found."}}}})}typeof Za=="function"&&Za(pn);const je=P(pn,[["__scopeId","data-v-1910d5c0"]]),tp="https://api.prismamonitor.com/v1",ap=(t,e)=>{var $;const o=t.index,n=t.creator,s=t.creator_label,u=t.required_weight,r=t.received_weight,i=t.status,v=t.vote_count,p=t.voters.map(L=>({voter:L.voter.toLowerCase(),weight:L.weight})),c=t.transaction_hash,l=t.execution_tx,d=t.can_execute_after,g=t.block_number,h=t.block_timestamp,S=t.execution_timestamp?t.execution_timestamp:h+604800,k=t.decode_data,b=($=e==null?void 0:e.data.proposals.find(L=>L.id===o))==null?void 0:$.metadata;return{id:o,metadata:b,proposer:n,proposerLabel:s,weightRequired:u,weightReceived:r,status:i,votes:v,voters:p,tx:c,txExecuted:l,executeAfter:d,block:g,start:h,end:S,script:k}};class op extends fe{async getProposals(){let e;try{e=await this.fetch("https://api.prismafinance.com/api/v1/proposalVotes")}catch{Be({text:"Failed to fetch metadata for proposals",type:"error"})}return await Pe(s=>this.fetch(`${tp}/dao/ethereum/ownership/proposals?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(u=>u.proposals.map(r=>ap(r,e))),1,100)}}const np={class:"proposals"},mn=T({__name:"Proposals.page",setup(t){const{t:e}=B(),o=new op,n=q(0),{isFetching:s,data:u}=O({queryKey:["prisma-proposals"],queryFn:()=>o.getProposals().then(c=>c.sort((l,d)=>d.start-l.start)),initialData:[],initialDataUpdatedAt:0}),r=w(()=>u.value.filter(c=>be(c)==="active")),i=w(()=>u.value.filter(c=>be(c)==="passed")),v=w(()=>u.value.filter(c=>be(c)==="denied")),p=w(()=>u.value.filter(c=>be(c)==="executed"));return(c,l)=>{const d=rt,g=lt,h=wo;return _(),C("div",np,[a(s)?D("",!0):(_(),A(g,{key:0,onTab:l[0]||(l[0]=S=>n.value=S.index)},{default:y(()=>[f(d,{header:a(e)("all")},{default:y(()=>[a(n)===0?(_(),A(je,{key:0,proposals:a(u)},null,8,["proposals"])):D("",!0)]),_:1},8,["header"]),f(d,{header:a(e)("active")},{default:y(()=>[a(n)===1?(_(),A(je,{key:0,proposals:a(r)},null,8,["proposals"])):D("",!0)]),_:1},8,["header"]),f(d,{header:a(e)("passed")},{default:y(()=>[a(n)===2?(_(),A(je,{key:0,proposals:a(i)},null,8,["proposals"])):D("",!0)]),_:1},8,["header"]),f(d,{header:a(e)("denied")},{default:y(()=>[a(n)===3?(_(),A(je,{key:0,proposals:a(v)},null,8,["proposals"])):D("",!0)]),_:1},8,["header"]),f(d,{header:a(e)("executed")},{default:y(()=>[a(n)===4?(_(),A(je,{key:0,proposals:a(p)},null,8,["proposals"])):D("",!0)]),_:1},8,["header"])]),_:1})),f(h,{class:M({loading:a(s)})},null,8,["class"])])}}});function za(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}}}})}typeof za=="function"&&za(mn);const sp=P(mn,[["__scopeId","data-v-572013ac"]]),lp=T({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(t){const{theme:e}=N(F()),o=w(()=>ae(e.value,{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{let i=s.value[r.seriesIndex];i=i.length>10?H(i):i;const v=r.series[r.seriesIndex];return[`<div><b>${i}</b>:</div><div>${u(v)}</div>`].join("")}},labels:t.data.map(r=>r.label.length>10?H(r.label):r.label)})),n=w(()=>t.data.map(r=>r.value)),s=w(()=>t.data.map(r=>r.label)),u=r=>`$${j(Math.abs(r),1,"dollar")}${G(r,"dollar")}`;return(r,i)=>{const v=te,p=U;return _(),A(p,null,{default:y(()=>[f(v,{options:a(o),series:a(n)},null,8,["options","series"])]),_:1})}}}),rp=P(lp,[["__scopeId","data-v-2f1aa100"]]),ip={class:"actions"},vn=T({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(t){const{t:e}=B(),o=F(),n=new Le(o.flavor),s=q("collateral"),{isFetching:u,data:r}=O({queryKey:["prisma-large-trove-positions",w(()=>{var i;return(i=t.vault)==null?void 0:i.address}),s],queryFn:({queryKey:[,i,v]})=>i?n.getLargeTrovePositions("ethereum",i,v).then(p=>p.positions):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});return(i,v)=>{const p=ot,c=U;return _(),A(c,{title:a(e)("title"),loading:a(u)},{actions:y(()=>[m("div",ip,[f(p,{value:"Coll.","model-value":a(s)==="collateral",onClick:v[0]||(v[0]=l=>s.value="collateral")},null,8,["model-value"]),f(p,{value:"Debt","model-value":a(s)==="debt",onClick:v[1]||(v[1]=l=>s.value="debt")},null,8,["model-value"])])]),default:y(()=>[f(rp,{data:a(r)},null,8,["data"])]),_:1},8,["title","loading"])}}});function Ya(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"5 Largest Troves vs Others"}}}})}typeof Ya=="function"&&Ya(vn);const cp=P(vn,[["__scopeId","data-v-573e67c9"]]),up=T({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(t){const{theme:e}=N(F()),o=w(()=>ae(e.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:s.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),n=w(()=>[{name:"# of troves",data:Object.values(t.data).map(u=>u.value)}]),s=w(()=>t.data.map(u=>u.label));return(u,r)=>{const i=te,v=U;return _(),A(v,null,{default:y(()=>[f(i,{options:a(o),series:a(n)},null,8,["options","series"])]),_:1})}}}),dp=P(up,[["__scopeId","data-v-7a62200d"]]),pp={class:"actions"},fn=T({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(t){const{t:e}=B(),o=F(),n=new Le(o.flavor),s=q("collateral"),{isFetching:u,data:r}=O({queryKey:["prisma-trove-distributions",w(()=>{var i;return(i=t.vault)==null?void 0:i.address}),s],queryFn:({queryKey:[,i,v]})=>i?n.getTroveDistribution("ethereum",i,v).then(p=>p.distribution):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});return(i,v)=>{const p=ot,c=U;return _(),A(c,{title:a(e)("title"),loading:a(u)},{actions:y(()=>[m("div",pp,[f(p,{value:"Coll.","model-value":a(s)==="collateral",onClick:v[0]||(v[0]=l=>s.value="collateral")},null,8,["model-value"]),f(p,{value:"Debt","model-value":a(s)==="debt",onClick:v[1]||(v[1]=l=>s.value="debt")},null,8,["model-value"])])]),default:y(()=>[f(dp,{data:a(r)},null,8,["data"])]),_:1},8,["title","loading"])}}});function Qa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Troves Distribution"}}}})}typeof Qa=="function"&&Qa(fn);const mp=P(fn,[["__scopeId","data-v-f893a733"]]),vp={class:"kpis"},fp=T({__name:"VaultKPIs",props:{vault:{default:null}},setup(t){return(e,o)=>{const n=ee,s=we;return _(),C("div",vp,[f(s,{label:"TVL","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),A(n,{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),f(s,{label:"Debt / Debt Cap","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),A(n,{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):D("",!0),o[0]||(o[0]=W(" / ")),e.vault?(_(),A(n,{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),f(s,{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),A(n,{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):D("",!0),o[1]||(o[1]=W(" / ")),e.vault?(_(),A(n,{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),f(s,{label:"Interest rate","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),A(n,{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),f(s,{label:"Troves open / total","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),A(n,{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):D("",!0),o[2]||(o[2]=W(" / ")),e.vault?(_(),A(n,{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),f(s,{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),A(n,{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):D("",!0),o[3]||(o[3]=W(" / ")),e.vault?(_(),A(n,{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):D("",!0)]),_:1},8,["has-value"])])}}}),_p=P(fp,[["__scopeId","data-v-66a85ea3"]]),hp={ref:"chartRef",class:"chart"},_n=T({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new Le(n.value),{isFetching:u,data:r}=O({queryKey:["prisma-vault-collateral-ratio",w(()=>{var c;return(c=t.vault)==null?void 0:c.address})],queryFn:({queryKey:[,c]})=>c?s.getVaultCollateralRatio("ethereum",c,"1m").then(l=>l.ratio):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{chart:i,series:v}=ce({createChartOptions:ie(),series:{type:"Area",name:"cr",options:w(()=>({priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}))}});ue(p);function p(){if(!i.value||!v.cr)return;const c=r.value.map(l=>({time:l.timestamp,value:l.value*100})).uniqWith((l,d)=>l.time===d.time).orderBy(l=>l.time,"asc");c.length>0&&v.cr.setData(c),i.value.timeScale().fitContent()}return(c,l)=>{const d=U;return _(),A(d,{title:a(e)("title"),loading:a(u)},{default:y(()=>[m("div",hp,null,512)]),_:1},8,["title","loading"])}}});function Ja(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Vault collateral ratio"}}}})}typeof Ja=="function"&&Ja(_n);const bp={ref:"chartRef",class:"chart"},hn=T({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new Le(n.value),{isFetching:u,data:r}=O({queryKey:["prisma-vault-trove-count",w(()=>{var c;return(c=t.vault)==null?void 0:c.address})],queryFn:({queryKey:[,c]})=>c?s.getVaultTroveCount("ethereum",c,"1m").then(l=>l.count):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{chart:i,series:v}=ce({createChartOptions:ie(),series:{type:"Area",name:"troves",options:w(()=>({priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}))}});ue(p);function p(){if(!i.value||!v.troves)return;const c=r.value.map(l=>({time:l.timestamp,value:l.value})).uniqWith((l,d)=>l.time===d.time).orderBy(l=>l.time,"asc");c.length>0&&v.troves.setData(c),i.value.timeScale().fitContent()}return(c,l)=>{const d=U;return _(),A(d,{title:a(e)("title"),loading:a(u)},{default:y(()=>[m("div",bp,null,512)]),_:1},8,["title","loading"])}}});function Xa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Number of open troves"}}}})}typeof Xa=="function"&&Xa(hn);const gp={class:"dashboard-grid"},yp=T({__name:"VaultOverview",props:{vault:{}},setup(t){return(e,o)=>(_(),C("div",gp,[f(_p,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),f(mp,{vault:e.vault},null,8,["vault"]),f(cp,{vault:e.vault},null,8,["vault"]),f(_n,{vault:e.vault},null,8,["vault"]),f(hn,{vault:e.vault},null,8,["vault"])]))}}),wp=P(yp,[["__scopeId","data-v-c62ee522"]]),$p={ref:"chartRef",class:"chart"},bn=T({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),{items:s}=Kt(()=>[{id:"oracle",label:"Oracle",color:o.value.colorsArray[0]},{id:"market",label:"Market",color:o.value.colorsArray[1]}]),u=new Ft(n.value),r={oracle:[],market:[]},{isFetching:i,data:v}=O({queryKey:["prisma-stable-distribution",w(()=>{var g;return(g=t.vault)==null?void 0:g.collateral})],queryFn:async({queryKey:[,g]})=>{if(g){const h=await u.getCollateralPrices("ethereum",g,"7d");return p(h.oracle,h.market)}else return Promise.resolve(r)},initialData:r,initialDataUpdatedAt:0}),p=(g,h)=>{const S=Math.max(g[0].timestamp,h[0].timestamp),k=Math.min(g[g.length-1].timestamp,h[h.length-1].timestamp),b=g.filter(L=>L.timestamp>=S&&L.timestamp<=k),$=h.filter(L=>L.timestamp>=S&&L.timestamp<=k);return b[b.length-1].timestamp<k&&b.push({timestamp:k,value:b[b.length-1].value}),$[$.length-1].timestamp<k&&$.push({timestamp:k,value:$[$.length-1].value}),{oracle:b,market:$}},{chart:c,series:l}=ce({createChartOptions:ie(),series:[{type:"Area",name:"oracle",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}))},{type:"Area",name:"market",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:se.WithSteps,lineColor:o.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}]});ue(d);function d(){if(!c.value||!l.oracle||!l.market)return;const g=v.value.oracle.map(S=>({time:S.timestamp,value:S.value})).uniqWith((S,k)=>S.time===k.time).orderBy(S=>S.time,"asc"),h=v.value.market.map(S=>({time:S.timestamp,value:S.value})).uniqWith((S,k)=>S.time===k.time).orderBy(S=>S.time,"asc");h.length>0&&l.market.setData(h),g.length>0&&l.oracle.setData(g),c.value.timeScale().fitContent()}return(g,h)=>{const S=Wt,k=U;return _(),A(k,{title:a(e)("title"),loading:a(i)},{"actions-secondary":y(()=>[f(S,{items:a(s)},null,8,["items"])]),default:y(()=>[m("div",$p,null,512)]),_:1},8,["title","loading"])}}});function eo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Oracle & Market price"}}}})}typeof eo=="function"&&eo(bn);const gn=T({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new Ft(n.value),{isFetching:u,data:r}=O({queryKey:["prisma-collateral-price-impact",w(()=>{var d;return(d=t.vault)==null?void 0:d.collateral})],queryFn:({queryKey:[,d]})=>d?s.getCollateralPriceImpact("ethereum",d).then(g=>g.impact):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),i=w(()=>ae(o.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:p.value,labels:{formatter:d=>c(d)}},yaxis:{seriesName:"impact",labels:{formatter:d=>l(d)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:d=>{if(!t.vault)return"";const g=p.value[d.dataPointIndex],h=c(g*t.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${c(g)} ${t.vault.name} ($${h})</div>

          <div><b>Price impact:</b>:</div>
          <div>${l(d.series[0][d.dataPointIndex])}</div>
          `}}})),v=w(()=>[{name:e("priceImpact"),data:Object.values(r.value).map(d=>d.impact)}]),p=w(()=>r.value.map(d=>t.vault?d.amount/t.vault.price:0)),c=d=>`${j(Math.abs(d),1,"dollar")}${G(d,"dollar")}`,l=d=>`${j(d,2,"percentage")}${G(d,"percentage")}`;return(d,g)=>{const h=te,S=U;return _(),A(S,{title:a(e)("title"),loading:a(u)},{default:y(()=>[f(h,{options:a(i),series:a(v)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function to(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"On-chain Selling Price Impact"}},priceImpact:{t:0,b:{t:2,i:[{t:3}],s:"Price impact"}}}})}typeof to=="function"&&to(gn);const Cp=P(gn,[["__scopeId","data-v-dc63535d"]]),kp={class:"kpis"},Sp=["href"],Lp=T({__name:"CollateralKPIs",props:{vault:{default:null}},setup(t){const e=F(),o=new Ft(e.flavor),{data:n}=O({queryKey:["prisma-collateral-info",w(()=>{var s;return(s=t.vault)==null?void 0:s.address})],queryFn:({queryKey:[,s]})=>s?o.getCollateralInfo("ethereum",s).then(u=>u.info):Promise.resolve(null),initialData:null,initialDataUpdatedAt:0});return(s,u)=>{const r=ee,i=we;return _(),C("div",kp,[f(i,{label:"Oracle price","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),A(r,{key:0,value:a(n).price,precision:2,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),f(i,{label:"Total supply","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),A(r,{key:0,value:a(n).supply,precision:2,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),f(i,{label:"TVL","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),A(r,{key:0,value:a(n).tvl,precision:1,type:"dollar"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),f(i,{label:"Share of the collateral market","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),A(r,{key:0,value:a(n).share,precision:1,type:"percentage"},null,8,["value"])):D("",!0)]),_:1},8,["has-value"]),f(i,{label:"Full risk analysis by Prisma Risk team","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),C("a",{key:0,href:a(n).risk}," Risk Report ",8,Sp)):D("",!0)]),_:1},8,["has-value"])])}}}),Ap=P(Lp,[["__scopeId","data-v-3b512fd3"]]),Tp={class:"dashboard-grid"},Ip=T({__name:"Collateral",props:{vault:{}},setup(t){return(e,o)=>(_(),C("div",Tp,[f(Ap,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),f(bn,{vault:e.vault},null,8,["vault"]),f(Cp,{vault:e.vault},null,8,["vault"])]))}}),Pp=P(Ip,[["__scopeId","data-v-21f51866"]]),xp={style:{display:"flex",gap:"1rem"}},Dp=["href"],Vp=["href"],qp={class:"end"},Mp={class:"end"},Fp={class:"end"},ao=15,yn=T({__name:"TableLiquidations",props:{vault:{default:null}},setup(t){const{t:e}=B(),o=F(),n=new Rt(o.flavor),{isFetching:s,data:u}=O({queryKey:["prisma-vault-liquidations",w(()=>{var k;return(k=t.vault)==null?void 0:k.address})],queryFn:({queryKey:[,k]})=>k?n.getLiquidations("ethereum",k):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:r}=ge(),i=q(""),v=q(null),p=[{id:"liquidator",label:"Liquidator",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:c,onSort:l}=$e("timestamp"),d=w(()=>u.value.filter(k=>{const b=i.value.toLocaleLowerCase().split(" ");return(L=>b.some(x=>L.toLocaleLowerCase().includes(x)))(k.liquidator)}).orderBy(k=>{switch(c.value.column){case"liquidator":return k.liquidator;case"tx":return k.transaction;case"debt":return k.liquidated_collateral_usd;case"numtroves":return k.troves_affected_count;case"timestamp":return k.timestamp}},c.value.order)),{page:g,rowsPage:h,onPage:S}=he(d,ao);return(k,b)=>{const $=de,L=_e,x=ee,R=oe,K=U,X=ke;return _(),C(z,null,[f(K,{class:"liquidations-card",title:a(e)("title"),loading:a(s)},{actions:y(()=>[m("div",xp,[f($,{modelValue:a(i),"onUpdate:modelValue":b[0]||(b[0]=E=>le(i)?i.value=E:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"]),f(L,{"items-count":a(d).length,"items-per-page":ao,page:a(g),onPage:a(S)},null,8,["items-count","page","onPage"])])]),default:y(()=>[f(R,{class:"liquidations-table",rows:a(h),columns:p,sorting:a(c),onSortColumn:a(l),onSelected:b[3]||(b[3]=E=>v.value=E)},{row:y(({item:E})=>[m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/address/${E.liquidator}`,target:"_blank",onClick:b[1]||(b[1]=J(()=>{},["stop"]))},I(a(H)(E.liquidator)),9,Dp)]),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/tx/${E.transaction}`,target:"_blank",onClick:b[2]||(b[2]=J(()=>{},["stop"]))},I(a(H)(E.transaction)),9,Vp)]),m("div",qp,[f(x,{type:"dollar",value:Math.round(E.liquidated_debt),precision:1/0},null,8,["value"])]),m("div",Mp,I(E.troves_affected_count),1),m("div",Fp,I(a(r)(E.timestamp)),1)]),"row-details":y(()=>b[5]||(b[5]=[W("   ")])),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),f(X,{show:!!a(v),onClose:b[4]||(b[4]=E=>v.value=null)},{default:y(()=>{var E;return[a(v)?(_(),A(Ot,{key:0,liquidation:a(v),"vault-addr":((E=k.vault)==null?void 0:E.address)??""},null,8,["liquidation","vault-addr"])):D("",!0)]}),_:1},8,["show"])],64)}}});function oo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof oo=="function"&&oo(yn);const Rp=P(yn,[["__scopeId","data-v-a466bff5"]]),Bp={class:"dashboard-grid"},Up=T({__name:"Liquidations",props:{vault:{}},setup(t){return(e,o)=>(_(),C("div",Bp,[f(Rp,{vault:e.vault},null,8,["vault"])]))}}),Ep=P(Up,[["__scopeId","data-v-281623fa"]]),Op={style:{display:"flex",gap:"1rem"}},Wp=["href"],Kp=["href"],Np={class:"end"},Hp={class:"end"},Gp={class:"end"},no=15,wn=T({__name:"TableRedemptions",props:{vault:{default:null}},setup(t){const{t:e}=B(),o=F(),n=new Bt(o.flavor),{isFetching:s,data:u}=O({queryKey:["prisma-vault-redemptions",w(()=>{var k;return(k=t.vault)==null?void 0:k.address})],queryFn:({queryKey:[,k]})=>k?n.getRedemptions("ethereum",k):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:r}=ge(),i=q(""),v=q(null),p=[{id:"redeemer",label:"Redeemer",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:c,onSort:l}=$e("timestamp"),d=w(()=>u.value.filter(k=>{const b=i.value.toLocaleLowerCase().split(" ");return(L=>b.some(x=>L.toLocaleLowerCase().includes(x)))(k.redeemer)}).orderBy(k=>{switch(c.value.column){case"redeemer":return k.redeemer;case"tx":return k.transaction;case"debt":return k.actual_debt_amount;case"numtroves":return k.troves_affected_count;case"timestamp":return k.timestamp}},c.value.order)),{page:g,rowsPage:h,onPage:S}=he(d,no);return(k,b)=>{const $=de,L=_e,x=ee,R=oe,K=U,X=ke;return _(),C(z,null,[f(K,{class:"redemptions-card",title:a(e)("title"),loading:a(s)},{actions:y(()=>[m("div",Op,[f($,{modelValue:a(i),"onUpdate:modelValue":b[0]||(b[0]=E=>le(i)?i.value=E:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"]),f(L,{"items-count":a(d).length,"items-per-page":no,page:a(g),onPage:a(S)},null,8,["items-count","page","onPage"])])]),default:y(()=>[f(R,{class:"redemptions-table",rows:a(h),columns:p,sorting:a(c),onSortColumn:a(l),onSelected:b[3]||(b[3]=E=>v.value=E)},{row:y(({item:E})=>[m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/address/${E.redeemer}`,target:"_blank",onClick:b[1]||(b[1]=J(()=>{},["stop"]))},I(a(H)(E.redeemer)),9,Wp)]),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/tx/${E.transaction}`,target:"_blank",onClick:b[2]||(b[2]=J(()=>{},["stop"]))},I(a(H)(E.transaction)),9,Kp)]),m("div",Np,[f(x,{type:"dollar",value:Math.round(E.actual_debt_amount),precision:1/0},null,8,["value"])]),m("div",Hp,I(E.troves_affected_count),1),m("div",Gp,I(a(r)(E.timestamp)),1)]),"row-details":y(()=>b[5]||(b[5]=[W("   ")])),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),f(X,{show:!!a(v),onClose:b[4]||(b[4]=E=>v.value=null)},{default:y(()=>{var E;return[a(v)?(_(),A(Et,{key:0,redemption:a(v),"vault-addr":((E=k.vault)==null?void 0:E.address)??""},null,8,["redemption","vault-addr"])):D("",!0)]}),_:1},8,["show"])],64)}}});function so(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof so=="function"&&so(wn);const jp=P(wn,[["__scopeId","data-v-1df11527"]]),Zp={class:"dashboard-grid"},zp=T({__name:"Redemptions",props:{vault:{}},setup(t){return(e,o)=>(_(),C("div",Zp,[f(jp,{vault:e.vault},null,8,["vault"])]))}}),Yp=P(zp,[["__scopeId","data-v-4ec12a98"]]),Qp={style:{display:"grid",gap:"1rem","grid-template-columns":"1fr 2fr auto"}},Jp=["href"],Xp={class:"end"},em={class:"end"},lo=15,$n=T({__name:"TableTroves",props:{vault:{default:null}},emits:["selected"],setup(t,{emit:e}){const{t:o}=B(),n=e,s=F(),u=new Oe(s.flavor),{isFetching:r,data:i}=O({queryKey:["prisma-vault-troves",w(()=>{var L;return(L=t.vault)==null?void 0:L.address})],queryFn:({queryKey:[,L]})=>L?u.getTroves("ethereum",L):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:v}=ge(),p=q(""),c=q("Open"),l=w(()=>c.value==="Open"?[{id:"owner",label:"Owner",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"coll",label:"Collateral",sort:!0,align:"end"},{id:"ratio",label:"Ratio",sort:!0,align:"end"},{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]:[{id:"owner",label:"Owner",sort:!0},"","","",{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]),{sorting:d,onSort:g}=$e("updated"),h=w(()=>i.value.filter(L=>c.value===L.status).filter(L=>{const x=p.value.toLocaleLowerCase().split(" ");return(K=>x.some(X=>K.toLocaleLowerCase().includes(X)))(L.owner)}).orderBy(L=>{switch(d.value.column){case"owner":return L.owner;case"debt":return L.debt;case"coll":return L.collateral_usd;case"ratio":return L.collateral_ratio;case"created":return L.created_at;case"updated":return L.last_update}},d.value.order)),{page:S,rowsPage:k,onPage:b}=he(h,lo),$=L=>{L===0?c.value="Open":L===1?c.value="Closed":c.value="Open"};return(L,x)=>{const R=rt,K=lt,X=de,E=_e,V=ee,Ce=oe,gt=U;return _(),A(gt,{class:"troves-card",loading:a(r)},{actions:y(()=>[m("div",Qp,[f(K,{class:"types",onTab:x[0]||(x[0]=Z=>$(Z.index))},{default:y(()=>[f(R,{header:"Open"}),f(R,{header:"Closed"})]),_:1}),f(X,{modelValue:a(p),"onUpdate:modelValue":x[1]||(x[1]=Z=>le(p)?p.value=Z:null),search:!0,placeholder:a(o)("search-placeholder")},null,8,["modelValue","placeholder"]),f(E,{"items-count":a(h).length,"items-per-page":lo,page:a(S),onPage:a(b)},null,8,["items-count","page","onPage"])])]),default:y(()=>[f(Ce,{class:"troves-table",rows:a(k),columns:a(l),sorting:a(d),onSortColumn:a(g),onSelected:x[3]||(x[3]=Z=>n("selected",Z))},{row:y(({item:Z})=>[m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/address/${Z.owner}`,target:"_blank",onClick:x[2]||(x[2]=J(()=>{},["stop"]))},I(a(H)(Z.owner)),9,Jp)]),m("div",{class:M(["end",{hide:a(c)==="Closed"}])},[f(V,{type:"dollar",value:Math.round(Z.debt),precision:1/0},null,8,["value"])],2),m("div",{class:M(["end",{hide:a(c)==="Closed"}])},[f(V,{type:"dollar",value:Math.round(Z.collateral_usd),precision:1/0},null,8,["value"])],2),m("div",{class:M(["end",{hide:a(c)==="Closed"}])},[f(V,{value:Z.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),m("div",Xp,I(a(v)(Z.created_at)),1),m("div",em,I(a(v)(Z.last_update)),1)]),"row-details":y(()=>x[4]||(x[4]=[W("   ")])),_:1},8,["rows","columns","sorting","onSortColumn"])]),_:1},8,["loading"])}}});function ro(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof ro=="function"&&ro($n);const tm=P($n,[["__scopeId","data-v-0acc611f"]]),am={class:"dashboard-grid"},om=T({__name:"Troves",props:{vault:{}},setup(t){const e=ht(),o=Re(),n=async s=>{e.trove=s,t.vault&&await o.push({name:"prismatrove",params:{troveAddr:s.owner,vaultAddr:t.vault.address}})};return(s,u)=>(_(),C("div",am,[f(tm,{vault:s.vault,onSelected:n},null,8,["vault"])]))}}),nm=P(om,[["__scopeId","data-v-3f7e1a15"]]),sm={class:"dashboard"},lm=T({__name:"VaultManager.page",setup(t){const e=F(),o=Je(),n=ht(),s=ye().getSocket(Ue(e.flavor)),u=new We(s,"ethereum"),r=me(u.overview$,[]),i=Ye("vaultAddr"),v=w(()=>n.vault);ve(()=>{var d,g;const l=Ie((d=v.value)==null?void 0:d.address)??((g=v.value)==null?void 0:g.name)??"?";o.show=!0,o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${l}`}]}),Q(r,l=>{const d=l.find(g=>g.address===i.value);d&&(n.vault=d)}),Q(v,l=>{const d=Ie(l==null?void 0:l.address)??(l==null?void 0:l.name)??"?";o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${d}`}]});const{tabActive:p,tabActiveIndex:c}=en(["overview","collateral","trove","liquidations","redemptions"],"prismavault",()=>({vaultAddr:i.value}));return(l,d)=>{const g=rt,h=lt;return _(),C("div",sm,[f(h,{active:a(c),onTab:d[0]||(d[0]=S=>c.value=S.index)},{default:y(()=>[f(g,{header:"Overview"},{default:y(()=>[(_(),A(Ke,null,[a(p)==="overview"?(_(),A(wp,{key:0,vault:a(v)},null,8,["vault"])):D("",!0)],1024))]),_:1}),f(g,{header:"Collateral"},{default:y(()=>[(_(),A(Ke,null,[a(p)==="collateral"&&a(v)?(_(),A(Pp,{key:0,vault:a(v)},null,8,["vault"])):D("",!0)],1024))]),_:1}),f(g,{header:"Troves"},{default:y(()=>[(_(),A(Ke,null,[a(p)==="trove"&&a(v)?(_(),A(nm,{key:0,vault:a(v)},null,8,["vault"])):D("",!0)],1024))]),_:1}),f(g,{header:"Liquidations"},{default:y(()=>[(_(),A(Ke,null,[a(p)==="liquidations"&&a(v)?(_(),A(Ep,{key:0,vault:a(v)},null,8,["vault"])):D("",!0)],1024))]),_:1}),f(g,{header:"Redemptions"},{default:y(()=>[(_(),A(Ke,null,[a(p)==="redemptions"&&a(v)?(_(),A(Yp,{key:0,vault:a(v)},null,8,["vault"])):D("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),rm=P(lm,[["__scopeId","data-v-06266328"]]),Cn=T({__name:"ChartTroveRank",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new Oe(n.value),u=q("Trove Relative Position"),r={rank:null,total_positions:0,ratio:null,positions:[]},{isFetching:i,data:v}=O({queryKey:["prisma-trove-rank",w(()=>{var h;return(h=t.vault)==null?void 0:h.address}),w(()=>{var h;return(h=t.trove)==null?void 0:h.owner})],queryFn:async({queryKey:[,h,S]})=>h&&S?await s.getTroveRank("ethereum",h,S):Promise.resolve(r),initialData:r,initialDataUpdatedAt:0}),p=w(()=>{const{colors:h}=o.value,S={x:v.value.ratio??0,borderColor:h.yellow,strokeDashArray:2,label:{borderColor:h.yellow,style:{background:h.yellow,color:"rgb(34, 34, 34)"},position:"top",offsetX:15,text:`This trove: ${g(v.value.ratio??0,1)}`}};return ae(o.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!0}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},annotations:{xaxis:v.value.ratio?[S]:[]},toolbar:{show:!1},xaxis:{type:"numeric",categories:l.value,labels:{formatter:k=>g(k)}},yaxis:{seriesName:"impact",labels:{formatter:k=>d(k)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:k=>{if(!t.vault)return"";const b=l.value[k.dataPointIndex];return`
          <div><b>Collateral ratio:</b>:</div>
          <div>${k.dataPointIndex===l.value.length-1?"Over 250%":g(b)}</div>

          <div><b>Troves with lower or equal ratio:</b>:</div>
          <div>${v.value.positions[k.dataPointIndex].trove_count}</div>

          <div><b>Collateral value at lower or equal ratio:</b>:</div>
          <div>$${d(k.series[0][k.dataPointIndex])}</div>
          `}}})}),c=w(()=>[{name:e("rank"),data:Object.values(v.value.positions).map(h=>h.collateral_usd)}]),l=w(()=>v.value.positions.map(h=>h.ratio)),d=h=>`${j(Math.abs(h),1,"dollar")}${G(h,"dollar")}`,g=(h,S=0)=>`${j(h,S,"percentage")}${G(h,"percentage")}`;return ft(v,h=>{typeof h.rank=="number"&&(u.value=e("title",{rank:h.rank,total_positions:h.total_positions}))},{immediate:!0}),(h,S)=>{const k=at,b=te,$=U;return _(),A($,{title:a(u),loading:a(i)},{actions:y(()=>[f(k,null,{default:y(()=>S[0]||(S[0]=[m("div",null,[W(" This chart displays that amount of collateral available below different collateral ratios. "),m("br"),W(" It also displays the position of the trove relative to other troves in this vault. "),m("br"),m("br"),W(" This information is useful to estimate a trove's risk of redemption. "),m("br"),W(" Even if the trove's collateral ratio is high in the absolute, a lower ratio relative "),m("br"),W(" to other troves means a higher risk of redemption."),m("br"),m("br"),W(` As such, the lower the "risk rank" displayed, the higher the trove's risk of being redeemed. `)],-1)])),_:1})]),default:y(()=>[f(b,{options:a(p),series:a(c)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function io(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3,v:"Trove Relative Position (Risk rank: "},{t:4,k:"rank"},{t:3,v:" / "},{t:4,k:"total_positions"},{t:3,v:")"}]}}}})}typeof io=="function"&&io(Cn);const kn=T({__name:"ChartTroveHealth",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=B(),{theme:o,flavor:n}=N(F()),s=new Oe(n.value),{isFetching:u,data:r}=O({queryKey:["prisma-trove-snapshots",w(()=>{var l;return(l=t.vault)==null?void 0:l.address}),w(()=>{var l;return(l=t.trove)==null?void 0:l.owner})],queryFn:({queryKey:[,l,d]})=>l&&d?s.getTroveSnapshots("ethereum",l,d).then(g=>g.snapshots):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),i=w(()=>ae(o.value,{chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"collateralUsd",tickAmount:4,opposite:!0,labels:{formatter:l=>p(l)},min:0,max:Math.max(...r.value.map(l=>l.collateral_usd))},{seriesName:"ratio",tickAmount:4,labels:{formatter:l=>c(l)},min:0,max:Math.max(...r.value.map(l=>l.cr??0))}],dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:l=>{const d=l.w.globals.initialSeries[0].data[l.dataPointIndex].y,g=l.w.globals.initialSeries[1].data[l.dataPointIndex]?l.w.globals.initialSeries[1].data[l.dataPointIndex].y:0;return[`<div><b>${e("ratio")}</b>:</div><div>${c(g)}</div>`,`<div><b>${e("collateralUsd")}</b>:</div><div>${p(d)}</div>`].join("")}}})),v=w(()=>[{name:e("collateralUsd"),type:"line",data:r.value.map(l=>({x:l.timestamp*1e3,y:l.collateral_usd}))},{name:e("ratio"),type:"line",data:r.value.map(l=>({x:l.timestamp*1e3,y:l.cr??0}))}]),p=l=>`$${j(l,1,"dollar")}${G(l,"dollar")}`,c=l=>`${Te(l*100,2)}%`;return(l,d)=>{const g=te,h=U;return _(),A(h,{title:a(e)("title"),loading:a(u)},{default:y(()=>[f(g,{options:a(i),series:a(v)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function co(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Health"}},collateralUsd:{t:0,b:{t:2,i:[{t:3}],s:"Collateral ($)"}},ratio:{t:0,b:{t:2,i:[{t:3}],s:"Ratio"}}}})}typeof co=="function"&&co(kn);const im=P(kn,[["__scopeId","data-v-a9ddece3"]]),cm={class:"end"},um={class:"end"},dm={class:"end"},pm={class:"end"},mm={class:"end"},vm=["href"],fm={class:"end"},Sn=T({__name:"TableTroveOps",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=B(),o=F(),n=new Oe(o.flavor),{relativeTime:s}=ge(),u=w(()=>i.value.orderBy(p=>p.timestamp,"desc")),{isFetching:r,data:i}=O({queryKey:["prisma-trove-snapshots",w(()=>{var p;return(p=t.vault)==null?void 0:p.address}),w(()=>{var p;return(p=t.trove)==null?void 0:p.owner})],queryFn:({queryKey:[,p,c]})=>p&&c?n.getTroveSnapshots("ethereum",p,c).then(l=>l.snapshots):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),v=p=>p.replace(/^_*(.)|_+(.)/g,(c,l,d)=>l?l.toUpperCase():" "+d.toUpperCase());return(p,c)=>{const l=ee,d=oe,g=U;return _(),A(g,{title:a(e)("title"),loading:a(r)},{default:y(()=>[f(d,{class:"trove-ops-table",rows:a(u),columns:["Operation",{label:"Collateral",align:"end"},{label:"Debt",align:"end"},{label:"Ratio",align:"end"},{label:"Stake",align:"end"},{label:"Tx",align:"end"},{label:"Time",align:"end"}]},{row:y(({item:h})=>[m("div",null,I(v(h.operation)),1),m("div",cm,[h.collateral?(_(),A(l,{key:0,value:h.collateral,precision:3,"show-symbol":!1,type:"dollar"},null,8,["value"])):D("",!0)]),m("div",um,[f(l,{type:"dollar",value:Math.round(h.debt),precision:1/0},null,8,["value"])]),m("div",dm,[h.cr?(_(),A(l,{key:0,value:h.cr*100,precision:2,type:"percentage"},null,8,["value"])):D("",!0)]),m("div",pm,[h.stake?(_(),A(l,{key:0,value:h.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])):D("",!0)]),m("div",mm,[m("a",{class:"font-mono",href:`https://etherscan.io/tx/${h.hash}`,target:"_blank",onClick:c[0]||(c[0]=J(()=>{},["stop"]))},I(a(H)(h.hash)),9,vm)]),m("div",fm,I(a(s)(h.timestamp)),1)]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function uo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Operations"}}}})}typeof uo=="function"&&uo(Sn);const _m=P(Sn,[["__scopeId","data-v-af04f531"]]),hm={class:"dashboard"},bm=T({__name:"Trove.page",setup(t){const e=F(),o=Je(),n=ht(),s=new Oe(e.flavor),u=ye().getSocket(Ue(e.flavor)),r=new We(u,"ethereum"),i=me(r.overview$,[]),v=Ye("vaultAddr"),p=Ye("troveAddr"),c=w(()=>n.vault),l=w(()=>n.trove);return ve(async()=>{var h,S,k;const d=await s.getTroveDetail("ethereum",v.value,p.value);d&&(n.trove=d);const g=Ie((h=c.value)==null?void 0:h.address)??((S=c.value)==null?void 0:S.name)??"?";o.show=!0,o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${g}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((k=l.value)==null?void 0:k.owner)??"?"}`}]}),Q(i,d=>{const g=d.find(h=>h.address===v.value);g&&(n.vault=g)}),Q(c,d=>{var h;const g=Ie(d==null?void 0:d.address)??(d==null?void 0:d.name)??"?";o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${g}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((h=l.value)==null?void 0:h.owner)??"?"}`}]}),Q(l,d=>{var h,S;const g=Ie((h=c.value)==null?void 0:h.address)??((S=c.value)==null?void 0:S.name)??"?";o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${g}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(d==null?void 0:d.owner)??"?"}`}]}),(d,g)=>(_(),C("div",hm,[f(Cn,{class:"graph-rank",vault:a(c),trove:a(l)},null,8,["vault","trove"]),f(im,{class:"graph-health",vault:a(c),trove:a(l)},null,8,["vault","trove"]),f(_m,{class:"table-ops",vault:a(c),trove:a(l)},null,8,["vault","trove"])]))}}),gm=P(bm,[["__scopeId","data-v-378e161b"]]),ym={style:{display:"flex",gap:"1rem"}},wm=["src"],$m=["href"],Cm=["href"],km={class:"end"},Sm={class:"end"},Lm={class:"end"},po=15,Ln=T({__name:"TableRedemptions",props:{troves:{default:()=>[]}},setup(t){const e=F(),o=new Bt(e.flavor),{t:n}=B(),{isFetching:s,data:u}=O({queryKey:["prisma-redemptions",w(()=>t.troves)],queryFn:({queryKey:[,b]})=>Promise.all(b.uniq().map($=>o.getRedemptionsForTrove("ethereum",$))).then($=>$.flat()),initialData:[],initialDataUpdatedAt:0}),{relativeTime:r}=ge(),i=q(""),v=q("all"),p=q(null),c=["",{id:"redeemer",label:"Redeemer",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:l,onSort:d}=$e("timestamp"),g=w(()=>u.value.filter(b=>{const $=i.value.toLocaleLowerCase().split(" "),L=R=>$.some(K=>R.toLocaleLowerCase().includes(K)),x=v.value==="all"?!0:b.vault===v.value;return L(b.redeemer)&&x}).orderBy(b=>{switch(l.value.column){case"redeemer":return b.redeemer;case"tx":return b.transaction;case"debt":return b.actual_debt_amount;case"numtroves":return b.troves_affected_count;case"timestamp":return b.timestamp}},l.value.order)),{page:h,rowsPage:S,onPage:k}=he(g,po);return(b,$)=>{const L=de,x=_e,R=ee,K=oe,X=U,E=ke;return _(),C(z,null,[f(X,{class:"redemptions-card",title:a(n)("title"),loading:a(s)||b.troves.length===0},{actions:y(()=>[f(bt,{vault:a(v),all:!0,onSelectVault:$[0]||($[0]=V=>v.value=V)},null,8,["vault"]),m("div",ym,[f(L,{modelValue:a(i),"onUpdate:modelValue":$[1]||($[1]=V=>le(i)?i.value=V:null),search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),f(x,{"items-count":a(g).length,"items-per-page":po,page:a(h),onPage:a(k)},null,8,["items-count","page","onPage"])])]),default:y(()=>[f(K,{class:"redemptions-table",rows:a(S),columns:c,sorting:a(l),onSortColumn:a(d),onSelected:$[4]||($[4]=V=>p.value=V)},{row:y(({item:V})=>[m("img",{src:a(xe)(V.vault)},null,8,wm),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/address/${V.redeemer}`,target:"_blank",onClick:$[2]||($[2]=J(()=>{},["stop"]))},I(a(H)(V.redeemer)),9,$m)]),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.transaction}`,target:"_blank",onClick:$[3]||($[3]=J(()=>{},["stop"]))},I(a(H)(V.transaction)),9,Cm)]),m("div",km,[f(R,{type:"dollar",value:Math.round(V.actual_debt_amount),precision:1/0},null,8,["value"])]),m("div",Sm,I(V.troves_affected_count),1),m("div",Lm,I(a(r)(V.timestamp)),1)]),"row-details":y(()=>$[6]||($[6]=[W("   ")])),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),f(E,{show:!!a(p),onClose:$[5]||($[5]=V=>p.value=null)},{default:y(()=>[a(p)?(_(),A(Et,{key:0,redemption:a(p),"vault-addr":a(p).vault},null,8,["redemption","vault-addr"])):D("",!0)]),_:1},8,["show"])],64)}}});function mo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof mo=="function"&&mo(Ln);const Am=P(Ln,[["__scopeId","data-v-619f5b43"]]),Tm={style:{display:"flex",gap:"1rem"}},Im=["src"],Pm=["href"],xm=["href"],Dm={class:"end"},Vm={class:"end"},qm={class:"end"},vo=15,An=T({__name:"TableLiquidations",props:{troves:{default:()=>[]}},setup(t){const e=F(),o=new Rt(e.flavor),{t:n}=B(),{isFetching:s,data:u}=O({queryKey:["prisma-liquidations-troves",w(()=>t.troves)],queryFn:({queryKey:[,b]})=>Promise.all(b.uniq().map($=>o.getLiquidationsForTrove("ethereum",$))).then($=>$.flat()),initialData:[],initialDataUpdatedAt:0}),{relativeTime:r}=ge(),i=q(""),v=q("all"),p=q(null),c=["",{id:"liquidator",label:"Liquidator",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:l,onSort:d}=$e("timestamp"),g=w(()=>u.value.filter(b=>{const $=i.value.toLocaleLowerCase().split(" "),L=R=>$.some(K=>R.toLocaleLowerCase().includes(K)),x=v.value==="all"?!0:b.vault===v.value;return L(b.liquidator)&&x}).orderBy(b=>{switch(l.value.column){case"liquidator":return b.liquidator;case"tx":return b.transaction;case"debt":return b.liquidated_collateral_usd;case"numtroves":return b.troves_affected_count;case"timestamp":return b.timestamp}},l.value.order)),{page:h,rowsPage:S,onPage:k}=he(g,vo);return(b,$)=>{const L=de,x=_e,R=ee,K=oe,X=U,E=ke;return _(),C(z,null,[f(X,{class:"liquidations-card",title:a(n)("title"),loading:a(s)||b.troves.length===0},{actions:y(()=>[f(bt,{vault:a(v),all:!0,onSelectVault:$[0]||($[0]=V=>v.value=V)},null,8,["vault"]),m("div",Tm,[f(L,{modelValue:a(i),"onUpdate:modelValue":$[1]||($[1]=V=>le(i)?i.value=V:null),search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),f(x,{"items-count":a(g).length,"items-per-page":vo,page:a(h),onPage:a(k)},null,8,["items-count","page","onPage"])])]),default:y(()=>[f(K,{class:"liquidations-table",rows:a(S),columns:c,sorting:a(l),onSortColumn:a(d),onSelected:$[4]||($[4]=V=>p.value=V)},{row:y(({item:V})=>[m("img",{src:a(xe)(V.vault)},null,8,Im),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/address/${V.liquidator}`,target:"_blank",onClick:$[2]||($[2]=J(()=>{},["stop"]))},I(a(H)(V.liquidator)),9,Pm)]),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.transaction}`,target:"_blank",onClick:$[3]||($[3]=J(()=>{},["stop"]))},I(a(H)(V.transaction)),9,xm)]),m("div",Dm,[f(R,{type:"dollar",value:Math.round(V.liquidated_debt),precision:1/0},null,8,["value"])]),m("div",Vm,I(V.troves_affected_count),1),m("div",qm,I(a(r)(V.timestamp)),1)]),"row-details":y(()=>$[6]||($[6]=[W("   ")])),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),f(E,{show:!!a(p),onClose:$[5]||($[5]=V=>p.value=null)},{default:y(()=>[a(p)?(_(),A(Ot,{key:0,liquidation:a(p),"vault-addr":a(p).vault},null,8,["liquidation","vault-addr"])):D("",!0)]),_:1},8,["show"])],64)}}});function fo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof fo=="function"&&fo(An);const Mm=P(An,[["__scopeId","data-v-a87b38b8"]]),Fm={style:{display:"grid",gap:"1rem","grid-template-columns":"minmax(14rem, 1fr) 1fr auto"}},Rm=["src"],Bm=["href"],Um={class:"end"},Em={class:"end"},_o=15,Tn=T({__name:"TableTroves",props:{vaults:{default:()=>[]},user:{}},emits:["troves"],setup(t,{emit:e}){const{t:o}=B(),n=F(),s=new Oe(n.flavor),u=e,{isFetching:r,data:i}=O({queryKey:["prisma-troves",kt(()=>t.vaults),kt(()=>t.user)],queryFn:async({queryKey:[,L,x]})=>{if(L.length>0&&x){const R=await Promise.all(L.map(K=>s.getTroves("ethereum",K.address,x).then(X=>X.map(E=>({...E,vault:K.address}))))).then(K=>K.flat());return u("troves",R),R}else return Promise.resolve([])},initialData:[],initialDataUpdatedAt:0}),{relativeTime:v}=ge(),p=q(""),c=q("Open"),l=w(()=>c.value==="Open"?["",{id:"owner",label:"Owner",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"coll",label:"Collateral",sort:!0,align:"end"},{id:"ratio",label:"Ratio",sort:!0,align:"end"},{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]:["",{id:"owner",label:"Owner",sort:!0},"","","",{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]),{sorting:d,onSort:g}=$e("updated"),h=w(()=>i.value.filter(L=>c.value===L.status).filter(L=>{const x=p.value.toLocaleLowerCase().split(" ");return(K=>x.some(X=>K.toLocaleLowerCase().includes(X)))(L.owner)}).orderBy(L=>{switch(d.value.column){case"owner":return L.owner;case"debt":return L.debt;case"coll":return L.collateral_usd;case"ratio":return L.collateral_ratio;case"created":return L.created_at;case"updated":return L.last_update}},d.value.order)),{page:S,rowsPage:k,onPage:b}=he(h,_o),$=L=>{L===0?c.value="Open":L===1?c.value="Closed":c.value="Open"};return(L,x)=>{const R=rt,K=lt,X=de,E=_e,V=ee,Ce=oe,gt=U;return _(),A(gt,{class:"troves-card",title:a(o)("title"),loading:a(r)},{actions:y(()=>[m("div",Fm,[f(K,{class:"types",onTab:x[0]||(x[0]=Z=>$(Z.index))},{default:y(()=>[f(R,{header:"Open"}),f(R,{header:"Closed"})]),_:1}),f(X,{modelValue:a(p),"onUpdate:modelValue":x[1]||(x[1]=Z=>le(p)?p.value=Z:null),class:"search",search:!0,placeholder:a(o)("search-placeholder")},null,8,["modelValue","placeholder"]),f(E,{class:"pagination","items-count":a(h).length,"items-per-page":_o,page:a(S),onPage:a(b)},null,8,["items-count","page","onPage"])])]),default:y(()=>[f(Ce,{class:"troves-table",rows:a(k),columns:a(l),sorting:a(d),onSortColumn:a(g)},{row:y(({item:Z})=>[m("img",{src:a(xe)(Z.vault)},null,8,Rm),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/address/${Z.owner}`,target:"_blank",onClick:x[2]||(x[2]=J(()=>{},["stop"]))},I(a(H)(Z.owner)),9,Bm)]),m("div",{class:M(["end",{hide:a(c)==="Closed"}])},[f(V,{type:"dollar",value:Math.round(Z.debt),precision:1/0},null,8,["value"])],2),m("div",{class:M(["end",{hide:a(c)==="Closed"}])},[f(V,{type:"dollar",value:Math.round(Z.collateral_usd),precision:1/0},null,8,["value"])],2),m("div",{class:M(["end",{hide:a(c)==="Closed"}])},[f(V,{value:Z.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),m("div",Um,I(a(v)(Z.created_at)),1),m("div",Em,I(a(v)(Z.last_update)),1)]),"row-details":y(()=>x[3]||(x[3]=[W("   ")])),_:1},8,["rows","columns","sorting","onSortColumn"])]),_:1},8,["title","loading"])}}});function ho(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Troves"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof ho=="function"&&ho(Tn);const Om=P(Tn,[["__scopeId","data-v-008d5d95"]]),Wm={class:"dashboard"},Km={style:{"grid-column":"1 / -1","margin-bottom":"-0.5rem"}},Nm=T({__name:"Profile.page",setup(t){const e=F(),o=Re(),{address:n}=et(),s=ye().getSocket(Ue(e.flavor)),u=new We(s,"ethereum"),r=me(u.overview$,[]),i=Ye("addr"),v=q(void 0),p=q([]),c=w(()=>p.value.filter(d=>v.value?d.owner.toLocaleLowerCase()===v.value.toLocaleLowerCase():!1).map(d=>d.owner));ve(()=>{i.value&&(v.value=i.value)});const l=d=>{p.value=d};return Q(n,async()=>{!i.value&&!v.value&&n.value&&await o.push({name:"profile",params:{addr:n.value}})},{immediate:!0}),ft(i,d=>{v.value=d}),(d,g)=>(_(),C("div",Wm,[m("h2",Km," Profile: "+I(a(v)??"?"),1),f(Om,{style:{"z-index":"2"},vaults:a(r),user:a(v),onTroves:l},null,8,["vaults","user"]),f(Am,{troves:a(c)},null,8,["troves"]),f(Mm,{troves:a(c)},null,8,["troves"])]))}}),Hm=P(Nm,[["__scopeId","data-v-18a2d6ea"]]),Gm=[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:Oi},{path:"/stable",name:"stable",component:cc},{path:"/redemptions",name:"redemptions",component:Vc},{path:"/liquidations",name:"liquidations",component:jc},{path:"/revenue",name:"revenue",component:cu},{path:"/vaults",name:"vaults",component:yi},{path:"/wrappers/:tab?",name:"wrappers",component:Fu},{path:"/veprisma",name:"veprisma",component:Yu},{path:"/proposals",name:"proposals",component:sp},{path:"/profile/:addr?",name:"profile",component:Hm},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:rm},{path:"/vault/:vaultAddr/trove/:troveAddr",name:"prismatrove",component:gm}],jm={titleRoute:"/",menuItems:[{to:"/vaults",label:"Vaults",icon:"fas fa-piggy-bank"},{to:"/stable",label:()=>{const t=F();return _t(t.flavor)},icon:"fas fa-dollar-sign"},{to:"/pool",label:"Stability pool",icon:"fas fa-balance-scale"},{to:"/redemptions",label:"Redemptions",icon:"fas fa-bible"},{to:"/liquidations",label:"Liquidations",icon:"fas fa-book-dead"},{to:"/veprisma",label:"vePRISMA",icon:"fas fa-lock"},{to:"/proposals",label:"Proposals",icon:"fas fa-landmark"},{to:"/wrappers",label:"ve Wrappers",icon:"fas fa-tint"},{to:"/profile",label:"Profile",icon:"fas fa-user"}]};let In="http://localhost:8545";In=void 0;function Zm(t=[]){return ss({chains:[Ze],connectors:[zt(),...t],transports:{[Ze.id]:ls([Yt(In,{batch:{wait:100}}),rs(zt),Yt("https://eth.llamarpc.com",{batch:{wait:200}})])}})}function zm(t,e){const o=is(t);for(const u of(e==null?void 0:e.plugins)??[])o.use(u);const n=cs();o.use(n);const s=new us({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:ds}},queryCache:new ps({onError:(u,r)=>{u.message.includes("Connector not connected")||u.message.includes("connector2.getAccounts is not a function")||u.message.includes("getAccounts is not a function")||Be({text:`Failed querying ${r.queryHash} >>> ${u.message}`,type:"error"})}})});return o.use(ms,{queryClient:s}).use(vs).use(fs,{config:Zm(e==null?void 0:e.extraWagmiConnectors)}),{app:o,pinia:n}}const{app:Ym}=zm(gr,{plugins:[_s({legacy:!1,locale:"en",fallbackLocale:"en"})]}),Qm=[jm],Jm=[Gm],Pn=Mt();Pn.pages=Qm;Pn.routes=Jm;const Xm=Fr();Ym.use(Xm).mount("#app");
