import{o as f,c as L,p as pe,a as me,b as d,d as A,e as T,n as O,f as R,r as J,g as H,t as x,w,h as _,T as Gn,F as X,i as le,j as St,k as Qe,l as F,u as Je,m as Be,q as a,V as jn,s as Zn,v as Ue,x as Lt,y as Tt,D as Xe,z as At,A as C,B as K,C as zn,E as Yn,G as Qn,H as Ze,I as $o,J as he,K as Pt,L as Jn,M as Xn,N as B,O as es,P as ts,Q as as,R as te,S as Co,U as os,W as ns,X as _e,Y as ko,Z as ss,_ as ls,$ as ze,a0 as It,a1 as W,a2 as j,a3 as N,a4 as is,a5 as rs,a6 as cs,a7 as us,a8 as de,a9 as re,aa as So,ab as ds,ac as ps,ad as ms,ae as Ye,af as vs,ag as Nt,ah as Ht,ai as dt,aj as _s,ak as Ne,al as Gt,am as fs,an as jt,ao as hs,ap as bs,aq as gs,ar as ys,as as Zt,at as ws,au as $s,av as Cs,aw as ks,ax as Ss,ay as Ls,az as Ts,aA as As,aB as Ps,aC as Is,aD as xs}from"./vendor-BH5-G0ad.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const P=(t,e)=>{const n=t.__vccOpts||t;for(const[o,s]of e)n[o]=s;return n},Ds={},Lo=t=>(pe("data-v-ad2adcec"),t=t(),me(),t),qs={class:"lds-ripple"},Vs=Lo(()=>d("div",null,null,-1)),Ms=Lo(()=>d("div",null,null,-1)),Rs=[Vs,Ms];function Fs(t,e){return f(),L("div",qs,Rs)}const To=P(Ds,[["render",Fs],["__scopeId","data-v-ad2adcec"]]),Bs=["inert"],Us={key:0,class:"title"},Os=A({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:null}},setup(t){return(e,n)=>{const o=To;return f(),L("div",{class:O(["card",{loading:e.loading}]),inert:!!e.loading},[e.loading!==null?(f(),T(o,{key:0,class:O(["loader",{loading:e.loading}])},null,8,["class"])):R("",!0),e.title||e.$slots.title||e.$slots.actions?(f(),L("div",{key:1,class:O(["card-header",{collapsible:e.collapsible}])},[J(e.$slots,"title",{},()=>[e.title?(f(),L("div",Us,[e.icon?(f(),L("i",{key:0,class:O(["icon",e.icon])},null,2)):R("",!0),H(" "+x(e.title),1)])):R("",!0)],!0),J(e.$slots,"actions",{},void 0,!0)],2)):(f(),L("div",{key:2,class:O(["card-no-header",{compact:e.compact}])},null,2)),d("div",{class:O(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[J(e.$slots,"default",{},void 0,!0)],2)],10,Bs)}}}),G=P(Os,[["__scopeId","data-v-34217620"]]),Es={key:0,class:"fas fa-chevron-right"},Ks=A({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(t,{emit:e}){const n=e,o=i=>{var c;const r=t.active?t.active.id===i.id:((c=t.crumbs.filter(v=>!v.hint).at(-1))==null?void 0:c.id)===i.id;return i.hint??r},s=i=>{var r;return((r=t.crumbs.at(-1))==null?void 0:r.id)===i.id};return(i,r)=>{const c=G;return f(),T(c,null,{default:w(()=>[_(Gn,{name:"fade",tag:"ul"},{default:w(()=>[(f(!0),L(X,null,le(i.crumbs,v=>(f(),L("li",{key:v.id},[(f(),T(St(o(v)?"span":"a"),{class:O({active:o(v),hint:v.hint}),onClick:p=>n("crumb",v)},{default:w(()=>[H(x(v.label),1)]),_:2},1032,["class","onClick"])),!s(v)||i.crumbs.length===1?(f(),L("i",Es)):R("",!0)]))),128))]),_:1})]),_:1})}}}),Ws=P(Ks,[["__scopeId","data-v-1c1116d3"]]),et=Qe("breadcrumbStore",()=>{const t=F([]),e=F(!1);return{crumbs:t,show:e}}),Ns=t=>(pe("data-v-a9017ae5"),t=t(),me(),t),Hs={class:"root"},Gs={class:"toolbar-container"},js=Ns(()=>d("div",{id:"toolbar",class:"toolbar-teleport"},null,-1)),Zs={class:"content"},zs=A({__name:"Layout",setup(t){const e=et(),n=Je(),o=async s=>{s.pathName&&await n.push({name:s.pathName,...s.params&&{params:s.params()}})};return(s,i)=>{const r=Be("notifications"),c=Ws,v=Be("router-view");return f(),L("div",Hs,[_(r,{width:600,duration:-1}),_(a(jn)),J(s.$slots,"navigation",{},void 0,!0),d("main",null,[d("div",Gs,[a(e).show?(f(),T(c,{key:0,class:"breadcrumb",crumbs:a(e).crumbs,onCrumb:o},null,8,["crumbs"])):R("",!0),js]),d("div",Zs,[_(v,null,{default:w(({Component:p})=>[_(Zn,{name:"fade",mode:"out-in"},{default:w(()=>[(f(),T(St(p)))]),_:2},1024)]),_:1})])])])}}}),Ys=P(zs,[["__scopeId","data-v-a9017ae5"]]),Qs={class:"collapsible-inside"},Js=A({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(t){return(e,n)=>(f(),L("div",{class:O(["collapsible-outside",{expanded:e.expanded}])},[d("div",Qs,[J(e.$slots,"default",{},void 0,!0)])],2))}}),tt=P(Js,[["__scopeId","data-v-25b74378"]]),Xs={class:"badge"},el={class:"label"},tl=A({__name:"Badge",props:{label:{default:""}},setup(t){return(e,n)=>(f(),L("div",Xs,[d("div",el,x(e.label),1)]))}}),al=P(tl,[["__scopeId","data-v-79abf25e"]]);function pt(t){return(t==null?void 0:t.children)!==void 0}function zt(t){return(t==null?void 0:t.to)!==void 0}function ol(t){function e(l){return l<10?"0"+l.toString():l.toString()}const n=t.getTime()-new Date().getTime();if(n<=0)return"00:00:00:00";const o=1e3,s=o*60,i=s*60,r=i*24,c=Math.floor(n/r),v=Math.floor(n%r/i),p=Math.floor(n%i/s),h=Math.floor(n%s/o);return e(c)+":"+e(v)+":"+e(p)+":"+e(h)}function Ie(t,e=0,n=".",o=","){const s=isFinite(+t)?+t:0,i=isFinite(+e)?Math.abs(e):0,r=typeof o>"u"?",":o,c=typeof n>"u"?".":n,v=function(h,l){const u=Math.pow(10,l);return Math.round(h*u)/u},p=(i?v(s,i):Math.round(s)).toString().split(".");return p[0].length>3&&(p[0]=p[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(p[1]||"").length<i&&(p[1]=p[1]||"",p[1]+=new Array(i-p[1].length+1).join("0")),p.join(c)}function z(t,e){const n=Math.abs(t);return e==="percentage"?"%":e==="dollar"?n>=1*10**12?"t":n>=1*10**9?"b":n>=1*10**6?"m":n>=1*10**3?"k":"":""}function Q(t,e,n){const o=Math.abs(t);return e===1/0?t.toLocaleString():n==="percentage"?Ie(t,e):n==="dollar"?o>=1*10**12?Ie(t/10**12,e):o>=1*10**9?Ie(t/10**9,e):o>=1*10**6?Ie(t/10**6,e):o>=1*10**3?Ie(t/10**3,e):Ie(t,e):t.toString()}async function De(t,e=0,n=1e3){const o=await t(e,n),s=await(o.length>=n?De(t,e+1,n):Promise.resolve([]));return o.concat(s)}function $t(t,e){return(Array.isArray(t)?t:[t]).some(o=>e.path.startsWith(o))}const He="0xc53baaaa8595a7a2e7fee71db7291b939f696734";class nl extends Error{constructor(e,n){super(n),this.status=e}}async function sl(t,e,n){try{const o=await fetch(t,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:n});if(o.ok)return o;throw new nl(o.status,`Fetch error ${o.status} for URL: ${t}`)}catch(o){throw o instanceof Error?o:new Error("Unknown fetch error")}}async function ll(t,e,n){return await(await sl(t,e,n)).json()}class be{async fetch(e,n,o){return ll(e,n,o)}}const il="wss://prices.curve.fi/v1/stream/ws",Yt="pool_ohlc";class _t{constructor(e,n,o){this.chain=n,this.settings=o,this.socket=e,this.ohlc$=this.socket.pipe(Ue(s=>s),Lt(s=>s.subscription.chain===this.chain&&s.channel===Yt&&JSON.stringify(s.subscription)===JSON.stringify(o)),Ue(s=>s.payload),Tt(1)),this.send("snapshots")}send(e){const n={action:e,channel:Yt,settings:[this.settings]};this.socket.next(n)}}const Qt="pool_volume";class rl{constructor(e,n,o){this.chain=n,this.settings=o,this.socket=e,this.volume$=this.socket.pipe(Ue(s=>s),Lt(s=>s.subscription.chain===this.chain&&s.channel===Qt&&JSON.stringify(s.subscription)===JSON.stringify(o)),Ue(s=>s.payload),Tt(1)),this.send("snapshots")}send(e){const n={action:e,channel:Qt,settings:[this.settings]};this.socket.next(n)}}function xt(t){return t instanceof Error?t.message.includes("Exchange resulted in fewer coins than expected")||t.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":t.message.includes("HTTP request failed")&&t.message.includes("eth_call")?"The RPC returned an error, probably a rate-limit. Try again layer or try a different wallet.":t.message:JSON.stringify(t)}async function cl(t){try{return await t()}catch(e){Xe({text:xt(e),type:"error"});return}}async function Jt(t,e){t.value=!0;try{return await e()}catch(n){Xe({text:xt(n),type:"error"});return}finally{t.value=!1}}const ul={key:0},dl={class:"nav-link-container"},pl={class:"nav-link-container"},ml={class:"left"},vl={key:0,class:"icon"},_l={class:"right"},fl=A({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(t,{emit:e}){const n=e,o=At(),s=F(!0),i=C(()=>zt(t.item)?[t.item]:pt(t.item)?t.item.children:[]),r=()=>{pt(t.item)&&t.item.children.filter(h=>$t(h.to,o)).length>0&&(s.value=!0)},c=p=>typeof p.label=="string"?p.label:p.label();K(()=>t.item,p=>{pt(p)&&(s.value=!p.initCollapsed),r()},{immediate:!0}),K(()=>o.fullPath,()=>{r()},{immediate:!0});const v=()=>{s.value=!s.value};return(p,h)=>{const l=al,u=Be("router-link"),b=tt;return f(),L(X,null,[a(pt)(p.item)?(f(),L("li",ul,[d("a",{class:"nav-link node",onClick:v},[d("div",dl,[H(x(p.item.label)+" ",1),d("i",{class:O(["expander fas fa-chevron-up",{expanded:a(s)}])},null,2)])])])):R("",!0),_(b,{class:"items",expanded:a(s)},{default:w(()=>[d("ul",null,[(f(!0),L(X,null,le(a(i),m=>(f(),L("li",{key:c(m)},[a(zt)(m)?(f(),T(u,{key:0,to:m.to,class:O(["nav-link leaf",{"router-link-active":a($t)(m.to,a(o))}]),onClick:h[0]||(h[0]=k=>n("navigated"))},{default:w(()=>[d("div",pl,[d("div",ml,[m.icon?(f(),L("div",vl,[d("i",{class:O(m.icon)},null,2)])):R("",!0),H(" "+x(c(m)),1)]),d("div",_l,[m.tag?(f(),T(l,{key:0,label:m.tag},null,8,["label"])):R("",!0)])])]),_:2},1032,["to","class"])):R("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}}),hl=P(fl,[["__scopeId","data-v-35101021"]]),bl=A({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(t,{emit:e}){const n=e,o=At(),s=C(()=>t.pages.find(c=>$t(c.titleRoute,o))),i=C(()=>{var c;return((c=s.value)==null?void 0:c.menuItems)??[]}),r=c=>typeof c.label=="string"?c.label:c.label();return(c,v)=>(f(),L("nav",null,[(f(!0),L(X,null,le(a(i),p=>(f(),L("ul",{key:r(p)},[_(hl,{item:p,onNavigated:v[0]||(v[0]=h=>n("navigated"))},null,8,["item"])]))),128))]))}}),gl=P(bl,[["__scopeId","data-v-c045c67c"]]);function at(){const{address:t,isConnected:e,chainId:n}=zn(),o=Yn(),s=C(()=>o.data.value&&t.value?t.value.toLocaleLowerCase():void 0),i=C(()=>{switch(n.value){case Ze.id:return"ethereum";case Qn.id:return"base";default:return}});return{isConnected:e,network:i,address:s}}function Z(t,e=6){if(!t)return"0x000...000";const n=e/2+2,o=t.length-e/2;return`${t.substring(0,n)}...${t.substring(o)}`}const yl=A({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:e}){const n=e,{network:o}=at(),{switchChain:s}=$o(),i=r=>{r.stopImmediatePropagation(),t.web3&&o.value!=="ethereum"&&s({chainId:Ze.id}),n("click")};return(r,c)=>(f(),L("button",{class:O({primary:r.primary}),onClick:i},[J(r.$slots,"default",{},()=>[r.icon?(f(),L("i",{key:0,class:O(["icon",[r.icon,{noValue:!!r.value}]])},null,2)):R("",!0),H(" "+x(r.value),1)],!0)],2))}}),ot=P(yl,[["__scopeId","data-v-a01f98b9"]]),wl="/assets/prisma-B4fv490f.png",$l="/assets/hat-D1qfnSjv.png",Cl={},Ao=t=>(pe("data-v-dbfe94c6"),t=t(),me(),t),kl={class:"logo"},Sl=Ao(()=>d("div",{class:"visual"},[d("img",{src:wl}),d("img",{src:$l})],-1)),Ll=Ao(()=>d("span",null,"prisma.monitor",-1)),Tl=[Sl,Ll];function Al(t,e){return f(),L("div",kl,Tl)}const Pl=P(Cl,[["render",Al],["__scopeId","data-v-dbfe94c6"]]),Il={class:"header"},xl={class:"buttons"},Dl=A({__name:"Header",emits:["toggle-expansion","navigated"],setup(t,{emit:e}){const n=e;return(o,s)=>{const i=Be("router-link"),r=ot;return f(),L("div",Il,[_(i,{class:"logo",to:"/",onClick:s[0]||(s[0]=c=>n("navigated"))},{default:w(()=>[_(Pl,{class:"logo"})]),_:1}),d("div",xl,[_(r,{icon:"fas fa-bars",onClick:s[1]||(s[1]=c=>n("toggle-expansion"))})])])}}}),ql=P(Dl,[["__scopeId","data-v-7323f4f0"]]),Vl={key:0,class:"modal"},Ml={class:"modal-popup"},Rl=A({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e}){const n=e,o=s=>{s.code==="Escape"&&n("close")};return he(()=>{document.addEventListener("keydown",o)}),Pt(()=>{document.removeEventListener("keydown",o)}),K(()=>t.show,s=>{document.body.style.overflow=s?"hidden":""}),(s,i)=>(f(),T(Jn,{to:"body"},[s.show?(f(),L("div",Vl,[d("div",{class:"modal-mask",onClick:i[0]||(i[0]=r=>n("close"))}),d("div",Ml,[J(s.$slots,"default",{},void 0,!0)])])):R("",!0)]))}}),Le=P(Rl,[["__scopeId","data-v-b0df9b35"]]),Fl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",Bl={key:1,src:Fl},Ul=A({__name:"Tooltip",props:{icon:{default:""}},emits:["show"],setup(t,{emit:e}){const n=e,o=F(!1);return K(o,s=>n("show",s)),(s,i)=>(f(),T(a(Xn),{class:"tooltip",show:a(o)},{content:w(()=>[J(s.$slots,"default",{},void 0,!0)]),default:w(()=>[d("div",{onMouseover:i[0]||(i[0]=r=>o.value=!0),onMouseleave:i[1]||(i[1]=r=>o.value=!1)},[J(s.$slots,"item",{},()=>[s.icon?(f(),L("i",{key:0,class:O(s.icon)},null,2)):(f(),L("img",Bl))],!0)],32)]),_:3},8,["show"]))}}),nt=P(Ul,[["__scopeId","data-v-ee2caf15"]]),Ol="/assets/injected-DW80ouY-.webp",El="/assets/rabby-CG__llS3.svg",Kl="/assets/walletconnect-BCBhrtde.webp",Wl="/assets/coinbase-CsqSq8Nj.webp",Nl="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",Hl={class:"buttons"},Gl={class:"connectors-body"},jl={class:"title"},Zl={class:"connectors"},zl=["src"],Yl={key:1,class:"empty"},Ql={class:"name"},Dt=A({__name:"WalletConnectButton",setup(t){const{t:e}=B(),{connect:n}=es(),o=ts(),s=["injected","walletConnect","coinbaseWalletSDK","safe"],i=C(()=>o.value.filter(h=>s.includes(h.id))),r=F(!1);function c(h){switch(h.id){case"injected":return Ol;case"walletConnect":return Kl;case"coinbaseWalletSDK":return Wl;case"safe":return Nl;case"io.rabby":return El;default:return""}}function v(h){return h.id==="injected"?"Browser Extension":h.name}function p(h){n({connector:h}),r.value=!1}return(h,l)=>{const u=ot,b=G,m=Le;return f(),L("div",Hl,[_(u,{class:"button",primary:!0,onClick:l[0]||(l[0]=k=>r.value=!0)},{default:w(()=>[H(x(a(e)("connect-your-wallet")),1)]),_:1}),R("",!0),_(m,{show:a(r),onClose:l[1]||(l[1]=k=>r.value=!1)},{default:w(()=>[_(b,null,{default:w(()=>[d("div",Gl,[d("div",jl,x(a(e)("connect-your-wallet")),1),d("div",Zl,[(f(!0),L(X,null,le(a(i),k=>(f(),L("div",{key:k.id,class:"connector"},[_(u,{onClick:$=>p(k)},{default:w(()=>[c(k)?(f(),L("img",{key:0,src:c(k)},null,8,zl)):(f(),L("div",Yl)),d("div",Ql,x(v(k)),1)]),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1},8,["show"])])}}});function Xt(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"Connect Wallet"}}}})}function ea(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"连接你的钱包"}}}})}typeof Xt=="function"&&Xt(Dt);typeof ea=="function"&&ea(Dt);const Jl=P(Dt,[["__scopeId","data-v-3c15f258"]]),Xl={class:"wallet"},ei={key:0,class:"connected"},ti={key:0,class:"unsupportedNetwork"},ai={class:"info"},oi={key:1,class:"notConnected"},ni={key:0,class:"info"},Po=A({__name:"Wallet",props:{labelPleaseConnect:{}},setup(t){const{t:e}=B(),{disconnect:n}=as(),{isConnected:o,network:s,address:i}=at(),{switchChain:r}=$o(),c=C(()=>s.value==="ethereum"),v=()=>r({chainId:Ze.id});return(p,h)=>{const l=ot;return f(),L("div",Xl,[a(o)?(f(),L("div",ei,[a(c)?R("",!0):(f(),L("div",ti,[_(l,{class:"changeNetwork",value:"Change Network",primary:!0,onClick:v}),d("span",ai,x(a(e)("incorrect-network")),1)])),_(l,{class:"disconnect",icon:"fas fa-check",value:a(Z)(a(i)),onClick:a(n)},null,8,["value","onClick"])])):(f(),L("div",oi,[_(Jl),p.labelPleaseConnect?(f(),L("span",ni,x(p.labelPleaseConnect),1)):R("",!0)]))])}}});function ta(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"incorrect-network":{t:0,b:{t:2,i:[{t:3}],s:"You are not on the correct network; should be Ethereum"}}}})}typeof ta=="function"&&ta(Po);const si=P(Po,[["__scopeId","data-v-610d17cd"]]),li=t=>(pe("data-v-9d368235"),t=t(),me(),t),ii={class:"select"},ri={class:"item"},ci={key:0,class:"label"},ui=["onClick"],di=li(()=>d("div",{class:"chevrons"},[d("i",{class:"fas fa-chevron-up"}),d("i",{class:"fas fa-chevron-down"})],-1)),pi=A({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(t,{emit:e}){const n=e;return(o,s)=>(f(),L("div",{class:"select-container",tabindex:"0",onClick:s[0]||(s[0]=te(i=>n("open"),["stop"])),onBlur:s[1]||(s[1]=i=>n("close"))},[d("div",ii,[d("div",{class:O(["selected",{open:o.open}])},[J(o.$slots,"item",{item:o.selected},()=>[d("div",ri,x(o.selected),1)],!0),o.label?(f(),L("div",ci,x(o.label),1)):R("",!0)],2),d("div",{class:O(["items",{selectHide:!o.open}])},[(f(!0),L(X,null,le(o.options,(i,r)=>(f(),L("div",{key:r,onClick:c=>n("input",i)},[J(o.$slots,"item",{item:i},()=>[H(x(i),1)],!0)],8,ui))),128))],2)]),di],32))}}),Io=P(pi,[["__scopeId","data-v-9d368235"]]),Ve={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},Me={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#794dec",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},mi=[Ve.blue,Ve.yellow,Ve.green,Ve.red,Ve.purple,"#ff8f33"],vi=[Me.purple,Me.yellow,Me.green,Me.red,Me.blue,"#ff8f33"],Re={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Fe={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#a689f2",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},_i=[Re.blue,Re.yellow,Re.green,Re.red,Re.purple],fi=[Fe.purple,Fe.yellow,Fe.green,Fe.red,Fe.blue];function ft(t,e){switch(t){case"light":return e==="lsd"?Re:Fe;default:return e==="lsd"?Ve:Me}}function hi(t,e){switch(t){case"light":return e==="lsd"?_i:fi;default:return e==="lsd"?mi:vi}}function bi(t,e){const n=ft(t,e);return e==="lsd"?{lineColor:n.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)"}:{lineColor:n.purple,topColor:"rgb(163, 91, 251, 0.2)",bottomColor:"rgba(163, 91, 251, 0)"}}const U=Qe("settingsStore",()=>{const t=F("light"),e=F("lsd"),n=C(()=>({colors:ft(t.value,e.value),colorsArray:hi(t.value,e.value),lineChartColors:bi(t.value,e.value)}));return{themeId:t,flavor:e,theme:n}});function ht(t){switch(t){case"lsd":return"mkUSD";case"lrt":return"ULTRA";default:return"???"}}function Te(t){switch(t){case"lsd":return"https://api.prismamonitor.com/v1";case"lrt":return"https://api.ultra.prismamonitor.com/v1";default:return""}}function aa(t){switch(t){case"lsd":return"wss://api.prismamonitor.com/v1/prisma/ws";case"lrt":return"wss://api.ultra.prismamonitor.com/v1/prisma/ws";default:return""}}function gi(t){switch(t){case"api-lsd":return aa("lsd");case"api-lrt":return aa("lrt");case"prices":return il;default:throw new Error("Unknown socket type")}}function Oe(t){switch(t){case"lsd":return"api-lsd";case"lrt":return"api-lrt";default:throw new Error("Unknown flavor")}}const Ce=Qe("socketStore",()=>{const t=Co({sockets:{"api-lsd":null,"api-lrt":null,prices:null}});return{state:t,getSocket:n=>{if(!t.sockets[n]){const o=gi(n);t.sockets[n]=os(o)}return t.sockets[n]}}}),yi={class:"theme"},wi={class:"label"},$i={class:"colors"},Ci="theme",ki=A({__name:"SelectTheme",setup(t){const e=U(),n=[{id:"dark",colors:ft("dark",e.flavor)},{id:"light",colors:ft("light",e.flavor)}],s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",i=ns(Ci,n.find(p=>p.id===s)??n[0],void 0,{serializer:{read:p=>n.find(h=>h.id===p)??n[0],write:p=>p.id}});he(()=>{v(i.value)});const r=F(!1),c=()=>{r.value=!r.value},v=p=>{i.value=p,window.document.documentElement.setAttribute("data-theme",p.id),e.themeId=p.id};return(p,h)=>{const l=Io;return f(),T(l,{class:"select direction-up",options:n.map(u=>u),selected:a(i),open:a(r),onOpen:c,onClose:h[0]||(h[0]=u=>r.value=!1),onInput:v},{item:w(u=>[d("div",yi,[d("div",wi,x(u.item.id),1),d("div",$i,[d("div",{class:"color",style:_e({"background-color":u.item.colors.backgroundColor})},null,4),d("div",{class:"color",style:_e({"background-color":u.item.colors.level1})},null,4),d("div",{class:"color",style:_e({"background-color":u.item.colors.level2})},null,4),d("div",{class:"color",style:_e({"background-color":u.item.colors.blue})},null,4),d("div",{class:"color",style:_e({"background-color":u.item.colors.yellow})},null,4),d("div",{class:"color",style:_e({"background-color":u.item.colors.green})},null,4),d("div",{class:"color",style:_e({"background-color":u.item.colors.red})},null,4),d("div",{class:"color",style:_e({"background-color":u.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"])}}}),Si=P(ki,[["__scopeId","data-v-979f6df0"]]),Li={class:"bottom"},Ti={class:"buttons"},Ai={href:"https://twitter.com/0xAlunara",target:"_blank"},Pi={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},Ii={class:"selectors"},xi=A({__name:"Bottom",emits:["navigated"],setup(t,{emit:e}){const n=e,o=async()=>{await navigator.clipboard.writeText(window.location.href)};return(s,i)=>{const r=ot,c=Be("router-link");return f(),L("div",Li,[d("div",Ti,[_(r,{class:"copy",icon:"fas fa-link",onClick:o}),d("a",Ai,[_(r,{icon:"fab fa-twitter"})]),d("a",Pi,[_(r,{icon:"fab fa-github"})]),_(c,{to:"/code"},{default:w(()=>[_(r,{icon:"fas fa-code",onClick:i[0]||(i[0]=v=>n("navigated"))})]),_:1})]),d("div",Ii,[_(Si,{class:"themes"})]),_(si)])}}}),Di=P(xi,[["__scopeId","data-v-9e69d3dd"]]),qt=()=>Qe("pageStore",()=>{const t=F([]),e=F([]);return{pages:t,routes:e}})(),qi=A({__name:"Navigation",emits:["navigated"],setup(t,{emit:e}){const n=e,o=qt(),s=F(!1),i=()=>{s.value=!1,n("navigated")};return(r,c)=>{const v=gl,p=tt;return f(),L("div",{class:O(["menu-desktop",{expanded:a(s)}])},[_(ql,{onToggleExpansion:c[0]||(c[0]=h=>s.value=!a(s)),onNavigated:i}),_(p,{class:"menu-content",expanded:a(s)},{default:w(()=>[_(v,{pages:a(o).pages,onNavigated:i},null,8,["pages"]),_(Di,{onNavigated:i})]),_:1},8,["expanded"])],2)}}}),Vi=P(qi,[["__scopeId","data-v-680ee7de"]]),Mi=A({__name:"App",setup(t){const e=U(),n=et(),o=At();return he(()=>{e.flavor==="lrt"&&window.document.documentElement.setAttribute("data-flavor","lrt")}),K(()=>o.fullPath,s=>{["/pool","/stable","/redemptions","/liquidation","/profile","/wrappers","/proposals","/veprisma"].some(r=>s.startsWith(r))&&(n.show=!1)}),(s,i)=>{const r=Ys;return f(),T(r,null,{navigation:w(()=>[_(Vi,{class:"navigation"})]),_:1})}}}),Ri=P(Mi,[["__scopeId","data-v-81f52474"]]),Fi="/assets/404-DGbqGNxT.png",Bi=t=>(pe("data-v-3987f8f8"),t=t(),me(),t),Ui={class:"not-found"},Oi={class:"not-found-container"},Ei=Bi(()=>d("img",{src:Fi},null,-1)),xo=A({__name:"NotFound.page",setup(t){const{t:e}=B();return(n,o)=>{const s=G;return f(),L("div",Ui,[d("div",Oi,[_(s,null,{default:w(()=>[H(x(a(e)("404")),1)]),_:1}),Ei])])}}});function oa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:{t:0,b:{t:2,i:[{t:3}],s:"Where are you going, pilot? Page not found, please return home fren."}}}})}typeof oa=="function"&&oa(xo);const Ki=P(xo,[["__scopeId","data-v-3987f8f8"]]),Do=t=>(pe("data-v-16243365"),t=t(),me(),t),Wi={key:0,class:"expander"},Ni=Do(()=>d("i",{class:"fas fa-chevron-up"},null,-1)),Hi=[Ni],Gi={key:1,class:"expander"},ji=Do(()=>d("i",{class:"fas fa-chevron-up"},null,-1)),Zi=[ji],zi={class:"row-details"},Yi=A({__name:"TableRow",props:{data:{},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(t,{emit:e}){const n=e,o=ko(),s=C(()=>{var c;const r=o["row-details"];if(r){const v=(c=r()[0])==null?void 0:c.children;if(v)return v.length>0}return!1}),i=()=>{n("click",t.data)};return(r,c)=>{const v=tt;return f(),L("div",{class:O(["row",{expanded:r.expanded}])},[d("div",{class:O(["row-data",{active:r.selected,expandable:a(s),"has-data":!!r.data}]),onClick:i},[r.data&&a(s)&&r.expandSide==="left"?(f(),L("div",Wi,Hi)):R("",!0),J(r.$slots,"row",{},void 0,!0),r.data&&a(s)&&r.expandSide!=="left"?(f(),L("div",Gi,Zi)):R("",!0)],2),r.data?(f(),T(v,{key:0,expanded:r.expanded},{default:w(()=>[d("div",zi,[J(r.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):R("",!0)],2)}}}),Qi=P(Yi,[["__scopeId","data-v-16243365"]]),Ji={class:"table"},Xi=["onClick"],er={key:1,class:"no-data"},Vt=A({__name:"Table",props:{columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{default:()=>({order:"asc"})},icon:{}},emits:["selected","sortColumn"],setup(t,{emit:e}){const{t:n}=B(),o=e,s=C(()=>{if(t.rowsMin===null)return[];const l=Math.max(0,t.rowsMin-t.rows.length);return new Array(l)}),i=C(()=>t.columns.map(l=>typeof l=="string"?{id:l,label:l}:l)),r=l=>{l&&o("selected",l)},c=l=>{const u=l+1;return!!(t.rows[l+1]&&t.rows.findIndex(k=>k===t.selectedRow)===u)},v=l=>t.sorting.column===l.id&&t.sorting.order==="asc",p=l=>t.sorting.column===l.id&&t.sorting.order==="desc",h=l=>{if(!l.sort)return;const u=l.id===t.sorting.column&&t.sorting.order==="asc"?"desc":"asc";o("sortColumn",l.id,u)};return(l,u)=>{const b=Qi;return f(),L("div",Ji,[l.columns.length>0?(f(),T(b,{key:0,class:O({"selected-below":c(-1)})},{row:w(()=>[(f(!0),L(X,null,le(a(i),m=>(f(),L("div",{key:m.id,class:O(["column-header",{sortable:m.sort,sorting:m.sort&&l.sorting.column===m.id,[m.align||""]:!!m.align}]),onClick:k=>h(m)},[d("span",null,x(m.label),1),m.sort?(f(),L("i",{key:0,class:O(["sorting-arrow fa fa-caret-right",{asc:v(m),desc:p(m)}])},null,2)):R("",!0)],10,Xi))),128))]),_:1},8,["class"])):R("",!0),(f(!0),L(X,null,le(l.rows,(m,k)=>(f(),T(b,{key:m,data:m,class:O({"selected-below":c(k)}),selected:l.selectedRow===m,expanded:l.expanded.includes(m),"expand-side":l.expandSide,onClick:r},{row:w(()=>[J(l.$slots,"row",{item:m},void 0,!0)]),"row-details":w(()=>[J(l.$slots,"row-details",{item:m},void 0,!0)]),_:2},1032,["data","class","selected","expanded","expand-side"]))),128)),(f(!0),L(X,null,le(a(s),m=>(f(),T(b,{key:m}))),128)),!l.rowsMin&&(!l.rows||l.rows.length===0)?(f(),L("div",er,[J(l.$slots,"no-data",{},()=>[H(x(a(n)("no-data")),1)],!0)])):R("",!0),l.$slots["row-aggregation"]&&l.rows.length>0?(f(),T(b,{key:2,class:"aggregation"},{row:w(()=>[J(l.$slots,"row-aggregation",{},void 0,!0)]),_:3})):R("",!0)])}}});function na(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"No data :("}}}})}function sa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"没有数据 :("}}}})}typeof na=="function"&&na(Vt);typeof sa=="function"&&sa(Vt);const se=P(Vt,[["__scopeId","data-v-7585a93a"]]),tr={class:"contracts"},ar=["href"],qo=A({__name:"Code.page",setup(t){const{t:e}=B(),n=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}];return(o,s)=>{const i=se,r=G;return f(),L("div",tr,[_(r,{title:a(e)("repositories")},{default:w(()=>[_(i,{class:"repositories-table",rows:n,columns:[a(e)("repository"),a(e)("description")]},{row:w(c=>[d("div",null,[d("a",{href:c.item.url,target:"_blank"},x(c.item.name),9,ar)]),d("div",null,x(a(e)(c.item.description)),1)]),_:1},8,["columns"])]),_:1},8,["title"])])}}});function la(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:{t:0,b:{t:2,i:[{t:3}],s:"Repositories"}},repository:{t:0,b:{t:2,i:[{t:3}],s:"Repository"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},"repo-laf":{t:0,b:{t:2,i:[{t:3}],s:"This website's front-end, excluding the Union"}}}})}typeof la=="function"&&la(qo);const or=P(qo,[["__scopeId","data-v-fb6876cf"]]);function nr(){const t=qt(),e=[{path:"/code",component:or},...t.routes.flatMap(o=>o),{path:"/:pathMatch(.*)*",name:"NotFound",component:Ki}];return ss({history:ls(),routes:e})}const sr=A({__name:"ChartApex",props:{options:{},series:{}},setup(t){return(e,n)=>{const o=Be("apexchart");return f(),T(o,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}}),Mt=P(sr,[["__scopeId","data-v-1e57adb0"]]),lr=A({__name:"CardChart",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(t){return(e,n)=>{const o=Mt,s=G;return f(),T(s,{class:"cart-chart",title:e.title,loading:e.loading},{actions:w(()=>[J(e.$slots,"actions",{},void 0,!0)]),default:w(()=>[_(o,{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),J(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"])}}}),ie=P(lr,[["__scopeId","data-v-51bb8302"]]),ir=A({__name:"ButtonToggle",props:ze({icon:{default:""},value:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ze(["change"],["update:modelValue"]),setup(t,{emit:e}){const n=It(t,"modelValue"),o=e,s=()=>{const i=!n.value;n.value=i,o("change",i)};return(i,r)=>(f(),L("button",{class:O({toggled:n.value}),onClick:s},[J(i.$slots,"default",{},()=>[i.icon?(f(),L("i",{key:0,class:O(["icon",i.icon])},null,2)):R("",!0),H(" "+x(i.value),1)],!0)],2))}}),st=P(ir,[["__scopeId","data-v-293e52b8"]]),rr=t=>({chart:{id:"chart",background:"transparant",foreColor:t.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:t.colorsArray,grid:{borderColor:t.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:t.colors.level5,height:1},axisTicks:{color:t.colors.level5},title:{color:t.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:t.colors.level5},axisTicks:{color:t.colors.level5},title:{color:t.colors.level5}}});function ne(t,e){const n=rr(t),o=(s,i)=>{if(typeof i=="object"){W.mergeWith(s,i,o);return}else return s||i};return W.mergeWith(e,n,o)}class Rt extends be{constructor(e){super(),this.API_URL=Te(e)}async getCollateralPrices(e,n,o){return this.fetch(`${this.API_URL}/collateral/${e}/${n}/prices?period=${o}`)}async getCollateralPriceImpact(e,n){return this.fetch(`${this.API_URL}/collateral/${e}/${n}/impact`)}async getCollateralInfo(e,n){return this.fetch(`${this.API_URL}/collateral/${e}/${n}/info`)}}class Ft extends be{constructor(e){super(),this.API_URL=Te(e)}async getLiquidations(e,n){return De(s=>this.fetch(`${this.API_URL}/liquidations/${e}/${n}?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(i=>i.liquidations.map(r=>({...r,liquidator:r.liquidator.toLocaleLowerCase(),vault:r.vault.toLocaleLowerCase()}))),1,100)}async getLiquidationsForTrove(e,n){return De(s=>this.fetch(`${this.API_URL}/liquidations/${e}?items=100&page=${s}&order_by=block_timestamp&desc=true&trove_filter=${n}`).then(i=>i.liquidations.map(r=>({...r,liquidator:r.liquidator.toLocaleLowerCase(),vault:r.vault.toLocaleLowerCase()}))),1,100)}}class Ae extends be{constructor(e){super(),this.API_URL=Te(e)}async getHistoricalOpenTrovesOverview(e,n){return this.fetch(`${this.API_URL}/managers/${e}/open_troves?period=${n}`)}async getHistoricalCollateralRatiosOverview(e,n){return this.fetch(`${this.API_URL}/managers/${e}/collateral_ratios?period=${n}`)}async getCollateralRatioGrouped(e,n){return this.fetch(`${this.API_URL}/managers/${e}/global_collateral_ratio?period=${n}`)}async getHistoricalCollateralOverview(e,n){return this.fetch(`${this.API_URL}/managers/${e}/collateral?period=${n}`)}async getRatioDistributionGrouped(e){return this.fetch(`${this.API_URL}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,n,o){return this.fetch(`${this.API_URL}/managers/${e}/${n}/large_positions?unit=${o}`)}async getVaultCollateralRatio(e,n,o){return this.fetch(`${this.API_URL}/managers/${e}/${n}/collateral_ratio?period=${o}`)}async getVaultTroveCount(e,n,o){return this.fetch(`${this.API_URL}/managers/${e}/${n}/open_trove_count?period=${o}`)}async getTroveDistribution(e,n,o){return this.fetch(`${this.API_URL}/managers/${e}/${n}/histograms?unit=${o}`)}}class lt extends be{constructor(e){super(),this.API_URL=Te(e)}async getPriceHistory(e,n){return this.fetch(`${this.API_URL}/mkusd/${e}/history?period=${n}`)}async getSupplyHistory(e){return this.fetch(`${this.API_URL}/mkusd/${e}/supply`)}async getPriceHistogram(e,n,o){return this.fetch(`${this.API_URL}/mkusd/${e}/histogram?period=${o}&bins=${n}`)}async getLargeStableCoinHolders(e){return this.fetch(`${this.API_URL}/mkusd/${e}/holders`)}async getStableCoinKPI(e){return this.fetch(`${this.API_URL}/mkusd/${e}/general`)}async getCurvePoolDepth(e){return this.fetch(`${this.API_URL}/mkusd/${e}/depth`)}}class Bt extends be{constructor(e){super(),this.API_URL=Te(e)}async getRedemptions(e,n){return De(s=>this.fetch(`${this.API_URL}/redemptions/${e}/${n}?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(i=>i.redemptions.map(r=>({...r,redeemer:r.redeemer.toLocaleLowerCase(),vault:r.vault.toLocaleLowerCase()}))),1,100)}async getRedemptionsForTrove(e,n){return De(s=>this.fetch(`${this.API_URL}/redemptions/${e}?items=100&page=${s}&order_by=block_timestamp&desc=true&trove_filter=${n}`).then(i=>i.redemptions.map(r=>({...r,redeemer:r.redeemer.toLocaleLowerCase(),vault:r.vault.toLocaleLowerCase()}))),1,100)}}class Vo extends be{constructor(e){super(),this.API_URL=Te(e)}async getSnapshots(){return this.fetch(`${this.API_URL}/revenue/ethereum/snapshots?period=3m`)}async getBreakdown(){return this.fetch(`${this.API_URL}/revenue/ethereum/breakdown`)}}class Ee extends be{constructor(e){super(),this.API_URL=Te(e)}async getPoolTvl(e,n){return this.fetch(`${this.API_URL}/pool/${e}/deposits?period=${n}`)}async getStableFlow(e,n){return this.fetch(`${this.API_URL}/pool/${e}/stable_operations?period=${n}`)}async getStableDistribution(e){return this.fetch(`${this.API_URL}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,n){return this.fetch(`${this.API_URL}/pool/${e}/cumulative_withdrawals?period=${n}`)}async getTopStableDeposits(e,n,o){return this.fetch(`${this.API_URL}/pool/${e}/top/stable_deposits?top=${n}&period=${o}`)}async getTopStableWithdrawals(e,n,o){return this.fetch(`${this.API_URL}/pool/${e}/top/stable_withdrawals?top=${n}&period=${o}`)}}class Ke extends be{constructor(e){super(),this.API_URL=Te(e)}async getTroves(e,n,o){return De(i=>this.fetch(`${this.API_URL}/trove/${e}/${n}/troves?items=100&page=${i}&order_by=last_update&desc=true${o?"&owner_filter="+o:""}`).then(r=>r.troves),1,100)}async getTroveSnapshots(e,n,o){return this.fetch(`${this.API_URL}/trove/${e}/${n}/snapshots/${o}`)}async getTroveDetail(e,n,o){return this.fetch(`${this.API_URL}/trove/${e}/${n}/${o}`)}async getTroveHistory(e,n,o){return this.fetch(`${this.API_URL}/trove/${e}/${n}/history/${o}`)}async getTroveRank(e,n,o){return this.fetch(`${this.API_URL}/trove/${e}/${n}/rank/${o}`)}}const mt="https://api.prismamonitor.com/v1";function vt(t){switch(t){case"convex":return"0x0c73f1cfd5c9dfc150c8707aa47acbd14f0be108";case"yearn":return"0x774a55c3eeb79929fd445ae97191228ab39c4d0f";default:throw new Error("Unknown contract")}}class it extends be{async getTVL(e){return this.fetch(`${mt}/staking/${vt(e)}/tvl?period=all&groupby=day`)}async getFlow(e){return this.fetch(`${mt}/staking/${vt(e)}/flow?period=all&groupby=day`)}async getDistribution(e){return this.fetch(`${mt}/staking/${vt(e)}/distribution`)}async getSnapshots(e){return this.fetch(`${mt}/staking/${vt(e)}/snapshots?period=7d`)}}const ia="troves_overview";let yt=null;class We{constructor(e,n){if(this.chain=n,this.socket=e,yt){this.send("snapshots");return}yt=this.socket.pipe(Ue(o=>o),Lt(o=>o.subscription.chain===this.chain&&o.channel===ia),Ue(o=>o.payload),Tt(1)),this.send("subscribe"),this.send("snapshots")}get overview$(){return yt}send(e){const n={action:e,channel:ia,settings:[{chain:this.chain}]};this.socket.next(n)}}const cr={class:"actions"},ur={class:"periods"},Mo=A({__name:"ChartOpenTroves",setup(t){const{t:e}=B(),{theme:n,flavor:o}=j(U()),s=new Ae(o.value),i=F("1m"),{isFetching:r,data:c}=N({queryKey:["prisma-historical-open-troves",i],queryFn:({queryKey:[,b]})=>s.getHistoricalOpenTrovesOverview("ethereum",b).then(m=>m.managers),initialData:[],initialDataUpdatedAt:0}),v=C(()=>ne(n.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:l,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:b,dataPointIndex:m,w:k})=>{let $=0;const g=b.map((y,S)=>{const I=y[m];return $+=I,`<div><b>${k.globals.seriesNames[S]}</b>: ${I}</div>`});return g.push(`<div><b>Total</b>: ${$}</div>`),g.join("")}}})),p=C(()=>c.value.length===0||c.value[0].data.length===0?[]:c.value[0].data.map(b=>new Date(b.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),h=C(()=>c.value.length===0?[]:c.value.map(b=>({name:b.manager,data:b.data.map(m=>m.value)}))),l=b=>b,u=b=>{i.value!==b&&(i.value=b)};return(b,m)=>{const k=st,$=ie;return f(),T($,{class:"chart",title:a(e)("title"),loading:a(r),options:a(v),series:a(h)},{actions:w(()=>[d("div",cr,[d("div",ur,[_(k,{value:"1m","model-value":a(i)==="1m",onClick:m[0]||(m[0]=g=>u("1m"))},null,8,["model-value"]),_(k,{value:"3m","model-value":a(i)==="3m",onClick:m[1]||(m[1]=g=>u("3m"))},null,8,["model-value"]),_(k,{value:"6m","model-value":a(i)==="6m",onClick:m[2]||(m[2]=g=>u("6m"))},null,8,["model-value"])])])]),_:1},8,["title","loading","options","series"])}}});function ra(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Open troves"}}}})}typeof ra=="function"&&ra(Mo);const dr=P(Mo,[["__scopeId","data-v-9c406496"]]),pr=(t,e)=>{const{colors:n}=e;return{width:t.clientWidth,height:t.clientHeight,layout:{background:{type:is.Solid,color:n.backgroundColor},textColor:n.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:n.level4,style:rs.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ce(t,e,n){const o=pr(t,e),s=(i,r)=>{if(typeof r=="object"){W.mergeWith(i,r,s);return}else return i||r};return W.mergeWith(n,o,s)}function ue(t,e,n){const o=F(void 0),s=F(void 0);let i=null;return he(async()=>{if(!o.value)return;await cs();const r=us(o.value,e(o.value));s.value=r,n==null||n(r),i=new ResizeObserver(c=>{const v=c[0].target;s.value&&o.value&&(s.value.applyOptions({width:v.clientWidth,height:v.clientHeight}),s.value.timeScale().fitContent())}),o.value.parentElement&&i.observe(o.value.parentElement)}),Pt(()=>{s.value&&(s.value.remove(),s.value=void 0),i&&(i.disconnect(),i=null)}),K(t,()=>{o.value&&s.value&&s.value.applyOptions(e(o.value))}),{chart:s,chartRef:o}}const Ro=A({__name:"ChartCollateralRatio",setup(t){const{t:e}=B();let n;const{theme:o,flavor:s}=j(U()),{chart:i,chartRef:r}=ue(o,h,b=>{n=b.addAreaSeries(l())}),c=new Ae(s.value),{isFetching:v,data:p}=N({queryKey:["prisma-collateral-ratios"],queryFn:()=>c.getCollateralRatioGrouped("ethereum","all").then(b=>b.data),initialData:[],initialDataUpdatedAt:0});K([p,i],u),K(o,()=>n.applyOptions(l()));function h(b){return ce(b,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function l(){return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:de.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}}function u([b,m]){if(!m||!n)return;const k=W.chain(b).map($=>({time:$.timestamp,value:$.value*100})).uniqWith(($,g)=>$.time===g.time).orderBy($=>$.time,"asc").value();k.length>0&&n.setData(k),m.timeScale().fitContent()}return(b,m)=>{const k=G;return f(),T(k,{class:"chart-container",title:a(e)("title"),loading:a(v)},{default:w(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ca(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Global collateral ratio"}}}})}typeof ca=="function"&&ca(Ro);const mr=P(Ro,[["__scopeId","data-v-c1de081b"]]),Fo=A({__name:"ChartRatioDeciles",setup(t){const{t:e}=B(),{theme:n,flavor:o}=j(U()),s=new Ae(o.value),{isFetching:i,data:r}=N({queryKey:["prisma-ratio-distribution"],queryFn:()=>s.getRatioDistributionGrouped("ethereum").then(u=>u.deciles),initialData:[],initialDataUpdatedAt:0}),c=C(()=>ne(n.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:v.value,labels:{formatter:h,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:l}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),v=C(()=>r.value.map(u=>u.label)),p=C(()=>[{name:e("debt"),data:Object.values(r.value).map(u=>u.data)}]),h=u=>u,l=u=>`$${Q(u,0,"dollar")}${z(u,"dollar")}`;return(u,b)=>{const m=ie;return f(),T(m,{class:"chart",title:a(e)("title"),loading:a(i),options:a(c),series:a(p)},null,8,["title","loading","options","series"])}}});function ua(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Debt per Collateral Ratio Deciles"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt"}}}})}typeof ua=="function"&&ua(Fo);const vr=P(Fo,[["__scopeId","data-v-8f7c9e2d"]]),_r={class:"actions"},fr={class:"periods"},Bo=A({__name:"ChartGlobalCollateral",setup(t){const{t:e}=B(),{theme:n,flavor:o}=j(U()),s=new Ae(o.value),i=F("1m"),{isFetching:r,data:c}=N({queryKey:["prisma-collateral-hist-overview",i],queryFn:({queryKey:[,m]})=>s.getHistoricalCollateralOverview("ethereum",m).then(k=>k.managers),initialData:[],initialDataUpdatedAt:0}),v=C(()=>ne(n.value,{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:l,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:u}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),p=C(()=>c.value.length===0||c.value[0].data.length===0?[]:c.value[0].data.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),h=C(()=>c.value.length===0?[]:c.value.map(m=>({name:m.manager,data:m.data.map(k=>k.value)}))),l=m=>m,u=m=>`$${Q(m,1,"dollar")}${z(m,"dollar")}`,b=m=>{i.value!==m&&(i.value=m)};return(m,k)=>{const $=st,g=ie;return f(),T(g,{class:"chart",title:a(e)("title"),loading:a(r),options:a(v),series:a(h)},{actions:w(()=>[d("div",_r,[d("div",fr,[_($,{value:"1m","model-value":a(i)==="1m",onClick:k[0]||(k[0]=y=>b("1m"))},null,8,["model-value"]),_($,{value:"3m","model-value":a(i)==="3m",onClick:k[1]||(k[1]=y=>b("3m"))},null,8,["model-value"]),_($,{value:"6m","model-value":a(i)==="6m",onClick:k[2]||(k[2]=y=>b("6m"))},null,8,["model-value"])])])]),_:1},8,["title","loading","options","series"])}}});function da(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral value"}}}})}typeof da=="function"&&da(Bo);const hr=P(Bo,[["__scopeId","data-v-333aae42"]]),br={key:0,class:"async-value"},gr="|/-\\",ae=A({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(t){let e=0,n=0;const o=F("|"),s=C(()=>t.value?Q(t.value,typeof t.precision=="function"?t.precision(t.value):t.precision,t.type??""):t.value===0&&t.showZero?"0":t.value===null||t.value===void 0?o.value:"?"),i=C(()=>t.precision===1/0?"":!t.value||!t.type||!W.isFinite(t.value)?t.showUnit&&t.type?z(0,t.type):"":z(t.value,t.type));return K(()=>t.value,r=>{if(clearInterval(n),e=0,r)return;const c=()=>{e=(e+1)%4,o.value=gr[e]};n=window.setInterval(c,250)},{immediate:!0}),(r,c)=>r.inline?(f(),L(X,{key:1},[H(x(r.showSymbol&&r.type==="dollar"?"$":"")+x(a(s))+x(r.showUnit?a(i):""),1)],64)):(f(),L("div",br,x(r.showSymbol&&r.type==="dollar"?"$":"")+x(a(s))+x(r.showUnit?a(i):""),1))}}),yr=t=>(pe("data-v-ae7c4228"),t=t(),me(),t),wr={class:"input-text"},$r={key:0,class:"icon"},Cr=yr(()=>d("i",{class:"fas fa-search"},null,-1)),kr=[Cr],Sr=["type","value","placeholder"],Lr=["onClick"],Tr=A({__name:"InputText",props:ze({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:ze(["input","select"],["update:modelValue"]),setup(t,{emit:e}){const n=It(t,"modelValue"),o=e,s=C(()=>{const r=t.options.filter(v=>t.filter(n.value,v));return t.sort?[...r].sort(t.sort):r}),i=r=>{const c=r.target.value;n.value=c,o("input",c)};return(r,c)=>(f(),L("div",wr,[r.search?(f(),L("span",$r,kr)):R("",!0),d("input",{type:r.search?"search":"text",value:n.value,placeholder:r.placeholder,onInput:te(i,["stop"]),onSelect:c[0]||(c[0]=te(()=>{},["stop"]))},null,40,Sr),r.options&&r.autoComplete?(f(),L("div",{key:1,class:O(["items",{selectHide:!r.autoComplete}])},[(f(!0),L(X,null,le(a(s),(v,p)=>(f(),L("div",{key:p,onClick:h=>o("select",v)},[J(r.$slots,"item",{item:v,idx:p},()=>[H(x(v),1)],!0)],8,Lr))),128))],2)):R("",!0)]))}}),ve=P(Tr,[["__scopeId","data-v-ae7c4228"]]),Ar="data:image/webp;base64,UklGRnYCAABXRUJQVlA4TGoCAAAvP8APEOfBIGDbNjJ/niWw77kxDQaNJCnq8+/wPDzD5pZm/hG0bRvr/EEdysfgQ5AAqiEKNuJMsZMp4sRB2ChMEQdh4zMQU/yOf+6TAoNJ3hdEgUEWNr6fOAWJY2NN4lwnBRtZgMAIf6BIWJCwILCg4ghXaGPAAx8QI9lWFf277u5+cTi4W/6B8Z+ce9kAIvrvwG3bSJITODv3vekXCoNmSGhSuGsAQgNH1qC18mGESFVJqIZIMzsbBGoJoSYCbYwgkNBCIAvbRGUstrab/SpGvWGnnmUxCeQw0TGhbJBZkzyf0HvJq0ZFb8c3d5GUMfkiXoMtWQtKVMhym58mFsgVXLLEJTZsvsTcs7GJnX5cEUDbW8oW9LQIy6RxwmUfSGxL2iNstrb4S44LhsPIaI+xWEgfaFKZwBJtYBi6DavRgEFdeUnlTYILkglQ4b2jqjc3NwarAHMAdDZUS0p9sHEAdHnqqiGhHkujT5D92uQIN+3ENVTTJIsLH1R5bm6cfggPP5nQM8eZeNHMTMxM/fNa7TxZJKsjdfsRHspDitPwRKgvT3cBVKkPAuKJibVUf6m/r0lBP/jxSmF1oqrq/92QnW5PEvdAXPlM3xEN9EDTJ7s0hLoSuVSlvQkM9//dNnCc48jyv7He5//W6n/8bxYjW9hynuob3imaMb8U78nGZWMy3jMtOCxR5h4br6eSOzrzfWOFPD7SK0T3PgDwwwWXn1TvDrqka/Bt/94bf+ekene8W3kPhpB7HzfZx22HLIfhuM1n3NhkaGXGjS7D7UpiswdVRBoXLlqC1rrw05BhWLhr2o3pzg1HVwA=",Pr="data:image/webp;base64,UklGRp4HAABXRUJQVlA4TJEHAAAvP8APEOZQ0LYN4/CHvYMhIibAtxpNmo50WMwCnGb75zb8Cb8Acv2/v0PAIIyhyuiS8NQj12QYVucCKILi6XiOmQPDCoZesxH0noLBytR7LIYocxAEWtTZKoofgIyfp/89vtMAAJAGq2SXE+AHewA+kQaRB1wqD+gFviW7wC0tuTJw20hRu3hMA70n0LH/T7Wk7H8Z772WcXeXdnf37mft3vHcW7erZnYwuEs8EfHoDTlvDZyX3pDJOESuUR8idyqsDUyEE5G5wwsL73xiIk6lfSZDb4Zr7gvobeBO3BHuUGHHLGB8/ljouTtkriMhDpAAACwb5Wzbtm3btm3btm3btm9n27aNr8K2bZv/L6484vbfgdu2kaRmxoG79+F29wmhSIaZYJENznjKG77yv8b7Io5YH3arMDgy2GWNE57xhb/WkvnO1ce8Ow4GjLDADi/5aRLvluvkzR9Vwh7vzYOrA+YZ8kSX7cI8yetN12spy9zl5s38clbJYJRNPlsgXHSORTDGqfS66G/4V17g6a8E5jjnn7lR9w3UvqETtVn5rFSuTan1v6/yitiYlJ8gyJpXd2G8NGmtiE9Id9pLLXXtB7CYaJQj19FOTerr/559Rl1I15ViIY5ZTywmG6etD5Z27rRl1Y8M06wF/G5UN9qy0eGpuILQuuukrcDKQlyWlGV/+FnB33i0VXlGtes+IbQWJ62+dm7FZa4ldaMZUwlxjnNBov4bsvrpNtv5JlPAoOaZkYa1gq8SZF0ZG53KWwitbDNuRMIrk+hNLbY/4pgNfBXOMxusE1pbSaO1sSsuc6+rB9OxFgTKQ93iWhGh2KRq6Ffaslu4FXwtVMbFp+oBIKtVQ7c2Cd70KgegTDkUW6oSZJ3sFpFa6xqYXGrLSnbpxXFM6WxQ64S/EYY9Mcg2klMZ5pHiTQit5V8YzvklLfsyxLHKLVrBOmCsn+C9FxvjwjGllTvCN1yp+GR/RmYdzcOUY+2IWU0OxBhj/ojryXLDdWrImCjbIdhnyB9UUrZDXSN5kE1yuwRkFkdpl2eSwZQd0Yf3LOD7wa4b5YaolBtB1pUzi6Zlh8gOgeZ0Ki7BwQ4ZbdFwr+xLZl11hzuKwbSHe8YGvd0HSnWUeWcbHME+Ld8PRVPKbFB0WIzEdNe8ACQf/53hNFeW5XSoK/k+HWlUtaMIPp9ph/BD4ZjSyhzhl7w+EVn5lDOl/yzMPUPVG2RdI8iqlGpBm+mZ9aq6hWg6iqW5e1WJGQ62j+Q4xpR7ncpr2omIC8HVekHUvFI0oZjIBFlX8sYwTecS5Wd8CQAk91DcC67Wtay6LwSIiQvelVyDaTrmKT1gymIAqLxhIkE562KAr/vy3wdlJwAAlB1zyUGSK5jmD8XbVD+gA8AtB6QWue1LME8yr2tVL/nBbYhyI/2zoOoOAaLdvaa1xjfNNO0Q3Gtc1gwA7RWXuFbJ69VbIY5xLkls+xaIDIgVfHZYkxETlaJJPSZAPLZNTER+dy6C3In+sHuDH8xbuScpx2Mt4uJerMeYH/wGK3S2HH/r+s0CxKZ7nAEAi6ufKNnDMYtJDzmI87dmibGcaPh/OW1Ww26DUWY1uDworcJ3AYAAgFvuci5gmtRMSLHknJ+LzeD7wuUvooKjps2WA6U7W4lL+e6CiUK9E9cKpvmU+UN2m+ZxSj3JeW4G3A3Frk92uF4t4Lco1Zl4o0xrUKWMrwsndIZ6J6bPZ4ewTVycpfo5vO5KHHHkMpkBEofwUH/xm02VwWWwXT5wzGEi37wfspoU4hCu8u6muInIYbfisj5cx1rU2v15A/3exCfaPo3P51P00OtUpTLcO5dhyKfDndbY9FML+AgTftEQn2Q7BB+imXXan5OxM8TkFlw5UOYQWlhHnI0wqNHaGLRwTNGhQZTK494GXG5hchPqvvlGgw3sU4M2wlM/pFf6bI4SG5spgMtNTG7XfdPw/+Jiw1rQ2mW4bo1WDU/RghFFBgZV6mnTAZPbzrixasGQAtHGUNgm3NCefkgtcZBNUeXGBd76bzDrhjNuwab9hM4CvkYCULbdbK6iaP6gNteojPDJGwKzbglx0xufmAla6cl83EBPNDnfhkblJc2AWTeFuC1mbcI0EoC0IaqdzVXo9KO5RsM88z8mNyaVkjd42/yRppXudOcxFKhvI66dz2q2Dph9g5K31H8DU6gVfE09Plixs1VyuxXmFq33V9U90KhmbI2lvEkXdw2SP211pVyTgpmQalS554myIzAeN10xb9O9Jdss25Ah+MFukGz5jB8WhDoHPeSJ6wrcvk3OG3XvXa3+iENM1oVkI006o2hKcQmWHMmQtQ4Q2H2jnrfqYkpqkbd/yAI+Y8wGswHi9/oKIY7hlEu5+TmfCey+1Zk349au0n2W9uG+r5gFfL0j3qZdN8qiHrn/1ZPuwq5Z5cgvb6//ZrEQFRfkdioyIBf15roxNxwdkmmvZ9TaMatNQQDD7ds13YBrVhW179xbdshhl1XdswN4YTHD/m4ISLeAUAYA0e+Wtuum9uq2n1nlpxt57a0bD0ehH1Pm/XVru3VzULqdVUm3/6u63eO/wfXj6H+DEAA=",Ir="/assets/reth-SHa20puJ.webp",xr="data:image/webp;base64,UklGRrIFAABXRUJQVlA4TKYFAAAvP8APEJXQ37btbKR1OlqOsbZt27bt3Y8/2bZt27ZtdG3bGmdyH9u+6vT7A4J3tpl5m2kE1Gzb3lSAwnYmKDOECTJKcOCyQVTi43EsAC4yV0agnqqq6z/nhuBGkiIpOmuxt2+gqO8JhuBAG31EWKJEhRM+8AvKqHDts1EHfcvTKrlhYYAYOWq86iHHbj7f+dBbZMQxjTI9lKNGjjhslQzoYIYUDb5y+Dxthf4aS1NZHK9y0zLKwis8zSdHBA1Sp6IEZmCKDHdF/+vcY4gMMTw4I5zBMUot14wEO0FhhWOhXy1XB/UJ9wPLjZbjiJUK6lNE2OthNTedRxDDdpUeDMcSBl0keD7uXvV5BDkauE+Zg6RUEPRQ4GuNieJ4BD1MuyKCIioEJtjot0+0InCh6qgtE/9YzLOGg4mIYat5TjbJ5yJjDHU5gYMxIxps+Yo65mNSSD4dbTXecNt1J3A4ZaYGmyhvNRT67TkiVsnLdGMNY76lKhFFDBSlbJDg6xMi38oZcmjGqiiUbz4p8uUnIkiYYIGn1RirxYhFU8dfoMgZCiifBmhixWAstloEC5a3Y3fcRB40E9wiGXUCNwMSdRcvkupuNBXj8CY5DjtGBGCNcK84NOPsVuwRSQj62I/msIEIqrmfZp8pGP53LwSsKTDDYZWGGLYLqCKEou8DGvWpFIS5SrFkrYKDQ0YbsiIrSIrxdlOK0lIFWLjno8wvxpcruMisAJjj8osM9ArX0yhS1TS2FrBQG7VQBWmq2G28KDL8Chc7AFIN/cw4OeU+6imKjXregwqpAJpHJZOMJxOpHwzQrFWHFJDG5eGaAibrWqcMA8NAjM97SCkixUOJmJQGPsvOgPy0ISRXPIIw6ZyG3MAAtU8myReHIExm8kGNASK8PE1KvjQUup1662qrMEWxxyThH6EVdbBEWEHyx0wFCMJ/u1xzXuVNXexP+chrsJDkswJCFOVp/fGp6TfKzxHvmCKdM09bLS1QS5qJ3nSYDpT6W118+jsNJardGuNzHZ3SbHCHzqrp4GZr5RtnmFzr3a6TSEe3WqcIKCcGl8YMVDj5pOHS0z45vrZEbcZ4bzhER8ft2yZLV9NCXzjlkP64GCZO+PhOZTyqeMAzBkrSxEX+kI/9M/svl2qmun6e9IhqeFgOPvD7oTg8qqovyQBP2KkYfyHdbk8bzK6Hi/kh/Kq3ePGILvaNU0T97rTvLJeMR/lblABnr3eIuN8fcYtUAgi8keU9vCOPGPk+0JuXFHhDTuHOmcdHJ/DxaosFJglMCSwkMuq5wyE8DrsHkVpFFhLw26o6SBSoEH19KMwi/KmBAtUkQXvVCPitSNxEH9IS8WeXWktHotvgHMT9buZ+i8UQiBuRuK3qFdtciLi/jdzniEDdO+YhTRH+cI7N3pZEJG6F8kYzq5hfGirgDeYgnxjJ/FRF4BBiDfQZzXqtCeUNkbwl5WQnwFEPaoIo0MmSpCKKzD2OUKfMJKVI3iLyJt+d7qBT4fWWS8IKhTXCSt0vnh9+3iTytkh3tZ5SqsAn+otF+HEfH8inlCollpTcvE3WDS4JLpODdLa7RaWs6zYHEQeR6xqJCHh1g6xbXLscaUrpfNpp6W903s1zLVLsukXXTa5x41ZUGSKlNl23ecaNe67YdZvRNwiY5l8nsDjpHy5D7L6B2bfQdiXSdG+px2bxiLpeoSN1vUTMvkWob0rzOcpq8qjtJzR/qEdmeRWpb2WisP19k1jf1twPKJNykANIDhtBSkq/ao3Zt3H7RoYok/JSRTR+il3Dy4OU35h9o0DfytDbSJPJ3lXsDEU+RiW2LK/5RRvsvjWIvrkuV1KjnXXGG26DLhiOVg+7by6hvn22IfpbQLRvL6l9Q6LqqqlEcN8Q8n1LCPdNETuwbwr5vi3U+8aQ71tDvW/+H+7bQ/5/AwM=",Dr="/assets/weeth-Dk-qEu8x.webp",qr="data:image/svg+xml,%3csvg%20width='48'%20height='49'%20viewBox='0%200%2048%2049'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M48%2024.4997C48%2037.755%2037.2548%2048.5005%2024%2048.5005C10.7452%2048.5005%200%2037.755%200%2024.4997C0%2011.2445%2010.7452%200.499023%2024%200.499023C37.2548%200.499023%2048%2011.2445%2048%2024.4997Z'%20fill='white'/%3e%3cpath%20d='M24.4971%208L24.2785%208.74339L24.2785%2030.3129L24.4971%2030.5312L34.4939%2024.613L24.4971%208Z'%20fill='%236B6B6B'/%3e%3cpath%20d='M24.4971%208L14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L24.4971%208Z'%20fill='%23A2A2A2'/%3e%3cpath%20d='M24.4971%2032.4269L24.3739%2032.5773L24.3739%2040.2607L24.4971%2040.6207L34.5%2026.5117L24.4971%2032.4269Z'%20fill='%234F4E4E'/%3e%3cpath%20d='M24.4971%2040.6207L24.4971%2032.4269L14.5%2026.5117L24.4971%2040.6207Z'%20fill='%23A2A2A2'/%3e%3cpath%20d='M24.4971%2030.5312L34.4939%2024.613L24.4971%2020.062L24.4971%2030.5312Z'%20fill='%23797979'/%3e%3cpath%20d='M14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L14.5%2024.613Z'%20fill='%23D4D4D4'/%3e%3cg%20style='mix-blend-mode:overlay'%3e%3cpath%20d='M24.4971%208L24.2785%208.74339L24.2785%2030.3129L24.4971%2030.5312L34.4939%2024.613L24.4971%208Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%208L14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L24.4971%208Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2032.4269L24.3739%2032.5773L24.3739%2040.2607L24.4971%2040.6207L34.5%2026.5117L24.4971%2032.4269Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2040.6207L24.4971%2032.4269L14.5%2026.5117L24.4971%2040.6207Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2030.5312L34.4939%2024.613L24.4971%2020.062L24.4971%2030.5312Z'%20fill='%23ACE730'/%3e%3cpath%20d='M14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L14.5%2024.613Z'%20fill='%23ACE730'/%3e%3c/g%3e%3c/svg%3e",Vr="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='36'%20height='36'%20rx='18'%20fill='%23BBE7E8'/%3e%3cpath%20d='M18%2030C24.6274%2030%2030%2024.6274%2030%2018C30%2011.3726%2024.6274%206%2018%206C11.3726%206%206%2011.3726%206%2018C6%2024.6274%2011.3726%2030%2018%2030Z'%20fill='%23075A5A'/%3e%3cg%20style='mix-blend-mode:screen'%20opacity='0.3'%3e%3cpath%20opacity='0.8'%20d='M17.9688%207.5V15.4406L24.6802%2018.4398L17.9688%207.5Z'%20fill='white'/%3e%3cpath%20d='M17.9626%207.5L11.25%2018.4398L17.9626%2015.4406V7.5Z'%20fill='white'/%3e%3cpath%20opacity='0.8'%20d='M17.9688%2023.5838V28.9795L24.6849%2019.6875L17.9688%2023.5838Z'%20fill='white'/%3e%3cpath%20d='M17.9626%2028.9795V23.583L11.25%2019.6875L17.9626%2028.9795Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2022.3396L24.6802%2018.4425L17.9688%2015.4453V22.3396Z'%20fill='white'/%3e%3cpath%20d='M11.25%2018.4425L17.9626%2022.3396V15.4453L11.25%2018.4425Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/g%3e%3cg%20style='mix-blend-mode:screen'%20opacity='0.3'%3e%3cpath%20opacity='0.8'%20d='M17.9688%207.89844V15.2584L24.1894%2018.0382L17.9688%207.89844Z'%20fill='white'/%3e%3cpath%20d='M17.9639%207.89844L11.7422%2018.0382L17.9639%2015.2584V7.89844Z'%20fill='white'/%3e%3cpath%20opacity='0.8'%20d='M17.9688%2023.9461V28.4046L23.5184%2020.7266L17.9688%2023.9461Z'%20fill='white'/%3e%3cpath%20d='M17.9686%2028.4046V23.9455L12.4219%2020.7266L17.9686%2028.4046Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2022.0815L24.1894%2018.4694L17.9688%2015.6914V22.0815Z'%20fill='white'/%3e%3cpath%20d='M11.7422%2018.4694L17.9639%2022.0815V15.6914L11.7422%2018.4694Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/g%3e%3cpath%20d='M17.9688%209.85547V16.0539L23.2077%2018.3951L17.9688%209.85547Z'%20fill='%23C1DCDC'/%3e%3cpath%20d='M17.9664%209.85547L12.7266%2018.3951L17.9664%2016.0539V9.85547Z'%20fill='white'/%3e%3cpath%20d='M17.9688%2022.4126V26.6244L23.2114%2019.3711L17.9688%2022.4126Z'%20fill='%23C1DCDC'/%3e%3cpath%20d='M17.9664%2026.6244V22.4119L12.7266%2019.3711L17.9664%2026.6244Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2021.4364L23.2077%2018.3943L17.9688%2016.0547V21.4364Z'%20fill='white'/%3e%3cpath%20d='M12.7266%2018.3943L17.9664%2021.4364V16.0547L12.7266%2018.3943Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/svg%3e";function Mr(t){return{cbETH:Ar,wstETH:Pr,rETH:Ir,sfrxETH:xr,weETH:Dr,ezETH:qr,rsETH:Vr}[t]}const Rr=["0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db","0x63cc74334f4b1119276667cf0079ac0c8a96cfb2","0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6","0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f","0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0","0xe0e255fd5281bec3bb8fa1569a20097d9064e445","0xc2545c68a71f6803264bde885870fd72d361fb9e","0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483"],Fr=["0x1691308554c0a5a37c87e947677a4d31b9c97da9","0xf1c45c7b1f798302d29390d90d4dac38137352b1","0x1ad10ee3284297afcf2f6a41f935300cbebcf70d","0x585d78a00d1be2e95f75b20935d4b8d3c36efef1","0x335849a1c359e83dca508101bd394a9d12e176b9","0xdb3080920ee1df720411e12c16ec3866a8c2f5c6"];function Br(t){switch(t){case"0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db":case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH";case"0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6":case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH";case"0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0":case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH";case"0xc2545c68a71f6803264bde885870fd72d361fb9e":case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH";case"0x1691308554c0a5a37c87e947677a4d31b9c97da9":case"0xf1c45c7b1f798302d29390d90d4dac38137352b1":return"weETH";case"0x1ad10ee3284297afcf2f6a41f935300cbebcf70d":case"0x585d78a00d1be2e95f75b20935d4b8d3c36efef1":return"ezETH";case"0x335849a1c359e83dca508101bd394a9d12e176b9":case"0xdb3080920ee1df720411e12c16ec3866a8c2f5c6":return"rsETH";default:return null}}function qe(t){const e=Br(t);return Mr(e)}function xe(t){switch(t){case"0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db":return"cbETH";case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH (deprecated)";case"0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6":return"wstETH";case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH (deprecated)";case"0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0":return"rETH";case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH (deprecated)";case"0xc2545c68a71f6803264bde885870fd72d361fb9e":return"sfrxETH";case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH (deprecated)";case"0x1691308554c0a5a37c87e947677a4d31b9c97da9":return"weETH";case"0xf1c45c7b1f798302d29390d90d4dac38137352b1":return"weETH (deprecated)";case"0x1ad10ee3284297afcf2f6a41f935300cbebcf70d":return"ezETH";case"0x585d78a00d1be2e95f75b20935d4b8d3c36efef1":return"ezETH (deprecated)";case"0x335849a1c359e83dca508101bd394a9d12e176b9":return"rsETH";case"0xdb3080920ee1df720411e12c16ec3866a8c2f5c6":return"rsETH (deprecated)";default:return null}}function Pe(t){return["0x63cc74334f4b1119276667cf0079ac0c8a96cfb2","0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f","0xe0e255fd5281bec3bb8fa1569a20097d9064e445","0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483","0xf1c45c7b1f798302d29390d90d4dac38137352b1","0x585d78a00d1be2e95f75b20935d4b8d3c36efef1","0xdb3080920ee1df720411e12c16ec3866a8c2f5c6"].includes(t)}function fe(t,e){const n=F(e),o=t.subscribe({next:s=>{n.value=s},error:s=>{Xe({text:xt(s),type:"error"})}});return Pt(()=>{o&&o.unsubscribe()}),n}const rt=t=>(pe("data-v-8db72fe0"),t=t(),me(),t),Ur=["src"],Or=rt(()=>d("div",null,null,-1)),Er=rt(()=>d("div",null,null,-1)),Kr={class:"end"},Wr={class:"end"},Nr=rt(()=>d("div",null,null,-1)),Hr=rt(()=>d("div",null,null,-1)),Gr={class:"end"},jr=rt(()=>d("div",null,null,-1)),Uo=A({__name:"TableVaults",emits:["selected"],setup(t,{emit:e}){const{t:n}=B(),o=e,s=U(),i=Ce().getSocket(Oe(s.flavor)),r=new We(i,"ethereum"),c=F(""),v=fe(r.overview$,[]),p=C(()=>W.chain(v.value).filter(l=>{const u=c.value.toLocaleLowerCase().split(" "),b=m=>u.some(k=>m.toLocaleLowerCase().includes(k));return b(l.name)||b(l.address)}).orderBy(l=>l.debt,"desc").value()),h=C(()=>v.value.length===0);return(l,u)=>{const b=ve,m=ae,k=se,$=G;return f(),T($,{class:"vaults-card",title:a(n)("title"),loading:a(h)},{actions:w(()=>[_(b,{modelValue:a(c),"onUpdate:modelValue":u[0]||(u[0]=g=>re(c)?c.value=g:null),search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:w(()=>[_(k,{class:"vaults-table",rows:a(p),columns:["","Name",{label:"TVL",align:"end"},{label:"Debt",align:"end"},{label:"CR",align:"end"},{label:"MCR",align:"end"},{label:"Troves",align:"end"},{label:"Price",align:"end"}],onSelected:u[1]||(u[1]=g=>o("selected",g))},{row:w(g=>[d("img",{src:a(qe)(g.item.address)},null,8,Ur),d("div",{class:O({deprecated:a(Pe)(g.item.address)})},x(a(xe)(g.item.address)??g.item.name),3),d("div",{class:O(["end",{deprecated:a(Pe)(g.item.address)}])},[_(m,{value:g.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])],2),d("div",{class:O(["end",{deprecated:a(Pe)(g.item.address)}])},[_(m,{value:g.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])],2),d("div",{class:O(["end",{deprecated:a(Pe)(g.item.address)}])},[_(m,{value:g.item.cr*100,precision:2,type:"percentage"},null,8,["value"])],2),d("div",{class:O(["end",{deprecated:a(Pe)(g.item.address)}])},[_(m,{value:g.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])],2),d("div",{class:O(["end",{deprecated:a(Pe)(g.item.address)}])},x(g.item.open_troves),3),d("div",{class:O(["end",{deprecated:a(Pe)(g.item.address)}])},[_(m,{type:"dollar",value:Math.round(g.item.price),precision:1/0},null,8,["value"])],2)]),"row-aggregation":w(()=>[Or,Er,d("div",Kr,[_(m,{value:a(p).reduce((g,y)=>g+y.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",Wr,[_(m,{value:a(p).reduce((g,y)=>g+y.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),Nr,Hr,d("div",Gr,[_(m,{value:a(p).reduce((g,y)=>g+y.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),jr]),"row-details":w(()=>[H("   ")]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function pa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Vaults"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof pa=="function"&&pa(Uo);const Zr=P(Uo,[["__scopeId","data-v-8db72fe0"]]),bt=Qe("vaultStore",()=>{const t=F(null),e=F(null);return{vault:t,trove:e}}),zr={class:"vaults"},Yr=A({__name:"Vaults.page",setup(t){const e=et(),n=bt(),o=Je();he(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const s=async i=>{n.vault=i,await o.push({name:"prismavault",params:{tab:"",vaultAddr:i.address}})};return(i,r)=>(f(),L("div",zr,[_(Zr,{style:{"grid-column":"1 / -1"},onSelected:s}),_(mr),_(vr),_(hr),_(dr)]))}}),Qr=P(Yr,[["__scopeId","data-v-0e5827c8"]]),Oo=A({__name:"ChartPoolTvl",setup(t){const{t:e}=B();let n;const{theme:o,flavor:s}=j(U()),{chart:i,chartRef:r}=ue(o,h,m=>{n=m.addAreaSeries(l())}),c=new Ee(s.value),{isFetching:v,data:p}=N({queryKey:["prisma-stable-pool-tvl"],queryFn:()=>c.getPoolTvl("ethereum","1m").then(m=>m.deposits),initialData:[],initialDataUpdatedAt:0});K([p,i],u),K(o,()=>n.applyOptions(l()));function h(m){return ce(m,o.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:k=>b(k)}})}function l(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:de.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}}function u([m,k]){if(!k||!n)return;const $=W.chain(m).map(g=>({time:g.timestamp,value:g.value})).uniqWith((g,y)=>g.time===y.time).orderBy(g=>g.time,"asc").value();$.length>0&&n.setData($),k.timeScale().fitContent()}const b=m=>`$${Q(m,1,"dollar")}${z(m,"dollar")}`;return(m,k)=>{const $=G;return f(),T($,{class:"chart-container",title:a(e)("title"),loading:a(v)},{default:w(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ma(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total deposits in stability pool"}}}})}typeof ma=="function"&&ma(Oo);const Jr=P(Oo,[["__scopeId","data-v-2832b46c"]]),Eo=A({__name:"ChartStableFlow",setup(t){const{t:e}=B(),{theme:n,flavor:o}=j(U()),s=new Ee(o.value),{isFetching:i,data:r}=N({queryKey:["prisma-stable-flow"],queryFn:()=>s.getStableFlow("ethereum","1m"),initialData:{deposits:[],withdrawals:[]},initialDataUpdatedAt:0}),c=C(()=>{const{colors:u}=n.value;return ne(n.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[u.green,u.red],xaxis:{categories:v.value,labels:{formatter:h,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:l}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:b,dataPointIndex:m,w:k})=>{let $=0;const g=b.map((y,S)=>{const I=y[m];return $+=I,`<div><b>${k.globals.seriesNames[S]}</b>:	${l(I)}</div>`});return g.push(`<div><b>Total</b>:	${l($)}</div>`),g.join("")}}})}),v=C(()=>r.value.deposits.length===0?[]:r.value.deposits.map(u=>new Date(u.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),p=C(()=>[{name:e("deposits"),data:Object.values(r.value.deposits).map(u=>u.value)},{name:e("withdrawals"),data:Object.values(r.value.withdrawals).map(u=>u.value)}]),h=u=>u,l=u=>`$${Q(u,0,"dollar")}${z(u,"dollar")}`;return(u,b)=>{const m=ie;return f(),T(m,{title:a(e)("title",{stable:a(ht)(a(o))}),loading:a(i),options:a(c),series:a(p)},null,8,["title","loading","options","series"])}}});function va(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:4,k:"stable"},{t:3,v:" deposits and withdrawals"}]}},deposits:{t:0,b:{t:2,i:[{t:3}],s:"Deposits"}},withdrawals:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawals"}}}})}typeof va=="function"&&va(Eo);const Xr=P(Eo,[["__scopeId","data-v-ad787e81"]]),Ko=A({__name:"ChartDepositDistribution",setup(t){const{t:e}=B(),{theme:n,flavor:o}=j(U()),s=new Ee(o.value),{isFetching:i,data:r}=N({queryKey:["prisma-stable-distribution"],queryFn:()=>s.getStableDistribution("ethereum").then(h=>h.distribution),initialData:[],initialDataUpdatedAt:0}),c=C(()=>ne(n.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),v=C(()=>[{name:e("numPos"),data:Object.values(r.value).map(h=>h.value)}]),p=C(()=>r.value.map(h=>h.label));return(h,l)=>{const u=ie;return f(),T(u,{title:a(e)("title"),loading:a(i),series:a(v),options:a(c)},null,8,["title","loading","series","options"])}}});function _a(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distribution of current user deposits"}},numPos:{t:0,b:{t:2,i:[{t:3}],s:"# of positions"}}}})}typeof _a=="function"&&_a(Ko);const ec=P(Ko,[["__scopeId","data-v-809abd22"]]),Wo=A({__name:"ChartCumulativeWithdrawals",setup(t){const{t:e}=B();let n;const{theme:o,flavor:s}=j(U()),{chart:i,chartRef:r}=ue(o,h,m=>{n=m.addAreaSeries(l())}),c=new Ee(s.value),{isFetching:v,data:p}=N({queryKey:["prisma-cum-withdrawals"],queryFn:()=>c.getCumulativeWithdrawals("ethereum","all").then(m=>m.withdrawals),initialData:[],initialDataUpdatedAt:0});K([p,i],u),K(o,()=>n.applyOptions(l()));function h(m){return ce(m,o.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:k=>b(k)}})}function l(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:de.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}}function u([m,k]){if(!k||!n)return;const $=W.chain(m).map(g=>({time:g.timestamp,value:g.value})).uniqWith((g,y)=>g.time===y.time).orderBy(g=>g.time,"asc").value();$.length>0&&n.setData($),k.timeScale().fitContent()}const b=m=>`$${Q(m,1,"dollar")}${z(m,"dollar")}`;return(m,k)=>{const $=G;return f(),T($,{class:"chart-container",title:a(e)("title"),loading:a(v)},{default:w(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function fa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Cumulative value of collaterals withdrawn"}}}})}typeof fa=="function"&&fa(Wo);const tc=P(Wo,[["__scopeId","data-v-baff2ec2"]]),ac={class:"address font-mono"},oc=["href"],nc={class:"end"},sc={class:"end"},lc={class:"address end font-mono"},ic=["href"],No=A({__name:"TableTopDeposits",setup(t){const{t:e}=B(),n=U(),o=new Ee(n.flavor),{isFetching:s,data:i}=N({queryKey:["prisma-stable-top-deposits"],queryFn:()=>o.getTopStableDeposits("ethereum",5,"7d").then(c=>c.operations),initialData:[],initialDataUpdatedAt:0}),r=C(()=>W.chain(i.value).map(c=>c).value());return(c,v)=>{const p=ae,h=se,l=G;return f(),T(l,{title:a(e)("title"),loading:a(s)},{default:w(()=>[_(h,{class:"deposits-table",rows:a(r),columns:["Address",{label:"Amount",align:"end"},{label:"Date",align:"end"},{label:"Tx",align:"end"}]},{row:w(u=>[d("div",ac,[d("a",{href:`https://etherscan.io/address/${u.item.user}`,target:"_blank"},x(a(Z)(u.item.user,8)),9,oc)]),d("div",nc,[_(p,{value:u.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",sc,x(new Date(u.item.timestamp*1e3).toLocaleDateString()),1),d("div",lc,[d("a",{href:`https://etherscan.io/tx/${u.item.hash}`,target:"_blank"},x(a(Z)(u.item.hash,8)),9,ic)])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function ha(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest deposits past 7 days"}}}})}typeof ha=="function"&&ha(No);const rc=P(No,[["__scopeId","data-v-1c929536"]]),cc={class:"address font-mono"},uc=["href"],dc={class:"end"},pc={class:"end"},mc={class:"address end font-mono"},vc=["href"],Ho=A({__name:"TableTopWithdrawals",setup(t){const{t:e}=B(),n=U(),o=new Ee(n.flavor),s=C(()=>W.chain(r.value).map(c=>c).value()),{isFetching:i,data:r}=N({queryKey:["prisma-stable-top-withdrawals"],queryFn:()=>o.getTopStableWithdrawals("ethereum",5,"7d").then(c=>c.operations),initialData:[],initialDataUpdatedAt:0});return(c,v)=>{const p=ae,h=se,l=G;return f(),T(l,{title:a(e)("title"),loading:a(i)},{default:w(()=>[_(h,{class:"withdrawals-table",rows:a(s),columns:["Address",{label:"Amount",align:"end"},{label:"Date",align:"end"},{label:"Tx",align:"end"}]},{row:w(u=>[d("div",cc,[d("a",{href:`https://etherscan.io/address/${u.item.user}`,target:"_blank"},x(a(Z)(u.item.user,8)),9,uc)]),d("div",dc,[_(p,{value:u.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",pc,x(new Date(u.item.timestamp*1e3).toLocaleDateString()),1),d("div",mc,[d("a",{href:`https://etherscan.io/tx/${u.item.hash}`,target:"_blank"},x(a(Z)(u.item.hash,8)),9,vc)])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function ba(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest withdrawals past 7 days"}}}})}typeof ba=="function"&&ba(Ho);const _c=P(Ho,[["__scopeId","data-v-2dd3bb15"]]),fc={class:"pool"},hc=A({__name:"StabilityPool.page",setup(t){return(e,n)=>(f(),L("div",fc,[_(Jr),_(Xr),_(ec),_(tc),_(rc),_(_c)]))}}),bc=P(hc,[["__scopeId","data-v-207fe888"]]),gc={key:0,class:"value"},yc={key:1,class:"value"},wc=["innerHTML"],$c={key:0,class:"value"},Cc={key:1,class:"value"},kc=["innerHTML"],Sc={class:"labels"},Lc={class:"label"},Tc={class:"label-second"},Ac=A({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(t){return(e,n)=>{const o=nt;return f(),L("div",{class:O(["kpi",{disabled:!e.hasValue}])},[d("div",{class:O(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[J(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(f(),T(o,{key:0},{item:w(()=>[e.hasValue?(f(),L("span",gc,x(e.value),1)):(f(),L("span",yc," ? "))]),default:w(()=>[J(e.$slots,"tooltip",{},()=>[d("span",{innerHTML:e.tooltip},null,8,wc)],!0)]),_:3})):(f(),L(X,{key:1},[e.hasValue?(f(),L("span",$c,x(e.value),1)):(f(),L("span",Cc," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(f(),T(o,{key:0},{default:w(()=>[d("span",{innerHTML:e.tooltip},null,8,kc)]),_:1})):R("",!0)],2),d("div",Sc,[J(e.$slots,"label",{},()=>[d("div",Lc,x(e.label),1)],!0),J(e.$slots,"label-second",{},()=>[d("div",Tc,x(e.labelSecond),1)],!0)])],2)}}}),ke=P(Ac,[["__scopeId","data-v-9ca23269"]]),Pc={class:"kpis"},Ic=A({__name:"KPIs",setup(t){const e=U(),n=new lt(e.flavor),{data:o}=N({queryKey:["prisma-stable-kpi"],queryFn:()=>n.getStableCoinKPI("ethereum").then(s=>s.info)});return(s,i)=>{const r=ae,c=ke;return f(),L("div",Pc,[_(c,{label:`${a(ht)(a(e).flavor)} price`,"has-value":!!a(o)},{default:w(()=>[a(o)?(f(),T(r,{key:0,value:a(o).price,precision:4,type:"dollar"},null,8,["value"])):R("",!0)]),_:1},8,["label","has-value"]),_(c,{label:"Total supply","has-value":!!a(o)},{default:w(()=>[a(o)?(f(),T(r,{key:0,value:a(o).supply,precision:2,type:"dollar"},null,8,["value"])):R("",!0)]),_:1},8,["has-value"]),_(c,{label:"24h Volume (Curve)","has-value":!!a(o)},{default:w(()=>[a(o)?(f(),T(r,{key:0,value:a(o).volume,precision:1,type:"dollar"},null,8,["value"])):R("",!0)]),_:1},8,["has-value"]),_(c,{label:"Aggregate -2% Depth (Curve)","has-value":!!a(o)},{default:w(()=>[a(o)?(f(),T(r,{key:0,value:a(o).depth,precision:1,type:"dollar"},null,8,["value"])):R("",!0)]),_:1},8,["has-value"])])}}}),xc=P(Ic,[["__scopeId","data-v-f727d9c2"]]),Go=A({__name:"ChartPrice",setup(t){const{t:e}=B();let n;const{theme:o,flavor:s}=j(U()),{chart:i,chartRef:r}=ue(o,k,S=>{n=S.addCandlestickSeries($())}),c=()=>{switch(s.value){case"lsd":return"0xF980B4A4194694913Af231De69AB4593f5E0fCDc";case"lrt":return"0xC03FEF1c425956A3Cd5762022E511e0d4148B3D6";default:return""}},v=()=>{switch(s.value){case"lsd":return"0x4591DBfF62656E7859Afe5e45f6f47D3669fBB28";case"lrt":return"0x35282d87011f87508D457F08252Bc5bFa52E10A0";default:return""}},p=()=>{const S=Math.floor(new Date().getTime()/1e3),I=14400,q=S-I*200,M="0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",E=c(),V=v();return{pool:E,chain:"ethereum",main_token:M,reference_token:V,interval:I,start:q,end:S}},h=Ce().getSocket("prices"),l=new _t(h,"ethereum",p()),u=fe(l.ohlc$,[]),b=C(()=>u.value.length===0),m=C(()=>{switch(s.value){case"lsd":return"Price is in USDC from Curve mkUSD/USDC pool";case"lrt":return"Price is in USDC from Curve ULTRA/USDC pool";default:return"???"}});K(u,g),K(o,()=>n.applyOptions($()));function k(S){return ce(S,o.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:I=>y(I)}})}function $(){const{colors:S}=o.value;return{priceFormat:{type:"price",precision:6,minMove:.01},upColor:S.green,borderUpColor:S.green,wickUpColor:S.green,downColor:S.red,borderDownColor:S.red,wickDownColor:S.red,lastValueVisible:!0,priceLineVisible:!1}}function g(S){if(!i.value||!n)return;const I=W.chain(S).map(q=>({time:q.time,open:q.open,high:q.high,low:q.low,close:q.close})).uniqWith((q,M)=>q.time===M.time).orderBy(q=>q.time,"asc").value();I.length>0&&n.setData(I),i.value.timeScale().fitContent()}const y=S=>`$${Q(S,4,"dollar")}${z(S,"dollar")}`;return(S,I)=>{const q=nt,M=G;return f(),T(M,{class:"chart-container",title:a(e)("title",{stable:a(ht)(a(s))}),loading:a(b)},{actions:w(()=>[_(q,{placement:"left"},{default:w(()=>[d("div",null,x(a(m)),1)]),_:1})]),default:w(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ga(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:4,k:"stable"},{t:3,v:" price (last 30 days)"}]}}}})}typeof ga=="function"&&ga(Go);const Dc=P(Go,[["__scopeId","data-v-725395e1"]]),jo=A({__name:"ChartPriceDistribution",setup(t){const{t:e}=B(),{theme:n,flavor:o}=j(U()),s=new lt(o.value),{isFetching:i,data:r}=N({queryKey:["prisma-stable-price-distribution"],queryFn:()=>s.getPriceHistogram("ethereum",10,"all").then(l=>l.histogram),initialData:[],initialDataUpdatedAt:0}),c=C(()=>ne(n.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),v=C(()=>[{name:e("numPos"),data:Object.values(r.value).map(l=>l.value)}]),p=C(()=>r.value.map(l=>h(l.label))),h=l=>{const u=/-?\d+(\.\d+)?/g,b=m=>parseFloat(m).toFixed(4);return l.replace(u,m=>b(m))};return(l,u)=>{const b=ie;return f(),T(b,{title:a(e)("title"),loading:a(i),series:a(v),options:a(c)},null,8,["title","loading","series","options"])}}});function ya(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price histogram"}},numPos:{t:0,b:{t:2,i:[{t:3}],s:"# of hourly price records"}}}})}typeof ya=="function"&&ya(jo);const qc=P(jo,[["__scopeId","data-v-0f89ee8f"]]),Zo=A({__name:"ChartSupply",setup(t){const{t:e}=B();let n;const{theme:o,flavor:s}=j(U()),{chart:i,chartRef:r}=ue(o,h,m=>{n=m.addAreaSeries(l())}),c=new lt(s.value),{isFetching:v,data:p}=N({queryKey:["prisma-stable-supply"],queryFn:()=>c.getSupplyHistory("ethereum").then(m=>m.supply),initialData:[],initialDataUpdatedAt:0});K([p,i],u),K(o,()=>n.applyOptions(l()));function h(m){return ce(m,o.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:k=>b(k)}})}function l(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:de.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}}function u([m,k]){if(!k||!n)return;const $=W.chain(m).map(g=>({time:g.timestamp,value:g.value})).uniqWith((g,y)=>g.time===y.time).orderBy(g=>g.time,"asc").value();$.length>0&&n.setData($),k.timeScale().fitContent()}const b=m=>`${Q(m,1,"dollar")}${z(m,"dollar")}`;return(m,k)=>{const $=G;return f(),T($,{class:"chart-container",title:a(e)("title"),loading:a(v)},{default:w(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function wa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Supply"}}}})}typeof wa=="function"&&wa(Zo);const Vc=P(Zo,[["__scopeId","data-v-cf3cfc67"]]),zo=A({__name:"ChartHolders",setup(t){const{t:e}=B(),{theme:n,flavor:o}=j(U()),s=new lt(o.value),{isFetching:i,data:r}=N({queryKey:["prisma-stable-holders"],queryFn:()=>s.getLargeStableCoinHolders("ethereum").then(l=>l.holders),initialData:[],initialDataUpdatedAt:0}),c=C(()=>ne(n.value,{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:l=>{let u=p.value[l.seriesIndex];u=u.length>10&&u.startsWith("0x")?Z(u):u;const b=l.series[l.seriesIndex];return[`<div><b>${u}</b>:</div><div>${h(b)}</div>`].join("")}},labels:r.value.map(l=>l.label.length>10&&l.label.startsWith("0x")?Z(l.label):l.label)})),v=C(()=>r.value.map(l=>l.value)),p=C(()=>r.value.map(l=>l.label)),h=l=>`$${Q(Math.abs(l),1,"dollar")}${z(l,"dollar")}`;return(l,u)=>{const b=ie;return f(),T(b,{class:"graph",title:a(e)("title"),loading:a(i),options:a(c),series:a(v)},null,8,["title","loading","options","series"])}}});function $a(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest holders"}}}})}typeof $a=="function"&&$a(zo);const Mc=P(zo,[["__scopeId","data-v-89fe7cd2"]]),Yo=A({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(t){const{t:e}=B(),{theme:n}=j(U()),o=C(()=>{const{colors:c}=n.value;return ne(n.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:v=>r(v)}},yaxis:{seriesName:"amounts",labels:{formatter:v=>r(v)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:v=>r(v)}},colors:[v=>v.value===0?c.blue:c.green,v=>v.value===0?c.blue:c.red]})}),s=C(()=>{if(!t.depth)return[];const c=[...t.depth.ask.prices.map(p=>({x:p,y:0})),...t.depth.bid.prices.map((p,h)=>({x:p,y:t.depth.bid.amounts[h]}))],v=[...t.depth.ask.prices.map((p,h)=>({x:p,y:t.depth.ask.amounts[h]}))];return[{name:"Bid",data:c},{name:"Ask",data:v}]}),i=C(()=>{var v;if(!((v=t.depth)!=null&&v.tokens)||t.depth.tokens.length===0)return e("title");const c=t.depth.tokens.join(" / ");return`${e("title")} - ${c} (Curve)`}),r=c=>`$${Q(Math.abs(c),2,"dollar")}${z(c,"dollar")}`;return(c,v)=>{const p=ie;return f(),T(p,{class:"chart",title:a(i),loading:c.loading,options:a(o),series:a(s)},null,8,["title","loading","options","series"])}}});function Ca(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidity Depth"}}}})}typeof Ca=="function"&&Ca(Yo);const Rc=P(Yo,[["__scopeId","data-v-449a99e1"]]),Fc=A({__name:"ChartDepthContainer",setup(t){const e=U(),n=new lt(e.flavor),{isFetching:o,data:s}=N({queryKey:["prisma-stable-pool-depth"],queryFn:()=>n.getCurvePoolDepth("ethereum").then(i=>i.depth),initialData:[],initialDataUpdatedAt:0});return(i,r)=>(f(!0),L(X,null,le(a(s),c=>(f(),T(Rc,{key:c.name,loading:a(o),depth:c},null,8,["loading","depth"]))),128))}}),Bc=P(Fc,[["__scopeId","data-v-bb805309"]]),Uc={class:"stable"},Oc=A({__name:"Stablecoin.page",setup(t){return(e,n)=>(f(),L("div",Uc,[_(xc,{style:{"grid-column":"1 / -1"}}),_(Dc),_(qc),_(Vc),_(Mc),_(Bc)]))}}),Ec=P(Oc,[["__scopeId","data-v-b712cc51"]]),Ut=t=>(pe("data-v-c920758b"),t=t(),me(),t),Kc={key:0},Wc=Ut(()=>d("button",null,"1",-1)),Nc=[Wc],Hc=Ut(()=>d("button",null,[d("i",{class:"fas fa-chevron-left"})],-1)),Gc=[Hc],jc=["onClick"],Zc=Ut(()=>d("button",null,[d("i",{class:"fas fa-chevron-right"})],-1)),zc=[Zc],Yc=A({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(t,{emit:e}){const n=e,o=C(()=>Math.ceil(t.itemsCount/t.itemsPerPage)),s=C(()=>{const l=[...Array(12).keys()].map(g=>g-6+t.page).filter(g=>g>=1&&g<=o.value),u=l.findIndex(g=>g===t.page),b=[],m=[],k=t.page!==1&&t.page!==o.value?[t.page]:[];let $=1;for(;;){const g=l[u-$];if(g&&g!==1&&b.unshift(g),b.length+m.length+k.length>=5||$>l.length)break;const y=l[u+$];if(y&&y!==o.value&&m.push(y),$++,b.length+m.length+k.length>=5||$>l.length)break}return[...b,...k,...m]});K(s,()=>{const p=i(t.page,1,o.value);t.page!==p&&n("page",p)});const i=(p,h,l)=>(l<h&&(l=h),Math.min(Math.max(p,h),l)),r=()=>n("page",i(t.page-1,1,o.value)),c=()=>n("page",i(t.page+1,1,o.value)),v=p=>n("page",i(p,1,o.value));return(p,h)=>a(o)>1?(f(),L("ul",Kc,[d("li",{class:O({active:p.page===1}),onClick:h[0]||(h[0]=l=>v(1))},Nc,2),a(o)>2?(f(),L("li",{key:0,onClick:r},Gc)):R("",!0),(f(!0),L(X,null,le(a(s),(l,u)=>(f(),L("li",{key:u,class:O({active:l===p.page}),onClick:b=>v(l)},[d("button",null,x(l),1)],10,jc))),128)),a(o)>2?(f(),L("li",{key:1,onClick:c},zc)):R("",!0),a(o)>1?(f(),L("li",{key:2,class:O({active:p.page===a(o)}),onClick:h[1]||(h[1]=l=>v(a(o)))},[d("button",null,x(a(o)),1)],2)):R("",!0)])):R("",!0)}}),ge=P(Yc,[["__scopeId","data-v-c920758b"]]),Qc={class:"redemption-details"},Jc={class:"kpis"},Xc=["href"],Qo=A({__name:"RedemptionDetails",props:{vaultAddr:{},redemption:{}},setup(t){const{t:e}=B(),n=F(""),o=C(()=>W.chain(t.redemption.troves_affected).filter(s=>{const i=n.value.toLocaleLowerCase().split(" ");return(c=>i.some(v=>c.toLocaleLowerCase().includes(v)))(s)}).value());return(s,i)=>{const r=ae,c=ke,v=ve,p=se,h=G;return f(),T(h,{title:a(e)("redemption-details")},{default:w(()=>[d("div",Qc,[d("div",Jc,[_(c,{label:a(e)("withdrawal")},{default:w(()=>[_(r,{value:s.redemption.attempted_debt_amount,precision:2,type:"dollar"},null,8,["value"]),H(" / "),_(r,{value:s.redemption.collateral_sent_to_redeemer_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),_(c,{label:a(e)("fee")},{default:w(()=>[_(r,{value:s.redemption.collateral_fee_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),_(h,{title:a(e)("troves-affected"),compact:!0},{actions:w(()=>[_(v,{modelValue:a(n),"onUpdate:modelValue":i[0]||(i[0]=l=>re(n)?n.value=l:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:w(()=>[_(p,{class:"troves-affected-table",rows:a(o),columns:["Trove"]},{row:w(l=>[d("div",null,[d("a",{class:"font-mono",target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${l.item}`,onClick:i[1]||(i[1]=te(()=>{},["stop"]))},x(l.item),9,Xc)])]),_:1},8,["rows"])]),_:1},8,["title"])])]),_:1},8,["title"])}}});function ka(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":{t:0,b:{t:2,i:[{t:3}],s:"Troves affected"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"redemption-details":{t:0,b:{t:2,i:[{t:3}],s:"Redemption Details"}},withdrawal:{t:0,b:{t:2,i:[{t:3}],s:"Attempted / Received"}},fee:{t:0,b:{t:2,i:[{t:3}],s:"Fee"}}}})}typeof ka=="function"&&ka(Qo);const Ot=P(Qo,[["__scopeId","data-v-20cc9395"]]),eu={key:0,class:"item"},tu=["src"],au={key:1,class:"empty"},ou={class:"label"},nu=A({__name:"SelectVault",props:{vault:{default:null},all:{type:Boolean,default:!1}},emits:["select-vault"],setup(t,{emit:e}){const n=e,o=U(),s=F(!1),i=[...t.all?["all"]:[],...o.flavor==="lsd"?Rr:Fr];he(()=>{c(i[0])});const r=()=>{s.value=!s.value},c=v=>{n("select-vault",v)};return(v,p)=>{const h=Io;return f(),T(h,{class:"select",options:i,selected:v.vault,open:a(s),onOpen:r,onClose:p[0]||(p[0]=l=>s.value=!1),onInput:c},{item:w(l=>[l.item?(f(),L("div",eu,[l.item!=="all"?(f(),L("img",{key:0,src:a(qe)(l.item)},null,8,tu)):(f(),L("div",au)),d("div",ou,x(l.item==="all"?"All":a(xe)(l.item)),1)])):R("",!0)]),_:1},8,["selected","open"])}}}),gt=P(nu,[["__scopeId","data-v-ba41cfbf"]]);function su(t,e){const o=Math.round(t.value/1e3)-e;return o<60?`${Math.round(o)} seconds ago`:o<60*60?`${Math.round(o/60)} minutes ago`:o<60*60*24?`${Math.round(o/(60*60))} hours ago`:`${Math.round(o/(60*60*24))} days ago`}function $e(){const t=F(Date.now());return he(()=>{setInterval(()=>{t.value=Date.now()})}),{relativeTime:n=>su(t,n)}}function Se(t,e){const n=F(t),o=F("desc"),s=(r,c)=>{n.value=r,o.value=c},i=C(()=>({column:n.value,order:o.value}));return{sortColumn:n,sortOrder:o,sorting:i,onSort:s}}function ye(t,e){const n=F(1),o=C(()=>W.chain(t.value).drop((n.value-1)*e).take(e).value()),s=i=>{n.value=i};return K(o,i=>{i.length===0&&(n.value=Math.max(1,Math.ceil(t.value.length/e)))}),{page:n,rowsPage:o,onPage:s}}const lu={style:{display:"flex",gap:"1rem"}},iu=["src"],ru=["href"],cu=["href"],uu={class:"end"},du={class:"end"},pu={class:"end"},Sa=15,Jo=A({__name:"TableRedemptions",props:{vaults:{default:()=>[]}},setup(t){const e=U(),n=new Bt(e.flavor),{t:o}=B(),{isFetching:s,data:i}=N({queryKey:["prisma-redemptions",C(()=>t.vaults.map(g=>g.address))],queryFn:({queryKey:[,g]})=>g.length>0?Promise.all(g.map(y=>n.getRedemptions("ethereum",y))).then(y=>y.flat()):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:r}=$e(),c=F(""),v=F("all"),p=F(null),h=["",{id:"redeemer",label:"Redeemer",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:l,onSort:u}=Se("timestamp"),b=C(()=>W.chain(i.value).filter(g=>{const y=c.value.toLocaleLowerCase().split(" "),S=q=>y.some(M=>q.toLocaleLowerCase().includes(M)),I=v.value==="all"?!0:g.vault===v.value;return S(g.redeemer)&&I}).orderBy(g=>{switch(l.value.column){case"redeemer":return g.redeemer;case"tx":return g.transaction;case"debt":return g.actual_debt_amount;case"numtroves":return g.troves_affected_count;case"timestamp":return g.timestamp;default:return g.timestamp}},l.value.order).value()),{page:m,rowsPage:k,onPage:$}=ye(b,Sa);return(g,y)=>{const S=ve,I=ge,q=ae,M=se,E=G,V=Le;return f(),L(X,null,[_(E,{class:"redemptions-card",title:a(o)("title"),loading:a(s)},{actions:w(()=>[_(gt,{vault:a(v),all:!0,onSelectVault:y[0]||(y[0]=D=>v.value=D)},null,8,["vault"]),d("div",lu,[_(S,{modelValue:a(c),"onUpdate:modelValue":y[1]||(y[1]=D=>re(c)?c.value=D:null),search:!0,placeholder:a(o)("search-placeholder")},null,8,["modelValue","placeholder"]),_(I,{"items-count":a(b).length,"items-per-page":Sa,page:a(m),onPage:a($)},null,8,["items-count","page","onPage"])])]),default:w(()=>[_(M,{class:"redemptions-table",rows:a(k),columns:h,sorting:a(l),onSortColumn:a(u),onSelected:y[4]||(y[4]=D=>p.value=D)},{row:w(D=>[d("img",{src:a(qe)(D.item.vault)},null,8,iu),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/address/${D.item.redeemer}`,target:"_blank",onClick:y[2]||(y[2]=te(()=>{},["stop"]))},x(a(Z)(D.item.redeemer)),9,ru)]),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/tx/${D.item.transaction}`,target:"_blank",onClick:y[3]||(y[3]=te(()=>{},["stop"]))},x(a(Z)(D.item.transaction)),9,cu)]),d("div",uu,[_(q,{type:"dollar",value:Math.round(D.item.actual_debt_amount),precision:1/0},null,8,["value"])]),d("div",du,x(D.item.troves_affected_count),1),d("div",pu,x(a(r)(D.item.timestamp)),1)]),"row-details":w(()=>[H("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),_(V,{show:!!a(p),onClose:y[5]||(y[5]=D=>p.value=null)},{default:w(()=>[a(p)?(f(),T(Ot,{key:0,redemption:a(p),"vault-addr":a(p).vault},null,8,["redemption","vault-addr"])):R("",!0)]),_:1},8,["show"])],64)}}});function La(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof La=="function"&&La(Jo);const mu=P(Jo,[["__scopeId","data-v-276a0055"]]),vu={class:"redemptions"},_u=A({__name:"Redemptions.page",setup(t){const e=U(),n=Ce().getSocket(Oe(e.flavor)),o=new We(n,"ethereum"),s=fe(o.overview$,[]);return(i,r)=>(f(),L("div",vu,[_(mu,{vaults:a(s)},null,8,["vaults"])]))}}),fu=P(_u,[["__scopeId","data-v-3c22273b"]]),hu={class:"liquidation-details"},bu={class:"kpis"},gu=["href"],Xo=A({__name:"LiquidationDetails",props:{vaultAddr:{},liquidation:{}},setup(t){const{t:e}=B(),n=F(""),o=C(()=>W.chain(t.liquidation.troves_affected).filter(s=>{const i=n.value.toLocaleLowerCase().split(" ");return(c=>i.some(v=>c.toLocaleLowerCase().includes(v)))(s)}).value());return(s,i)=>{const r=ae,c=ke,v=ve,p=se,h=G;return f(),T(h,{title:a(e)("liquidation-details")},{default:w(()=>[d("div",hu,[d("div",bu,[_(c,{label:a(e)("debt")},{default:w(()=>[_(r,{value:s.liquidation.liquidated_debt,precision:2,type:"dollar"},null,8,["value"]),H(" / "),_(r,{value:s.liquidation.liquidated_collateral,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),_(c,{label:a(e)("gas-compensation")},{default:w(()=>[_(r,{value:s.liquidation.collateral_gas_compensation_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),_(h,{title:a(e)("troves-affected"),compact:!0},{actions:w(()=>[_(v,{modelValue:a(n),"onUpdate:modelValue":i[0]||(i[0]=l=>re(n)?n.value=l:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:w(()=>[_(p,{class:"troves-affected-table",rows:a(o),columns:["Trove"]},{row:w(l=>[d("div",null,[d("a",{class:"font-mono",target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${l.item}`,onClick:i[1]||(i[1]=te(()=>{},["stop"]))},x(l.item),9,gu)])]),_:1},8,["rows"])]),_:1},8,["title"])])]),_:1},8,["title"])}}});function Ta(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":{t:0,b:{t:2,i:[{t:3}],s:"Troves affected"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"liquidation-details":{t:0,b:{t:2,i:[{t:3}],s:"Liquidation Details"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt / Collateral"}},"gas-compensation":{t:0,b:{t:2,i:[{t:3}],s:"Gas compensation"}}}})}typeof Ta=="function"&&Ta(Xo);const Et=P(Xo,[["__scopeId","data-v-561da6c8"]]),yu={style:{display:"flex",gap:"1rem"}},wu=["src"],$u=["href"],Cu=["href"],ku={class:"end"},Su={class:"end"},Lu={class:"end"},Aa=15,en=A({__name:"TableLiquidations",props:{vaults:{default:()=>[]}},setup(t){const e=U(),n=new Ft(e.flavor),{t:o}=B(),{isFetching:s,data:i}=N({queryKey:["prisma-liquidations",C(()=>t.vaults.map(g=>g.address))],queryFn:({queryKey:[,g]})=>g.length>0?Promise.all(g.map(y=>n.getLiquidations("ethereum",y))).then(y=>y.flat()):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:r}=$e(),c=F(""),v=F("all"),p=F(null),h=["",{id:"liquidator",label:"Liquidator",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:l,onSort:u}=Se("timestamp"),b=C(()=>W.chain(i.value).filter(g=>{const y=c.value.toLocaleLowerCase().split(" "),S=q=>y.some(M=>q.toLocaleLowerCase().includes(M)),I=v.value==="all"?!0:g.vault===v.value;return S(g.liquidator)&&I}).orderBy(g=>{switch(l.value.column){case"liquidator":return g.liquidator;case"tx":return g.transaction;case"debt":return g.liquidated_collateral_usd;case"numtroves":return g.troves_affected_count;case"timestamp":return g.timestamp;default:return g.timestamp}},l.value.order).value()),{page:m,rowsPage:k,onPage:$}=ye(b,Aa);return(g,y)=>{const S=ve,I=ge,q=ae,M=se,E=G,V=Le;return f(),L(X,null,[_(E,{class:"liquidations-card",title:a(o)("title"),loading:a(s)},{actions:w(()=>[_(gt,{class:"select-vault",vault:a(v),all:!0,onSelectVault:y[0]||(y[0]=D=>v.value=D)},null,8,["vault"]),d("div",yu,[_(S,{modelValue:a(c),"onUpdate:modelValue":y[1]||(y[1]=D=>re(c)?c.value=D:null),class:"search",style:{"flex-grow":"1"},search:!0,placeholder:a(o)("search-placeholder")},null,8,["modelValue","placeholder"]),_(I,{class:"pagination","items-count":a(b).length,"items-per-page":Aa,page:a(m),onPage:a($)},null,8,["items-count","page","onPage"])])]),default:w(()=>[_(M,{class:"liquidations-table",rows:a(k),columns:h,sorting:a(l),onSortColumn:a(u),onSelected:y[4]||(y[4]=D=>p.value=D)},{row:w(D=>[d("img",{src:a(qe)(D.item.vault)},null,8,wu),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/address/${D.item.liquidator}`,target:"_blank",onClick:y[2]||(y[2]=te(()=>{},["stop"]))},x(a(Z)(D.item.liquidator)),9,$u)]),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/tx/${D.item.transaction}`,target:"_blank",onClick:y[3]||(y[3]=te(()=>{},["stop"]))},x(a(Z)(D.item.transaction)),9,Cu)]),d("div",ku,[_(q,{type:"dollar",value:Math.round(D.item.liquidated_debt),precision:1/0},null,8,["value"])]),d("div",Su,x(D.item.troves_affected_count),1),d("div",Lu,x(a(r)(D.item.timestamp)),1)]),"row-details":w(()=>[H("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),_(V,{show:!!a(p),onClose:y[5]||(y[5]=D=>p.value=null)},{default:w(()=>[a(p)?(f(),T(Et,{key:0,liquidation:a(p),"vault-addr":a(p).vault},null,8,["liquidation","vault-addr"])):R("",!0)]),_:1},8,["show"])],64)}}});function Pa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Pa=="function"&&Pa(en);const Tu=P(en,[["__scopeId","data-v-f7b64dd1"]]),Au={class:"liquidations"},Pu=A({__name:"Liquidations.page",setup(t){const e=U(),n=Ce().getSocket(Oe(e.flavor)),o=new We(n,"ethereum"),s=fe(o.overview$,[]);return(i,r)=>(f(),L("div",Au,[_(Tu,{vaults:a(s)},null,8,["vaults"])]))}}),Iu=P(Pu,[["__scopeId","data-v-39c61e01"]]),xu=["min","max"],Du=A({__name:"InputNumber",props:ze({min:{default:()=>-1/0},max:{default:()=>1/0}},{modelValue:{required:!0,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=It(t,"modelValue");return K(e,n=>{n===""?e.value=null:typeof n=="number"&&(e.value=Math.min(Math.max(n,t.min),t.max))}),(n,o)=>So((f(),L("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>e.value=s),type:"number",min:n.min,max:n.max},null,8,xu)),[[ds,e.value]])}}),qu=P(Du,[["__scopeId","data-v-f442b732"]]),Vu=A({__name:"ChartRevenueLine",props:{data:{default:()=>[]}},setup(t){let e;const{theme:n}=j(U()),{chart:o,chartRef:s}=ue(n,i,h=>{e=h.addAreaSeries(r())});K(()=>t.data,c),K(n,()=>e.applyOptions(r()));function i(h){return ce(h,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:l=>v(l)}})}function r(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:de.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...n.value.lineChartColors}}function c(h){if(!o.value||!h)return;const l=W.chain(h).groupBy(u=>u.timestamp).mapValues(u=>({time:u[0].timestamp,value:p(u[0])})).entries().map(u=>u[1]).uniqWith((u,b)=>u.time===b.time).orderBy(u=>u.time,"asc").value();l.length>0&&e.setData(l),o.value.timeScale().fitContent()}const v=h=>`$${Q(h,1,"dollar")}${z(h,"dollar")}`,p=h=>h.unlock_penalty_revenue_usd+h.borrowing_fees_revenue_usd+h.redemption_fees_revenue_usd;return(h,l)=>(f(),L("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512))}}),Mu=A({__name:"ChartRevenueBreakdown",props:{data:{default:()=>[]}},setup(t){const{theme:e}=j(U()),n=C(()=>ne(e.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:r,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:c},min:0,max:i.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=C(()=>W.chain(t.data).orderBy(l=>l.timestamp,"asc").groupBy(l=>l.timestamp).map((l,u)=>new Date(parseInt(u,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((l,u)=>u%8===0?l:"").value()),s=C(()=>W.chain(Object.keys(t.data[0]).filter(l=>l!=="timestamp")).map(l=>t.data.map(u=>({...u,source:l}))).flatten().groupBy(l=>l.source).map((l,u)=>({name:p(u),data:W.chain(l).orderBy(b=>b.timestamp,"asc").map(b=>({x:new Date(b.timestamp*1e3).toLocaleDateString(),y:b[u]})).value()})).value()),i=C(()=>Math.max(...W.chain(t.data).groupBy(l=>l.timestamp).map(l=>l.reduce((u,b)=>u+v(b),0)).value())*1.1),r=l=>l,c=l=>`$${Q(l,1,"dollar")}${z(l,"dollar")}`,v=l=>l.unlock_penalty_revenue_usd+l.borrowing_fees_revenue_usd+l.redemption_fees_revenue_usd,p=l=>{switch(l){case"unlock_penalty_revenue_usd":return"Unlock penalty";case"borrowing_fees_revenue_usd":return"Borrowing fees";case"redemption_fees_revenue_usd":return"Redemption fees";default:return h(l)}},h=l=>l.split("_").map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join("");return(l,u)=>{const b=Mt;return f(),T(b,{class:"chart",options:a(n),series:a(s)},null,8,["options","series"])}}}),Ru=P(Mu,[["__scopeId","data-v-e7b77ec6"]]),Fu=t=>(pe("data-v-e4d94ff7"),t=t(),me(),t),Bu={class:"actions"},Uu={class:"chart-input"},Ou={class:"chart-toggles"},Eu=Fu(()=>d("i",{class:"fas fa-burn"},null,-1)),Ku={class:"chart-types"},tn=A({__name:"ChartRevenue",setup(t){const{t:e}=B(),n=U(),o=new Vo(n.flavor),s=F("line"),i=F(1699723102),r=F(!0),{isFetching:c,data:v}=N({queryKey:["prisma-revenue-snapshots"],queryFn:()=>o.getSnapshots().then(l=>l.snapshots),initialData:[],initialDataUpdatedAt:0}),p=C(()=>v.value.filter(l=>l.timestamp>i.value).map(l=>W.cloneDeep(l)).map(l=>(r.value||(l.unlock_penalty_revenue_usd=0),l))),h=l=>{s.value!==l&&(s.value=l)};return(l,u)=>{const b=qu,m=st,k=nt,$=G;return f(),T($,{class:"chart-container",title:a(e)("title"),loading:a(c)},{actions:w(()=>[d("div",Bu,[d("div",Uu,[_(b,{modelValue:a(i),"onUpdate:modelValue":u[0]||(u[0]=g=>re(i)?i.value=g:null),placeholder:"Timestamp cut-off",min:0,max:new Date().getTime()/1e3},null,8,["modelValue","max"])]),d("div",Ou,[_(k,null,{item:w(()=>[_(m,{modelValue:a(r),"onUpdate:modelValue":u[1]||(u[1]=g=>re(r)?r.value=g:null)},{default:w(()=>[Eu]),_:1},8,["modelValue"])]),default:w(()=>[H(" "+x(a(e)("include-unlock-penalty")),1)]),_:1})]),d("div",Ku,[_(m,{value:"Line","model-value":a(s)==="line",onClick:u[2]||(u[2]=g=>h("line"))},null,8,["model-value"]),_(m,{value:"Breakdown","model-value":a(s)==="breakdown",onClick:u[3]||(u[3]=g=>h("breakdown"))},null,8,["model-value"])])])]),default:w(()=>[a(s)==="line"?(f(),T(Vu,{key:0,data:a(p)},null,8,["data"])):(f(),T(Ru,{key:1,data:a(p)},null,8,["data"]))]),_:1},8,["title","loading"])}}});function Ia(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"PRISMA revenue"}},"include-unlock-penalty":{t:0,b:{t:2,i:[{t:3}],s:"Include unlock penalty revenue"}}}})}typeof Ia=="function"&&Ia(tn);const Wu=P(tn,[["__scopeId","data-v-e4d94ff7"]]),an=A({__name:"ChartBreakdown",setup(t){const{t:e}=B(),{theme:n,flavor:o}=j(U()),s=new Vo(o.value),{isFetching:i,data:r}=N({queryKey:["prisma-revenue-breakdown"],queryFn:()=>s.getBreakdown(),initialData:{unlock_penalty:0,borrowing_fees:0,redemption_fees:0},initialDataUpdatedAt:0}),c=C(()=>ne(n.value,{chart:{id:"breakdown",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:l=>{const u=p.value[l.seriesIndex],b=l.series[l.seriesIndex];return[`<div><b>${u}</b>:</div><div>${h(b)}</div>`].join("")}},labels:p.value})),v=C(()=>[r.value.unlock_penalty,r.value.borrowing_fees,r.value.redemption_fees]),p=C(()=>[e("unlockPenalty"),e("borrowingFees"),e("redemptionFees")]),h=l=>`$${Q(l,2,"percentage")}${z(l,"percentage")}`;return(l,u)=>{const b=ie;return f(),T(b,{class:"graph",title:a(e)("title"),options:a(c),series:a(v),loading:a(i)},null,8,["title","options","series","loading"])}}});function xa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Breakdown"}},unlockPenalty:{t:0,b:{t:2,i:[{t:3}],s:"Unlock penalty"}},borrowingFees:{t:0,b:{t:2,i:[{t:3}],s:"Borrowing fees"}},redemptionFees:{t:0,b:{t:2,i:[{t:3}],s:"Redemption fees"}}}})}typeof xa=="function"&&xa(an);const Nu=P(an,[["__scopeId","data-v-aff87e19"]]),Hu={class:"revenue"},Gu=A({__name:"Revenue.page",setup(t){return(e,n)=>(f(),L("div",Hu,[_(Wu,{style:{"grid-column":"1"}}),_(Nu,{style:{"grid-column":"2"}})]))}}),ju=P(Gu,[["__scopeId","data-v-b2f76563"]]),Zu={class:"tab-view"},zu={class:"tab-headers"},Yu=["onClick"],Qu={class:"tabs"},Ju=A({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(t,{emit:e}){const n=e,o=F(null),s=ko(),i=C(()=>(s!=null&&s.default?s.default():[]).filter(v=>v.props));K(()=>t.active,c=>{o.value=c,n("tab",{tab:i.value[c],index:o.value})},{immediate:!0});const r=(c,v)=>{c.props.disabled||(o.value=v,n("tab",{tab:i.value[v],index:o.value}))};return(c,v)=>(f(),L("div",Zu,[d("ul",zu,[(f(!0),L(X,null,le(a(i),(p,h)=>(f(),L("li",{key:h,class:O(["tab-header",{active:a(o)===h,disabled:p.props.disabled}]),onClick:l=>r(p,h)},x(p.props.header),11,Yu))),128))]),d("div",Qu,[(f(!0),L(X,null,le(a(i),(p,h)=>So((f(),L("div",{key:h,class:"tab"},[(f(),T(St(p)))])),[[ps,a(o)===h]])),128))])]))}}),ct=P(Ju,[["__scopeId","data-v-cb076fcc"]]),ut=A({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(t){return(e,n)=>J(e.$slots,"default")}}),Xu={class:"legend"},ed=["onClick"],td={class:"label"},ad=A({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(t,{emit:e}){const n=e;return(o,s)=>(f(),L("div",Xu,[(f(!0),L(X,null,le(o.items,i=>(f(),L("div",{key:i.id,class:O(["item",{togglable:i.togglable,disabled:o.disabled.includes(i.id)}]),onClick:r=>{i.togglable&&n("toggle",i.id)}},[d("div",{class:"color",style:_e({"background-color":i.color})},null,4),d("div",td,x(i.label),1)],10,ed))),128))]))}}),Kt=P(ad,[["__scopeId","data-v-d25d58a4"]]);function Ct(t){const e=Math.floor(new Date().getTime()/1e3),n=14400,o=e-n*299;switch(t){case"convex":return{pool:"0x3b21C2868B6028CfB38Ff86127eF22E68d16d53B",chain:"ethereum",main_token:"0xdA47862a83dac0c112BA89c6abC2159b95afd71C",reference_token:"0x34635280737b5BFe6c7DC2FC3065D60d66e78185",interval:n,start:o,end:e};case"yearn":return{pool:"0x69833361991ed76f9e8DBBcdf9ea1520fEbFb4a7",chain:"ethereum",main_token:"0xdA47862a83dac0c112BA89c6abC2159b95afd71C",reference_token:"0xe3668873D944E4A949DA05fc8bDE419eFF543882",interval:n,start:o,end:e};default:throw new Error("Unknown contract")}}function od(t){const e=Math.floor(new Date().getTime()/1e3),n="day",o=e-86400*299;switch(t){case"convex":return{pool:"0x3b21C2868B6028CfB38Ff86127eF22E68d16d53B",chain:"ethereum",interval:n,start:o,end:e};case"yearn":return{pool:"0x69833361991ed76f9e8DBBcdf9ea1520fEbFb4a7",chain:"ethereum",interval:n,start:o,end:e};default:throw new Error("Unknown contract")}}function Wt(t){const e=C(t),n=ms(Co(Object.fromEntries(e.value.map(s=>[s.id,!0])))),o=C(()=>e.value.filter(s=>!n[s.id].value).map(s=>s.id));return{items:e,toggles:n,disabled:o}}const nd={class:"actions"},on=A({__name:"ChartComparisonPrice",setup(t){const{t:e}=B();let n,o;const{theme:s}=j(U()),{items:i}=Wt(()=>[{id:"cvxprisma",label:"cvxPRISMA",color:s.value.colors.blue},{id:"yprisma",label:"yPRISMA",color:s.value.colors.yellow}]),r=Ce().getSocket("prices"),c=new _t(r,"ethereum",Ct("convex")),v=new _t(r,"ethereum",Ct("yearn")),p=fe(c.ohlc$,[]),h=fe(v.ohlc$,[]),l=C(()=>p.value.length+h.value.length===0);let u=1.1,b=0;const{chart:m,chartRef:k}=ue(s,$,I=>{n=I.addLineSeries(g("convex")),o=I.addLineSeries(g("yearn"))});K(s,()=>{n.applyOptions(g("convex")),o.applyOptions(g("yearn"))}),K(p,I=>y(I,"convex")),K(h,I=>y(I,"yearn"));function $(I){return ce(I,s.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:q=>S(q)}})}function g(I){const q=I==="convex"?s.value.colors.blue:s.value.colors.yellow;return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:de.WithSteps,color:q,lastValueVisible:!1,priceLineVisible:!1}}function y(I,q){if(!m.value||!n||!o)return;const M=W.chain(I).map(E=>({time:E.time,value:E.close})).uniqWith((E,V)=>E.time===V.time).orderBy(E=>E.time,"asc").value();if(M.length>0){q==="convex"?n.setData(M):q==="yearn"&&o.setData(M);const E=[...p.value.map(V=>V.close),...h.value.map(V=>V.close)];b=Math.min(...E),u=Math.max(...E),m.value.timeScale().fitContent()}}const S=I=>{const q=u-b,M=q>1?q-Math.floor(q):q,E=-Math.floor(Math.log10(M)+1)+2;return`${Q(I,E,"dollar")}${z(I,"dollar")}`};return(I,q)=>{const M=Kt,E=G;return f(),T(E,{class:"chart-container",title:a(e)("title"),loading:a(l)},{actions:w(()=>[d("div",nd,[_(M,{items:a(i)},null,8,["items"])])]),default:w(()=>[d("div",{ref_key:"chartRef",ref:k,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Da(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price (peg)"}}}})}typeof Da=="function"&&Da(on);const sd=P(on,[["__scopeId","data-v-410b6121"]]),ld={class:"actions"},nn=A({__name:"ChartComparisonTVL",setup(t){const{t:e}=B(),n=new it;let o,s;const{theme:i}=j(U()),{items:r}=Wt(()=>[{id:"cvxprisma",label:"cvxPRISMA",color:i.value.colors.blue},{id:"yprisma",label:"yPRISMA",color:i.value.colors.yellow}]),c=C(()=>v.value||h.value),{isFetching:v,data:p}=N({queryKey:["prisma-wrapper-tvl","convex"],queryFn:()=>n.getTVL("convex").then(y=>y.tvl),initialData:[],initialDataUpdatedAt:0}),{isFetching:h,data:l}=N({queryKey:["prisma-wrapper-tvl","yearn"],queryFn:()=>n.getTVL("yearn").then(y=>y.tvl),initialData:[],initialDataUpdatedAt:0}),{chart:u,chartRef:b}=ue(i,m,y=>{o=y.addLineSeries(k("convex")),s=y.addLineSeries(k("yearn"))});K(i,()=>{o.applyOptions(k("convex")),s.applyOptions(k("yearn"))}),K([p,u],([y,S])=>$("convex",y,S)),K([l,u],([y,S])=>$("yearn",y,S));function m(y){return ce(y,i.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:S=>g(S)}})}function k(y){const S=y==="convex"?i.value.colors.blue:i.value.colors.yellow;return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:de.WithSteps,color:S,lastValueVisible:!1,priceLineVisible:!1}}function $(y,S,I){if(!I||!o||!s)return;const q=W.chain(S).map(M=>({time:M.timestamp,value:M.value})).uniqWith((M,E)=>M.time===E.time).orderBy(M=>M.time,"asc").value();q.length>0&&(y==="convex"?o.setData(q):y==="yearn"&&s.setData(q),I.timeScale().fitContent())}const g=y=>`$${Q(y,0,"dollar")}${z(y,"dollar")}`;return(y,S)=>{const I=Kt,q=G;return f(),T(q,{class:"chart-container",title:a(e)("title"),loading:a(c)},{actions:w(()=>[d("div",ld,[_(I,{items:a(r)},null,8,["items"])])]),default:w(()=>[d("div",{ref_key:"chartRef",ref:b,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function qa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof qa=="function"&&qa(nn);const id=P(nn,[["__scopeId","data-v-3dc0522f"]]),rd={class:"overview"},cd=A({__name:"Overview",setup(t){return(e,n)=>(f(),L("div",rd,[_(sd),_(id)]))}}),ud=P(cd,[["__scopeId","data-v-8905db3f"]]),sn=A({__name:"ChartPrice",props:{contract:{}},setup(t){const{t:e}=B();let n,o,s=1,i=0;const{theme:r,flavor:c}=j(U()),{chart:v,chartRef:p}=ue(r,y,V=>{n=V.addCandlestickSeries(S()),o=V.addHistogramSeries(I())}),h=Ct(t.contract),l=od(t.contract),u=Ce().getSocket("prices"),b=new _t(u,"ethereum",h),m=new rl(u,"ethereum",l),k=fe(b.ohlc$,[]),$=fe(m.volume$,[]),g=C(()=>k.value.length+$.value.length===0);K(r,()=>{n.applyOptions(S()),o.applyOptions(I())}),K(k,q),K($,M);function y(V){return ce(V,r.value,{height:300,leftPriceScale:{scaleMargins:{top:.75,bottom:0}},localization:{priceFormatter:D=>E(D)}})}function S(){const{colors:V}=r.value;return{priceFormat:{type:"price",precision:6,minMove:.01},upColor:V.green,borderUpColor:V.green,wickUpColor:V.green,downColor:V.red,borderDownColor:V.red,wickDownColor:V.red,lastValueVisible:!1,priceLineVisible:!1}}function I(){const{colors:V}=r.value;return{color:c.value==="lsd"?V.blue:V.purple,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}}function q(V){if(!v.value||!n)return;const D=1,ee=W.chain(V).map(oe=>({time:oe.time,open:Math.pow(oe.open,D),high:Math.pow(oe.high,D),low:Math.pow(oe.low,D),close:Math.pow(oe.close,D)})).uniqWith((oe,Y)=>oe.time===Y.time).orderBy(oe=>oe.time,"asc").value();ee.length>0&&(n.setData(ee),v.value.timeScale().fitContent(),i=Math.min(...ee.map(oe=>oe.low)),s=Math.max(...ee.map(oe=>oe.high))),v.value.timeScale().fitContent()}function M(V){if(!v.value||!o)return;const D=W.chain(V).map(ee=>({time:ee.timestamp,value:ee.volume})).uniqWith((ee,oe)=>ee.time===oe.time).orderBy(ee=>ee.time,"asc").value();D.length>0&&o.setData(D)}const E=V=>{const D=s-i,ee=D>1?D-Math.floor(D):D,oe=-Math.floor(Math.log10(ee)+1)+2;return`${Q(V,oe,"dollar")}${z(V,"dollar")}`};return(V,D)=>{const ee=G;return f(),T(ee,{class:"chart-container",title:a(e)("title"),loading:a(g)},{default:w(()=>[d("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Va(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price (peg)"}}}})}typeof Va=="function"&&Va(sn);const ln=P(sn,[["__scopeId","data-v-162815fd"]]),rn=A({__name:"ChartTVL",props:{contract:{}},setup(t){const{t:e}=B(),n=new it;let o;const{theme:s}=j(U()),{chart:i,chartRef:r}=ue(s,p,b=>{o=b.addAreaSeries(h())}),{isFetching:c,data:v}=N({queryKey:["prisma-wrapper-tvl",C(()=>t.contract)],queryFn:({queryKey:[,b]})=>n.getTVL(b).then(m=>m.tvl),initialData:[],initialDataUpdatedAt:0});K([v,i],l),K(s,()=>o.applyOptions(h()));function p(b){return ce(b,s.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:m=>u(m)}})}function h(){return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:de.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...s.value.lineChartColors}}function l([b,m]){if(!m||!o)return;const k=W.chain(b).filter($=>$.value>0).map($=>({time:$.timestamp,value:$.value})).uniqWith(($,g)=>$.time===g.time).orderBy($=>$.time,"asc").value();k.length>0&&o.setData(k),m.timeScale().fitContent()}const u=b=>`$${Q(b,0,"dollar")}${z(b,"dollar")}`;return(b,m)=>{const k=G;return f(),T(k,{class:"chart-container",title:a(e)("title"),loading:a(c)},{default:w(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ma(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof Ma=="function"&&Ma(rn);const cn=P(rn,[["__scopeId","data-v-277e14d9"]]),un=A({__name:"ChartFlow",props:{contract:{}},setup(t){const{t:e}=B(),n=new it,{theme:o}=j(U()),{isFetching:s,data:i}=N({queryKey:["prisma-wrapper-flow",C(()=>t.contract)],queryFn:({queryKey:[,l]})=>n.getFlow(l),initialData:{deposits:[],withdrawals:[]},initialDataUpdatedAt:0}),r=C(()=>{const{colors:l}=o.value;return ne(o.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[l.green,l.red],xaxis:{categories:c.value,labels:{formatter:p,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:h}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:u,dataPointIndex:b,w:m})=>{let k=0;const $=u.map((g,y)=>{const S=g[b];return k+=S,`<div><b>${m.globals.seriesNames[y]}</b>:	${h(S)}</div>`});return $.push(`<div><b>Total</b>:	${h(k)}</div>`),$.join("")}}})}),c=C(()=>i.value.deposits.length===0?[]:i.value.deposits.map(l=>new Date(l.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),v=C(()=>[{name:e("deposits"),data:Object.values(i.value.deposits).map(l=>l.amount_usd)},{name:e("withdrawals"),data:Object.values(i.value.withdrawals).map(l=>-l.amount_usd)}]),p=l=>l,h=l=>`$${Q(l,0,"dollar")}${z(l,"dollar")}`;return(l,u)=>{const b=ie;return f(),T(b,{title:a(e)("title"),loading:a(s),options:a(r),series:a(v)},null,8,["title","loading","options","series"])}}});function Ra(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Staking and unstaking"}},deposits:{t:0,b:{t:2,i:[{t:3}],s:"Deposits"}},withdrawals:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawals"}}}})}typeof Ra=="function"&&Ra(un);const dn=P(un,[["__scopeId","data-v-1a5fd5a5"]]),pn=A({__name:"ChartAPR",props:{contract:{}},setup(t){const{t:e}=B(),n=new it;let o;const{theme:s}=j(U()),{chart:i,chartRef:r}=ue(s,p,b=>{o=b.addAreaSeries(h())}),{isFetching:c,data:v}=N({queryKey:["prisma-wrapper-snapshots",C(()=>t.contract)],queryFn:({queryKey:[,b]})=>n.getSnapshots(b).then(m=>m.Snapshots),initialData:[],initialDataUpdatedAt:0});K([v,i],l),K(s,()=>o.applyOptions(h()));function p(b){return ce(b,s.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:m=>u(m)}})}function h(){return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:de.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...s.value.lineChartColors}}function l([b,m]){if(!m||!o)return;const k=W.chain(b).filter($=>$.timestamp>=1699630610).map($=>({time:$.timestamp,value:$.total_apr*100})).uniqWith(($,g)=>$.time===g.time).orderBy($=>$.time,"asc").value();k.length>0&&o.setData(k),m.timeScale().fitContent()}const u=b=>`${Q(b,0,"percentage")}${z(b,"percentage")}`;return(b,m)=>{const k=G;return f(),T(k,{class:"chart-container",title:a(e)("title"),loading:a(c)},{default:w(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Fa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"APR"}}}})}typeof Fa=="function"&&Fa(pn);const mn=P(pn,[["__scopeId","data-v-658672af"]]),vn=A({__name:"ChartDistribution",props:{contract:{}},setup(t){const{t:e}=B(),n=new it,{theme:o}=j(U()),{isFetching:s,data:i}=N({queryKey:["prisma-wrapper-distribution",C(()=>t.contract)],queryFn:({queryKey:[,l]})=>n.getDistribution(l).then(u=>u.distribution),initialData:[],initialDataUpdatedAt:0}),r=C(()=>ne(o.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:c.value,labels:{formatter:p,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:h}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),c=C(()=>i.value.map(l=>l.label)),v=C(()=>[{name:e("size"),data:Object.values(i.value).map(l=>l.value)}]),p=l=>l,h=l=>`$${Q(l,0,"dollar")}${z(l,"dollar")}`;return(l,u)=>{const b=ie;return f(),T(b,{class:"chart",title:a(e)("title"),loading:a(s),options:a(r),series:a(v)},null,8,["title","loading","options","series"])}}});function Ba(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Position size"}},size:{t:0,b:{t:2,i:[{t:3}],s:"Size"}}}})}typeof Ba=="function"&&Ba(vn);const _n=P(vn,[["__scopeId","data-v-68862781"]]),dd={class:"cvxprisma"},pd=A({__name:"CvxPrisma",setup(t){return(e,n)=>(f(),L("div",dd,[_(ln,{contract:"convex"}),_(cn,{contract:"convex"}),_(dn,{contract:"convex"}),_(mn,{contract:"convex"}),_(_n,{contract:"convex",style:{"grid-column":"1 / -1"}})]))}}),md=P(pd,[["__scopeId","data-v-91ade2ce"]]),vd={class:"yprisma"},_d=A({__name:"YPrisma",setup(t){return(e,n)=>(f(),L("div",vd,[_(ln,{contract:"yearn"}),_(cn,{contract:"yearn"}),_(dn,{contract:"yearn"}),_(mn,{contract:"yearn"}),_(_n,{contract:"yearn",style:{"grid-column":"1 / -1"}})]))}}),fd=P(_d,[["__scopeId","data-v-dc6f0440"]]);function fn(t,e,n){const o=Je(),s=Ye("tab",t[0]),i=F(-1);return K(s,r=>i.value=t.findIndex(c=>c===r),{immediate:!0}),K(i,async r=>{r===-1&&(r=0),await o.push({name:e,params:{tab:t[r],...(n==null?void 0:n())??{}},replace:s.value===""})},{immediate:!0}),{tabActive:s,tabActiveIndex:i}}const hd={class:"wrappers"},bd=A({__name:"Wrappers.page",setup(t){const{tabActive:e,tabActiveIndex:n}=fn(["overview","cvxprisma","yprisma"],"wrappers");return(o,s)=>{const i=ut,r=ct;return f(),L("div",hd,[_(r,{active:a(n),onTab:s[0]||(s[0]=c=>n.value=c.index)},{default:w(()=>[_(i,{header:"Overview"},{default:w(()=>[a(e)==="overview"?(f(),T(ud,{key:0})):R("",!0)]),_:1}),_(i,{header:"cvxPRISMA"},{default:w(()=>[a(e)==="cvxprisma"?(f(),T(md,{key:0})):R("",!0)]),_:1}),_(i,{header:"yPRISMA"},{default:w(()=>[a(e)==="yprisma"?(f(),T(fd,{key:0})):R("",!0)]),_:1})]),_:1},8,["active"])])}}}),gd=P(bd,[["__scopeId","data-v-eb3d2ad5"]]),yd={style:{display:"flex",gap:"1rem"}},wd=["href"],Ua=10,hn=A({__name:"TableLockers",props:{lockers:{default:()=>[]}},setup(t){const{t:e}=B(),n=F(""),o=[{id:"locker",label:"Locker",sort:!1},{id:"weight",label:"Weight",sort:!0,align:"end"},{id:"locked",label:"Locked",sort:!0,align:"end"},{id:"unlocked",label:"Unlocked",sort:!0,align:"end"},{id:"frozen",label:"Frozen",sort:!0,align:"end"}],{sorting:s,onSort:i}=Se("weight"),r=C(()=>W.chain(t.lockers).filter(h=>{const l=n.value.toLocaleLowerCase().split(" ");return(b=>l.some(m=>b.toLocaleLowerCase().includes(m)))(h.id)}).orderBy(h=>{switch(s.value.column){case"weight":return h.weight;case"locked":return h.locked;case"unlocked":return h.unlocked;case"frozen":return h.frozen;default:return h.weight}},s.value.order).value()),{page:c,rowsPage:v,onPage:p}=ye(r,Ua);return(h,l)=>{const u=ve,b=ge,m=ae,k=se,$=G;return f(),T($,{class:"lockers-card",title:a(e)("title")},{actions:w(()=>[d("div",yd,[_(u,{modelValue:a(n),"onUpdate:modelValue":l[0]||(l[0]=g=>re(n)?n.value=g:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"]),_(b,{"items-count":a(r).length,"items-per-page":Ua,page:a(c),onPage:a(p)},null,8,["items-count","page","onPage"])])]),default:w(()=>[_(k,{class:"lockers-table",rows:a(v),columns:o,sorting:a(s),onSortColumn:a(i)},{row:w(g=>[d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/address/${g.item.id}`,target:"_blank",onClick:l[1]||(l[1]=te(()=>{},["stop"]))},x(g.item.id),9,wd)]),d("div",{class:O(["end",{zero:g.item.weight===0}])},[_(m,{type:"dollar",value:Math.round(g.item.weight),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),d("div",{class:O(["end",{zero:g.item.locked===0}])},[_(m,{type:"dollar",value:Math.round(g.item.locked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),d("div",{class:O(["end",{zero:g.item.unlocked===0}])},[_(m,{type:"dollar",value:Math.round(g.item.unlocked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),d("div",{class:O(["end",{zero:g.item.frozen===0}])},[_(m,{type:"dollar",value:Math.round(g.item.frozen),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2)]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title"])}}});function Oa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Lockers"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Oa=="function"&&Oa(hn);const $d=P(hn,[["__scopeId","data-v-2877d719"]]),Ea="https://api.thegraph.com/subgraphs/name/benber86/prisma";class bn extends be{async getTopLockers(){const n=await this.fetch(Ea,{query:`{
      lockers {
        totalWeight
      }
      accountDatas(first: 100 orderBy: weight orderDirection: desc) {
        id
        weight
        locked
        unlocked
        frozen
      }
    }`}),o=n.data.accountDatas.map(i=>({id:i.id,weight:parseInt(i.weight,10),locked:parseInt(i.locked,10),unlocked:parseInt(i.unlocked,10),frozen:parseInt(i.frozen,10)}));return{totalWeight:parseInt(n.data.lockers[0].totalWeight,10),accounts:o}}async getVotesIncentives(){return(await this.fetch(Ea,{query:`{
      incentiveVotes(first:100, orderBy:blockNumber, orderDirection:desc) {
        voter {
          id
        }
        votes(first: 100, orderBy:points, orderDirection:desc) {
          recipient {
            id
            address
          }
          points
        }
        isClearance
        transactionHash
        blockTimestamp
      }
    }`})).data.incentiveVotes.map(o=>o.votes.map(s=>({voter:o.voter.id,recipient:s.recipient.address,points:parseInt(s.points,10),isClearance:o.isClearance,transaction:o.transactionHash,timestamp:parseInt(o.blockTimestamp,10)}))).flat()}}const Cd=["href"],kd=["href"],Sd={class:"end"},Ld={class:"end"},Td=["href"],Ad={class:"end"},Ka=20,gn=A({__name:"TableVotesIncentives",setup(t){const{t:e}=B(),n=new bn,{isFetching:o,data:s}=N({queryKey:["prisma-vote-incentives"],queryFn:()=>n.getVotesIncentives(),initialData:[],initialDataUpdatedAt:0}),{relativeTime:i}=$e(),r=C(()=>["Voter","Recipient",{label:"Points",align:"end"},{label:"Tx",align:"end"},{label:"Time",align:"end"}]),c=C(()=>s.value),{page:v,rowsPage:p,onPage:h}=ye(c,Ka);return(l,u)=>{const b=ge,m=ae,k=se,$=G;return f(),T($,{class:"votes-incentives-card",title:a(e)("title"),loading:a(o)},{actions:w(()=>[_(b,{"items-count":a(c).length,"items-per-page":Ka,page:a(v),onPage:a(h)},null,8,["items-count","page","onPage"])]),default:w(()=>[_(k,{class:"votes-incentives-table",rows:a(p),columns:a(r)},{row:w(g=>[d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/address/${g.item.voter}`,target:"_blank",onClick:u[0]||(u[0]=te(()=>{},["stop"]))},x(a(Z)(g.item.voter)),9,Cd)]),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/tx/${g.item.recipient}`,target:"_blank",onClick:u[1]||(u[1]=te(()=>{},["stop"]))},x(a(Z)(g.item.recipient)),9,kd)]),d("div",Sd,[_(m,{type:"dollar",value:Math.round(g.item.points),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])]),d("div",Ld,[d("a",{class:"font-mono",href:`https://etherscan.io/tx/${g.item.transaction}`,target:"_blank",onClick:u[2]||(u[2]=te(()=>{},["stop"]))},x(a(Z)(g.item.transaction)),9,Td)]),d("div",Ad,x(a(i)(g.item.timestamp)),1)]),_:1},8,["rows","columns"])]),_:1},8,["title","loading"])}}});function Wa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Incentive votes"}}}})}typeof Wa=="function"&&Wa(gn);const Pd=P(gn,[["__scopeId","data-v-54945c02"]]),yn=A({__name:"ChartTopLockers",props:{totalWeight:{default:0},lockers:{default:()=>[]}},setup(t){const{t:e}=B(),{theme:n}=j(U()),o=C(()=>t.lockers.slice(0,10)),s=C(()=>ne(n.value,{chart:{id:"topLockers",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:p=>{const h=r.value[p.seriesIndex],l=p.series[p.seriesIndex],u=l/(t.totalWeight/100);return[`<div><b>${h}</b>:</div><div>${v(u)} - ${c(l)}</div>`].join("")}},labels:o.value.map(p=>p.id).concat(["Other⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"])})),i=C(()=>{const p=o.value.map(u=>u.weight),h=p.reduce((u,b)=>u+b,0),l=t.totalWeight-h;return[...p,l]}),r=C(()=>o.value.map(p=>p.id).concat(["Other"])),c=p=>`${Q(p,2,"dollar")}${z(p,"dollar")}`,v=p=>`${Q(p,2,"percentage")}${z(p,"percentage")}`;return(p,h)=>{const l=ie;return f(),T(l,{class:"graph",title:a(e)("title"),options:a(s),series:a(i)},null,8,["title","options","series"])}}});function Na(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top 10 largest lockers"}}}})}typeof Na=="function"&&Na(yn);const Id=P(yn,[["__scopeId","data-v-d554d0a8"]]),xd={class:"veprisma"},Dd=A({__name:"VePrisma.page",setup(t){const e=new bn,{isFetching:n,data:o}=N({queryKey:["prisma-top-lockers"],queryFn:()=>e.getTopLockers(),initialData:{totalWeight:0,accounts:[]},initialDataUpdatedAt:0}),s=C(()=>o.value.accounts),i=C(()=>o.value.totalWeight);return(r,c)=>(f(),L("div",xd,[_($d,{style:{"grid-row":"1","grid-column":"1"},loading:a(n),lockers:a(s)},null,8,["loading","lockers"]),_(Id,{style:{"grid-row":"1","grid-column":"2"},loading:a(n),lockers:a(s),"total-weight":a(i)},null,8,["loading","lockers","total-weight"]),_(Pd,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}}),qd=P(Dd,[["__scopeId","data-v-560cba17"]]);function we(t){return t.status==="executed"?"executed":t.end>new Date().getTime()/1e3?"active":Vd(t)?"passed":"denied"}function Vd(t){return t.weightReceived>t.weightRequired}const wn=A({__name:"Status",props:{proposal:{}},setup(t){const{t:e}=B(),n=C(()=>we(t.proposal)==="denied"?e("no-quorum"):""),o=C(()=>{switch(we(t.proposal)){case"active":return e("active");case"denied":return e("denied");case"passed":return e("passed");case"executed":return e("executed");default:return"Unk. Status"}});return(s,i)=>{const r=nt,c=ke;return f(),T(c,{class:"status","tooltip-type":"underline",label:a(e)("status"),"has-value":!0,tooltip:a(n)},{default:w(()=>[a(n)?(f(),T(r,{key:0},{item:w(()=>[d("span",{class:O(["status-value",a(we)(s.proposal)])},x(a(o)),3)]),default:w(()=>[H(" "+x(a(n)),1)]),_:1})):(f(),L("span",{key:1,class:O(["status-value",a(we)(s.proposal)])},x(a(o)),3))]),_:1},8,["label","tooltip"])}}});function Ha(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{status:{t:0,b:{t:2,i:[{t:3}],s:"Status"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}},"no-quorum":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was not reached"}}}})}typeof Ha=="function"&&Ha(wn);const Md=P(wn,[["__scopeId","data-v-be0ac349"]]),Rd=["href"],$n=A({__name:"Proposer",props:{proposal:{}},setup(t){const{t:e}=B();return(n,o)=>{const s=ke;return f(),T(s,{class:"proposer",label:a(e)("proposer"),"has-value":!0},{default:w(()=>[d("a",{href:`https://etherscan.io/address/${n.proposal.proposer}`,target:"_blank"},x(a(Z)(n.proposal.proposer)),9,Rd)]),_:1},8,["label"])}}});function Ga(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{proposer:{t:0,b:{t:2,i:[{t:3}],s:"Proposer"}}}})}typeof Ga=="function"&&Ga($n);const kt=A({__name:"Date",props:{proposal:{},type:{}},setup(t){const{t:e}=B();let n;const o=F(""),s=C(()=>{switch(t.type){case"start":return e("start");case"end":return e("end");default:return"Unk. Type"}}),i=C(()=>{switch(t.type){case"start":return new Date(t.proposal.start*1e3).toLocaleDateString();case"end":{const v=new Date(t.proposal.end*1e3);return v>new Date?o.value:v.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),r=C(()=>{switch(t.type){case"start":return new Date(t.proposal.start*1e3).toLocaleDateString()+" "+new Date(t.proposal.start*1e3).toTimeString();case"end":return new Date(t.proposal.end*1e3).toLocaleDateString()+" "+new Date(t.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});he(()=>{c()});const c=()=>{const v=new Date(t.proposal.end*1e3);n&&clearInterval(n),n=setInterval(()=>{o.value=ol(v)})};return(v,p)=>{const h=ke;return f(),T(h,{class:"date","tooltip-type":"underline",label:a(s),value:a(i),"has-value":!0,tooltip:a(r)},null,8,["label","value","tooltip"])}}});function ja(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{start:{t:0,b:{t:2,i:[{t:3}],s:"Start"}},end:{t:0,b:{t:2,i:[{t:3}],s:"End"}}}})}typeof ja=="function"&&ja(kt);const Fd=t=>(pe("data-v-c2dcaf56"),t=t(),me(),t),Bd={class:"id"},Ud={class:"metadata"},Od={class:"row"},Ed=Fd(()=>d("i",{class:"fas fa-chevron-up"},null,-1)),Kd=[Ed],Cn=A({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(t,{emit:e}){const{t:n}=B(),o=e;return(s,i)=>{var r,c;return f(),L("div",{class:"proposal-summary",onClick:i[0]||(i[0]=v=>o("toggleExpand"))},[d("div",{class:O(["title",{"no-title":!((r=s.proposal.metadata)!=null&&r.title)}])},[d("div",Bd,x(s.proposal.id),1),d("div",Ud,x(((c=s.proposal.metadata)==null?void 0:c.title)||a(n)("no-title")),1)],2),d("div",Od,[_(Md,{class:"item",proposal:s.proposal},null,8,["proposal"]),_($n,{class:"item",proposal:s.proposal},null,8,["proposal"]),_(kt,{class:"item",proposal:s.proposal,type:"start"},null,8,["proposal"]),_(kt,{class:"item",proposal:s.proposal,type:"end"},null,8,["proposal"]),d("div",{class:O(["item expander",{expanded:s.expanded}])},Kd,2)])])}}});function Za(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-title":{t:0,b:{t:2,i:[{t:3}],s:"< No Title >"}}}})}typeof Za=="function"&&Za(Cn);const Wd=P(Cn,[["__scopeId","data-v-c2dcaf56"]]),Nd=t=>(pe("data-v-3ae22b38"),t=t(),me(),t),Hd={class:"quorum"},Gd={class:"heading"},jd={class:"amount"},Zd={class:"bar"},zd={class:"percentages"},Yd=Nd(()=>d("div",{class:"zero"},"0%",-1)),Qd={class:"quorum"},kn=A({__name:"VotingQuorum",props:{proposal:{}},setup(t){const{t:e}=B(),n=C(()=>t.proposal.weightReceived),o=C(()=>t.proposal.weightRequired),s=C(()=>n.value/o.value*100);return(i,r)=>{const c=ae;return f(),L("div",Hd,[d("div",Gd,x(a(e)("quorum")),1),d("div",jd,[_(c,{value:a(n),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),H(" / "),_(c,{value:a(o),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),H(" vePRISMA ")]),d("div",Zd,[d("div",{class:"support",style:_e({width:`${a(s)}%`})},null,4),d("div",{class:"quorum",style:_e({width:`${100-a(s)}%`})},null,4)]),d("div",zd,[Yd,d("div",Qd,[_(c,{value:Math.min(a(s),100),precision:0,type:"percentage"},null,8,["value"])])])])}}});function za(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{quorum:{t:0,b:{t:2,i:[{t:3}],s:"Quorum"}}}})}typeof za=="function"&&za(kn);const Jd=P(kn,[["__scopeId","data-v-3ae22b38"]]),Xd=[{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"week",type:"uint256"}],name:"getAccountWeightAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Ge=[{inputs:[],name:"MAX_TIME_TO_EXECUTION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"executeProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenLocker",outputs:[{internalType:"contract ITokenLocker",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"weight",type:"uint256"}],name:"voteForProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"accountVoteWeights",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],ep={class:"buttons"},tp={class:"veprisma"},ap={class:"info"},op={class:"kpis"},np={class:"description"},sp={class:"title"},Sn=A({__name:"VotingButtons",props:{proposal:{}},setup(t){const{t:e}=B(),{address:n}=at(),o=F(!1),s=F(!1),i=F(!1),r=F(!1),c=F(0n),v=F(!1),p=C(()=>c.value>0n&&!r.value&&u.value&&!v.value),h=C(()=>p.value?"submit":r.value?"voting":u.value?v.value?"voted":"not-enough-voting-power":"voting-closed"),l=C(()=>Number(c.value)),u=C(()=>we(t.proposal)==="active"),b=C(()=>we(t.proposal)==="passed"),m=vs();async function k(){await Jt(r,async()=>{if(!n.value)return;const S=await Nt(m,{abi:Ge,address:He,functionName:"voteForProposal",args:[n.value,BigInt(t.proposal.id),c.value]});await Ht(m,{hash:S}),o.value=!1})}async function $(){await Jt(s,async()=>{const S=await Nt(m,{abi:Ge,address:He,functionName:"executeProposal",args:[BigInt(t.proposal.id)]});await Ht(m,{hash:S}),o.value=!1,i.value=await y()})}async function g(){if(!n.value)return;const S=await dt(m,{abi:Ge,address:He,functionName:"tokenLocker"});v.value=await dt(m,{abi:Ge,address:He,functionName:"accountVoteWeights",args:[n.value,BigInt(t.proposal.id)]}).then(q=>q>0n);const I=Math.floor((t.proposal.start-1691625600)/604800)-1;c.value=await dt(m,{abi:Xd,address:S,functionName:"getAccountWeightAt",args:[n.value,BigInt(I)]})}K(o,async S=>{S&&await cl(g)});async function y(){if(!b.value)return!1;const S=await dt(m,{abi:Ge,address:He,functionName:"MAX_TIME_TO_EXECUTION"}),I=t.proposal.executeAfter!==0,q=t.proposal.executeAfter<new Date().getTime()/1e3,M=t.proposal.executeAfter+Number(S)>new Date().getTime()/1e3;return I&&q&&M}return K(n,async()=>{i.value=await y()},{immediate:!0}),(S,I)=>{const q=ot,M=ae,E=ke,V=G,D=Le;return f(),L(X,null,[d("div",ep,[_(q,{value:a(e)("vote"),primary:!0,onClick:I[0]||(I[0]=ee=>o.value=!0)},null,8,["value"]),a(b)?(f(),T(q,{key:0,value:a(e)(a(s)?"executing":"execute"),primary:!0,disabled:!a(i)||a(s),onClick:$},null,8,["value","disabled"])):R("",!0)]),_(D,{show:a(o),onClose:I[1]||(I[1]=ee=>o.value=!1)},{default:w(()=>[_(V,{title:a(e)("vote-with-veprisma"),class:"vote-content"},{default:w(()=>{var ee;return[d("div",tp,[d("div",ap,[d("div",op,[_(E,{label:a(e)("voting-power"),"has-value":!0},{default:w(()=>[_(M,{value:a(l),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),H(" vePRISMA ")]),_:1},8,["label"]),_(E,{label:a(e)("block"),value:S.proposal.block,"has-value":!0},null,8,["label","value"])]),d("div",np,[d("span",sp,x(a(e)("description"))+": ",1),d("span",null,x(((ee=S.proposal.metadata)==null?void 0:ee.description)||""),1)])]),_(q,{class:"submit",value:a(e)(a(h)),primary:!0,disabled:!a(p),web3:!0,onClick:k},null,8,["value","disabled"])])]}),_:1},8,["title"])]),_:1},8,["show"])],64)}}});function Ya(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{vote:{t:0,b:{t:2,i:[{t:3}],s:"Vote"}},"vote-with-veprisma":{t:0,b:{t:2,i:[{t:3}],s:"Vote with vePRISMA"}},voting:{t:0,b:{t:2,i:[{t:3}],s:"Voting..."}},"voting-closed":{t:0,b:{t:2,i:[{t:3}],s:"Voting closed"}},voted:{t:0,b:{t:2,i:[{t:3}],s:"You've already voted"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},"voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Voting power"}},block:{t:0,b:{t:2,i:[{t:3}],s:"Block"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Submit"}},"not-enough-voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Not enough vePRISMA voting power"}},execute:{t:0,b:{t:2,i:[{t:3}],s:"Execute"}},executing:{t:0,b:{t:2,i:[{t:3}],s:"Executing..."}}}})}typeof Ya=="function"&&Ya(Sn);const lp=P(Sn,[["__scopeId","data-v-71294a61"]]),ip={class:"voting"},rp=A({__name:"Voting",props:{proposal:{}},setup(t){return(e,n)=>(f(),L("div",ip,[_(Jd,{proposal:e.proposal},null,8,["proposal"]),_(lp,{proposal:e.proposal},null,8,["proposal"])]))}}),cp=P(rp,[["__scopeId","data-v-e200fa8f"]]),up={class:"voters"},dp={class:"address"},pp=["href"],mp={class:"amount"},vp={class:"percentage"},_p=A({__name:"Voters",props:{proposal:{}},setup(t){const{address:e}=at(),n=C(()=>W.chain(t.proposal.voters).orderBy(r=>r.weight,"desc").value()),o=r=>r==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":r==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":r==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":Z(r,12),s=r=>r/t.proposal.weightReceived*100,i=r=>r===e.value;return(r,c)=>{const v=ae;return f(),L("div",up,[(f(!0),L(X,null,le(a(n),p=>(f(),L("div",{key:p.voter,class:"vote"},[d("div",dp,[d("a",{target:"_blank",href:`https://etherscan.io/address/${p.voter}`,class:O({you:i(p.voter)})},x(o(p.voter)),11,pp)]),d("div",mp,[_(v,{value:p.weight,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",vp,[_(v,{value:s(p.weight),precision:0,type:"percentage"},null,8,["value"])])]))),128))])}}}),fp=P(_p,[["__scopeId","data-v-d17b5124"]]),hp={class:"technicals"},bp={key:0,class:"technical"},gp={class:"heading"},yp={class:"description"},wp=["href"],$p={key:1,class:"technical"},Cp={class:"heading"},kp={class:"description"},Sp=["href"],Lp={key:2,class:"technical"},Tp={class:"heading"},Ap={class:"description"},Pp={class:"technical"},Ip={class:"technical"},xp=["innerHTML"],Ln=A({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean}},setup(t){const{t:e}=B(),n=F(!0),o=F(t.proposal.votes>0),s=C(()=>`https://twitter.com/@${t.proposal.metadata.author}`),i=C(()=>W.uniqWith(t.proposal.voters.map(c=>c.voter),(c,v)=>c===v).length),r=C(()=>t.proposal.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,c=>/[A-F]/g.test(c)&&_s(c)?`<a href='https://etherscan.io/address/${c}'>${c}</a>`:c));return(c,v)=>{var h,l,u,b;const p=tt;return f(),L("div",hp,[(h=c.proposal.metadata)!=null&&h.author?(f(),L("div",bp,[d("div",gp,x(a(e)("author")),1),d("div",yp,[d("a",{href:a(s),target:"_blank"},x(c.proposal.metadata.author),9,wp)])])):R("",!0),(l=c.proposal.metadata)!=null&&l.link?(f(),L("div",$p,[d("div",Cp,x(a(e)("link")),1),d("div",kp,[d("a",{href:c.proposal.metadata.link,target:"_blank"},x(c.proposal.metadata.link),9,Sp)])])):R("",!0),(u=c.proposal.metadata)!=null&&u.description?(f(),L("div",Lp,[d("div",Tp,x(a(e)("description")),1),d("div",Ap,x((b=c.proposal.metadata)==null?void 0:b.description),1)])):R("",!0),d("div",Pp,[d("div",{class:"heading",onClick:v[0]||(v[0]=m=>o.value=!a(o))},[H(x(a(e)("voters"))+" ("+x(a(i)??"?")+") ",1),d("i",{class:O(["fas fa-chevron-up expander",{expandedVoters:a(o)}])},null,2)]),_(p,{expanded:a(o)},{default:w(()=>[_(fp,{class:"voters",proposal:c.proposal},null,8,["proposal"])]),_:1},8,["expanded"])]),d("div",Ip,[d("div",{class:"heading",onClick:v[1]||(v[1]=m=>n.value=!a(n))},[H(x(a(e)("calldata"))+" ",1),d("i",{class:O(["fas fa-chevron-up expander",{expandedCallData:a(n)}])},null,2)]),_(p,{expanded:a(n)},{default:w(()=>[d("div",{class:"calldata",innerHTML:a(r)},null,8,xp)]),_:1},8,["expanded"])])])}}});function Qa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},author:{t:0,b:{t:2,i:[{t:3}],s:"Author"}},link:{t:0,b:{t:2,i:[{t:3}],s:"Link"}},calldata:{t:0,b:{t:2,i:[{t:3}],s:"Calldata"}},voters:{t:0,b:{t:2,i:[{t:3}],s:"Voters"}}}})}typeof Qa=="function"&&Qa(Ln);const Dp=P(Ln,[["__scopeId","data-v-55ff6010"]]),qp={class:"proposal-details"},Vp={class:"proposal-details-container"},Mp=A({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(t){return(e,n)=>(f(),L("div",qp,[d("div",Vp,[_(Dp,{proposal:e.proposal,expanded:e.expanded},null,8,["proposal","expanded"]),_(cp,{proposal:e.proposal},null,8,["proposal"])])]))}}),Rp=P(Mp,[["__scopeId","data-v-c0a54f4d"]]),Fp=A({__name:"Proposal",props:{proposal:{}},setup(t){const e=F(!1);return(n,o)=>{const s=tt,i=G;return f(),T(i,{class:"proposal",compact:!0},{default:w(()=>[_(Wd,{proposal:n.proposal,expanded:a(e),onToggleExpand:o[0]||(o[0]=r=>e.value=!a(e))},null,8,["proposal","expanded"]),_(s,{class:"proposal-details-collapsible",expanded:a(e)},{default:w(()=>[_(Rp,{proposal:n.proposal,expanded:a(e)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),Bp=P(Fp,[["__scopeId","data-v-fba715d1"]]),Up={class:"proposals-tab"},Op={class:"filters"},Ep={style:{display:"flex",gap:"1rem","justify-content":"end"}},Kp={key:1},wt=10,Tn=A({__name:"ProposalsTab",props:{proposals:{}},setup(t){const{t:e}=B(),n=F(""),o=F(e("search-placeholder")),s=C(()=>{const v=n.value.toLocaleLowerCase();return W.chain(t.proposals).filter(p=>!!p.metadata&&p.metadata.title.toLocaleLowerCase().includes(v)).value()}),{page:i,rowsPage:r,onPage:c}=ye(s,wt);return(v,p)=>{const h=ve,l=ge;return f(),L("div",Up,[d("div",Op,[_(h,{modelValue:a(n),"onUpdate:modelValue":p[0]||(p[0]=u=>re(n)?n.value=u:null),class:"search",placeholder:a(o),search:!0},null,8,["modelValue","placeholder"]),d("div",Ep,[a(s).length>0?(f(),T(l,{key:0,class:"pagination","items-count":a(s).length,"items-per-page":wt,page:a(i),onPage:a(c)},null,8,["items-count","page","onPage"])):R("",!0)])]),(f(!0),L(X,null,le(a(r),u=>(f(),T(Bp,{key:u.id,proposal:u},null,8,["proposal"]))),128)),a(s).length>0?(f(),T(l,{key:0,class:"pagination","items-count":a(s).length,"items-per-page":wt,page:a(i),onPage:a(c)},null,8,["items-count","page","onPage"])):R("",!0),a(s).length===0?(f(),L("div",Kp,x(a(e)("no-proposals")),1)):R("",!0)])}}});function Ja(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for Prisma proposals"}},"no-proposals":{t:0,b:{t:2,i:[{t:3}],s:"No proposals could be found."}}}})}typeof Ja=="function"&&Ja(Tn);const je=P(Tn,[["__scopeId","data-v-bf17230c"]]),Wp="https://api.prismamonitor.com/v1",Np=(t,e)=>{var y,S;const n=t.index,o=t.creator,s=t.creator_label??"",i=t.required_weight,r=t.received_weight,c=t.status,v=t.vote_count,p=t.voters.map(I=>({voter:I.voter.toLowerCase(),weight:I.weight})),h=t.transaction_hash,l=t.execution_tx,u=t.can_execute_after,b=t.block_number,m=t.block_timestamp,k=t.execution_timestamp?t.execution_timestamp:m+604800,$=t.decode_data,g=(S=(y=e==null?void 0:e.data)==null?void 0:y.proposals.find(I=>I.id===n))==null?void 0:S.metadata;return{id:n,metadata:g,proposer:o,proposerLabel:s,weightRequired:i,weightReceived:r,status:c,votes:v,voters:p,tx:h,txExecuted:l,executeAfter:u,block:b,start:m,end:k,script:$}};class Hp extends be{async getProposals(){let e;try{e=await this.fetch("https://api.prismafinance.com/api/v1/proposalVotes")}catch{Xe({text:"Failed to fetch metadata for proposals",type:"error"})}return await De(s=>this.fetch(`${Wp}/dao/ethereum/ownership/proposals?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(i=>i.proposals.map(r=>Np(r,e))),1,100)}}const Gp={class:"proposals"},An=A({__name:"Proposals.page",setup(t){const{t:e}=B(),n=new Hp,o=F(0),{isFetching:s,data:i}=N({queryKey:["prisma-proposals"],queryFn:()=>n.getProposals().then(h=>h.sort((l,u)=>u.start-l.start)),initialData:[],initialDataUpdatedAt:0}),r=C(()=>i.value.filter(h=>we(h)==="active")),c=C(()=>i.value.filter(h=>we(h)==="passed")),v=C(()=>i.value.filter(h=>we(h)==="denied")),p=C(()=>i.value.filter(h=>we(h)==="executed"));return(h,l)=>{const u=ut,b=ct,m=To;return f(),L("div",Gp,[a(s)?R("",!0):(f(),T(b,{key:0,onTab:l[0]||(l[0]=k=>o.value=k.index)},{default:w(()=>[_(u,{header:a(e)("all")},{default:w(()=>[a(o)===0?(f(),T(je,{key:0,proposals:a(i)},null,8,["proposals"])):R("",!0)]),_:1},8,["header"]),_(u,{header:a(e)("active")},{default:w(()=>[a(o)===1?(f(),T(je,{key:0,proposals:a(r)},null,8,["proposals"])):R("",!0)]),_:1},8,["header"]),_(u,{header:a(e)("passed")},{default:w(()=>[a(o)===2?(f(),T(je,{key:0,proposals:a(c)},null,8,["proposals"])):R("",!0)]),_:1},8,["header"]),_(u,{header:a(e)("denied")},{default:w(()=>[a(o)===3?(f(),T(je,{key:0,proposals:a(v)},null,8,["proposals"])):R("",!0)]),_:1},8,["header"]),_(u,{header:a(e)("executed")},{default:w(()=>[a(o)===4?(f(),T(je,{key:0,proposals:a(p)},null,8,["proposals"])):R("",!0)]),_:1},8,["header"])]),_:1})),_(m,{class:O(["spinner",{loading:a(s)}])},null,8,["class"])])}}});function Xa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}}}})}typeof Xa=="function"&&Xa(An);const jp=P(An,[["__scopeId","data-v-7d899a7e"]]),Zp=A({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(t){const{theme:e}=j(U()),n=C(()=>ne(e.value,{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{let c=s.value[r.seriesIndex];c=c.length>10?Z(c):c;const v=r.series[r.seriesIndex];return[`<div><b>${c}</b>:</div><div>${i(v)}</div>`].join("")}},labels:t.data.map(r=>r.label.length>10?Z(r.label):r.label)})),o=C(()=>t.data.map(r=>r.value)),s=C(()=>t.data.map(r=>r.label)),i=r=>`$${Q(Math.abs(r),1,"dollar")}${z(r,"dollar")}`;return(r,c)=>{const v=ie;return f(),T(v,{class:"graph",options:a(n),series:a(o)},null,8,["options","series"])}}}),zp=P(Zp,[["__scopeId","data-v-8c79c569"]]),Yp={class:"actions"},Pn=A({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(t){const{t:e}=B(),n=U(),o=new Ae(n.flavor),s=F("collateral"),{isFetching:i,data:r}=N({queryKey:["prisma-large-trove-positions",C(()=>{var c;return(c=t.vault)==null?void 0:c.address}),s],queryFn:({queryKey:[,c,v]})=>c?o.getLargeTrovePositions("ethereum",c,v).then(p=>p.positions):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});return(c,v)=>{const p=st,h=G;return f(),T(h,{class:"chart-container",title:a(e)("title"),loading:a(i)},{actions:w(()=>[d("div",Yp,[_(p,{value:"Coll.","model-value":a(s)==="collateral",onClick:v[0]||(v[0]=l=>s.value="collateral")},null,8,["model-value"]),_(p,{value:"Debt","model-value":a(s)==="debt",onClick:v[1]||(v[1]=l=>s.value="debt")},null,8,["model-value"])])]),default:w(()=>[_(zp,{data:a(r)},null,8,["data"])]),_:1},8,["title","loading"])}}});function eo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"5 Largest Troves vs Others"}}}})}typeof eo=="function"&&eo(Pn);const Qp=P(Pn,[["__scopeId","data-v-d9411a67"]]),Jp=A({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(t){const{theme:e}=j(U()),n=C(()=>ne(e.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:s.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),o=C(()=>[{name:"# of troves",data:Object.values(t.data).map(i=>i.value)}]),s=C(()=>t.data.map(i=>i.label));return(i,r)=>{const c=ie;return f(),T(c,{class:"graph",options:a(n),series:a(o)},null,8,["options","series"])}}}),Xp=P(Jp,[["__scopeId","data-v-a3984e9c"]]),em={class:"actions"},In=A({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(t){const{t:e}=B(),n=U(),o=new Ae(n.flavor),s=F("collateral"),{isFetching:i,data:r}=N({queryKey:["prisma-trove-distributions",C(()=>{var c;return(c=t.vault)==null?void 0:c.address}),s],queryFn:({queryKey:[,c,v]})=>c?o.getTroveDistribution("ethereum",c,v).then(p=>p.distribution):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});return(c,v)=>{const p=st,h=G;return f(),T(h,{class:"chart-container",title:a(e)("title"),loading:a(i)},{actions:w(()=>[d("div",em,[_(p,{value:"Coll.","model-value":a(s)==="collateral",onClick:v[0]||(v[0]=l=>s.value="collateral")},null,8,["model-value"]),_(p,{value:"Debt","model-value":a(s)==="debt",onClick:v[1]||(v[1]=l=>s.value="debt")},null,8,["model-value"])])]),default:w(()=>[_(Xp,{data:a(r)},null,8,["data"])]),_:1},8,["title","loading"])}}});function to(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Troves Distribution"}}}})}typeof to=="function"&&to(In);const tm=P(In,[["__scopeId","data-v-73d14d5f"]]),am={class:"kpis"},om=A({__name:"VaultKPIs",props:{vault:{default:null}},setup(t){return(e,n)=>{const o=ae,s=ke;return f(),L("div",am,[_(s,{label:"TVL","has-value":!!e.vault},{default:w(()=>[e.vault?(f(),T(o,{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):R("",!0)]),_:1},8,["has-value"]),_(s,{label:"Debt / Debt Cap","has-value":!!e.vault},{default:w(()=>[e.vault?(f(),T(o,{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):R("",!0),H(" / "),e.vault?(f(),T(o,{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):R("",!0)]),_:1},8,["has-value"]),_(s,{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:w(()=>[e.vault?(f(),T(o,{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):R("",!0),H(" / "),e.vault?(f(),T(o,{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):R("",!0)]),_:1},8,["has-value"]),_(s,{label:"Interest rate","has-value":!!e.vault},{default:w(()=>[e.vault?(f(),T(o,{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):R("",!0)]),_:1},8,["has-value"]),_(s,{label:"Troves open / total","has-value":!!e.vault},{default:w(()=>[e.vault?(f(),T(o,{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):R("",!0),H(" / "),e.vault?(f(),T(o,{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):R("",!0)]),_:1},8,["has-value"]),_(s,{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:w(()=>[e.vault?(f(),T(o,{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):R("",!0),H(" / "),e.vault?(f(),T(o,{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):R("",!0)]),_:1},8,["has-value"])])}}}),nm=P(om,[["__scopeId","data-v-da6116fe"]]),xn=A({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(t){const{t:e}=B();let n;const{theme:o,flavor:s}=j(U()),{chart:i,chartRef:r}=ue(o,h,b=>{n=b.addAreaSeries(l())}),c=new Ae(s.value),{isFetching:v,data:p}=N({queryKey:["prisma-vault-collateral-ratio",C(()=>{var b;return(b=t.vault)==null?void 0:b.address})],queryFn:({queryKey:[,b]})=>b?c.getVaultCollateralRatio("ethereum",b,"1m").then(m=>m.ratio):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});K([p,i],u),K(o,()=>n.applyOptions(l()));function h(b){return ce(b,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function l(){return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:de.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}}function u([b,m]){if(!m||!n)return;const k=W.chain(b).map($=>({time:$.timestamp,value:$.value*100})).uniqWith(($,g)=>$.time===g.time).orderBy($=>$.time,"asc").value();k.length>0&&n.setData(k),m.timeScale().fitContent()}return(b,m)=>{const k=G;return f(),T(k,{class:"chart-container",title:a(e)("title"),loading:a(v)},{default:w(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ao(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Vault collateral ratio"}}}})}typeof ao=="function"&&ao(xn);const sm=P(xn,[["__scopeId","data-v-d3a2f26e"]]),Dn=A({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(t){const{t:e}=B();let n;const{theme:o,flavor:s}=j(U()),{chart:i,chartRef:r}=ue(o,h,b=>{n=b.addAreaSeries(l())}),c=new Ae(s.value),{isFetching:v,data:p}=N({queryKey:["prisma-vault-trove-count",C(()=>{var b;return(b=t.vault)==null?void 0:b.address})],queryFn:({queryKey:[,b]})=>b?c.getVaultTroveCount("ethereum",b,"1m").then(m=>m.count):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});K([p,i],u),K(o,()=>n.applyOptions(l()));function h(b){return ce(b,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function l(){return{priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:de.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}}function u([b,m]){if(!m||!n)return;const k=W.chain(b).map($=>({time:$.timestamp,value:$.value})).uniqWith(($,g)=>$.time===g.time).orderBy($=>$.time,"asc").value();k.length>0&&n.setData(k),m.timeScale().fitContent()}return(b,m)=>{const k=G;return f(),T(k,{class:"chart-container",title:a(e)("title"),loading:a(v)},{default:w(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function oo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Number of open troves"}}}})}typeof oo=="function"&&oo(Dn);const lm=P(Dn,[["__scopeId","data-v-293ca6d6"]]),im={class:"vault-overview"},rm=A({__name:"VaultOverview",props:{vault:{}},setup(t){return(e,n)=>(f(),L("div",im,[_(nm,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),_(tm,{vault:e.vault},null,8,["vault"]),_(Qp,{vault:e.vault},null,8,["vault"]),_(sm,{vault:e.vault},null,8,["vault"]),_(lm,{vault:e.vault},null,8,["vault"])]))}}),cm=P(rm,[["__scopeId","data-v-e83c67a1"]]),um={class:"actions"},qn=A({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(t){const{t:e}=B();let n,o;const{theme:s,flavor:i}=j(U()),{items:r}=Wt(()=>[{id:"oracle",label:"Oracle",color:s.value.colorsArray[0]},{id:"market",label:"Market",color:s.value.colorsArray[1]}]),c=new Rt(i.value),v={oracle:[],market:[]},{isFetching:p,data:h}=N({queryKey:["prisma-stable-distribution",C(()=>{var y;return(y=t.vault)==null?void 0:y.collateral})],queryFn:async({queryKey:[,y]})=>{if(y){const S=await c.getCollateralPrices("ethereum",y,"7d");return l(S.oracle,S.market)}else return Promise.resolve(v)},initialData:v,initialDataUpdatedAt:0}),l=(y,S)=>{const I=Math.max(y[0].timestamp,S[0].timestamp),q=Math.min(y[y.length-1].timestamp,S[S.length-1].timestamp),M=y.filter(V=>V.timestamp>=I&&V.timestamp<=q),E=S.filter(V=>V.timestamp>=I&&V.timestamp<=q);return M[M.length-1].timestamp<q&&M.push({timestamp:q,value:M[M.length-1].value}),E[E.length-1].timestamp<q&&E.push({timestamp:q,value:E[E.length-1].value}),{oracle:M,market:E}},{chart:u,chartRef:b}=ue(s,m,y=>{n=y.addAreaSeries($()),o=y.addAreaSeries(k())});K([h,u],g),K(s,()=>{n.applyOptions($()),o.applyOptions(k())});function m(y){return ce(y,s.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function k(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:de.WithSteps,lineColor:s.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function $(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:de.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...s.value.lineChartColors}}function g([y,S]){if(!S||!n)return;const I=W.chain(y==null?void 0:y.oracle).map(M=>({time:M.timestamp,value:M.value})).uniqWith((M,E)=>M.time===E.time).orderBy(M=>M.time,"asc").value(),q=W.chain(y==null?void 0:y.market).map(M=>({time:M.timestamp,value:M.value})).uniqWith((M,E)=>M.time===E.time).orderBy(M=>M.time,"asc").value();q.length>0&&o.setData(q),I.length>0&&n.setData(I),S.timeScale().fitContent()}return(y,S)=>{const I=Kt,q=G;return f(),T(q,{class:"chart-container",title:a(e)("title"),loading:a(p)},{actions:w(()=>[d("div",um,[_(I,{items:a(r)},null,8,["items"])])]),default:w(()=>[d("div",{ref_key:"chartRef",ref:b,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function no(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Oracle & Market price"}}}})}typeof no=="function"&&no(qn);const dm=P(qn,[["__scopeId","data-v-b100ce2c"]]),Vn=A({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(t){const{t:e}=B(),{theme:n,flavor:o}=j(U()),s=new Rt(o.value),{isFetching:i,data:r}=N({queryKey:["prisma-collateral-price-impact",C(()=>{var u;return(u=t.vault)==null?void 0:u.collateral})],queryFn:({queryKey:[,u]})=>u?s.getCollateralPriceImpact("ethereum",u).then(b=>b.impact):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),c=C(()=>ne(n.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:p.value,labels:{formatter:u=>h(u)}},yaxis:{seriesName:"impact",labels:{formatter:u=>l(u)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:u=>{if(!t.vault)return"";const b=p.value[u.dataPointIndex],m=h(b*t.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${h(b)} ${t.vault.name} ($${m})</div>

          <div><b>Price impact:</b>:</div>
          <div>${l(u.series[0][u.dataPointIndex])}</div>
          `}}})),v=C(()=>[{name:e("priceImpact"),data:Object.values(r.value).map(u=>u.impact)}]),p=C(()=>r.value.map(u=>t.vault?u.amount/t.vault.price:0)),h=u=>`${Q(Math.abs(u),1,"dollar")}${z(u,"dollar")}`,l=u=>`${Q(u,2,"percentage")}${z(u,"percentage")}`;return(u,b)=>{const m=ie;return f(),T(m,{class:"chart",title:a(e)("title"),loading:a(i),options:a(c),series:a(v)},null,8,["title","loading","options","series"])}}});function so(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"On-chain Selling Price Impact"}},priceImpact:{t:0,b:{t:2,i:[{t:3}],s:"Price impact"}}}})}typeof so=="function"&&so(Vn);const pm=P(Vn,[["__scopeId","data-v-87290585"]]),mm={class:"kpis"},vm=["href"],_m=A({__name:"CollateralKPIs",props:{vault:{default:null}},setup(t){const e=U(),n=new Rt(e.flavor),{data:o}=N({queryKey:["prisma-collateral-info",C(()=>{var s;return(s=t.vault)==null?void 0:s.address})],queryFn:({queryKey:[,s]})=>s?n.getCollateralInfo("ethereum",s).then(i=>i.info):Promise.resolve(null),initialData:null,initialDataUpdatedAt:0});return(s,i)=>{const r=ae,c=ke;return f(),L("div",mm,[_(c,{label:"Oracle price","has-value":!!a(o)},{default:w(()=>[a(o)?(f(),T(r,{key:0,value:a(o).price,precision:2,type:"dollar"},null,8,["value"])):R("",!0)]),_:1},8,["has-value"]),_(c,{label:"Total supply","has-value":!!a(o)},{default:w(()=>[a(o)?(f(),T(r,{key:0,value:a(o).supply,precision:2,type:"dollar"},null,8,["value"])):R("",!0)]),_:1},8,["has-value"]),_(c,{label:"TVL","has-value":!!a(o)},{default:w(()=>[a(o)?(f(),T(r,{key:0,value:a(o).tvl,precision:1,type:"dollar"},null,8,["value"])):R("",!0)]),_:1},8,["has-value"]),_(c,{label:"Share of the collateral market","has-value":!!a(o)},{default:w(()=>[a(o)?(f(),T(r,{key:0,value:a(o).share,precision:1,type:"percentage"},null,8,["value"])):R("",!0)]),_:1},8,["has-value"]),_(c,{label:"Full risk analysis by Prisma Risk team","has-value":!!a(o)},{default:w(()=>[a(o)?(f(),L("a",{key:0,href:a(o).risk}," Risk Report ",8,vm)):R("",!0)]),_:1},8,["has-value"])])}}}),fm=P(_m,[["__scopeId","data-v-c074be01"]]),hm={class:"collateral"},bm=A({__name:"Collateral",props:{vault:{}},setup(t){return(e,n)=>(f(),L("div",hm,[_(fm,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),_(dm,{vault:e.vault},null,8,["vault"]),_(pm,{vault:e.vault},null,8,["vault"])]))}}),gm=P(bm,[["__scopeId","data-v-f2eb56c3"]]),ym={style:{display:"flex",gap:"1rem"}},wm=["href"],$m=["href"],Cm={class:"end"},km={class:"end"},Sm={class:"end"},lo=15,Mn=A({__name:"TableLiquidations",props:{vault:{default:null}},setup(t){const{t:e}=B(),n=U(),o=new Ft(n.flavor),{isFetching:s,data:i}=N({queryKey:["prisma-vault-liquidations",C(()=>{var $;return($=t.vault)==null?void 0:$.address})],queryFn:({queryKey:[,$]})=>$?o.getLiquidations("ethereum",$):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:r}=$e(),c=F(""),v=F(null),p=[{id:"liquidator",label:"Liquidator",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:h,onSort:l}=Se("timestamp"),u=C(()=>W.chain(i.value).filter($=>{const g=c.value.toLocaleLowerCase().split(" ");return(S=>g.some(I=>S.toLocaleLowerCase().includes(I)))($.liquidator)}).orderBy($=>{switch(h.value.column){case"liquidator":return $.liquidator;case"tx":return $.transaction;case"debt":return $.liquidated_collateral_usd;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},h.value.order).value()),{page:b,rowsPage:m,onPage:k}=ye(u,lo);return($,g)=>{const y=ve,S=ge,I=ae,q=se,M=G,E=Le;return f(),L(X,null,[_(M,{class:"liquidations-card",title:a(e)("title"),loading:a(s)},{actions:w(()=>[d("div",ym,[_(y,{modelValue:a(c),"onUpdate:modelValue":g[0]||(g[0]=V=>re(c)?c.value=V:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"]),_(S,{"items-count":a(u).length,"items-per-page":lo,page:a(b),onPage:a(k)},null,8,["items-count","page","onPage"])])]),default:w(()=>[_(q,{class:"liquidations-table",rows:a(m),columns:p,sorting:a(h),onSortColumn:a(l),onSelected:g[3]||(g[3]=V=>v.value=V)},{row:w(V=>[d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/address/${V.item.liquidator}`,target:"_blank",onClick:g[1]||(g[1]=te(()=>{},["stop"]))},x(a(Z)(V.item.liquidator)),9,wm)]),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.item.transaction}`,target:"_blank",onClick:g[2]||(g[2]=te(()=>{},["stop"]))},x(a(Z)(V.item.transaction)),9,$m)]),d("div",Cm,[_(I,{type:"dollar",value:Math.round(V.item.liquidated_debt),precision:1/0},null,8,["value"])]),d("div",km,x(V.item.troves_affected_count),1),d("div",Sm,x(a(r)(V.item.timestamp)),1)]),"row-details":w(()=>[H("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),_(E,{show:!!a(v),onClose:g[4]||(g[4]=V=>v.value=null)},{default:w(()=>{var V;return[a(v)?(f(),T(Et,{key:0,liquidation:a(v),"vault-addr":((V=$.vault)==null?void 0:V.address)??""},null,8,["liquidation","vault-addr"])):R("",!0)]}),_:1},8,["show"])],64)}}});function io(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof io=="function"&&io(Mn);const Lm=P(Mn,[["__scopeId","data-v-91e3a564"]]),Tm={class:"liquidations"},Am=A({__name:"Liquidations",props:{vault:{}},setup(t){return(e,n)=>(f(),L("div",Tm,[_(Lm,{vault:e.vault},null,8,["vault"])]))}}),Pm=P(Am,[["__scopeId","data-v-d6030225"]]),Im={style:{display:"flex",gap:"1rem"}},xm=["href"],Dm=["href"],qm={class:"end"},Vm={class:"end"},Mm={class:"end"},ro=15,Rn=A({__name:"TableRedemptions",props:{vault:{default:null}},setup(t){const{t:e}=B(),n=U(),o=new Bt(n.flavor),{isFetching:s,data:i}=N({queryKey:["prisma-vault-redemptions",C(()=>{var $;return($=t.vault)==null?void 0:$.address})],queryFn:({queryKey:[,$]})=>$?o.getRedemptions("ethereum",$):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:r}=$e(),c=F(""),v=F(null),p=[{id:"redeemer",label:"Redeemer",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:h,onSort:l}=Se("timestamp"),u=C(()=>W.chain(i.value).filter($=>{const g=c.value.toLocaleLowerCase().split(" ");return(S=>g.some(I=>S.toLocaleLowerCase().includes(I)))($.redeemer)}).orderBy($=>{switch(h.value.column){case"redeemer":return $.redeemer;case"tx":return $.transaction;case"debt":return $.actual_debt_amount;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},h.value.order).value()),{page:b,rowsPage:m,onPage:k}=ye(u,ro);return($,g)=>{const y=ve,S=ge,I=ae,q=se,M=G,E=Le;return f(),L(X,null,[_(M,{class:"redemptions-card",title:a(e)("title"),loading:a(s)},{actions:w(()=>[d("div",Im,[_(y,{modelValue:a(c),"onUpdate:modelValue":g[0]||(g[0]=V=>re(c)?c.value=V:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"]),_(S,{"items-count":a(u).length,"items-per-page":ro,page:a(b),onPage:a(k)},null,8,["items-count","page","onPage"])])]),default:w(()=>[_(q,{class:"redemptions-table",rows:a(m),columns:p,sorting:a(h),onSortColumn:a(l),onSelected:g[3]||(g[3]=V=>v.value=V)},{row:w(V=>[d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/address/${V.item.redeemer}`,target:"_blank",onClick:g[1]||(g[1]=te(()=>{},["stop"]))},x(a(Z)(V.item.redeemer)),9,xm)]),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.item.transaction}`,target:"_blank",onClick:g[2]||(g[2]=te(()=>{},["stop"]))},x(a(Z)(V.item.transaction)),9,Dm)]),d("div",qm,[_(I,{type:"dollar",value:Math.round(V.item.actual_debt_amount),precision:1/0},null,8,["value"])]),d("div",Vm,x(V.item.troves_affected_count),1),d("div",Mm,x(a(r)(V.item.timestamp)),1)]),"row-details":w(()=>[H("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),_(E,{show:!!a(v),onClose:g[4]||(g[4]=V=>v.value=null)},{default:w(()=>{var V;return[a(v)?(f(),T(Ot,{key:0,redemption:a(v),"vault-addr":((V=$.vault)==null?void 0:V.address)??""},null,8,["redemption","vault-addr"])):R("",!0)]}),_:1},8,["show"])],64)}}});function co(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof co=="function"&&co(Rn);const Rm=P(Rn,[["__scopeId","data-v-a4d307c9"]]),Fm={class:"redemptions"},Bm=A({__name:"Redemptions",props:{vault:{}},setup(t){return(e,n)=>(f(),L("div",Fm,[_(Rm,{vault:e.vault},null,8,["vault"])]))}}),Um=P(Bm,[["__scopeId","data-v-8f90841b"]]),Om={style:{display:"grid",gap:"1rem","grid-template-columns":"1fr 2fr auto"}},Em=["href"],Km={class:"end"},Wm={class:"end"},uo=15,Fn=A({__name:"TableTroves",props:{vault:{default:null}},emits:["selected"],setup(t,{emit:e}){const{t:n}=B(),o=e,s=U(),i=new Ke(s.flavor),{isFetching:r,data:c}=N({queryKey:["prisma-vault-troves",C(()=>{var S;return(S=t.vault)==null?void 0:S.address})],queryFn:({queryKey:[,S]})=>S?i.getTroves("ethereum",S):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:v}=$e(),p=F(""),h=F("Open"),l=C(()=>h.value==="Open"?[{id:"owner",label:"Owner",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"coll",label:"Collateral",sort:!0,align:"end"},{id:"ratio",label:"Ratio",sort:!0,align:"end"},{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]:[{id:"owner",label:"Owner",sort:!0},"","","",{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]),{sorting:u,onSort:b}=Se("updated"),m=C(()=>W.chain(c.value).filter(S=>h.value===S.status).filter(S=>{const I=p.value.toLocaleLowerCase().split(" ");return(M=>I.some(E=>M.toLocaleLowerCase().includes(E)))(S.owner)}).orderBy(S=>{switch(u.value.column){case"owner":return S.owner;case"debt":return S.debt;case"coll":return S.collateral_usd;case"ratio":return S.collateral_ratio;case"created":return S.created_at;case"updated":return S.last_update;default:return S.last_update}},u.value.order).value()),{page:k,rowsPage:$,onPage:g}=ye(m,uo),y=S=>{S===0?h.value="Open":S===1?h.value="Closed":h.value="Open"};return(S,I)=>{const q=ut,M=ct,E=ve,V=ge,D=ae,ee=se,oe=G;return f(),T(oe,{class:"troves-card",loading:a(r)},{actions:w(()=>[d("div",Om,[_(M,{class:"types",onTab:I[0]||(I[0]=Y=>y(Y.index))},{default:w(()=>[_(q,{header:"Open"}),_(q,{header:"Closed"})]),_:1}),_(E,{modelValue:a(p),"onUpdate:modelValue":I[1]||(I[1]=Y=>re(p)?p.value=Y:null),search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),_(V,{"items-count":a(m).length,"items-per-page":uo,page:a(k),onPage:a(g)},null,8,["items-count","page","onPage"])])]),default:w(()=>[_(ee,{class:"troves-table",rows:a($),columns:a(l),sorting:a(u),onSortColumn:a(b),onSelected:I[3]||(I[3]=Y=>o("selected",Y))},{row:w(Y=>[d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/address/${Y.item.owner}`,target:"_blank",onClick:I[2]||(I[2]=te(()=>{},["stop"]))},x(a(Z)(Y.item.owner)),9,Em)]),d("div",{class:O(["end",{hide:a(h)==="Closed"}])},[_(D,{type:"dollar",value:Math.round(Y.item.debt),precision:1/0},null,8,["value"])],2),d("div",{class:O(["end",{hide:a(h)==="Closed"}])},[_(D,{type:"dollar",value:Math.round(Y.item.collateral_usd),precision:1/0},null,8,["value"])],2),d("div",{class:O(["end",{hide:a(h)==="Closed"}])},[_(D,{value:Y.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),d("div",Km,x(a(v)(Y.item.created_at)),1),d("div",Wm,x(a(v)(Y.item.last_update)),1)]),"row-details":w(()=>[H("   ")]),_:1},8,["rows","columns","sorting","onSortColumn"])]),_:1},8,["loading"])}}});function po(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof po=="function"&&po(Fn);const Nm=P(Fn,[["__scopeId","data-v-fe0713dd"]]),Hm={class:"troves"},Gm=A({__name:"Troves",props:{vault:{}},setup(t){const e=bt(),n=Je(),o=async s=>{e.trove=s,t.vault&&await n.push({name:"prismatrove",params:{troveAddr:s.owner,vaultAddr:t.vault.address}})};return(s,i)=>(f(),L("div",Hm,[_(Nm,{vault:s.vault,onSelected:o},null,8,["vault"])]))}}),jm=P(Gm,[["__scopeId","data-v-5138a005"]]),Zm={class:"vault-manager"},zm=A({__name:"VaultManager.page",setup(t){const e=U(),n=et(),o=bt(),s=Ce().getSocket(Oe(e.flavor)),i=new We(s,"ethereum"),r=fe(i.overview$,[]),c=Ye("vaultAddr"),v=C(()=>o.vault);he(()=>{var u,b;const l=xe((u=v.value)==null?void 0:u.address)??((b=v.value)==null?void 0:b.name)??"?";n.show=!0,n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${l}`}]}),K(r,l=>{const u=l.find(b=>b.address===c.value);u&&(o.vault=u)}),K(v,l=>{const u=xe(l==null?void 0:l.address)??(l==null?void 0:l.name)??"?";n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${u}`}]});const{tabActive:p,tabActiveIndex:h}=fn(["overview","collateral","trove","liquidations","redemptions"],"prismavault",()=>({vaultAddr:c.value}));return(l,u)=>{const b=ut,m=ct;return f(),L("div",Zm,[_(m,{active:a(h),onTab:u[0]||(u[0]=k=>h.value=k.index)},{default:w(()=>[_(b,{header:"Overview"},{default:w(()=>[(f(),T(Ne,null,[a(p)==="overview"?(f(),T(cm,{key:0,vault:a(v)},null,8,["vault"])):R("",!0)],1024))]),_:1}),_(b,{header:"Collateral"},{default:w(()=>[(f(),T(Ne,null,[a(p)==="collateral"&&a(v)?(f(),T(gm,{key:0,vault:a(v)},null,8,["vault"])):R("",!0)],1024))]),_:1}),_(b,{header:"Troves"},{default:w(()=>[(f(),T(Ne,null,[a(p)==="trove"&&a(v)?(f(),T(jm,{key:0,vault:a(v)},null,8,["vault"])):R("",!0)],1024))]),_:1}),_(b,{header:"Liquidations"},{default:w(()=>[(f(),T(Ne,null,[a(p)==="liquidations"&&a(v)?(f(),T(Pm,{key:0,vault:a(v)},null,8,["vault"])):R("",!0)],1024))]),_:1}),_(b,{header:"Redemptions"},{default:w(()=>[(f(),T(Ne,null,[a(p)==="redemptions"&&a(v)?(f(),T(Um,{key:0,vault:a(v)},null,8,["vault"])):R("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),Ym=P(zm,[["__scopeId","data-v-aa795be3"]]),Qm=t=>(pe("data-v-14ee41ee"),t=t(),me(),t),Jm=Qm(()=>d("div",null,[H(" This chart displays that amount of collateral available below different collateral ratios. "),d("br"),H(" It also displays the position of the trove relative to other troves in this vault. "),d("br"),d("br"),H(" This information is useful to estimate a trove's risk of redemption. "),d("br"),H(" Even if the trove's collateral ratio is high in the absolute, a lower ratio relative "),d("br"),H(" to other troves means a higher risk of redemption."),d("br"),d("br"),H(` As such, the lower the "risk rank" displayed, the higher the trove's risk of being redeemed. `)],-1)),Bn=A({__name:"ChartTroveRank",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=B(),{theme:n,flavor:o}=j(U()),s=new Ke(o.value),i=F("Trove Relative Position"),r={rank:null,total_positions:0,ratio:null,positions:[]},{isFetching:c,data:v}=N({queryKey:["prisma-trove-rank",C(()=>{var m;return(m=t.vault)==null?void 0:m.address}),C(()=>{var m;return(m=t.trove)==null?void 0:m.owner})],queryFn:async({queryKey:[,m,k]})=>m&&k?await s.getTroveRank("ethereum",m,k):Promise.resolve(r),initialData:r,initialDataUpdatedAt:0}),p=C(()=>{var $,g;const{colors:m}=n.value,k={x:(($=v.value)==null?void 0:$.ratio)??0,borderColor:m.yellow,strokeDashArray:2,label:{borderColor:m.yellow,style:{background:m.yellow,color:"rgb(34, 34, 34)"},position:"top",offsetX:15,text:`This trove: ${b(((g=v.value)==null?void 0:g.ratio)??0,1)}`}};return ne(n.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!0}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},annotations:{xaxis:v.value.ratio?[k]:[]},toolbar:{show:!1},xaxis:{type:"numeric",categories:l.value,labels:{formatter:y=>b(y)}},yaxis:{seriesName:"impact",labels:{formatter:y=>u(y)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:y=>{if(!t.vault)return"";const S=l.value[y.dataPointIndex];return`
          <div><b>Collateral ratio:</b>:</div>
          <div>${y.dataPointIndex===l.value.length-1?"Over 250%":b(S)}</div>

          <div><b>Troves with lower or equal ratio:</b>:</div>
          <div>${v.value.positions[y.dataPointIndex].trove_count}</div>

          <div><b>Collateral value at lower or equal ratio:</b>:</div>
          <div>$${u(y.series[0][y.dataPointIndex])}</div>
          `}}})}),h=C(()=>[{name:e("rank"),data:Object.values(v.value.positions).map(m=>m.collateral_usd)}]),l=C(()=>v.value.positions.map(m=>m.ratio)),u=m=>`${Q(Math.abs(m),1,"dollar")}${z(m,"dollar")}`,b=(m,k=0)=>`${Q(m,k,"percentage")}${z(m,"percentage")}`;return K(v,m=>{m&&typeof m.rank=="number"&&(i.value=e("title",{rank:m.rank,total_positions:m.total_positions}))},{immediate:!0}),(m,k)=>{const $=nt,g=Mt,y=G;return f(),T(y,{class:"chart-container",title:a(i),loading:a(c)},{actions:w(()=>[_($,null,{default:w(()=>[Jm]),_:1})]),default:w(()=>[_(g,{class:"chart",options:a(p),series:a(h)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function mo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3,v:"Trove Relative Position (Risk rank: "},{t:4,k:"rank"},{t:3,v:" / "},{t:4,k:"total_positions"},{t:3,v:")"}]}}}})}typeof mo=="function"&&mo(Bn);const Xm=P(Bn,[["__scopeId","data-v-14ee41ee"]]),Un=A({__name:"ChartTroveHealth",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=B(),{theme:n,flavor:o}=j(U()),s=new Ke(o.value),{isFetching:i,data:r}=N({queryKey:["prisma-trove-snapshots",C(()=>{var l;return(l=t.vault)==null?void 0:l.address}),C(()=>{var l;return(l=t.trove)==null?void 0:l.owner})],queryFn:({queryKey:[,l,u]})=>l&&u?s.getTroveSnapshots("ethereum",l,u).then(b=>b.snapshots):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),c=C(()=>ne(n.value,{chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"collateralUsd",tickAmount:4,opposite:!0,labels:{formatter:l=>p(l)},min:0,max:Math.max(...r.value.map(l=>l.collateral_usd))},{seriesName:"ratio",tickAmount:4,labels:{formatter:l=>h(l)},min:0,max:Math.max(...r.value.map(l=>l.cr??0))}],dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:l=>{const u=l.w.globals.initialSeries[0].data[l.dataPointIndex].y,b=l.w.globals.initialSeries[1].data[l.dataPointIndex]?l.w.globals.initialSeries[1].data[l.dataPointIndex].y:0;return[`<div><b>${e("ratio")}</b>:</div><div>${h(b)}</div>`,`<div><b>${e("collateralUsd")}</b>:</div><div>${p(u)}</div>`].join("")}}})),v=C(()=>[{name:e("collateralUsd"),type:"line",data:r.value.map(l=>({x:l.timestamp*1e3,y:l.collateral_usd}))},{name:e("ratio"),type:"line",data:r.value.map(l=>({x:l.timestamp*1e3,y:l.cr??0}))}]),p=l=>`$${Q(l,1,"dollar")}${z(l,"dollar")}`,h=l=>`${Ie(l*100,2)}%`;return(l,u)=>{const b=ie;return f(),T(b,{class:"health",title:a(e)("title"),options:a(c),series:a(v),loading:a(i)},null,8,["title","options","series","loading"])}}});function vo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Health"}},collateralUsd:{t:0,b:{t:2,i:[{t:3}],s:"Collateral ($)"}},ratio:{t:0,b:{t:2,i:[{t:3}],s:"Ratio"}}}})}typeof vo=="function"&&vo(Un);const ev=P(Un,[["__scopeId","data-v-a0024c37"]]),tv={class:"end"},av={class:"end"},ov={class:"end"},nv={class:"end"},sv={class:"end"},lv=["href"],iv={class:"end"},On=A({__name:"TableTroveOps",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=B(),n=U(),o=new Ke(n.flavor),{relativeTime:s}=$e(),i=C(()=>W.orderBy(c.value,p=>p.timestamp,"desc")),{isFetching:r,data:c}=N({queryKey:["prisma-trove-snapshots",C(()=>{var p;return(p=t.vault)==null?void 0:p.address}),C(()=>{var p;return(p=t.trove)==null?void 0:p.owner})],queryFn:({queryKey:[,p,h]})=>p&&h?o.getTroveSnapshots("ethereum",p,h).then(l=>l.snapshots):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),v=p=>p.replace(/^_*(.)|_+(.)/g,(h,l,u)=>l?l.toUpperCase():" "+u.toUpperCase());return(p,h)=>{const l=ae,u=se,b=G;return f(),T(b,{title:a(e)("title"),loading:a(r)},{default:w(()=>[_(u,{class:"trove-ops-table",rows:a(i),columns:["Operation",{label:"Collateral",align:"end"},{label:"Debt",align:"end"},{label:"Ratio",align:"end"},{label:"Stake",align:"end"},{label:"Tx",align:"end"},{label:"Time",align:"end"}]},{row:w(m=>[d("div",null,x(v(m.item.operation)),1),d("div",tv,[m.item.collateral?(f(),T(l,{key:0,value:m.item.collateral,precision:3,"show-symbol":!1,type:"dollar"},null,8,["value"])):R("",!0)]),d("div",av,[_(l,{type:"dollar",value:Math.round(m.item.debt),precision:1/0},null,8,["value"])]),d("div",ov,[m.item.cr?(f(),T(l,{key:0,value:m.item.cr*100,precision:2,type:"percentage"},null,8,["value"])):R("",!0)]),d("div",nv,[m.item.stake?(f(),T(l,{key:0,value:m.item.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])):R("",!0)]),d("div",sv,[d("a",{class:"font-mono",href:`https://etherscan.io/tx/${m.item.hash}`,target:"_blank",onClick:h[0]||(h[0]=te(()=>{},["stop"]))},x(a(Z)(m.item.hash)),9,lv)]),d("div",iv,x(a(s)(m.item.timestamp)),1)]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function _o(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Operations"}}}})}typeof _o=="function"&&_o(On);const rv=P(On,[["__scopeId","data-v-8e7919b5"]]),cv={class:"trove"},uv=A({__name:"Trove.page",setup(t){const e=U(),n=et(),o=bt(),s=new Ke(e.flavor),i=Ce().getSocket(Oe(e.flavor)),r=new We(i,"ethereum"),c=fe(r.overview$,[]),v=Ye("vaultAddr"),p=Ye("troveAddr"),h=C(()=>o.vault),l=C(()=>o.trove);return he(async()=>{var m,k,$;const u=await s.getTroveDetail("ethereum",v.value,p.value);u&&(o.trove=u);const b=xe((m=h.value)==null?void 0:m.address)??((k=h.value)==null?void 0:k.name)??"?";n.show=!0,n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${b}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(($=l.value)==null?void 0:$.owner)??"?"}`}]}),K(c,u=>{const b=u.find(m=>m.address===v.value);b&&(o.vault=b)}),K(h,u=>{var m;const b=xe(u==null?void 0:u.address)??(u==null?void 0:u.name)??"?";n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${b}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((m=l.value)==null?void 0:m.owner)??"?"}`}]}),K(l,u=>{var m,k;const b=xe((m=h.value)==null?void 0:m.address)??((k=h.value)==null?void 0:k.name)??"?";n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${b}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(u==null?void 0:u.owner)??"?"}`}]}),(u,b)=>(f(),L("div",cv,[_(Xm,{class:"graph-rank",vault:a(h),trove:a(l)},null,8,["vault","trove"]),_(ev,{class:"graph-health",vault:a(h),trove:a(l)},null,8,["vault","trove"]),_(rv,{class:"table-ops",vault:a(h),trove:a(l)},null,8,["vault","trove"])]))}}),dv=P(uv,[["__scopeId","data-v-5ed6ba13"]]),pv={style:{display:"flex",gap:"1rem"}},mv=["src"],vv=["href"],_v=["href"],fv={class:"end"},hv={class:"end"},bv={class:"end"},fo=15,En=A({__name:"TableRedemptions",props:{troves:{default:()=>[]}},setup(t){const e=U(),n=new Bt(e.flavor),{t:o}=B(),{isFetching:s,data:i}=N({queryKey:["prisma-redemptions",C(()=>t.troves)],queryFn:({queryKey:[,g]})=>Promise.all(W.chain(g).uniq().map(y=>n.getRedemptionsForTrove("ethereum",y)).value()).then(y=>y.flat()),initialData:[],initialDataUpdatedAt:0}),{relativeTime:r}=$e(),c=F(""),v=F("all"),p=F(null),h=["",{id:"redeemer",label:"Redeemer",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:l,onSort:u}=Se("timestamp"),b=C(()=>W.chain(i.value).filter(g=>{const y=c.value.toLocaleLowerCase().split(" "),S=q=>y.some(M=>q.toLocaleLowerCase().includes(M)),I=v.value==="all"?!0:g.vault===v.value;return S(g.redeemer)&&I}).orderBy(g=>{switch(l.value.column){case"redeemer":return g.redeemer;case"tx":return g.transaction;case"debt":return g.actual_debt_amount;case"numtroves":return g.troves_affected_count;case"timestamp":return g.timestamp;default:return g.timestamp}},l.value.order).value()),{page:m,rowsPage:k,onPage:$}=ye(b,fo);return(g,y)=>{const S=ve,I=ge,q=ae,M=se,E=G,V=Le;return f(),L(X,null,[_(E,{class:"redemptions-card",title:a(o)("title"),loading:a(s)||g.troves.length===0},{actions:w(()=>[_(gt,{vault:a(v),all:!0,onSelectVault:y[0]||(y[0]=D=>v.value=D)},null,8,["vault"]),d("div",pv,[_(S,{modelValue:a(c),"onUpdate:modelValue":y[1]||(y[1]=D=>re(c)?c.value=D:null),search:!0,placeholder:a(o)("search-placeholder")},null,8,["modelValue","placeholder"]),_(I,{"items-count":a(b).length,"items-per-page":fo,page:a(m),onPage:a($)},null,8,["items-count","page","onPage"])])]),default:w(()=>[_(M,{class:"redemptions-table",rows:a(k),columns:h,sorting:a(l),onSortColumn:a(u),onSelected:y[4]||(y[4]=D=>p.value=D)},{row:w(D=>[d("img",{src:a(qe)(D.item.vault)},null,8,mv),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/address/${D.item.redeemer}`,target:"_blank",onClick:y[2]||(y[2]=te(()=>{},["stop"]))},x(a(Z)(D.item.redeemer)),9,vv)]),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/tx/${D.item.transaction}`,target:"_blank",onClick:y[3]||(y[3]=te(()=>{},["stop"]))},x(a(Z)(D.item.transaction)),9,_v)]),d("div",fv,[_(q,{type:"dollar",value:Math.round(D.item.actual_debt_amount),precision:1/0},null,8,["value"])]),d("div",hv,x(D.item.troves_affected_count),1),d("div",bv,x(a(r)(D.item.timestamp)),1)]),"row-details":w(()=>[H("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),_(V,{show:!!a(p),onClose:y[5]||(y[5]=D=>p.value=null)},{default:w(()=>[a(p)?(f(),T(Ot,{key:0,redemption:a(p),"vault-addr":a(p).vault},null,8,["redemption","vault-addr"])):R("",!0)]),_:1},8,["show"])],64)}}});function ho(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof ho=="function"&&ho(En);const gv=P(En,[["__scopeId","data-v-dd91a8a9"]]),yv={style:{display:"flex",gap:"1rem"}},wv=["src"],$v=["href"],Cv=["href"],kv={class:"end"},Sv={class:"end"},Lv={class:"end"},bo=15,Kn=A({__name:"TableLiquidations",props:{troves:{default:()=>[]}},setup(t){const e=U(),n=new Ft(e.flavor),{t:o}=B(),{isFetching:s,data:i}=N({queryKey:["prisma-liquidations-troves",C(()=>t.troves)],queryFn:({queryKey:[,g]})=>Promise.all(W.chain(g).uniq().map(y=>n.getLiquidationsForTrove("ethereum",y)).value()).then(y=>y.flat()),initialData:[],initialDataUpdatedAt:0}),{relativeTime:r}=$e(),c=F(""),v=F("all"),p=F(null),h=["",{id:"liquidator",label:"Liquidator",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:l,onSort:u}=Se("timestamp"),b=C(()=>W.chain(i.value).filter(g=>{const y=c.value.toLocaleLowerCase().split(" "),S=q=>y.some(M=>q.toLocaleLowerCase().includes(M)),I=v.value==="all"?!0:g.vault===v.value;return S(g.liquidator)&&I}).orderBy(g=>{switch(l.value.column){case"liquidator":return g.liquidator;case"tx":return g.transaction;case"debt":return g.liquidated_collateral_usd;case"numtroves":return g.troves_affected_count;case"timestamp":return g.timestamp;default:return g.timestamp}},l.value.order).value()),{page:m,rowsPage:k,onPage:$}=ye(b,bo);return(g,y)=>{const S=ve,I=ge,q=ae,M=se,E=G,V=Le;return f(),L(X,null,[_(E,{class:"liquidations-card",title:a(o)("title"),loading:a(s)||g.troves.length===0},{actions:w(()=>[_(gt,{vault:a(v),all:!0,onSelectVault:y[0]||(y[0]=D=>v.value=D)},null,8,["vault"]),d("div",yv,[_(S,{modelValue:a(c),"onUpdate:modelValue":y[1]||(y[1]=D=>re(c)?c.value=D:null),search:!0,placeholder:a(o)("search-placeholder")},null,8,["modelValue","placeholder"]),_(I,{"items-count":a(b).length,"items-per-page":bo,page:a(m),onPage:a($)},null,8,["items-count","page","onPage"])])]),default:w(()=>[_(M,{class:"liquidations-table",rows:a(k),columns:h,sorting:a(l),onSortColumn:a(u),onSelected:y[4]||(y[4]=D=>p.value=D)},{row:w(D=>[d("img",{src:a(qe)(D.item.vault)},null,8,wv),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/address/${D.item.liquidator}`,target:"_blank",onClick:y[2]||(y[2]=te(()=>{},["stop"]))},x(a(Z)(D.item.liquidator)),9,$v)]),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/tx/${D.item.transaction}`,target:"_blank",onClick:y[3]||(y[3]=te(()=>{},["stop"]))},x(a(Z)(D.item.transaction)),9,Cv)]),d("div",kv,[_(q,{type:"dollar",value:Math.round(D.item.liquidated_debt),precision:1/0},null,8,["value"])]),d("div",Sv,x(D.item.troves_affected_count),1),d("div",Lv,x(a(r)(D.item.timestamp)),1)]),"row-details":w(()=>[H("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),_(V,{show:!!a(p),onClose:y[5]||(y[5]=D=>p.value=null)},{default:w(()=>[a(p)?(f(),T(Et,{key:0,liquidation:a(p),"vault-addr":a(p).vault},null,8,["liquidation","vault-addr"])):R("",!0)]),_:1},8,["show"])],64)}}});function go(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof go=="function"&&go(Kn);const Tv=P(Kn,[["__scopeId","data-v-313f3a79"]]),Av={style:{display:"grid",gap:"1rem","grid-template-columns":"minmax(14rem, 1fr) 1fr auto"}},Pv=["src"],Iv=["href"],xv={class:"end"},Dv={class:"end"},yo=15,Wn=A({__name:"TableTroves",props:{vaults:{default:()=>[]},user:{}},emits:["troves"],setup(t,{emit:e}){const{t:n}=B(),o=U(),s=new Ke(o.flavor),i=e,{isFetching:r,data:c}=N({queryKey:["prisma-troves",Gt(()=>t.vaults),Gt(()=>t.user)],queryFn:async({queryKey:[,S,I]})=>{if(S.length>0&&I){const q=await Promise.all(S.map(M=>s.getTroves("ethereum",M.address,I).then(E=>E.map(V=>({...V,vault:M.address}))))).then(M=>M.flat());return i("troves",q),q}else return Promise.resolve([])},initialData:[],initialDataUpdatedAt:0}),{relativeTime:v}=$e(),p=F(""),h=F("Open"),l=C(()=>h.value==="Open"?["",{id:"owner",label:"Owner",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"coll",label:"Collateral",sort:!0,align:"end"},{id:"ratio",label:"Ratio",sort:!0,align:"end"},{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]:["",{id:"owner",label:"Owner",sort:!0},"","","",{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]),{sorting:u,onSort:b}=Se("updated"),m=C(()=>W.chain(c.value).filter(S=>h.value===S.status).filter(S=>{const I=p.value.toLocaleLowerCase().split(" ");return(M=>I.some(E=>M.toLocaleLowerCase().includes(E)))(S.owner)}).orderBy(S=>{switch(u.value.column){case"owner":return S.owner;case"debt":return S.debt;case"coll":return S.collateral_usd;case"ratio":return S.collateral_ratio;case"created":return S.created_at;case"updated":return S.last_update;default:return S.last_update}},u.value.order).value()),{page:k,rowsPage:$,onPage:g}=ye(m,yo),y=S=>{S===0?h.value="Open":S===1?h.value="Closed":h.value="Open"};return(S,I)=>{const q=ut,M=ct,E=ve,V=ge,D=ae,ee=se,oe=G;return f(),T(oe,{class:"troves-card",title:a(n)("title"),loading:a(r)},{actions:w(()=>[d("div",Av,[_(M,{class:"types",onTab:I[0]||(I[0]=Y=>y(Y.index))},{default:w(()=>[_(q,{header:"Open"}),_(q,{header:"Closed"})]),_:1}),_(E,{modelValue:a(p),"onUpdate:modelValue":I[1]||(I[1]=Y=>re(p)?p.value=Y:null),class:"search",search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),_(V,{class:"pagination","items-count":a(m).length,"items-per-page":yo,page:a(k),onPage:a(g)},null,8,["items-count","page","onPage"])])]),default:w(()=>[_(ee,{class:"troves-table",rows:a($),columns:a(l),sorting:a(u),onSortColumn:a(b)},{row:w(Y=>[d("img",{src:a(qe)(Y.item.vault)},null,8,Pv),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/address/${Y.item.owner}`,target:"_blank",onClick:I[2]||(I[2]=te(()=>{},["stop"]))},x(a(Z)(Y.item.owner)),9,Iv)]),d("div",{class:O(["end",{hide:a(h)==="Closed"}])},[_(D,{type:"dollar",value:Math.round(Y.item.debt),precision:1/0},null,8,["value"])],2),d("div",{class:O(["end",{hide:a(h)==="Closed"}])},[_(D,{type:"dollar",value:Math.round(Y.item.collateral_usd),precision:1/0},null,8,["value"])],2),d("div",{class:O(["end",{hide:a(h)==="Closed"}])},[_(D,{value:Y.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),d("div",xv,x(a(v)(Y.item.created_at)),1),d("div",Dv,x(a(v)(Y.item.last_update)),1)]),"row-details":w(()=>[H("   ")]),_:1},8,["rows","columns","sorting","onSortColumn"])]),_:1},8,["title","loading"])}}});function wo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Troves"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof wo=="function"&&wo(Wn);const qv=P(Wn,[["__scopeId","data-v-64aeac7a"]]),Vv={class:"profile"},Mv={style:{"grid-column":"1 / -1","margin-bottom":"-0.5rem"}},Rv=A({__name:"Profile.page",setup(t){const e=U(),n=Je(),{address:o}=at(),s=Ce().getSocket(Oe(e.flavor)),i=new We(s,"ethereum"),r=fe(i.overview$,[]),c=Ye("addr"),v=F(void 0),p=F([]),h=C(()=>p.value.filter(u=>v.value?u.owner.toLocaleLowerCase()===v.value.toLocaleLowerCase():!1).map(u=>u.owner));he(()=>{c.value&&(v.value=c.value)});const l=u=>{p.value=u};return K(o,async()=>{!c.value&&!v.value&&o.value&&await n.push({name:"profile",params:{addr:o.value}})},{immediate:!0}),K(c,u=>{u&&(v.value=u)}),(u,b)=>(f(),L("div",Vv,[d("h2",Mv," Profile: "+x(a(v)??"?"),1),_(qv,{style:{"z-index":"2"},vaults:a(r),user:a(v),onTroves:l},null,8,["vaults","user"]),_(gv,{troves:a(h)},null,8,["troves"]),_(Tv,{troves:a(h)},null,8,["troves"])]))}}),Fv=P(Rv,[["__scopeId","data-v-6d130a3e"]]),Bv=[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:bc},{path:"/stable",name:"stable",component:Ec},{path:"/redemptions",name:"redemptions",component:fu},{path:"/liquidations",name:"liquidations",component:Iu},{path:"/revenue",name:"revenue",component:ju},{path:"/vaults",name:"vaults",component:Qr},{path:"/wrappers/:tab?",name:"wrappers",component:gd},{path:"/veprisma",name:"veprisma",component:qd},{path:"/proposals",name:"proposals",component:jp},{path:"/profile/:addr?",name:"profile",component:Fv},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:Ym},{path:"/vault/:vaultAddr/trove/:troveAddr",name:"prismatrove",component:dv}],Uv={titleRoute:"/",menuItems:[{to:"/vaults",label:"Vaults",icon:"fas fa-piggy-bank"},{to:"/stable",label:()=>{const t=U();return ht(t.flavor)},icon:"fas fa-dollar-sign"},{to:"/pool",label:"Stability pool",icon:"fas fa-balance-scale"},{to:"/redemptions",label:"Redemptions",icon:"fas fa-bible"},{to:"/liquidations",label:"Liquidations",icon:"fas fa-book-dead"},{to:"/veprisma",label:"vePRISMA",icon:"fas fa-lock"},{to:"/proposals",label:"Proposals",icon:"fas fa-landmark"},{to:"/wrappers",label:"ve Wrappers",icon:"fas fa-tint"},{to:"/profile",label:"Profile",icon:"fas fa-user"}]};let Nn="http://localhost:8545";Nn=void 0;const Ov=fs({chains:[Ze],connectors:[jt(),hs({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",showQrModal:!0,qrModalOptions:{themeMode:"dark"}}),bs(),gs()],transports:{[Ze.id]:ys([Zt(Nn,{batch:{wait:100}}),ws(jt),Zt("https://eth.llamarpc.com",{batch:{wait:200}})])}});function Ev(t){const e=$s(t),n=Cs({legacy:!1,locale:"en",fallbackLocale:"en"});e.use(n);const o=ks();e.use(o);const s=new Ss({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:Ls}},queryCache:new Ts({onError:(i,r)=>{i.message.includes("Connector not connected")||i.message.includes("connector2.getAccounts is not a function")||i.message.includes("getAccounts is not a function")||Xe({text:`Failed querying ${r.queryHash} >>> ${i.message}`,type:"error"})}})});return e.use(As).use(Ps,{queryClient:s}).use(Is).use(xs,{config:Ov}),{app:e,pinia:o}}const{app:Kv}=Ev(Ri),Wv=[Uv],Nv=[Bv],Hn=qt();Hn.pages=Wv;Hn.routes=Nv;const Hv=nr();Kv.use(Hv).mount("#app");
