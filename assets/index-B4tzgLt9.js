import{o as f,c as S,p as me,a as ve,b as u,d as I,e as P,n as O,f as M,g as j,t as A,r as ee,w as y,h as _,T as Gn,F as X,i as le,j as Tt,m as Oe,k as At,s as Pt,D as Je,u as It,l as R,q as g,v as W,x as Ee,y as a,z as jn,A as Zn,B as zn,C as Ye,E as $o,G as ge,H as Dt,I as Yn,J as Qn,K as E,L as Jn,M as Xn,N as es,O as ae,P as Xe,Q as Co,R as ts,S as _e,U as et,V as as,W as os,X as ko,Y as ns,Z as ss,_ as ls,$ as Ct,a0 as So,a1 as N,a2 as z,a3 as H,a4 as rs,a5 as is,a6 as cs,a7 as us,a8 as pe,a9 as ce,aa as ds,ab as ps,ac as ms,ad as Qe,ae as vs,af as Gt,ag as jt,ah as dt,ai as fs,aj as Ge,ak as Zt,al as hs,am as _s,an as bs,ao as gs,ap as ys,aq as ws,ar as $s,as as Cs,at as ks,au as Ss,av as Ls,aw as Ts,ax as As,ay as Ps,az as Is,aA as Ds}from"./vendor-CdMkTzUC.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const D=(t,e)=>{const n=t.__vccOpts||t;for(const[o,s]of e)n[o]=s;return n},xs={},Lo=t=>(me("data-v-ad2adcec"),t=t(),ve(),t),qs={class:"lds-ripple"},Vs=Lo(()=>u("div",null,null,-1)),Ms=Lo(()=>u("div",null,null,-1)),Fs=[Vs,Ms];function Rs(t,e){return f(),S("div",qs,Fs)}const xt=D(xs,[["render",Rs],["__scopeId","data-v-ad2adcec"]]),Bs=["inert"],Us={class:"text"},Os=I({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:null}},setup(t){return(e,n)=>{const o=xt;return f(),S("div",{class:"card",inert:!!e.loading},[e.loading!==null?(f(),P(o,{key:0,class:O(["loader",{loading:e.loading}])},null,8,["class"])):M("",!0),u("div",{class:O(["card-container",{loading:e.loading}])},[e.title?(f(),S("div",{key:0,class:O(["card-header",{collapsible:e.collapsible}])},[u("div",Us,[e.icon?(f(),S("i",{key:0,class:O(["icon",e.icon])},null,2)):M("",!0),j(" "+A(e.title),1)]),ee(e.$slots,"actions",{},void 0,!0)],2)):(f(),S("div",{key:1,class:O(["card-no-header",{compact:e.compact}])},null,2)),u("div",{class:O(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[ee(e.$slots,"default",{},void 0,!0)],2)],2)],8,Bs)}}}),te=D(Os,[["__scopeId","data-v-7d5bd921"]]),Es={key:0,class:"fas fa-chevron-right"},Ks=I({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(t,{emit:e}){const n=e,o=i=>{var c;const l=t.active?t.active.id===i.id:((c=t.crumbs.filter(p=>!p.hint).at(-1))==null?void 0:c.id)===i.id;return i.hint??l},s=i=>{var l;return((l=t.crumbs.at(-1))==null?void 0:l.id)===i.id};return(i,l)=>{const c=te;return f(),P(c,null,{default:y(()=>[_(Gn,{name:"fade",tag:"ul"},{default:y(()=>[(f(!0),S(X,null,le(i.crumbs,p=>(f(),S("li",{key:p.id},[(f(),P(Tt(o(p)?"span":"a"),{class:O({active:o(p),hint:p.hint}),onClick:m=>n("crumb",p)},{default:y(()=>[j(A(p.label),1)]),_:2},1032,["class","onClick"])),!s(p)||i.crumbs.length===1?(f(),S("i",Es)):M("",!0)]))),128))]),_:1})]),_:1})}}}),Ws=D(Ks,[["__scopeId","data-v-1c1116d3"]]),Ns={class:"collapsible-inside"},Hs=I({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(t){return(e,n)=>(f(),S("div",{class:O(["collapsible-outside",{expanded:e.expanded}])},[u("div",Ns,[ee(e.$slots,"default",{},void 0,!0)])],2))}}),tt=D(Hs,[["__scopeId","data-v-25b74378"]]),Gs={class:"badge"},js={class:"label"},Zs=I({__name:"Badge",props:{label:{default:""}},setup(t){return(e,n)=>(f(),S("div",Gs,[u("div",js,A(e.label),1)]))}}),zs=D(Zs,[["__scopeId","data-v-79abf25e"]]);function pt(t){return(t==null?void 0:t.children)!==void 0}function zt(t){return(t==null?void 0:t.to)!==void 0}function Ys(t){function e(r){return r<10?"0"+r.toString():r.toString()}const n=t.getTime()-new Date().getTime();if(n<=0)return"00:00:00:00";const o=1e3,s=o*60,i=s*60,l=i*24,c=Math.floor(n/l),p=Math.floor(n%l/i),m=Math.floor(n%i/s),h=Math.floor(n%s/o);return e(c)+":"+e(p)+":"+e(m)+":"+e(h)}function xe(t,e=0,n=".",o=","){const s=isFinite(+t)?+t:0,i=isFinite(+e)?Math.abs(e):0,l=typeof o>"u"?",":o,c=typeof n>"u"?".":n,p=function(h,r){const v=Math.pow(10,r);return Math.round(h*v)/v},m=(i?p(s,i):Math.round(s)).toString().split(".");return m[0].length>3&&(m[0]=m[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,l)),(m[1]||"").length<i&&(m[1]=m[1]||"",m[1]+=new Array(i-m[1].length+1).join("0")),m.join(c)}function Q(t,e){const n=Math.abs(t);return e==="percentage"?"%":e==="dollar"?n>=1*10**12?"t":n>=1*10**9?"b":n>=1*10**6?"m":n>=1*10**3?"k":"":""}function J(t,e,n){const o=Math.abs(t);return e===1/0?t.toLocaleString():n==="percentage"?xe(t,e):n==="dollar"?o>=1*10**12?xe(t/10**12,e):o>=1*10**9?xe(t/10**9,e):o>=1*10**6?xe(t/10**6,e):o>=1*10**3?xe(t/10**3,e):xe(t,e):t.toString()}async function Ve(t,e=0,n=1e3){const o=await t(e,n),s=await(o.length>=n?Ve(t,e+1,n):Promise.resolve([]));return o.concat(s)}function kt(t,e){return(Array.isArray(t)?t:[t]).some(o=>e.path.startsWith(o))}const Qs="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",Js="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",Xs="0x657ce046d98d163ef4f846210f25919fa7b31944",je="0xc53baaaa8595a7a2e7fee71db7291b939f696734",el="https://api.llama.airforce/";async function tl(t,e,n){try{const o=await fetch(t,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:n});if(o.ok)return o;throw new Error(`Fetch error ${o.status} for URL: ${t}`)}catch(o){throw o instanceof Error?o:new Error("Unknown fetch error")}}async function al(t,e,n){return await(await tl(t,e,n)).json()}class ye{constructor(e){this.host=e}async fetch(e,n,o){return al(e,n,o)}}const ol="wss://prices.curve.fi/v1/stream/ws",Yt="pool_ohlc";class ft{constructor(e,n,o){this.chain=n,this.settings=o,this.socket=e,this.ohlc$=this.socket.pipe(Oe(s=>s),At(s=>s.subscription.chain===this.chain&&s.channel===Yt&&JSON.stringify(s.subscription)===JSON.stringify(o)),Oe(s=>s.payload),Pt(1)),this.send("snapshots")}send(e){const n={action:e,channel:Yt,settings:[this.settings]};this.socket.next(n)}}const Qt="pool_volume";class nl{constructor(e,n,o){this.chain=n,this.settings=o,this.socket=e,this.volume$=this.socket.pipe(Oe(s=>s),At(s=>s.subscription.chain===this.chain&&s.channel===Qt&&JSON.stringify(s.subscription)===JSON.stringify(o)),Oe(s=>s.payload),Pt(1)),this.send("snapshots")}send(e){const n={action:e,channel:Qt,settings:[this.settings]};this.socket.next(n)}}function qt(t){return t.message.includes("Exchange resulted in fewer coins than expected")||t.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":t.message}async function sl(t){try{return await t()}catch(e){const n=e instanceof Error?qt(e):JSON.stringify(e);Je({text:n,type:"error"});return}}async function Jt(t,e){t.value=!0;try{return await e()}catch(n){const o=n instanceof Error?qt(n):JSON.stringify(n);Je({text:o,type:"error"});return}finally{t.value=!1}}const ll={key:0},rl={class:"nav-link-container"},il={class:"nav-link-container"},cl={class:"left"},ul={key:0,class:"icon"},dl={class:"right"},pl=I({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(t,{emit:e}){const n=e,o=It(),s=R(!0),i=g(()=>zt(t.item)?[t.item]:pt(t.item)?t.item.children:[]),l=()=>{pt(t.item)&&t.item.children.filter(h=>kt(h.to,o)).length>0&&(s.value=!0)},c=m=>typeof m.label=="string"?m.label:m.label();W(()=>t.item,m=>{pt(m)&&(s.value=!m.initCollapsed),l()},{immediate:!0}),W(()=>o.fullPath,()=>{l()},{immediate:!0});const p=()=>{s.value=!s.value};return(m,h)=>{const r=zs,v=Ee("router-link"),b=tt;return f(),S(X,null,[a(pt)(m.item)?(f(),S("li",ll,[u("a",{class:"nav-link node",onClick:p},[u("div",rl,[j(A(m.item.label)+" ",1),u("i",{class:O(["expander fas fa-chevron-up",{expanded:a(s)}])},null,2)])])])):M("",!0),_(b,{class:"items",expanded:a(s)},{default:y(()=>[u("ul",null,[(f(!0),S(X,null,le(a(i),d=>(f(),S("li",{key:c(d)},[a(zt)(d)?(f(),P(v,{key:0,to:d.to,class:O(["nav-link leaf",{"router-link-active":a(kt)(d.to,a(o))}]),onClick:h[0]||(h[0]=w=>n("navigated"))},{default:y(()=>[u("div",il,[u("div",cl,[d.icon?(f(),S("div",ul,[u("i",{class:O(d.icon)},null,2)])):M("",!0),j(" "+A(c(d)),1)]),u("div",dl,[d.tag?(f(),P(r,{key:0,label:d.tag},null,8,["label"])):M("",!0)])])]),_:2},1032,["to","class"])):M("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}}),ml=D(pl,[["__scopeId","data-v-35101021"]]),vl=I({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(t,{emit:e}){const n=e,o=It(),s=g(()=>t.pages.find(c=>kt(c.titleRoute,o))),i=g(()=>{var c;return((c=s.value)==null?void 0:c.menuItems)??[]}),l=c=>typeof c.label=="string"?c.label:c.label();return(c,p)=>(f(),S("nav",null,[(f(!0),S(X,null,le(a(i),m=>(f(),S("ul",{key:l(m)},[_(ml,{item:m,onNavigated:p[0]||(p[0]=h=>n("navigated"))},null,8,["item"])]))),128))]))}}),fl=D(vl,[["__scopeId","data-v-6a18bfcc"]]);function at(){const{address:t,isConnected:e,chainId:n}=jn(),o=Zn(),s=g(()=>o.data.value&&t.value?t.value.toLocaleLowerCase():void 0),i=g(()=>{switch(n.value){case Ye.id:return"ethereum";case zn.id:return"base";default:return}});return{isConnected:e,network:i,address:s}}function Y(t,e=6){if(!t)return"0x000...000";const n=e/2+2,o=t.length-e/2;return`${t.substring(0,n)}...${t.substring(o)}`}function hl(){return!1}const _l=I({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:e}){const n=e,{network:o}=at(),{switchChain:s}=$o(),i=l=>{l.stopImmediatePropagation(),t.web3&&hl()&&o.value!=="ethereum"&&s({chainId:Ye.id}),n("click")};return(l,c)=>(f(),S("button",{class:O({primary:l.primary}),onClick:i},[ee(l.$slots,"default",{},()=>[l.icon?(f(),S("i",{key:0,class:O(["icon",[l.icon,{noValue:!!l.value}]])},null,2)):M("",!0),j(" "+A(l.value),1)],!0)],2))}}),ot=D(_l,[["__scopeId","data-v-39a4c555"]]),bl="/assets/prisma-B4fv490f.png",gl="/assets/hat-D1qfnSjv.png",yl={},To=t=>(me("data-v-3cccad8a"),t=t(),ve(),t),wl={class:"logo"},$l=To(()=>u("div",{class:"visual"},[u("img",{src:bl}),u("img",{src:gl})],-1)),Cl=To(()=>u("span",null,"prisma.monitor",-1)),kl=[$l,Cl];function Sl(t,e){return f(),S("div",wl,kl)}const Ll=D(yl,[["render",Sl],["__scopeId","data-v-3cccad8a"]]),Tl={class:"header"},Al={class:"buttons"},Pl=I({__name:"Header",emits:["toggle-expansion","navigated"],setup(t,{emit:e}){const n=e;return(o,s)=>{const i=Ee("router-link"),l=ot;return f(),S("div",Tl,[_(i,{class:"logo",to:"/",onClick:s[0]||(s[0]=c=>n("navigated"))},{default:y(()=>[_(Ll,{class:"logo"})]),_:1}),u("div",Al,[_(l,{icon:"fas fa-bars",onClick:s[1]||(s[1]=c=>n("toggle-expansion"))})])])}}}),Il=D(Pl,[["__scopeId","data-v-7323f4f0"]]),Dl={key:0,class:"modal"},xl={class:"modal-popup"},ql=I({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e}){const n=e,o=s=>{s.code==="Escape"&&n("close")};return ge(()=>{document.addEventListener("keydown",o)}),Dt(()=>{document.removeEventListener("keydown",o)}),W(()=>t.show,s=>{document.body.style.overflow=s?"hidden":""}),(s,i)=>(f(),P(Yn,{to:"body"},[s.show?(f(),S("div",Dl,[u("div",{class:"modal-mask",onClick:i[0]||(i[0]=l=>n("close"))}),u("div",xl,[ee(s.$slots,"default",{},void 0,!0)])])):M("",!0)]))}}),Ae=D(ql,[["__scopeId","data-v-b0df9b35"]]),Vl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",Ml={key:1,src:Vl},Fl=I({__name:"Tooltip",props:{icon:{default:""}},emits:["show"],setup(t,{emit:e}){const n=e,o=R(!1);return W(o,s=>n("show",s)),(s,i)=>(f(),P(a(Qn),{class:"tooltip",show:a(o)},{content:y(()=>[ee(s.$slots,"default",{},void 0,!0)]),default:y(()=>[u("div",{onMouseover:i[0]||(i[0]=l=>o.value=!0),onMouseleave:i[1]||(i[1]=l=>o.value=!1)},[ee(s.$slots,"item",{},()=>[s.icon?(f(),S("i",{key:0,class:O(s.icon)},null,2)):(f(),S("img",Ml))],!0)],32)]),_:3},8,["show"]))}}),nt=D(Fl,[["__scopeId","data-v-ee2caf15"]]),Rl="/assets/injected-DW80ouY-.webp",Bl="/assets/rabby-CG__llS3.svg",Ul="/assets/walletconnect-BCBhrtde.webp",Ol="/assets/coinbase-CsqSq8Nj.webp",El="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",Kl={class:"buttons"},Wl={class:"connectors-body"},Nl={class:"title"},Hl={class:"connectors"},Gl=["src"],jl={key:1,class:"empty"},Zl={class:"name"},Vt=I({__name:"WalletConnectButton",setup(t){const{t:e}=E(),{connect:n}=Jn(),o=Xn(),s=["injected","walletConnect","coinbaseWalletSDK","safe"],i=g(()=>o.value.filter(h=>s.includes(h.id))),l=R(!1);function c(h){switch(h.id){case"injected":return Rl;case"walletConnect":return Ul;case"coinbaseWalletSDK":return Ol;case"safe":return El;case"io.rabby":return Bl;default:return""}}function p(h){return h.id==="injected"?"Browser Extension":h.name}function m(h){n({connector:h}),l.value=!1}return(h,r)=>{const v=ot,b=te,d=Ae;return f(),S("div",Kl,[_(v,{class:"button",primary:!0,onClick:r[0]||(r[0]=w=>l.value=!0)},{default:y(()=>[j(A(a(e)("connect-your-wallet")),1)]),_:1}),M("",!0),_(d,{show:a(l),onClose:r[1]||(r[1]=w=>l.value=!1)},{default:y(()=>[_(b,null,{default:y(()=>[u("div",Wl,[u("div",Nl,A(a(e)("connect-your-wallet")),1),u("div",Hl,[(f(!0),S(X,null,le(a(i),w=>(f(),S("div",{key:w.id,class:"connector"},[_(v,{onClick:L=>m(w)},{default:y(()=>[c(w)?(f(),S("img",{key:0,src:c(w)},null,8,Gl)):(f(),S("div",jl)),u("div",Zl,A(p(w)),1)]),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1},8,["show"])])}}});function Xt(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"Connect Wallet"}}}})}function ea(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"连接你的钱包"}}}})}typeof Xt=="function"&&Xt(Vt);typeof ea=="function"&&ea(Vt);const zl=D(Vt,[["__scopeId","data-v-3c15f258"]]),Yl={class:"wallet"},Ql={key:0,class:"connected"},Jl={key:0,class:"unsupportedNetwork"},Xl={class:"info"},er={key:1,class:"notConnected"},tr={key:0,class:"info"},Ao=I({__name:"Wallet",props:{labelPleaseConnect:{}},setup(t){const{t:e}=E(),{disconnect:n}=es(),{isConnected:o,network:s,address:i}=at(),{switchChain:l}=$o(),c=g(()=>s.value==="ethereum"),p=()=>l({chainId:Ye.id});return(m,h)=>{const r=ot;return f(),S("div",Yl,[a(o)?(f(),S("div",Ql,[a(c)?M("",!0):(f(),S("div",Jl,[_(r,{class:"changeNetwork",value:"Change Network",primary:!0,onClick:p}),u("span",Xl,A(a(e)("incorrect-network")),1)])),_(r,{class:"disconnect",icon:"fas fa-check",value:a(Y)(a(i)),onClick:a(n)},null,8,["value","onClick"])])):(f(),S("div",er,[_(zl),m.labelPleaseConnect?(f(),S("span",tr,A(m.labelPleaseConnect),1)):M("",!0)]))])}}});function ta(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"incorrect-network":{t:0,b:{t:2,i:[{t:3}],s:"You are not on the correct network; should be Ethereum"}}}})}typeof ta=="function"&&ta(Ao);const ar=D(Ao,[["__scopeId","data-v-416c58d4"]]),or=t=>(me("data-v-9d368235"),t=t(),ve(),t),nr={class:"select"},sr={class:"item"},lr={key:0,class:"label"},rr=["onClick"],ir=or(()=>u("div",{class:"chevrons"},[u("i",{class:"fas fa-chevron-up"}),u("i",{class:"fas fa-chevron-down"})],-1)),cr=I({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(t,{emit:e}){const n=e;return(o,s)=>(f(),S("div",{class:"select-container",tabindex:"0",onClick:s[0]||(s[0]=ae(i=>n("open"),["stop"])),onBlur:s[1]||(s[1]=i=>n("close"))},[u("div",nr,[u("div",{class:O(["selected",{open:o.open}])},[ee(o.$slots,"item",{item:o.selected},()=>[u("div",sr,A(o.selected),1)],!0),o.label?(f(),S("div",lr,A(o.label),1)):M("",!0)],2),u("div",{class:O(["items",{selectHide:!o.open}])},[(f(!0),S(X,null,le(o.options,(i,l)=>(f(),S("div",{key:l,onClick:c=>n("input",i)},[ee(o.$slots,"item",{item:i},()=>[j(A(i),1)],!0)],8,rr))),128))],2)]),ir],32))}}),Po=D(cr,[["__scopeId","data-v-9d368235"]]),Fe={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},Re={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#794dec",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},ur=[Fe.blue,Fe.yellow,Fe.green,Fe.red,Fe.purple,"#ff8f33"],dr=[Re.purple,Re.yellow,Re.green,Re.red,Re.blue,"#ff8f33"],Be={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Ue={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#a689f2",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},pr=[Be.blue,Be.yellow,Be.green,Be.red,Be.purple],mr=[Ue.purple,Ue.yellow,Ue.green,Ue.red,Ue.blue];function ht(t,e){switch(t){case"light":return e==="lsd"?Be:Ue;default:return e==="lsd"?Fe:Re}}function vr(t,e){switch(t){case"light":return e==="lsd"?pr:mr;default:return e==="lsd"?ur:dr}}function fr(t,e){const n=ht(t,e);return e==="lsd"?{lineColor:n.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)"}:{lineColor:n.purple,topColor:"rgb(163, 91, 251, 0.2)",bottomColor:"rgba(163, 91, 251, 0)"}}const K=Xe("settingsStore",()=>{const t=R("light"),e=R("lsd"),n=g(()=>({colors:ht(t.value,e.value),colorsArray:vr(t.value,e.value),lineChartColors:fr(t.value,e.value)}));return{themeId:t,flavor:e,theme:n}});function _t(t){switch(t){case"lsd":return"mkUSD";case"lrt":return"ULTRA";default:return"???"}}function Pe(t){switch(t){case"lsd":return"https://api.prismamonitor.com/v1";case"lrt":return"https://api.ultra.prismamonitor.com/v1";default:return""}}function aa(t){switch(t){case"lsd":return"wss://api.prismamonitor.com/v1/prisma/ws";case"lrt":return"wss://api.ultra.prismamonitor.com/v1/prisma/ws";default:return""}}function hr(t){switch(t){case"api-lsd":return aa("lsd");case"api-lrt":return aa("lrt");case"prices":return ol;default:throw new Error("Unknown socket type")}}function Ke(t){switch(t){case"lsd":return"api-lsd";case"lrt":return"api-lrt";default:throw new Error("Unknown flavor")}}const Se=Xe("socketStore",()=>{const t=Co({sockets:{"api-lsd":null,"api-lrt":null,prices:null}});return{state:t,getSocket:n=>{if(!t.sockets[n]){const o=hr(n);t.sockets[n]=ts(o)}return t.sockets[n]}}}),_r={class:"theme"},br={class:"label"},gr={class:"colors"},yr=I({__name:"SelectTheme",setup(t){const e=K(),n=[{id:"dark",colors:ht("dark",e.flavor)},{id:"light",colors:ht("light",e.flavor)}],o=R(n[0]),s=R(!1);ge(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)").matches,p=localStorage.getItem("theme");if(!p&&c){const m=n.find(h=>h.id==="dark");m&&l(m)}else{const m=n.find(h=>h.id===p)??n.find(h=>h.id==="light")??n[0];l(m)}});const i=()=>{s.value=!s.value},l=c=>{o.value=c,window.document.documentElement.setAttribute("data-theme",o.value.id),e.themeId=o.value.id,localStorage.setItem("theme",o.value.id)};return(c,p)=>{const m=Po;return f(),P(m,{class:"select direction-up",options:n.map(h=>h),selected:a(o),open:a(s),onOpen:i,onClose:p[0]||(p[0]=h=>s.value=!1),onInput:l},{item:y(h=>[u("div",_r,[u("div",br,A(h.item.id),1),u("div",gr,[u("div",{class:"color",style:_e({"background-color":h.item.colors.backgroundColor})},null,4),u("div",{class:"color",style:_e({"background-color":h.item.colors.level1})},null,4),u("div",{class:"color",style:_e({"background-color":h.item.colors.level2})},null,4),u("div",{class:"color",style:_e({"background-color":h.item.colors.blue})},null,4),u("div",{class:"color",style:_e({"background-color":h.item.colors.yellow})},null,4),u("div",{class:"color",style:_e({"background-color":h.item.colors.green})},null,4),u("div",{class:"color",style:_e({"background-color":h.item.colors.red})},null,4),u("div",{class:"color",style:_e({"background-color":h.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"])}}}),wr=D(yr,[["__scopeId","data-v-8d93b64f"]]),$r={class:"bottom"},Cr={class:"buttons"},kr={href:"https://twitter.com/0xAlunara",target:"_blank"},Sr={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},Lr={class:"selectors"},Tr=I({__name:"Bottom",emits:["navigated"],setup(t,{emit:e}){const n=e,o=async()=>{await navigator.clipboard.writeText(window.location.href)};return(s,i)=>{const l=ot,c=Ee("router-link");return f(),S("div",$r,[u("div",Cr,[_(l,{class:"copy",icon:"fas fa-link",onClick:o}),u("a",kr,[_(l,{icon:"fab fa-twitter"})]),u("a",Sr,[_(l,{icon:"fab fa-github"})]),_(c,{to:"/code"},{default:y(()=>[_(l,{icon:"fas fa-code",onClick:i[0]||(i[0]=p=>n("navigated"))})]),_:1})]),u("div",Lr,[_(wr,{class:"themes"})]),_(ar)])}}}),Ar=D(Tr,[["__scopeId","data-v-03cc2e96"]]),Mt=()=>Xe("pageStore",()=>{const t=R([]),e=R([]);return{pages:t,routes:e}})(),Pr=I({__name:"Navigation",emits:["navigated"],setup(t,{emit:e}){const n=e,o=Mt(),s=R(!1),i=()=>{s.value=!1,n("navigated")};return(l,c)=>{const p=fl,m=tt;return f(),S("div",{class:O(["menu-desktop",{expanded:a(s)}])},[_(Il,{onToggleExpansion:c[0]||(c[0]=h=>s.value=!a(s)),onNavigated:i}),_(m,{class:"menu-content",expanded:a(s)},{default:y(()=>[_(p,{pages:a(o).pages,onNavigated:i},null,8,["pages"]),_(Ar,{onNavigated:i})]),_:1},8,["expanded"])],2)}}}),Ir=D(Pr,[["__scopeId","data-v-6fdcc85c"]]),bt=Xe("breadcrumbStore",()=>{const t=R([]),e=R(!1);return{crumbs:t,show:e}}),Dr=t=>(me("data-v-a944b87b"),t=t(),ve(),t),xr={class:"root"},qr={class:"main"},Vr={class:"toolbar-container"},Mr=Dr(()=>u("div",{id:"toolbar",class:"toolbar-teleport"},null,-1)),Fr={class:"content"},Rr=I({__name:"App",setup(t){const e=K(),n=bt(),o=It(),s=et();ge(()=>{e.flavor==="lrt"&&window.document.documentElement.setAttribute("data-flavor","lrt")}),W(()=>o.fullPath,l=>{["/pool","/stable","/redemptions","/liquidation","/profile","/wrappers","/proposals","/veprisma"].some(p=>l.startsWith(p))&&(n.show=!1)});const i=async l=>{l.pathName&&await s.push({name:l.pathName,...l.params&&{params:l.params()}})};return(l,c)=>{const p=Ee("notifications"),m=Ws,h=Ee("router-view");return f(),S("div",xr,[_(p,{width:600,duration:-1}),_(a(as)),_(Ir,{class:"navigation"}),u("main",qr,[u("div",Vr,[a(n).show?(f(),P(m,{key:0,class:"breadcrumb",crumbs:a(n).crumbs,onCrumb:i},null,8,["crumbs"])):M("",!0),Mr]),u("div",Fr,[_(h,null,{default:y(({Component:r})=>[_(os,{name:"fade",mode:"out-in"},{default:y(()=>[(f(),P(Tt(r)))]),_:2},1024)]),_:1})])])])}}}),Br=D(Rr,[["__scopeId","data-v-a944b87b"]]),Ur="/assets/404-DGbqGNxT.png",Or=t=>(me("data-v-d38f74f1"),t=t(),ve(),t),Er={class:"not-found"},Kr={class:"not-found-container"},Wr=Or(()=>u("img",{src:Ur},null,-1)),Io=I({__name:"NotFound",setup(t){const{t:e}=E();return(n,o)=>{const s=te;return f(),S("div",Er,[u("div",Kr,[_(s,null,{default:y(()=>[j(A(a(e)("404")),1)]),_:1}),Wr])])}}});function oa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:{t:0,b:{t:2,i:[{t:3}],s:"Where are you going, pilot? Page not found, please return home fren."}}}})}typeof oa=="function"&&oa(Io);const Nr=D(Io,[["__scopeId","data-v-d38f74f1"]]),Do=t=>(me("data-v-7189c384"),t=t(),ve(),t),Hr=Do(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),Gr=[Hr],jr=Do(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),Zr=[jr],zr={class:"row-details"},Yr=I({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(t,{emit:e}){const n=e,o=ko(),s=g(()=>{var c;const l=o["row-details"];if(l){const p=(c=l()[0])==null?void 0:c.children;if(p)return p.length>0}return!1}),i=()=>{n("click",t.data)};return(l,c)=>{const p=tt;return f(),S("div",{class:O(["row",{expanded:l.expanded}])},[u("div",{class:O(["row-data item",[l.columns,{active:l.selected,expandable:a(s),"has-data":!!l.data}]]),onClick:i},[l.data&&a(s)&&l.expandSide==="left"?(f(),S("div",{key:0,class:O(["expander",{expanded:l.expanded}])},Gr,2)):M("",!0),ee(l.$slots,"row",{},void 0,!0),l.data&&a(s)&&l.expandSide!=="left"?(f(),S("div",{key:1,class:O(["expander",{expanded:l.expanded}])},Zr,2)):M("",!0)],2),l.data?(f(),P(p,{key:0,expanded:l.expanded},{default:y(()=>[u("div",zr,[ee(l.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):M("",!0)],2)}}}),Qr=D(Yr,[["__scopeId","data-v-7189c384"]]),Jr=["inert"],Xr={key:0,class:"header"},ei={key:0,class:"header-icon"},ti={class:"list"},ai=["onClick"],oi={key:0,class:"sorting-arrows"},ni={key:0,class:"sorting-arrow fa fa-caret-up"},si={key:1,class:"sorting-arrow fa fa-caret-down"},li={key:2,class:"sorting-arrow"},ri={class:"rows"},ii={key:1,class:"no-data"},Ft=I({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{},sortingDefaultDir:{},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:null}},emits:["selected","sortColumn"],setup(t,{emit:e}){const{t:n}=E(),o=e,s=R(void 0),i=R("asc"),l=g(()=>`grid-template-columns: ${t.columnsHeader}`),c=g(()=>{if(t.rowsMin===null)return[];const d=Math.max(0,t.rowsMin-t.rows.length);return new Array(d)});ns(()=>{t.sortingDefaultColumn&&(s.value=t.sortingDefaultColumn),t.sortingDefaultDir&&(i.value=t.sortingDefaultDir)});const p=d=>{d&&o("selected",d)},m=d=>{const w=d+1;return!!(t.rows[d+1]&&t.rows.findIndex(C=>C===t.selectedRow)===w)},h=d=>t.sortingColumnsEnabled.includes(t.sortingColumns[d]),r=d=>s.value===t.sortingColumns[d]&&i.value==="asc",v=d=>s.value===t.sortingColumns[d]&&i.value==="desc",b=d=>{if(!t.sorting||!h(d))return;const w=t.sortingColumns[d];i.value=w===s.value&&i.value==="asc"?"desc":"asc",s.value=w,o("sortColumn",w,i.value)};return(d,w)=>{const L=xt,x=Qr;return f(),S("div",{class:O(["datatable",{loading:d.loading}]),inert:!!d.loading},[d.header?(f(),S("div",Xr,[d.icon?(f(),S("div",ei,[u("i",{class:O(d.icon)},null,2)])):M("",!0),u("div",{class:"header-content",style:_e(a(l))},[ee(d.$slots,"header-content",{},void 0,!0)],4)])):M("",!0),u("div",ti,[d.columns.length>0?(f(),S("div",{key:0,class:O(["row-data",[d.columnsData,{"selected-below":m(-1)}]])},[ee(d.$slots,"column-headers",{},()=>[(f(!0),S(X,null,le(d.columns,(C,T)=>(f(),S("div",{key:C,class:O(["column-header",{"sortable-header":d.sorting&&h(T),"current-sort":a(s)==d.sortingColumns[T]}]),onClick:$=>b(T)},[j(A(C)+" ",1),d.sorting&&h(T)?(f(),S("div",oi,[r(T)?(f(),S("i",ni)):v(T)?(f(),S("i",si)):(f(),S("span",li," — "))])):M("",!0)],10,ai))),128))],!0)],2)):M("",!0),u("div",ri,[d.loading!==null?(f(),P(L,{key:0,class:O(["loader",{loading:d.loading}])},null,8,["class"])):M("",!0),(f(!0),S(X,null,le(d.rows,(C,T)=>(f(),P(x,{key:C,data:C,class:O({"selected-below":m(T)}),columns:d.columnsData,selected:d.selectedRow===C,expanded:d.expanded.includes(C),"expand-side":d.expandSide,onClick:p},{row:y(()=>[ee(d.$slots,"row",{item:C},void 0,!0)]),"row-details":y(()=>[ee(d.$slots,"row-details",{item:C},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded","expand-side"]))),128)),(f(!0),S(X,null,le(a(c),C=>(f(),P(x,{key:C}))),128)),!d.rowsMin&&(!d.rows||d.rows.length===0)&&!d.loading?(f(),S("div",ii,[ee(d.$slots,"no-data",{},()=>[j(A(a(n)("no-data")),1)],!0)])):M("",!0),d.$slots["row-aggregation"]&&d.rows.length>0?(f(),P(x,{key:2,class:"aggregation",columns:d.columnsData},{row:y(()=>[ee(d.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):M("",!0)])])],10,Jr)}}});function na(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"No data :("}}}})}function sa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"没有数据 :("}}}})}typeof na=="function"&&na(Ft);typeof sa=="function"&&sa(Ft);const re=D(Ft,[["__scopeId","data-v-eaa04f87"]]),ci={class:"contracts"},ui={class:"row"},di={class:"title"},pi=["href"],mi={class:"title"},vi=["href"],xo=I({__name:"Code",setup(t){const{t:e}=E(),o=[{name:"Llama Airforce",contracts:[{contract:Qs,description:"multisig",gnosis:!0},{contract:Js,description:"treasury",gnosis:!0},{contract:Xs,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]}],s=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}],i=l=>{switch(l.network){case"arbitrum":return l.gnosis?`https://app.safe.global/home?safe=arb1:${l.contract}`:`https://arbiscan.io/address/${l.contract}`;case"ethereum":default:return l.gnosis?`https://app.safe.global/home?safe=eth:${l.contract}`:`https://etherscan.io/address/${l.contract}`}};return(l,c)=>{const p=re;return f(),S("div",ci,[u("div",ui,[_(p,{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:s,columns:[a(e)("repository"),a(e)("description")]},{"header-content":y(()=>[u("div",di,A(a(e)("repositories")),1)]),row:y(m=>[u("div",null,[u("a",{href:m.item.url,target:"_blank"},A(m.item.name),9,pi)]),u("div",null,A(a(e)(m.item.description)),1)]),_:1},8,["columns"])]),(f(),S(X,null,le(o,(m,h)=>_(p,{key:h,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:m.contracts,columns:[a(e)("contract"),a(e)("description")]},{"header-content":y(()=>[u("div",mi,A(a(e)(m.name)),1)]),row:y(r=>[u("div",null,[u("a",{href:i(r.item),target:"_blank"},A(r.item.contract),9,vi)]),u("div",null,A(a(e)(r.item.description)),1)]),_:2},1032,["rows","columns"])),64))])}}});function la(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:{t:0,b:{t:2,i:[{t:3}],s:"Repositories"}},repository:{t:0,b:{t:2,i:[{t:3}],s:"Repository"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},contract:{t:0,b:{t:2,i:[{t:3}],s:"Contract"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}},"repo-laf":{t:0,b:{t:2,i:[{t:3}],s:"This website's front-end, excluding the Union"}},multisig:{t:0,b:{t:2,i:[{t:3}],s:"Multisig"}},treasury:{t:0,b:{t:2,i:[{t:3}],s:"Treasury"}},"treasury-arbitrum":{t:0,b:{t:2,i:[{t:3}],s:"Treasury Arbitrum"}}}})}typeof la=="function"&&la(xo);const fi=D(xo,[["__scopeId","data-v-a0b0c18d"]]);function hi(){const t=Mt(),e=[{path:"/code",component:fi},...t.routes.flatMap(o=>o),{path:"/:pathMatch(.*)*",name:"NotFound",component:Nr}];return ss({history:ls(),routes:e})}const _i=I({__name:"ChartApex",props:{options:{},series:{}},setup(t){return(e,n)=>{const o=Ee("apexchart");return f(),P(o,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}}),Rt=D(_i,[["__scopeId","data-v-310d0826"]]),bi=I({__name:"CardChart",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(t){return(e,n)=>{const o=Rt,s=te;return f(),P(s,{class:"cart-chart",title:e.title,loading:e.loading},{actions:y(()=>[ee(e.$slots,"actions",{},void 0,!0)]),default:y(()=>[_(o,{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),ee(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"])}}}),ie=D(bi,[["__scopeId","data-v-98df8c5f"]]),gi=I({__name:"ButtonToggle",props:Ct({icon:{default:""},value:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=So(t,"modelValue"),n=()=>{e.value=!e.value};return(o,s)=>(f(),S("button",{class:O({toggled:e.value}),onClick:n},[ee(o.$slots,"default",{},()=>[o.icon?(f(),S("i",{key:0,class:O(["icon",o.icon])},null,2)):M("",!0),j(" "+A(o.value),1)],!0)],2))}}),st=D(gi,[["__scopeId","data-v-d1a44749"]]),yi=t=>({chart:{id:"chart",background:"transparant",foreColor:t.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:t.colorsArray,grid:{borderColor:t.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:t.colors.level5,height:1},axisTicks:{color:t.colors.level5},title:{color:t.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:t.colors.level5},axisTicks:{color:t.colors.level5},title:{color:t.colors.level5}}});function ne(t,e){const n=yi(t),o=(s,i)=>{if(typeof i=="object"){N.mergeWith(s,i,o);return}else return s||i};return N.mergeWith(e,n,o)}function G(){return el}class Bt extends ye{constructor(e,n){super(e),this.API_URL=Pe(n)}async getCollateralPrices(e,n,o){return this.fetch(`${this.API_URL}/collateral/${e}/${n}/prices?period=${o}`)}async getCollateralPriceImpact(e,n){return this.fetch(`${this.API_URL}/collateral/${e}/${n}/impact`)}async getCollateralInfo(e,n){return this.fetch(`${this.API_URL}/collateral/${e}/${n}/info`)}}class Ut extends ye{constructor(e,n){super(e),this.API_URL=Pe(n)}async getLiquidations(e,n){return Ve(s=>this.fetch(`${this.API_URL}/liquidations/${e}/${n}?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(i=>i.liquidations.map(l=>({...l,liquidator:l.liquidator.toLocaleLowerCase(),vault:l.vault.toLocaleLowerCase()}))),1,100)}async getLiquidationsForTrove(e,n){return Ve(s=>this.fetch(`${this.API_URL}/liquidations/${e}?items=100&page=${s}&order_by=block_timestamp&desc=true&trove_filter=${n}`).then(i=>i.liquidations.map(l=>({...l,liquidator:l.liquidator.toLocaleLowerCase(),vault:l.vault.toLocaleLowerCase()}))),1,100)}}class Ie extends ye{constructor(e,n){super(e),this.API_URL=Pe(n)}async getHistoricalOpenTrovesOverview(e,n){return this.fetch(`${this.API_URL}/managers/${e}/open_troves?period=${n}`)}async getHistoricalCollateralRatiosOverview(e,n){return this.fetch(`${this.API_URL}/managers/${e}/collateral_ratios?period=${n}`)}async getCollateralRatioGrouped(e,n){return this.fetch(`${this.API_URL}/managers/${e}/global_collateral_ratio?period=${n}`)}async getHistoricalCollateralOverview(e,n){return this.fetch(`${this.API_URL}/managers/${e}/collateral?period=${n}`)}async getRatioDistributionGrouped(e){return this.fetch(`${this.API_URL}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,n,o){return this.fetch(`${this.API_URL}/managers/${e}/${n}/large_positions?unit=${o}`)}async getVaultCollateralRatio(e,n,o){return this.fetch(`${this.API_URL}/managers/${e}/${n}/collateral_ratio?period=${o}`)}async getVaultTroveCount(e,n,o){return this.fetch(`${this.API_URL}/managers/${e}/${n}/open_trove_count?period=${o}`)}async getTroveDistribution(e,n,o){return this.fetch(`${this.API_URL}/managers/${e}/${n}/histograms?unit=${o}`)}}class lt extends ye{constructor(e,n){super(e),this.API_URL=Pe(n)}async getPriceHistory(e,n){return this.fetch(`${this.API_URL}/mkusd/${e}/history?period=${n}`)}async getSupplyHistory(e){return this.fetch(`${this.API_URL}/mkusd/${e}/supply`)}async getPriceHistogram(e,n,o){return this.fetch(`${this.API_URL}/mkusd/${e}/histogram?period=${o}&bins=${n}`)}async getLargeStableCoinHolders(e){return this.fetch(`${this.API_URL}/mkusd/${e}/holders`)}async getStableCoinKPI(e){return this.fetch(`${this.API_URL}/mkusd/${e}/general`)}async getCurvePoolDepth(e){return this.fetch(`${this.API_URL}/mkusd/${e}/depth`)}}class Ot extends ye{constructor(e,n){super(e),this.API_URL=Pe(n)}async getRedemptions(e,n){return Ve(s=>this.fetch(`${this.API_URL}/redemptions/${e}/${n}?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(i=>i.redemptions.map(l=>({...l,redeemer:l.redeemer.toLocaleLowerCase(),vault:l.vault.toLocaleLowerCase()}))),1,100)}async getRedemptionsForTrove(e,n){return Ve(s=>this.fetch(`${this.API_URL}/redemptions/${e}?items=100&page=${s}&order_by=block_timestamp&desc=true&trove_filter=${n}`).then(i=>i.redemptions.map(l=>({...l,redeemer:l.redeemer.toLocaleLowerCase(),vault:l.vault.toLocaleLowerCase()}))),1,100)}}class qo extends ye{constructor(e,n){super(e),this.API_URL=Pe(n)}async getSnapshots(){return this.fetch(`${this.API_URL}/revenue/ethereum/snapshots?period=3m`)}async getBreakdown(){return this.fetch(`${this.API_URL}/revenue/ethereum/breakdown`)}}class We extends ye{constructor(e,n){super(e),this.API_URL=Pe(n)}async getPoolTvl(e,n){return this.fetch(`${this.API_URL}/pool/${e}/deposits?period=${n}`)}async getStableFlow(e,n){return this.fetch(`${this.API_URL}/pool/${e}/stable_operations?period=${n}`)}async getStableDistribution(e){return this.fetch(`${this.API_URL}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,n){return this.fetch(`${this.API_URL}/pool/${e}/cumulative_withdrawals?period=${n}`)}async getTopStableDeposits(e,n,o){return this.fetch(`${this.API_URL}/pool/${e}/top/stable_deposits?top=${n}&period=${o}`)}async getTopStableWithdrawals(e,n,o){return this.fetch(`${this.API_URL}/pool/${e}/top/stable_withdrawals?top=${n}&period=${o}`)}}class Ne extends ye{constructor(e,n){super(e),this.API_URL=Pe(n)}async getTroves(e,n,o){return Ve(i=>this.fetch(`${this.API_URL}/trove/${e}/${n}/troves?items=100&page=${i}&order_by=last_update&desc=true${o?"&owner_filter="+o:""}`).then(l=>l.troves),1,100)}async getTroveSnapshots(e,n,o){return this.fetch(`${this.API_URL}/trove/${e}/${n}/snapshots/${o}`)}async getTroveDetail(e,n,o){return this.fetch(`${this.API_URL}/trove/${e}/${n}/${o}`)}async getTroveHistory(e,n,o){return this.fetch(`${this.API_URL}/trove/${e}/${n}/history/${o}`)}async getTroveRank(e,n,o){return this.fetch(`${this.API_URL}/trove/${e}/${n}/rank/${o}`)}}const mt="https://api.prismamonitor.com/v1";function vt(t){switch(t){case"convex":return"0x0c73f1cfd5c9dfc150c8707aa47acbd14f0be108";case"yearn":return"0x774a55c3eeb79929fd445ae97191228ab39c4d0f";default:throw new Error("Unknown contract")}}class rt extends ye{async getTVL(e){return this.fetch(`${mt}/staking/${vt(e)}/tvl?period=all&groupby=day`)}async getFlow(e){return this.fetch(`${mt}/staking/${vt(e)}/flow?period=all&groupby=day`)}async getDistribution(e){return this.fetch(`${mt}/staking/${vt(e)}/distribution`)}async getSnapshots(e){return this.fetch(`${mt}/staking/${vt(e)}/snapshots?period=7d`)}}const ra="troves_overview";let wt=null;class He{constructor(e,n){if(this.chain=n,this.socket=e,wt){this.send("snapshots");return}wt=this.socket.pipe(Oe(o=>o),At(o=>o.subscription.chain===this.chain&&o.channel===ra),Oe(o=>o.payload),Pt(1)),this.send("subscribe"),this.send("snapshots")}get overview$(){return wt}send(e){const n={action:e,channel:ra,settings:[{chain:this.chain}]};this.socket.next(n)}}const wi={class:"actions"},$i={class:"periods"},Vo=I({__name:"ChartOpenTroves",setup(t){const{t:e}=E(),{theme:n,flavor:o}=z(K()),s=new Ie(G(),o.value),i=R("1m"),{isFetching:l,data:c}=H({queryKey:["prisma-historical-open-troves",i],queryFn:({queryKey:[,b]})=>s.getHistoricalOpenTrovesOverview("ethereum",b).then(d=>d.managers),initialData:[],initialDataUpdatedAt:0}),p=g(()=>ne(n.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:m.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:b,dataPointIndex:d,w})=>{let L=0;const x=b.map((C,T)=>{const $=C[d];return L+=$,`<div><b>${w.globals.seriesNames[T]}</b>: ${$}</div>`});return x.push(`<div><b>Total</b>: ${L}</div>`),x.join("")}}})),m=g(()=>c.value.length===0||c.value[0].data.length===0?[]:c.value[0].data.map(b=>new Date(b.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),h=g(()=>c.value.length===0?[]:c.value.map(b=>({name:b.manager,data:b.data.map(d=>d.value)}))),r=b=>b,v=b=>{i.value!==b&&(i.value=b)};return(b,d)=>{const w=st,L=ie;return f(),P(L,{class:"chart",title:a(e)("title"),loading:a(l),options:a(p),series:a(h)},{actions:y(()=>[u("div",wi,[u("div",$i,[_(w,{value:"1m","model-value":a(i)==="1m",onClick:d[0]||(d[0]=x=>v("1m"))},null,8,["model-value"]),_(w,{value:"3m","model-value":a(i)==="3m",onClick:d[1]||(d[1]=x=>v("3m"))},null,8,["model-value"]),_(w,{value:"6m","model-value":a(i)==="6m",onClick:d[2]||(d[2]=x=>v("6m"))},null,8,["model-value"])])])]),_:1},8,["title","loading","options","series"])}}});function ia(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Open troves"}}}})}typeof ia=="function"&&ia(Vo);const Ci=D(Vo,[["__scopeId","data-v-4478e6be"]]),ki=(t,e)=>{const{colors:n}=e;return{width:t.clientWidth,height:t.clientHeight,layout:{background:{type:rs.Solid,color:n.backgroundColor},textColor:n.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:n.level4,style:is.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ue(t,e,n){const o=ki(t,e),s=(i,l)=>{if(typeof l=="object"){N.mergeWith(i,l,s);return}else return i||l};return N.mergeWith(n,o,s)}function de(t,e,n){const o=R(void 0),s=R(void 0);let i=null;return ge(async()=>{if(!o.value)return;await cs();const l=us(o.value,e(o.value));s.value=l,n==null||n(l),i=new ResizeObserver(c=>{const p=c[0].target;s.value&&o.value&&(s.value.applyOptions({width:p.clientWidth,height:p.clientHeight}),s.value.timeScale().fitContent())}),o.value.parentElement&&i.observe(o.value.parentElement)}),Dt(()=>{s.value&&(s.value.remove(),s.value=void 0),i&&(i.disconnect(),i=null)}),W(t,()=>{o.value&&s.value&&s.value.applyOptions(e(o.value))}),{chart:s,chartRef:o}}const Mo=I({__name:"ChartCollateralRatio",setup(t){const{t:e}=E();let n;const{theme:o,flavor:s}=z(K()),{chart:i,chartRef:l}=de(o,h,b=>{n=b.addAreaSeries(r())}),c=new Ie(G(),s.value),{isFetching:p,data:m}=H({queryKey:["prisma-collateral-ratios"],queryFn:()=>c.getCollateralRatioGrouped("ethereum","all").then(b=>b.data),initialData:[],initialDataUpdatedAt:0});W([m,i],v),W(o,()=>n.applyOptions(r()));function h(b){return ue(b,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function r(){return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}}function v([b,d]){if(!d||!n)return;const w=N.chain(b).map(L=>({time:L.timestamp,value:L.value*100})).uniqWith((L,x)=>L.time===x.time).orderBy(L=>L.time,"asc").value();w.length>0&&n.setData(w),d.timeScale().fitContent()}return(b,d)=>{const w=te;return f(),P(w,{class:"chart-container",title:a(e)("title"),loading:a(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ca(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Global collateral ratio"}}}})}typeof ca=="function"&&ca(Mo);const Si=D(Mo,[["__scopeId","data-v-61e6a223"]]),Fo=I({__name:"ChartRatioDeciles",setup(t){const{t:e}=E(),{theme:n,flavor:o}=z(K()),s=new Ie(G(),o.value),{isFetching:i,data:l}=H({queryKey:["prisma-ratio-distribution"],queryFn:()=>s.getRatioDistributionGrouped("ethereum").then(v=>v.deciles),initialData:[],initialDataUpdatedAt:0}),c=g(()=>ne(n.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:h,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),p=g(()=>l.value.map(v=>v.label)),m=g(()=>[{name:e("debt"),data:Object.values(l.value).map(v=>v.data)}]),h=v=>v,r=v=>`$${J(v,0,"dollar")}${Q(v,"dollar")}`;return(v,b)=>{const d=ie;return f(),P(d,{class:"chart",title:a(e)("title"),loading:a(i),options:a(c),series:a(m)},null,8,["title","loading","options","series"])}}});function ua(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Debt per Collateral Ratio Deciles"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt"}}}})}typeof ua=="function"&&ua(Fo);const Li=D(Fo,[["__scopeId","data-v-fdb826ed"]]),Ti={class:"actions"},Ai={class:"periods"},Ro=I({__name:"ChartGlobalCollateral",setup(t){const{t:e}=E(),{theme:n,flavor:o}=z(K()),s=new Ie(G(),o.value),i=R("1m"),{isFetching:l,data:c}=H({queryKey:["prisma-collateral-hist-overview",i],queryFn:({queryKey:[,d]})=>s.getHistoricalCollateralOverview("ethereum",d).then(w=>w.managers),initialData:[],initialDataUpdatedAt:0}),p=g(()=>ne(n.value,{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:m.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:v}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),m=g(()=>c.value.length===0||c.value[0].data.length===0?[]:c.value[0].data.map(d=>new Date(d.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),h=g(()=>c.value.length===0?[]:c.value.map(d=>({name:d.manager,data:d.data.map(w=>w.value)}))),r=d=>d,v=d=>`$${J(d,1,"dollar")}${Q(d,"dollar")}`,b=d=>{i.value!==d&&(i.value=d)};return(d,w)=>{const L=st,x=ie;return f(),P(x,{class:"chart",title:a(e)("title"),loading:a(l),options:a(p),series:a(h)},{actions:y(()=>[u("div",Ti,[u("div",Ai,[_(L,{value:"1m","model-value":a(i)==="1m",onClick:w[0]||(w[0]=C=>b("1m"))},null,8,["model-value"]),_(L,{value:"3m","model-value":a(i)==="3m",onClick:w[1]||(w[1]=C=>b("3m"))},null,8,["model-value"]),_(L,{value:"6m","model-value":a(i)==="6m",onClick:w[2]||(w[2]=C=>b("6m"))},null,8,["model-value"])])])]),_:1},8,["title","loading","options","series"])}}});function da(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral value"}}}})}typeof da=="function"&&da(Ro);const Pi=D(Ro,[["__scopeId","data-v-8b832814"]]),Ii={key:0,class:"async-value"},Di="|/-\\",oe=I({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(t){let e=0,n=0;const o=R("|"),s=g(()=>t.value?J(t.value,typeof t.precision=="function"?t.precision(t.value):t.precision,t.type??""):t.value===0&&t.showZero?"0":t.value===null||t.value===void 0?o.value:"?"),i=g(()=>t.precision===1/0?"":!t.value||!t.type||!N.isFinite(t.value)?t.showUnit&&t.type?Q(0,t.type):"":Q(t.value,t.type));return W(()=>t.value,l=>{if(clearInterval(n),e=0,l)return;const c=()=>{e=(e+1)%4,o.value=Di[e]};n=window.setInterval(c,250)},{immediate:!0}),(l,c)=>l.inline?(f(),S(X,{key:1},[j(A(l.showSymbol&&l.type==="dollar"?"$":"")+A(a(s))+A(l.showUnit?a(i):""),1)],64)):(f(),S("div",Ii,A(l.showSymbol&&l.type==="dollar"?"$":"")+A(a(s))+A(l.showUnit?a(i):""),1))}}),xi=t=>(me("data-v-30805641"),t=t(),ve(),t),qi={class:"input-text"},Vi={key:0,class:"icon"},Mi=xi(()=>u("i",{class:"fas fa-search"},null,-1)),Fi=[Mi],Ri=["type","value","placeholder"],Bi=["onClick"],Ui=I({__name:"InputText",props:Ct({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:Ct(["input","select"],["update:modelValue"]),setup(t,{emit:e}){const n=So(t,"modelValue"),o=e,s=g(()=>{const l=t.options.filter(p=>t.filter(n.value,p));return t.sort?[...l].sort(t.sort):l}),i=l=>{const c=l.target.value;n.value=c,o("input",c)};return(l,c)=>(f(),S("div",qi,[l.search?(f(),S("span",Vi,Fi)):M("",!0),u("input",{type:l.search?"search":"text",value:n.value,placeholder:l.placeholder,onInput:ae(i,["stop"]),onSelect:c[0]||(c[0]=ae(()=>{},["stop"]))},null,40,Ri),l.options&&l.autoComplete?(f(),S("div",{key:1,class:O(["items",{selectHide:!l.autoComplete}])},[(f(!0),S(X,null,le(a(s),(p,m)=>(f(),S("div",{key:m,onClick:h=>o("select",p)},[ee(l.$slots,"item",{item:p,idx:m},()=>[j(A(p),1)],!0)],8,Bi))),128))],2)):M("",!0)]))}}),fe=D(Ui,[["__scopeId","data-v-30805641"]]),Oi="data:image/webp;base64,UklGRnYCAABXRUJQVlA4TGoCAAAvP8APEOfBIGDbNjJ/niWw77kxDQaNJCnq8+/wPDzD5pZm/hG0bRvr/EEdysfgQ5AAqiEKNuJMsZMp4sRB2ChMEQdh4zMQU/yOf+6TAoNJ3hdEgUEWNr6fOAWJY2NN4lwnBRtZgMAIf6BIWJCwILCg4ghXaGPAAx8QI9lWFf277u5+cTi4W/6B8Z+ce9kAIvrvwG3bSJITODv3vekXCoNmSGhSuGsAQgNH1qC18mGESFVJqIZIMzsbBGoJoSYCbYwgkNBCIAvbRGUstrab/SpGvWGnnmUxCeQw0TGhbJBZkzyf0HvJq0ZFb8c3d5GUMfkiXoMtWQtKVMhym58mFsgVXLLEJTZsvsTcs7GJnX5cEUDbW8oW9LQIy6RxwmUfSGxL2iNstrb4S44LhsPIaI+xWEgfaFKZwBJtYBi6DavRgEFdeUnlTYILkglQ4b2jqjc3NwarAHMAdDZUS0p9sHEAdHnqqiGhHkujT5D92uQIN+3ENVTTJIsLH1R5bm6cfggPP5nQM8eZeNHMTMxM/fNa7TxZJKsjdfsRHspDitPwRKgvT3cBVKkPAuKJibVUf6m/r0lBP/jxSmF1oqrq/92QnW5PEvdAXPlM3xEN9EDTJ7s0hLoSuVSlvQkM9//dNnCc48jyv7He5//W6n/8bxYjW9hynuob3imaMb8U78nGZWMy3jMtOCxR5h4br6eSOzrzfWOFPD7SK0T3PgDwwwWXn1TvDrqka/Bt/94bf+ekene8W3kPhpB7HzfZx22HLIfhuM1n3NhkaGXGjS7D7UpiswdVRBoXLlqC1rrw05BhWLhr2o3pzg1HVwA=",Ei="data:image/webp;base64,UklGRp4HAABXRUJQVlA4TJEHAAAvP8APEOZQ0LYN4/CHvYMhIibAtxpNmo50WMwCnGb75zb8Cb8Acv2/v0PAIIyhyuiS8NQj12QYVucCKILi6XiOmQPDCoZesxH0noLBytR7LIYocxAEWtTZKoofgIyfp/89vtMAAJAGq2SXE+AHewA+kQaRB1wqD+gFviW7wC0tuTJw20hRu3hMA70n0LH/T7Wk7H8Z772WcXeXdnf37mft3vHcW7erZnYwuEs8EfHoDTlvDZyX3pDJOESuUR8idyqsDUyEE5G5wwsL73xiIk6lfSZDb4Zr7gvobeBO3BHuUGHHLGB8/ljouTtkriMhDpAAACwb5Wzbtm3btm3btm3btm9n27aNr8K2bZv/L6484vbfgdu2kaRmxoG79+F29wmhSIaZYJENznjKG77yv8b7Io5YH3arMDgy2GWNE57xhb/WkvnO1ce8Ow4GjLDADi/5aRLvluvkzR9Vwh7vzYOrA+YZ8kSX7cI8yetN12spy9zl5s38clbJYJRNPlsgXHSORTDGqfS66G/4V17g6a8E5jjnn7lR9w3UvqETtVn5rFSuTan1v6/yitiYlJ8gyJpXd2G8NGmtiE9Id9pLLXXtB7CYaJQj19FOTerr/559Rl1I15ViIY5ZTywmG6etD5Z27rRl1Y8M06wF/G5UN9qy0eGpuILQuuukrcDKQlyWlGV/+FnB33i0VXlGtes+IbQWJ62+dm7FZa4ldaMZUwlxjnNBov4bsvrpNtv5JlPAoOaZkYa1gq8SZF0ZG53KWwitbDNuRMIrk+hNLbY/4pgNfBXOMxusE1pbSaO1sSsuc6+rB9OxFgTKQ93iWhGh2KRq6Ffaslu4FXwtVMbFp+oBIKtVQ7c2Cd70KgegTDkUW6oSZJ3sFpFa6xqYXGrLSnbpxXFM6WxQ64S/EYY9Mcg2klMZ5pHiTQit5V8YzvklLfsyxLHKLVrBOmCsn+C9FxvjwjGllTvCN1yp+GR/RmYdzcOUY+2IWU0OxBhj/ojryXLDdWrImCjbIdhnyB9UUrZDXSN5kE1yuwRkFkdpl2eSwZQd0Yf3LOD7wa4b5YaolBtB1pUzi6Zlh8gOgeZ0Ki7BwQ4ZbdFwr+xLZl11hzuKwbSHe8YGvd0HSnWUeWcbHME+Ld8PRVPKbFB0WIzEdNe8ACQf/53hNFeW5XSoK/k+HWlUtaMIPp9ph/BD4ZjSyhzhl7w+EVn5lDOl/yzMPUPVG2RdI8iqlGpBm+mZ9aq6hWg6iqW5e1WJGQ62j+Q4xpR7ncpr2omIC8HVekHUvFI0oZjIBFlX8sYwTecS5Wd8CQAk91DcC67Wtay6LwSIiQvelVyDaTrmKT1gymIAqLxhIkE562KAr/vy3wdlJwAAlB1zyUGSK5jmD8XbVD+gA8AtB6QWue1LME8yr2tVL/nBbYhyI/2zoOoOAaLdvaa1xjfNNO0Q3Gtc1gwA7RWXuFbJ69VbIY5xLkls+xaIDIgVfHZYkxETlaJJPSZAPLZNTER+dy6C3In+sHuDH8xbuScpx2Mt4uJerMeYH/wGK3S2HH/r+s0CxKZ7nAEAi6ufKNnDMYtJDzmI87dmibGcaPh/OW1Ww26DUWY1uDworcJ3AYAAgFvuci5gmtRMSLHknJ+LzeD7wuUvooKjps2WA6U7W4lL+e6CiUK9E9cKpvmU+UN2m+ZxSj3JeW4G3A3Frk92uF4t4Lco1Zl4o0xrUKWMrwsndIZ6J6bPZ4ewTVycpfo5vO5KHHHkMpkBEofwUH/xm02VwWWwXT5wzGEi37wfspoU4hCu8u6muInIYbfisj5cx1rU2v15A/3exCfaPo3P51P00OtUpTLcO5dhyKfDndbY9FML+AgTftEQn2Q7BB+imXXan5OxM8TkFlw5UOYQWlhHnI0wqNHaGLRwTNGhQZTK494GXG5hchPqvvlGgw3sU4M2wlM/pFf6bI4SG5spgMtNTG7XfdPw/+Jiw1rQ2mW4bo1WDU/RghFFBgZV6mnTAZPbzrixasGQAtHGUNgm3NCefkgtcZBNUeXGBd76bzDrhjNuwab9hM4CvkYCULbdbK6iaP6gNteojPDJGwKzbglx0xufmAla6cl83EBPNDnfhkblJc2AWTeFuC1mbcI0EoC0IaqdzVXo9KO5RsM88z8mNyaVkjd42/yRppXudOcxFKhvI66dz2q2Dph9g5K31H8DU6gVfE09Plixs1VyuxXmFq33V9U90KhmbI2lvEkXdw2SP211pVyTgpmQalS554myIzAeN10xb9O9Jdss25Ah+MFukGz5jB8WhDoHPeSJ6wrcvk3OG3XvXa3+iENM1oVkI006o2hKcQmWHMmQtQ4Q2H2jnrfqYkpqkbd/yAI+Y8wGswHi9/oKIY7hlEu5+TmfCey+1Zk349au0n2W9uG+r5gFfL0j3qZdN8qiHrn/1ZPuwq5Z5cgvb6//ZrEQFRfkdioyIBf15roxNxwdkmmvZ9TaMatNQQDD7ds13YBrVhW179xbdshhl1XdswN4YTHD/m4ISLeAUAYA0e+Wtuum9uq2n1nlpxt57a0bD0ehH1Pm/XVru3VzULqdVUm3/6u63eO/wfXj6H+DEAA=",Ki="/assets/reth-SHa20puJ.webp",Wi="data:image/webp;base64,UklGRrIFAABXRUJQVlA4TKYFAAAvP8APEJXQ37btbKR1OlqOsbZt27bt3Y8/2bZt27ZtdG3bGmdyH9u+6vT7A4J3tpl5m2kE1Gzb3lSAwnYmKDOECTJKcOCyQVTi43EsAC4yV0agnqqq6z/nhuBGkiIpOmuxt2+gqO8JhuBAG31EWKJEhRM+8AvKqHDts1EHfcvTKrlhYYAYOWq86iHHbj7f+dBbZMQxjTI9lKNGjjhslQzoYIYUDb5y+Dxthf4aS1NZHK9y0zLKwis8zSdHBA1Sp6IEZmCKDHdF/+vcY4gMMTw4I5zBMUot14wEO0FhhWOhXy1XB/UJ9wPLjZbjiJUK6lNE2OthNTedRxDDdpUeDMcSBl0keD7uXvV5BDkauE+Zg6RUEPRQ4GuNieJ4BD1MuyKCIioEJtjot0+0InCh6qgtE/9YzLOGg4mIYat5TjbJ5yJjDHU5gYMxIxps+Yo65mNSSD4dbTXecNt1J3A4ZaYGmyhvNRT67TkiVsnLdGMNY76lKhFFDBSlbJDg6xMi38oZcmjGqiiUbz4p8uUnIkiYYIGn1RirxYhFU8dfoMgZCiifBmhixWAstloEC5a3Y3fcRB40E9wiGXUCNwMSdRcvkupuNBXj8CY5DjtGBGCNcK84NOPsVuwRSQj62I/msIEIqrmfZp8pGP53LwSsKTDDYZWGGLYLqCKEou8DGvWpFIS5SrFkrYKDQ0YbsiIrSIrxdlOK0lIFWLjno8wvxpcruMisAJjj8osM9ArX0yhS1TS2FrBQG7VQBWmq2G28KDL8Chc7AFIN/cw4OeU+6imKjXregwqpAJpHJZOMJxOpHwzQrFWHFJDG5eGaAibrWqcMA8NAjM97SCkixUOJmJQGPsvOgPy0ISRXPIIw6ZyG3MAAtU8myReHIExm8kGNASK8PE1KvjQUup1662qrMEWxxyThH6EVdbBEWEHyx0wFCMJ/u1xzXuVNXexP+chrsJDkswJCFOVp/fGp6TfKzxHvmCKdM09bLS1QS5qJ3nSYDpT6W118+jsNJardGuNzHZ3SbHCHzqrp4GZr5RtnmFzr3a6TSEe3WqcIKCcGl8YMVDj5pOHS0z45vrZEbcZ4bzhER8ft2yZLV9NCXzjlkP64GCZO+PhOZTyqeMAzBkrSxEX+kI/9M/svl2qmun6e9IhqeFgOPvD7oTg8qqovyQBP2KkYfyHdbk8bzK6Hi/kh/Kq3ePGILvaNU0T97rTvLJeMR/lblABnr3eIuN8fcYtUAgi8keU9vCOPGPk+0JuXFHhDTuHOmcdHJ/DxaosFJglMCSwkMuq5wyE8DrsHkVpFFhLw26o6SBSoEH19KMwi/KmBAtUkQXvVCPitSNxEH9IS8WeXWktHotvgHMT9buZ+i8UQiBuRuK3qFdtciLi/jdzniEDdO+YhTRH+cI7N3pZEJG6F8kYzq5hfGirgDeYgnxjJ/FRF4BBiDfQZzXqtCeUNkbwl5WQnwFEPaoIo0MmSpCKKzD2OUKfMJKVI3iLyJt+d7qBT4fWWS8IKhTXCSt0vnh9+3iTytkh3tZ5SqsAn+otF+HEfH8inlCollpTcvE3WDS4JLpODdLa7RaWs6zYHEQeR6xqJCHh1g6xbXLscaUrpfNpp6W903s1zLVLsukXXTa5x41ZUGSKlNl23ecaNe67YdZvRNwiY5l8nsDjpHy5D7L6B2bfQdiXSdG+px2bxiLpeoSN1vUTMvkWob0rzOcpq8qjtJzR/qEdmeRWpb2WisP19k1jf1twPKJNykANIDhtBSkq/ao3Zt3H7RoYok/JSRTR+il3Dy4OU35h9o0DfytDbSJPJ3lXsDEU+RiW2LK/5RRvsvjWIvrkuV1KjnXXGG26DLhiOVg+7by6hvn22IfpbQLRvL6l9Q6LqqqlEcN8Q8n1LCPdNETuwbwr5vi3U+8aQ71tDvW/+H+7bQ/5/AwM=",Ni="/assets/weeth-Dk-qEu8x.webp",Hi="data:image/svg+xml,%3csvg%20width='48'%20height='49'%20viewBox='0%200%2048%2049'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M48%2024.4997C48%2037.755%2037.2548%2048.5005%2024%2048.5005C10.7452%2048.5005%200%2037.755%200%2024.4997C0%2011.2445%2010.7452%200.499023%2024%200.499023C37.2548%200.499023%2048%2011.2445%2048%2024.4997Z'%20fill='white'/%3e%3cpath%20d='M24.4971%208L24.2785%208.74339L24.2785%2030.3129L24.4971%2030.5312L34.4939%2024.613L24.4971%208Z'%20fill='%236B6B6B'/%3e%3cpath%20d='M24.4971%208L14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L24.4971%208Z'%20fill='%23A2A2A2'/%3e%3cpath%20d='M24.4971%2032.4269L24.3739%2032.5773L24.3739%2040.2607L24.4971%2040.6207L34.5%2026.5117L24.4971%2032.4269Z'%20fill='%234F4E4E'/%3e%3cpath%20d='M24.4971%2040.6207L24.4971%2032.4269L14.5%2026.5117L24.4971%2040.6207Z'%20fill='%23A2A2A2'/%3e%3cpath%20d='M24.4971%2030.5312L34.4939%2024.613L24.4971%2020.062L24.4971%2030.5312Z'%20fill='%23797979'/%3e%3cpath%20d='M14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L14.5%2024.613Z'%20fill='%23D4D4D4'/%3e%3cg%20style='mix-blend-mode:overlay'%3e%3cpath%20d='M24.4971%208L24.2785%208.74339L24.2785%2030.3129L24.4971%2030.5312L34.4939%2024.613L24.4971%208Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%208L14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L24.4971%208Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2032.4269L24.3739%2032.5773L24.3739%2040.2607L24.4971%2040.6207L34.5%2026.5117L24.4971%2032.4269Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2040.6207L24.4971%2032.4269L14.5%2026.5117L24.4971%2040.6207Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2030.5312L34.4939%2024.613L24.4971%2020.062L24.4971%2030.5312Z'%20fill='%23ACE730'/%3e%3cpath%20d='M14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L14.5%2024.613Z'%20fill='%23ACE730'/%3e%3c/g%3e%3c/svg%3e",Gi="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='36'%20height='36'%20rx='18'%20fill='%23BBE7E8'/%3e%3cpath%20d='M18%2030C24.6274%2030%2030%2024.6274%2030%2018C30%2011.3726%2024.6274%206%2018%206C11.3726%206%206%2011.3726%206%2018C6%2024.6274%2011.3726%2030%2018%2030Z'%20fill='%23075A5A'/%3e%3cg%20style='mix-blend-mode:screen'%20opacity='0.3'%3e%3cpath%20opacity='0.8'%20d='M17.9688%207.5V15.4406L24.6802%2018.4398L17.9688%207.5Z'%20fill='white'/%3e%3cpath%20d='M17.9626%207.5L11.25%2018.4398L17.9626%2015.4406V7.5Z'%20fill='white'/%3e%3cpath%20opacity='0.8'%20d='M17.9688%2023.5838V28.9795L24.6849%2019.6875L17.9688%2023.5838Z'%20fill='white'/%3e%3cpath%20d='M17.9626%2028.9795V23.583L11.25%2019.6875L17.9626%2028.9795Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2022.3396L24.6802%2018.4425L17.9688%2015.4453V22.3396Z'%20fill='white'/%3e%3cpath%20d='M11.25%2018.4425L17.9626%2022.3396V15.4453L11.25%2018.4425Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/g%3e%3cg%20style='mix-blend-mode:screen'%20opacity='0.3'%3e%3cpath%20opacity='0.8'%20d='M17.9688%207.89844V15.2584L24.1894%2018.0382L17.9688%207.89844Z'%20fill='white'/%3e%3cpath%20d='M17.9639%207.89844L11.7422%2018.0382L17.9639%2015.2584V7.89844Z'%20fill='white'/%3e%3cpath%20opacity='0.8'%20d='M17.9688%2023.9461V28.4046L23.5184%2020.7266L17.9688%2023.9461Z'%20fill='white'/%3e%3cpath%20d='M17.9686%2028.4046V23.9455L12.4219%2020.7266L17.9686%2028.4046Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2022.0815L24.1894%2018.4694L17.9688%2015.6914V22.0815Z'%20fill='white'/%3e%3cpath%20d='M11.7422%2018.4694L17.9639%2022.0815V15.6914L11.7422%2018.4694Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/g%3e%3cpath%20d='M17.9688%209.85547V16.0539L23.2077%2018.3951L17.9688%209.85547Z'%20fill='%23C1DCDC'/%3e%3cpath%20d='M17.9664%209.85547L12.7266%2018.3951L17.9664%2016.0539V9.85547Z'%20fill='white'/%3e%3cpath%20d='M17.9688%2022.4126V26.6244L23.2114%2019.3711L17.9688%2022.4126Z'%20fill='%23C1DCDC'/%3e%3cpath%20d='M17.9664%2026.6244V22.4119L12.7266%2019.3711L17.9664%2026.6244Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2021.4364L23.2077%2018.3943L17.9688%2016.0547V21.4364Z'%20fill='white'/%3e%3cpath%20d='M12.7266%2018.3943L17.9664%2021.4364V16.0547L12.7266%2018.3943Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/svg%3e";function ji(t){return{cbETH:Oi,wstETH:Ei,rETH:Ki,sfrxETH:Wi,weETH:Ni,ezETH:Hi,rsETH:Gi}[t]}const Zi=["0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db","0x63cc74334f4b1119276667cf0079ac0c8a96cfb2","0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6","0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f","0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0","0xe0e255fd5281bec3bb8fa1569a20097d9064e445","0xc2545c68a71f6803264bde885870fd72d361fb9e","0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483"],zi=["0x1691308554c0a5a37c87e947677a4d31b9c97da9","0xf1c45c7b1f798302d29390d90d4dac38137352b1","0x1ad10ee3284297afcf2f6a41f935300cbebcf70d","0x585d78a00d1be2e95f75b20935d4b8d3c36efef1","0x335849a1c359e83dca508101bd394a9d12e176b9","0xdb3080920ee1df720411e12c16ec3866a8c2f5c6"];function Yi(t){switch(t){case"0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db":case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH";case"0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6":case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH";case"0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0":case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH";case"0xc2545c68a71f6803264bde885870fd72d361fb9e":case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH";case"0x1691308554c0a5a37c87e947677a4d31b9c97da9":case"0xf1c45c7b1f798302d29390d90d4dac38137352b1":return"weETH";case"0x1ad10ee3284297afcf2f6a41f935300cbebcf70d":case"0x585d78a00d1be2e95f75b20935d4b8d3c36efef1":return"ezETH";case"0x335849a1c359e83dca508101bd394a9d12e176b9":case"0xdb3080920ee1df720411e12c16ec3866a8c2f5c6":return"rsETH";default:return null}}function Me(t){const e=Yi(t);return ji(e)}function qe(t){switch(t){case"0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db":return"cbETH";case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH (deprecated)";case"0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6":return"wstETH";case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH (deprecated)";case"0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0":return"rETH";case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH (deprecated)";case"0xc2545c68a71f6803264bde885870fd72d361fb9e":return"sfrxETH";case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH (deprecated)";case"0x1691308554c0a5a37c87e947677a4d31b9c97da9":return"weETH";case"0xf1c45c7b1f798302d29390d90d4dac38137352b1":return"weETH (deprecated)";case"0x1ad10ee3284297afcf2f6a41f935300cbebcf70d":return"ezETH";case"0x585d78a00d1be2e95f75b20935d4b8d3c36efef1":return"ezETH (deprecated)";case"0x335849a1c359e83dca508101bd394a9d12e176b9":return"rsETH";case"0xdb3080920ee1df720411e12c16ec3866a8c2f5c6":return"rsETH (deprecated)";default:return null}}function De(t){return["0x63cc74334f4b1119276667cf0079ac0c8a96cfb2","0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f","0xe0e255fd5281bec3bb8fa1569a20097d9064e445","0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483","0xf1c45c7b1f798302d29390d90d4dac38137352b1","0x585d78a00d1be2e95f75b20935d4b8d3c36efef1","0xdb3080920ee1df720411e12c16ec3866a8c2f5c6"].includes(t)}function be(t,e){const n=R(e),o=t.subscribe({next:s=>{n.value=s},error:s=>{const i=s instanceof Error?qt(s):JSON.stringify(s);Je({text:i,type:"error"})}});return Dt(()=>{o&&o.unsubscribe()}),n}const it=t=>(me("data-v-46d45c1e"),t=t(),ve(),t),Qi={class:"title"},Ji=["src"],Xi=it(()=>u("div",null,null,-1)),ec=it(()=>u("div",null,null,-1)),tc={class:"number"},ac={class:"number"},oc=it(()=>u("div",null,null,-1)),nc=it(()=>u("div",null,null,-1)),sc={class:"number"},lc=it(()=>u("div",null,null,-1)),Bo=I({__name:"TableVaults",setup(t){const{t:e}=E(),n=K(),o=Se().getSocket(Ke(n.flavor)),s=new He(o,"ethereum"),i=R(""),l=be(s.overview$,[]),c=g(()=>N.chain(l.value).filter(m=>{const h=i.value.toLocaleLowerCase().split(" "),r=v=>h.some(b=>v.toLocaleLowerCase().includes(b));return r(m.name)||r(m.address)}).orderBy(m=>m.debt,"desc").value()),p=g(()=>l.value.length===0);return(m,h)=>{const r=fe,v=oe,b=re;return f(),P(b,{class:"datatable-vaults","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"vaults-columns-data",loading:a(p),rows:a(c),columns:["","Name","TVL","Debt","CR","MCR","Troves","Price"]},{"header-content":y(()=>[u("div",Qi,A(a(e)("title")),1),_(r,{modelValue:a(i),"onUpdate:modelValue":h[0]||(h[0]=d=>ce(i)?i.value=d:null),class:"search",search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(d=>[u("img",{src:a(Me)(d.item.address)},null,8,Ji),u("div",{class:O({deprecated:a(De)(d.item.address)})},A(a(qe)(d.item.address)??d.item.name),3),u("div",{class:O(["number",{deprecated:a(De)(d.item.address)}])},[_(v,{value:d.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])],2),u("div",{class:O(["number",{deprecated:a(De)(d.item.address)}])},[_(v,{value:d.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])],2),u("div",{class:O(["number",{deprecated:a(De)(d.item.address)}])},[_(v,{value:d.item.cr*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",{class:O(["number",{deprecated:a(De)(d.item.address)}])},[_(v,{value:d.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",{class:O(["number",{deprecated:a(De)(d.item.address)}])},A(d.item.open_troves),3),u("div",{class:O(["number",{deprecated:a(De)(d.item.address)}])},[_(v,{type:"dollar",value:Math.round(d.item.price),precision:1/0},null,8,["value"])],2)]),"row-aggregation":y(()=>[Xi,ec,u("div",tc,[_(v,{value:a(c).reduce((d,w)=>d+w.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",ac,[_(v,{value:a(c).reduce((d,w)=>d+w.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),oc,nc,u("div",sc,[_(v,{value:a(c).reduce((d,w)=>d+w.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),lc]),"row-details":y(()=>[j("   ")]),_:1},8,["loading","rows"])}}});function pa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Vaults"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof pa=="function"&&pa(Bo);const rc=D(Bo,[["__scopeId","data-v-46d45c1e"]]),gt=Xe("vaultStore",()=>{const t=R(null),e=R(null);return{vault:t,trove:e}}),ic={class:"vaults"},cc=I({__name:"Vaults.page",setup(t){const e=bt(),n=gt(),o=et();ge(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const s=async i=>{n.vault=i,await o.push({name:"prismavault",params:{tab:"",vaultAddr:i.address}})};return(i,l)=>(f(),S("div",ic,[_(rc,{style:{"grid-column":"1 / -1"},onSelected:s}),_(Si),_(Li),_(Pi),_(Ci)]))}}),uc=D(cc,[["__scopeId","data-v-0e5827c8"]]),Uo=I({__name:"ChartPoolTvl",setup(t){const{t:e}=E();let n;const{theme:o,flavor:s}=z(K()),{chart:i,chartRef:l}=de(o,h,d=>{n=d.addAreaSeries(r())}),c=new We(G(),s.value),{isFetching:p,data:m}=H({queryKey:["prisma-stable-pool-tvl"],queryFn:()=>c.getPoolTvl("ethereum","1m").then(d=>d.deposits),initialData:[],initialDataUpdatedAt:0});W([m,i],v),W(o,()=>n.applyOptions(r()));function h(d){return ue(d,o.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:w=>b(w)}})}function r(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}}function v([d,w]){if(!w||!n)return;const L=N.chain(d).map(x=>({time:x.timestamp,value:x.value})).uniqWith((x,C)=>x.time===C.time).orderBy(x=>x.time,"asc").value();L.length>0&&n.setData(L),w.timeScale().fitContent()}const b=d=>`$${J(d,1,"dollar")}${Q(d,"dollar")}`;return(d,w)=>{const L=te;return f(),P(L,{class:"chart-container",title:a(e)("title"),loading:a(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ma(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total deposits in stability pool"}}}})}typeof ma=="function"&&ma(Uo);const dc=D(Uo,[["__scopeId","data-v-85f4d43d"]]),Oo=I({__name:"ChartStableFlow",setup(t){const{t:e}=E(),{theme:n,flavor:o}=z(K()),s=new We(G(),o.value),{isFetching:i,data:l}=H({queryKey:["prisma-stable-flow"],queryFn:()=>s.getStableFlow("ethereum","1m"),initialData:{deposits:[],withdrawals:[]},initialDataUpdatedAt:0}),c=g(()=>{const{colors:v}=n.value;return ne(n.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[v.green,v.red],xaxis:{categories:p.value,labels:{formatter:h,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:b,dataPointIndex:d,w})=>{let L=0;const x=b.map((C,T)=>{const $=C[d];return L+=$,`<div><b>${w.globals.seriesNames[T]}</b>:	${r($)}</div>`});return x.push(`<div><b>Total</b>:	${r(L)}</div>`),x.join("")}}})}),p=g(()=>l.value.deposits.length===0?[]:l.value.deposits.map(v=>new Date(v.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),m=g(()=>[{name:e("deposits"),data:Object.values(l.value.deposits).map(v=>v.value)},{name:e("withdrawals"),data:Object.values(l.value.withdrawals).map(v=>v.value)}]),h=v=>v,r=v=>`$${J(v,0,"dollar")}${Q(v,"dollar")}`;return(v,b)=>{const d=ie;return f(),P(d,{title:a(e)("title",{stable:a(_t)(a(o))}),loading:a(i),options:a(c),series:a(m)},null,8,["title","loading","options","series"])}}});function va(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:4,k:"stable"},{t:3,v:" deposits and withdrawals"}]}},deposits:{t:0,b:{t:2,i:[{t:3}],s:"Deposits"}},withdrawals:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawals"}}}})}typeof va=="function"&&va(Oo);const pc=D(Oo,[["__scopeId","data-v-91670f21"]]),Eo=I({__name:"ChartDepositDistribution",setup(t){const{t:e}=E(),{theme:n,flavor:o}=z(K()),s=new We(G(),o.value),{isFetching:i,data:l}=H({queryKey:["prisma-stable-distribution"],queryFn:()=>s.getStableDistribution("ethereum").then(h=>h.distribution),initialData:[],initialDataUpdatedAt:0}),c=g(()=>ne(n.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:m.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),p=g(()=>[{name:e("numPos"),data:Object.values(l.value).map(h=>h.value)}]),m=g(()=>l.value.map(h=>h.label));return(h,r)=>{const v=ie;return f(),P(v,{title:a(e)("title"),loading:a(i),series:a(p),options:a(c)},null,8,["title","loading","series","options"])}}});function fa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distribution of current user deposits"}},numPos:{t:0,b:{t:2,i:[{t:3}],s:"# of positions"}}}})}typeof fa=="function"&&fa(Eo);const mc=D(Eo,[["__scopeId","data-v-8e4e9561"]]),Ko=I({__name:"ChartCumulativeWithdrawals",setup(t){const{t:e}=E();let n;const{theme:o,flavor:s}=z(K()),{chart:i,chartRef:l}=de(o,h,d=>{n=d.addAreaSeries(r())}),c=new We(G(),s.value),{isFetching:p,data:m}=H({queryKey:["prisma-cum-withdrawals"],queryFn:()=>c.getCumulativeWithdrawals("ethereum","all").then(d=>d.withdrawals),initialData:[],initialDataUpdatedAt:0});W([m,i],v),W(o,()=>n.applyOptions(r()));function h(d){return ue(d,o.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:w=>b(w)}})}function r(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}}function v([d,w]){if(!w||!n)return;const L=N.chain(d).map(x=>({time:x.timestamp,value:x.value})).uniqWith((x,C)=>x.time===C.time).orderBy(x=>x.time,"asc").value();L.length>0&&n.setData(L),w.timeScale().fitContent()}const b=d=>`$${J(d,1,"dollar")}${Q(d,"dollar")}`;return(d,w)=>{const L=te;return f(),P(L,{class:"chart-container",title:a(e)("title"),loading:a(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ha(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Cumulative value of collaterals withdrawn"}}}})}typeof ha=="function"&&ha(Ko);const vc=D(Ko,[["__scopeId","data-v-fa3b3fa1"]]),fc={class:"title"},hc={class:"address"},_c=["href"],bc={class:"number"},gc={class:"number"},yc={class:"address"},wc=["href"],Wo=I({__name:"TableTopDeposits",setup(t){const{t:e}=E(),n=K(),o=new We(G(),n.flavor),{isFetching:s,data:i}=H({queryKey:["prisma-stable-top-deposits"],queryFn:()=>o.getTopStableDeposits("ethereum",5,"7d").then(c=>c.operations),initialData:[],initialDataUpdatedAt:0}),l=g(()=>N.chain(i.value).map(c=>c).value());return(c,p)=>{const m=oe,h=re;return f(),P(h,{class:"datatable-deposits","columns-header":"1fr","columns-data":"deposits-columns-data",loading:a(s),rows:a(l),columns:["Address","Amount","Date","Tx"]},{"header-content":y(()=>[u("div",fc,A(a(e)("title")),1)]),row:y(r=>[u("div",hc,[u("a",{href:`https://etherscan.io/address/${r.item.user}`,target:"_blank"},A(a(Y)(r.item.user,8)),9,_c)]),u("div",bc,[_(m,{value:r.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",gc,A(new Date(r.item.timestamp*1e3).toLocaleDateString()),1),u("div",yc,[u("a",{href:`https://etherscan.io/tx/${r.item.hash}`,target:"_blank"},A(a(Y)(r.item.hash,8)),9,wc)])]),_:1},8,["loading","rows"])}}});function _a(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest deposits past 7 days"}}}})}typeof _a=="function"&&_a(Wo);const $c=D(Wo,[["__scopeId","data-v-8f408a11"]]),Cc={class:"title"},kc={class:"address"},Sc=["href"],Lc={class:"number"},Tc={class:"number"},Ac={class:"address"},Pc=["href"],No=I({__name:"TableTopWithdrawals",setup(t){const{t:e}=E(),n=K(),o=new We(G(),n.flavor),s=g(()=>N.chain(l.value).map(c=>c).value()),{isFetching:i,data:l}=H({queryKey:["prisma-stable-top-withdrawals"],queryFn:()=>o.getTopStableWithdrawals("ethereum",5,"7d").then(c=>c.operations),initialData:[],initialDataUpdatedAt:0});return(c,p)=>{const m=oe,h=re;return f(),P(h,{class:"datatable-withdrawals","columns-header":"1fr","columns-data":"withdrawals-columns-data",loading:a(i),rows:a(s),columns:["Address","Amount","Date","Tx"]},{"header-content":y(()=>[u("div",Cc,A(a(e)("title")),1)]),row:y(r=>[u("div",kc,[u("a",{href:`https://etherscan.io/address/${r.item.user}`,target:"_blank"},A(a(Y)(r.item.user,8)),9,Sc)]),u("div",Lc,[_(m,{value:r.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",Tc,A(new Date(r.item.timestamp*1e3).toLocaleDateString()),1),u("div",Ac,[u("a",{href:`https://etherscan.io/tx/${r.item.hash}`,target:"_blank"},A(a(Y)(r.item.hash,8)),9,Pc)])]),_:1},8,["loading","rows"])}}});function ba(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest withdrawals past 7 days"}}}})}typeof ba=="function"&&ba(No);const Ic=D(No,[["__scopeId","data-v-f8d46e5c"]]),Dc={class:"pool"},xc=I({__name:"StabilityPool.page",setup(t){return(e,n)=>(f(),S("div",Dc,[_(dc),_(pc),_(mc),_(vc),_($c),_(Ic)]))}}),qc=D(xc,[["__scopeId","data-v-207fe888"]]),Vc={key:0,class:"value"},Mc={key:1,class:"value"},Fc=["innerHTML"],Rc={key:0,class:"value"},Bc={key:1,class:"value"},Uc=["innerHTML"],Oc={class:"labels"},Ec={class:"label"},Kc={class:"label-second"},Wc=I({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(t){return(e,n)=>{const o=nt;return f(),S("div",{class:O(["kpi",{disabled:!e.hasValue}])},[u("div",{class:O(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[ee(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(f(),P(o,{key:0},{item:y(()=>[e.hasValue?(f(),S("span",Vc,A(e.value),1)):(f(),S("span",Mc," ? "))]),default:y(()=>[ee(e.$slots,"tooltip",{},()=>[u("span",{innerHTML:e.tooltip},null,8,Fc)],!0)]),_:3})):(f(),S(X,{key:1},[e.hasValue?(f(),S("span",Rc,A(e.value),1)):(f(),S("span",Bc," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(f(),P(o,{key:0},{default:y(()=>[u("span",{innerHTML:e.tooltip},null,8,Uc)]),_:1})):M("",!0)],2),u("div",Oc,[ee(e.$slots,"label",{},()=>[u("div",Ec,A(e.label),1)],!0),ee(e.$slots,"label-second",{},()=>[u("div",Kc,A(e.labelSecond),1)],!0)])],2)}}}),Le=D(Wc,[["__scopeId","data-v-9ca23269"]]),Nc={class:"kpis"},Hc=I({__name:"KPIs",setup(t){const e=K(),n=new lt(G(),e.flavor),{data:o}=H({queryKey:["prisma-stable-kpi"],queryFn:()=>n.getStableCoinKPI("ethereum").then(s=>s.info)});return(s,i)=>{const l=oe,c=Le;return f(),S("div",Nc,[_(c,{label:`${a(_t)(a(e).flavor)} price`,"has-value":!!a(o)},{default:y(()=>[a(o)?(f(),P(l,{key:0,value:a(o).price,precision:4,type:"dollar"},null,8,["value"])):M("",!0)]),_:1},8,["label","has-value"]),_(c,{label:"Total supply","has-value":!!a(o)},{default:y(()=>[a(o)?(f(),P(l,{key:0,value:a(o).supply,precision:2,type:"dollar"},null,8,["value"])):M("",!0)]),_:1},8,["has-value"]),_(c,{label:"24h Volume (Curve)","has-value":!!a(o)},{default:y(()=>[a(o)?(f(),P(l,{key:0,value:a(o).volume,precision:1,type:"dollar"},null,8,["value"])):M("",!0)]),_:1},8,["has-value"]),_(c,{label:"Aggregate -2% Depth (Curve)","has-value":!!a(o)},{default:y(()=>[a(o)?(f(),P(l,{key:0,value:a(o).depth,precision:1,type:"dollar"},null,8,["value"])):M("",!0)]),_:1},8,["has-value"])])}}}),Gc=D(Hc,[["__scopeId","data-v-bf1dc02e"]]),Ho=I({__name:"ChartPrice",setup(t){const{t:e}=E();let n;const{theme:o,flavor:s}=z(K()),{chart:i,chartRef:l}=de(o,w,T=>{n=T.addCandlestickSeries(L())}),c=()=>{switch(s.value){case"lsd":return"0xF980B4A4194694913Af231De69AB4593f5E0fCDc";case"lrt":return"0xC03FEF1c425956A3Cd5762022E511e0d4148B3D6";default:return""}},p=()=>{switch(s.value){case"lsd":return"0x4591DBfF62656E7859Afe5e45f6f47D3669fBB28";case"lrt":return"0x35282d87011f87508D457F08252Bc5bFa52E10A0";default:return""}},m=()=>{const T=Math.floor(new Date().getTime()/1e3),$=14400,k=T-$*200,q="0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",B=c(),U=p();return{pool:B,chain:"ethereum",main_token:q,reference_token:U,interval:$,start:k,end:T}},h=Se().getSocket("prices"),r=new ft(h,"ethereum",m()),v=be(r.ohlc$,[]),b=g(()=>v.value.length===0),d=g(()=>{switch(s.value){case"lsd":return"Price is in USDC from Curve mkUSD/USDC pool";case"lrt":return"Price is in USDC from Curve ULTRA/USDC pool";default:return"???"}});W(v,x),W(o,()=>n.applyOptions(L()));function w(T){return ue(T,o.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:$=>C($)}})}function L(){const{colors:T}=o.value;return{priceFormat:{type:"price",precision:6,minMove:.01},upColor:T.green,borderUpColor:T.green,wickUpColor:T.green,downColor:T.red,borderDownColor:T.red,wickDownColor:T.red,lastValueVisible:!0,priceLineVisible:!1}}function x(T){if(!i.value||!n)return;const $=N.chain(T).map(k=>({time:k.time,open:k.open,high:k.high,low:k.low,close:k.close})).uniqWith((k,q)=>k.time===q.time).orderBy(k=>k.time,"asc").value();$.length>0&&n.setData($),i.value.timeScale().fitContent()}const C=T=>`$${J(T,4,"dollar")}${Q(T,"dollar")}`;return(T,$)=>{const k=nt,q=te;return f(),P(q,{class:"chart-container",title:a(e)("title",{stable:a(_t)(a(s))}),loading:a(b)},{actions:y(()=>[_(k,{placement:"left"},{default:y(()=>[u("div",null,A(a(d)),1)]),_:1})]),default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ga(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:4,k:"stable"},{t:3,v:" price (last 30 days)"}]}}}})}typeof ga=="function"&&ga(Ho);const jc=D(Ho,[["__scopeId","data-v-457f72f4"]]),Go=I({__name:"ChartPriceDistribution",setup(t){const{t:e}=E(),{theme:n,flavor:o}=z(K()),s=new lt(G(),o.value),{isFetching:i,data:l}=H({queryKey:["prisma-stable-price-distribution"],queryFn:()=>s.getPriceHistogram("ethereum",10,"all").then(r=>r.histogram),initialData:[],initialDataUpdatedAt:0}),c=g(()=>ne(n.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:m.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),p=g(()=>[{name:e("numPos"),data:Object.values(l.value).map(r=>r.value)}]),m=g(()=>l.value.map(r=>h(r.label))),h=r=>{const v=/-?\d+(\.\d+)?/g,b=d=>parseFloat(d).toFixed(4);return r.replace(v,d=>b(d))};return(r,v)=>{const b=ie;return f(),P(b,{title:a(e)("title"),loading:a(i),series:a(p),options:a(c)},null,8,["title","loading","series","options"])}}});function ya(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price histogram"}},numPos:{t:0,b:{t:2,i:[{t:3}],s:"# of hourly price records"}}}})}typeof ya=="function"&&ya(Go);const Zc=D(Go,[["__scopeId","data-v-b6d7d42c"]]),jo=I({__name:"ChartSupply",setup(t){const{t:e}=E();let n;const{theme:o,flavor:s}=z(K()),{chart:i,chartRef:l}=de(o,h,d=>{n=d.addAreaSeries(r())}),c=new lt(G(),s.value),{isFetching:p,data:m}=H({queryKey:["prisma-stable-supply"],queryFn:()=>c.getSupplyHistory("ethereum").then(d=>d.supply),initialData:[],initialDataUpdatedAt:0});W([m,i],v),W(o,()=>n.applyOptions(r()));function h(d){return ue(d,o.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:w=>b(w)}})}function r(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}}function v([d,w]){if(!w||!n)return;const L=N.chain(d).map(x=>({time:x.timestamp,value:x.value})).uniqWith((x,C)=>x.time===C.time).orderBy(x=>x.time,"asc").value();L.length>0&&n.setData(L),w.timeScale().fitContent()}const b=d=>`${J(d,1,"dollar")}${Q(d,"dollar")}`;return(d,w)=>{const L=te;return f(),P(L,{class:"chart-container",title:a(e)("title"),loading:a(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function wa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Supply"}}}})}typeof wa=="function"&&wa(jo);const zc=D(jo,[["__scopeId","data-v-4b351bda"]]),Zo=I({__name:"ChartHolders",setup(t){const{t:e}=E(),{theme:n,flavor:o}=z(K()),s=new lt(G(),o.value),{isFetching:i,data:l}=H({queryKey:["prisma-stable-holders"],queryFn:()=>s.getLargeStableCoinHolders("ethereum").then(r=>r.holders),initialData:[],initialDataUpdatedAt:0}),c=g(()=>ne(n.value,{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{let v=m.value[r.seriesIndex];v=v.length>10&&v.startsWith("0x")?Y(v):v;const b=r.series[r.seriesIndex];return[`<div><b>${v}</b>:</div><div>${h(b)}</div>`].join("")}},labels:l.value.map(r=>r.label.length>10&&r.label.startsWith("0x")?Y(r.label):r.label)})),p=g(()=>l.value.map(r=>r.value)),m=g(()=>l.value.map(r=>r.label)),h=r=>`$${J(Math.abs(r),1,"dollar")}${Q(r,"dollar")}`;return(r,v)=>{const b=ie;return f(),P(b,{class:"graph",title:a(e)("title"),loading:a(i),options:a(c),series:a(p)},null,8,["title","loading","options","series"])}}});function $a(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest holders"}}}})}typeof $a=="function"&&$a(Zo);const Yc=D(Zo,[["__scopeId","data-v-93ed1259"]]),zo=I({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(t){const{t:e}=E(),{theme:n}=z(K()),o=g(()=>{const{colors:c}=n.value;return ne(n.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:p=>l(p)}},yaxis:{seriesName:"amounts",labels:{formatter:p=>l(p)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:p=>l(p)}},colors:[p=>p.value===0?c.blue:c.green,p=>p.value===0?c.blue:c.red]})}),s=g(()=>{if(!t.depth)return[];const c=[...t.depth.ask.prices.map(m=>({x:m,y:0})),...t.depth.bid.prices.map((m,h)=>({x:m,y:t.depth.bid.amounts[h]}))],p=[...t.depth.ask.prices.map((m,h)=>({x:m,y:t.depth.ask.amounts[h]}))];return[{name:"Bid",data:c},{name:"Ask",data:p}]}),i=g(()=>{var p;if(!((p=t.depth)!=null&&p.tokens)||t.depth.tokens.length===0)return e("title");const c=t.depth.tokens.join(" / ");return`${e("title")} - ${c} (Curve)`}),l=c=>`$${J(Math.abs(c),2,"dollar")}${Q(c,"dollar")}`;return(c,p)=>{const m=ie;return f(),P(m,{class:"chart",title:a(i),loading:c.loading,options:a(o),series:a(s)},null,8,["title","loading","options","series"])}}});function Ca(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidity Depth"}}}})}typeof Ca=="function"&&Ca(zo);const Qc=D(zo,[["__scopeId","data-v-54923803"]]),Jc=I({__name:"ChartDepthContainer",setup(t){const e=K(),n=new lt(G(),e.flavor),{isFetching:o,data:s}=H({queryKey:["prisma-stable-pool-depth"],queryFn:()=>n.getCurvePoolDepth("ethereum").then(i=>i.depth),initialData:[],initialDataUpdatedAt:0});return(i,l)=>(f(!0),S(X,null,le(a(s),c=>(f(),P(Qc,{key:c.name,loading:a(o),depth:c},null,8,["loading","depth"]))),128))}}),Xc=D(Jc,[["__scopeId","data-v-2ac11a80"]]),eu={class:"stable"},tu=I({__name:"Stablecoin.page",setup(t){return(e,n)=>(f(),S("div",eu,[_(Gc,{style:{"grid-column":"1 / -1"}}),_(jc),_(Zc),_(zc),_(Yc),_(Xc)]))}}),au=D(tu,[["__scopeId","data-v-b712cc51"]]),Et=t=>(me("data-v-c920758b"),t=t(),ve(),t),ou={key:0},nu=Et(()=>u("button",null,"1",-1)),su=[nu],lu=Et(()=>u("button",null,[u("i",{class:"fas fa-chevron-left"})],-1)),ru=[lu],iu=["onClick"],cu=Et(()=>u("button",null,[u("i",{class:"fas fa-chevron-right"})],-1)),uu=[cu],du=I({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(t,{emit:e}){const n=e,o=g(()=>Math.ceil(t.itemsCount/t.itemsPerPage)),s=g(()=>{const r=[...Array(12).keys()].map(x=>x-6+t.page).filter(x=>x>=1&&x<=o.value),v=r.findIndex(x=>x===t.page),b=[],d=[],w=t.page!==1&&t.page!==o.value?[t.page]:[];let L=1;for(;;){const x=r[v-L];if(x&&x!==1&&b.unshift(x),b.length+d.length+w.length>=5||L>r.length)break;const C=r[v+L];if(C&&C!==o.value&&d.push(C),L++,b.length+d.length+w.length>=5||L>r.length)break}return[...b,...w,...d]});W(s,()=>{const m=i(t.page,1,o.value);t.page!==m&&n("page",m)});const i=(m,h,r)=>(r<h&&(r=h),Math.min(Math.max(m,h),r)),l=()=>n("page",i(t.page-1,1,o.value)),c=()=>n("page",i(t.page+1,1,o.value)),p=m=>n("page",i(m,1,o.value));return(m,h)=>a(o)>1?(f(),S("ul",ou,[u("li",{class:O({active:m.page===1}),onClick:h[0]||(h[0]=r=>p(1))},su,2),a(o)>2?(f(),S("li",{key:0,onClick:l},ru)):M("",!0),(f(!0),S(X,null,le(a(s),(r,v)=>(f(),S("li",{key:v,class:O({active:r===m.page}),onClick:b=>p(r)},[u("button",null,A(r),1)],10,iu))),128)),a(o)>2?(f(),S("li",{key:1,onClick:c},uu)):M("",!0),a(o)>1?(f(),S("li",{key:2,class:O({active:m.page===a(o)}),onClick:h[1]||(h[1]=r=>p(a(o)))},[u("button",null,A(a(o)),1)],2)):M("",!0)])):M("",!0)}}),we=D(du,[["__scopeId","data-v-c920758b"]]),pu={class:"redemption-details"},mu={class:"kpis"},vu={class:"title"},fu=["href"],Yo=I({__name:"RedemptionDetails",props:{vaultAddr:{},redemption:{}},setup(t){const{t:e}=E(),n=R(""),o=g(()=>N.chain(t.redemption.troves_affected).filter(s=>{const i=n.value.toLocaleLowerCase().split(" ");return(c=>i.some(p=>c.toLocaleLowerCase().includes(p)))(s)}).value());return(s,i)=>{const l=oe,c=Le,p=fe,m=re,h=te;return f(),P(h,{title:a(e)("redemption-details")},{default:y(()=>[u("div",pu,[u("div",mu,[_(c,{label:a(e)("withdrawal")},{default:y(()=>[_(l,{value:s.redemption.attempted_debt_amount,precision:2,type:"dollar"},null,8,["value"]),j(" / "),_(l,{value:s.redemption.collateral_sent_to_redeemer_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),_(c,{label:a(e)("fee")},{default:y(()=>[_(l,{value:s.redemption.collateral_fee_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),_(m,{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:a(o),columns:["Trove"]},{"header-content":y(()=>[u("div",vu,A(a(e)("troves-affected")),1),_(p,{modelValue:a(n),"onUpdate:modelValue":i[0]||(i[0]=r=>ce(n)?n.value=r:null),class:"search",search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(r=>[u("div",null,[u("a",{class:"font-mono",target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${r.item}`,onClick:i[1]||(i[1]=ae(()=>{},["stop"]))},A(r.item),9,fu)])]),_:1},8,["rows"])])]),_:1},8,["title"])}}});function ka(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":{t:0,b:{t:2,i:[{t:3}],s:"Troves affected"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"redemption-details":{t:0,b:{t:2,i:[{t:3}],s:"Redemption Details"}},withdrawal:{t:0,b:{t:2,i:[{t:3}],s:"Attempted / Received"}},fee:{t:0,b:{t:2,i:[{t:3}],s:"Fee"}}}})}typeof ka=="function"&&ka(Yo);const Kt=D(Yo,[["__scopeId","data-v-3d490c1b"]]),hu={key:0,class:"item"},_u=["src"],bu={key:1,class:"empty"},gu={class:"label"},yu=I({__name:"SelectVault",props:{vault:{default:null},all:{type:Boolean,default:!1}},emits:["select-vault"],setup(t,{emit:e}){const n=e,o=K(),s=R(!1),i=[...t.all?["all"]:[],...o.flavor==="lsd"?Zi:zi];ge(()=>{c(i[0])});const l=()=>{s.value=!s.value},c=p=>{n("select-vault",p)};return(p,m)=>{const h=Po;return f(),P(h,{class:"select",options:i,selected:p.vault,open:a(s),onOpen:l,onClose:m[0]||(m[0]=r=>s.value=!1),onInput:c},{item:y(r=>[r.item?(f(),S("div",hu,[r.item!=="all"?(f(),S("img",{key:0,src:a(Me)(r.item)},null,8,_u)):(f(),S("div",bu)),u("div",gu,A(r.item==="all"?"All":a(qe)(r.item)),1)])):M("",!0)]),_:1},8,["selected","open"])}}}),yt=D(yu,[["__scopeId","data-v-e7691bcd"]]);function wu(t,e){const o=Math.round(t.value/1e3)-e;return o<60?`${Math.round(o)} seconds ago`:o<60*60?`${Math.round(o/60)} minutes ago`:o<60*60*24?`${Math.round(o/(60*60))} hours ago`:`${Math.round(o/(60*60*24))} days ago`}function ke(){const t=R(Date.now());return ge(()=>{setInterval(()=>{t.value=Date.now()})}),{relativeTime:n=>wu(t,n)}}function Te(t,e,n){const o=R(e),s=R("desc"),i=(c,p)=>{o.value=c,s.value=p},l=g(()=>t.filter(c=>c!==""));return{sortColumns:t,sortColumnsNoEmpty:l,sortColumn:o,sortOrder:s,onSort:i}}function $e(t,e){const n=R(1),o=g(()=>N.chain(t.value).drop((n.value-1)*e).take(e).value()),s=i=>{n.value=i};return W(o,i=>{i.length===0&&(n.value=Math.max(1,Math.ceil(t.value.length/e)))}),{page:n,rowsPage:o,onPage:s}}const $u={class:"title"},Cu={style:{display:"flex",gap:"1rem"}},ku=["src"],Su=["href"],Lu=["href"],Tu={class:"number"},Au={class:"number"},Pu={class:"number"},Sa=15,Qo=I({__name:"TableRedemptions",props:{vaults:{default:()=>[]}},setup(t){const e=K(),n=new Ot(G(),e.flavor),{t:o}=E(),{isFetching:s,data:i}=H({queryKey:["prisma-redemptions",g(()=>t.vaults.map($=>$.address))],queryFn:({queryKey:[,$]})=>$.length>0?Promise.all($.map(k=>n.getRedemptions("ethereum",k))).then(k=>k.flat()):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=ke(),c=R(""),p=R("all"),m=R(null),{sortColumns:h,sortColumn:r,sortOrder:v,onSort:b}=Te(["icon","redeemer","tx","debt","numtroves","timestamp"],"timestamp"),d=g(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),w=g(()=>["redeemer","tx","debt","numtroves","timestamp"]),L=g(()=>N.chain(i.value).filter($=>{const k=c.value.toLocaleLowerCase().split(" "),q=U=>k.some(F=>U.toLocaleLowerCase().includes(F)),B=p.value==="all"?!0:$.vault===p.value;return q($.redeemer)&&B}).orderBy($=>{switch(r.value){case"redeemer":return $.redeemer;case"tx":return $.transaction;case"debt":return $.actual_debt_amount;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},v.value).value()),{page:x,rowsPage:C,onPage:T}=$e(L,Sa);return($,k)=>{const q=fe,B=we,U=oe,F=re,Z=Ae;return f(),S(X,null,[_(F,{class:"datatable-redemptions","columns-header":"1fr 14rem 2fr","columns-data":"redemptions-columns-data",loading:a(s),rows:a(C),columns:a(d),sorting:!0,"sorting-columns":a(h),"sorting-columns-enabled":a(w),"sorting-default-column":"timestamp","sorting-default-dir":"desc",onSortColumn:a(b),onSelected:k[4]||(k[4]=V=>m.value=V)},{"header-content":y(()=>[u("div",$u,A(a(o)("title")),1),_(yt,{class:"select-vault",vault:a(p),all:!0,onSelectVault:k[0]||(k[0]=V=>p.value=V)},null,8,["vault"]),u("div",Cu,[_(q,{modelValue:a(c),"onUpdate:modelValue":k[1]||(k[1]=V=>ce(c)?c.value=V:null),class:"search",search:!0,placeholder:a(o)("search-placeholder")},null,8,["modelValue","placeholder"]),_(B,{class:"pagination","items-count":a(L).length,"items-per-page":Sa,page:a(x),onPage:a(T)},null,8,["items-count","page","onPage"])])]),row:y(V=>[u("img",{src:a(Me)(V.item.vault)},null,8,ku),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${V.item.redeemer}`,target:"_blank",onClick:k[2]||(k[2]=ae(()=>{},["stop"]))},A(a(Y)(V.item.redeemer)),9,Su)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.item.transaction}`,target:"_blank",onClick:k[3]||(k[3]=ae(()=>{},["stop"]))},A(a(Y)(V.item.transaction)),9,Lu)]),u("div",Tu,[_(U,{type:"dollar",value:Math.round(V.item.actual_debt_amount),precision:1/0},null,8,["value"])]),u("div",Au,A(V.item.troves_affected_count),1),u("div",Pu,A(a(l)(V.item.timestamp)),1)]),"row-details":y(()=>[j("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),_(Z,{show:!!a(m),onClose:k[5]||(k[5]=V=>m.value=null)},{default:y(()=>[a(m)?(f(),P(Kt,{key:0,redemption:a(m),"vault-addr":a(m).vault},null,8,["redemption","vault-addr"])):M("",!0)]),_:1},8,["show"])],64)}}});function La(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof La=="function"&&La(Qo);const Iu=D(Qo,[["__scopeId","data-v-8b788976"]]),Du={class:"redemptions"},xu=I({__name:"Redemptions.page",setup(t){const e=K(),n=Se().getSocket(Ke(e.flavor)),o=new He(n,"ethereum"),s=be(o.overview$,[]);return(i,l)=>(f(),S("div",Du,[_(Iu,{vaults:a(s)},null,8,["vaults"])]))}}),qu=D(xu,[["__scopeId","data-v-3c22273b"]]),Vu={class:"liquidation-details"},Mu={class:"kpis"},Fu={class:"title"},Ru=["href"],Jo=I({__name:"LiquidationDetails",props:{vaultAddr:{},liquidation:{}},setup(t){const{t:e}=E(),n=R(""),o=g(()=>N.chain(t.liquidation.troves_affected).filter(s=>{const i=n.value.toLocaleLowerCase().split(" ");return(c=>i.some(p=>c.toLocaleLowerCase().includes(p)))(s)}).value());return(s,i)=>{const l=oe,c=Le,p=fe,m=re,h=te;return f(),P(h,{title:a(e)("liquidation-details")},{default:y(()=>[u("div",Vu,[u("div",Mu,[_(c,{label:a(e)("debt")},{default:y(()=>[_(l,{value:s.liquidation.liquidated_debt,precision:2,type:"dollar"},null,8,["value"]),j(" / "),_(l,{value:s.liquidation.liquidated_collateral,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),_(c,{label:a(e)("gas-compensation")},{default:y(()=>[_(l,{value:s.liquidation.collateral_gas_compensation_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),_(m,{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:a(o),columns:["Trove"]},{"header-content":y(()=>[u("div",Fu,A(a(e)("troves-affected")),1),_(p,{modelValue:a(n),"onUpdate:modelValue":i[0]||(i[0]=r=>ce(n)?n.value=r:null),class:"search",search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(r=>[u("div",null,[u("a",{class:"font-mono",target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${r.item}`,onClick:i[1]||(i[1]=ae(()=>{},["stop"]))},A(r.item),9,Ru)])]),_:1},8,["rows"])])]),_:1},8,["title"])}}});function Ta(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":{t:0,b:{t:2,i:[{t:3}],s:"Troves affected"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"liquidation-details":{t:0,b:{t:2,i:[{t:3}],s:"Liquidation Details"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt / Collateral"}},"gas-compensation":{t:0,b:{t:2,i:[{t:3}],s:"Gas compensation"}}}})}typeof Ta=="function"&&Ta(Jo);const Wt=D(Jo,[["__scopeId","data-v-8f32999a"]]),Bu={class:"title"},Uu={style:{display:"flex",gap:"1rem"}},Ou=["src"],Eu=["href"],Ku=["href"],Wu={class:"number"},Nu={class:"number"},Hu={class:"number"},Aa=15,Xo=I({__name:"TableLiquidations",props:{vaults:{default:()=>[]}},setup(t){const e=K(),n=new Ut(G(),e.flavor),{t:o}=E(),{isFetching:s,data:i}=H({queryKey:["prisma-liquidations",g(()=>t.vaults.map($=>$.address))],queryFn:({queryKey:[,$]})=>$.length>0?Promise.all($.map(k=>n.getLiquidations("ethereum",k))).then(k=>k.flat()):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=ke(),c=R(""),p=R("all"),m=R(null),{sortColumns:h,sortColumn:r,sortOrder:v,onSort:b}=Te(["icon","liquidator","tx","debt","numtroves","timestamp"],"timestamp"),d=g(()=>["","Liquidator","Transaction","Debt","# Troves","Time"]),w=g(()=>["liquidator","tx","debt","numtroves","timestamp"]),L=g(()=>N.chain(i.value).filter($=>{const k=c.value.toLocaleLowerCase().split(" "),q=U=>k.some(F=>U.toLocaleLowerCase().includes(F)),B=p.value==="all"?!0:$.vault===p.value;return q($.liquidator)&&B}).orderBy($=>{switch(r.value){case"liquidator":return $.liquidator;case"tx":return $.transaction;case"debt":return $.liquidated_collateral_usd;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},v.value).value()),{page:x,rowsPage:C,onPage:T}=$e(L,Aa);return($,k)=>{const q=fe,B=we,U=oe,F=re,Z=Ae;return f(),S(X,null,[_(F,{class:"datatable-liquidations","columns-header":"1fr 14rem 2fr","columns-data":"liquidations-columns-data",loading:a(s),rows:a(C),columns:a(d),sorting:!0,"sorting-columns":a(h),"sorting-columns-enabled":a(w),"sorting-default-column":"timestamp","sorting-default-dir":"desc",onSortColumn:a(b),onSelected:k[4]||(k[4]=V=>m.value=V)},{"header-content":y(()=>[u("div",Bu,A(a(o)("title")),1),_(yt,{class:"select-vault",vault:a(p),all:!0,onSelectVault:k[0]||(k[0]=V=>p.value=V)},null,8,["vault"]),u("div",Uu,[_(q,{modelValue:a(c),"onUpdate:modelValue":k[1]||(k[1]=V=>ce(c)?c.value=V:null),class:"search",style:{"flex-grow":"1"},search:!0,placeholder:a(o)("search-placeholder")},null,8,["modelValue","placeholder"]),_(B,{class:"pagination","items-count":a(L).length,"items-per-page":Aa,page:a(x),onPage:a(T)},null,8,["items-count","page","onPage"])])]),row:y(V=>[u("img",{src:a(Me)(V.item.vault)},null,8,Ou),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${V.item.liquidator}`,target:"_blank",onClick:k[2]||(k[2]=ae(()=>{},["stop"]))},A(a(Y)(V.item.liquidator)),9,Eu)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.item.transaction}`,target:"_blank",onClick:k[3]||(k[3]=ae(()=>{},["stop"]))},A(a(Y)(V.item.transaction)),9,Ku)]),u("div",Wu,[_(U,{type:"dollar",value:Math.round(V.item.liquidated_debt),precision:1/0},null,8,["value"])]),u("div",Nu,A(V.item.troves_affected_count),1),u("div",Hu,A(a(l)(V.item.timestamp)),1)]),"row-details":y(()=>[j("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),_(Z,{show:!!a(m),onClose:k[5]||(k[5]=V=>m.value=null)},{default:y(()=>[a(m)?(f(),P(Wt,{key:0,liquidation:a(m),"vault-addr":a(m).vault},null,8,["liquidation","vault-addr"])):M("",!0)]),_:1},8,["show"])],64)}}});function Pa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Pa=="function"&&Pa(Xo);const Gu=D(Xo,[["__scopeId","data-v-99a79d88"]]),ju={class:"liquidations"},Zu=I({__name:"Liquidations.page",setup(t){const e=K(),n=Se().getSocket(Ke(e.flavor)),o=new He(n,"ethereum"),s=be(o.overview$,[]);return(i,l)=>(f(),S("div",ju,[_(Gu,{vaults:a(s)},null,8,["vaults"])]))}}),zu=D(Zu,[["__scopeId","data-v-39c61e01"]]),Yu=["min","max","value"],Qu=I({__name:"InputNumber",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=e,o=s=>{n("update:modelValue",s.target.value)};return(s,i)=>(f(),S("input",{type:"number",min:s.min,max:s.max,value:s.modelValue,onInput:o},null,40,Yu))}}),Ju=D(Qu,[["__scopeId","data-v-65b94541"]]),Xu=I({__name:"ChartRevenueLine",props:{data:{default:()=>[]}},setup(t){let e;const{theme:n}=z(K()),{chart:o,chartRef:s}=de(n,i,h=>{e=h.addAreaSeries(l())});W(()=>t.data,c),W(n,()=>e.applyOptions(l()));function i(h){return ue(h,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:r=>p(r)}})}function l(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...n.value.lineChartColors}}function c(h){if(!o.value||!h)return;const r=N.chain(h).groupBy(v=>v.timestamp).mapValues(v=>({time:v[0].timestamp,value:m(v[0])})).entries().map(v=>v[1]).uniqWith((v,b)=>v.time===b.time).orderBy(v=>v.time,"asc").value();r.length>0&&e.setData(r),o.value.timeScale().fitContent()}const p=h=>`$${J(h,1,"dollar")}${Q(h,"dollar")}`,m=h=>h.unlock_penalty_revenue_usd+h.borrowing_fees_revenue_usd+h.redemption_fees_revenue_usd;return(h,r)=>(f(),S("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512))}}),ed=I({__name:"ChartRevenueBreakdown",props:{data:{default:()=>[]}},setup(t){const{theme:e}=z(K()),n=g(()=>ne(e.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:l,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:c},min:0,max:i.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=g(()=>N.chain(t.data).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,v)=>new Date(parseInt(v,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,v)=>v%8===0?r:"").value()),s=g(()=>N.chain(Object.keys(t.data[0]).filter(r=>r!=="timestamp")).map(r=>t.data.map(v=>({...v,source:r}))).flatten().groupBy(r=>r.source).map((r,v)=>({name:m(v),data:N.chain(r).orderBy(b=>b.timestamp,"asc").map(b=>({x:new Date(b.timestamp*1e3).toLocaleDateString(),y:b[v]})).value()})).value()),i=g(()=>Math.max(...N.chain(t.data).groupBy(r=>r.timestamp).map(r=>r.reduce((v,b)=>v+p(b),0)).value())*1.1),l=r=>r,c=r=>`$${J(r,1,"dollar")}${Q(r,"dollar")}`,p=r=>r.unlock_penalty_revenue_usd+r.borrowing_fees_revenue_usd+r.redemption_fees_revenue_usd,m=r=>{switch(r){case"unlock_penalty_revenue_usd":return"Unlock penalty";case"borrowing_fees_revenue_usd":return"Borrowing fees";case"redemption_fees_revenue_usd":return"Redemption fees";default:return h(r)}},h=r=>r.split("_").map(v=>v.charAt(0).toUpperCase()+v.slice(1).toLowerCase()).join("");return(r,v)=>{const b=Rt;return f(),P(b,{class:"chart",options:a(n),series:a(s)},null,8,["options","series"])}}}),td=D(ed,[["__scopeId","data-v-12f4729f"]]),ad=t=>(me("data-v-495c24cd"),t=t(),ve(),t),od={class:"actions"},nd={class:"chart-input"},sd={class:"chart-toggles"},ld=ad(()=>u("i",{class:"fas fa-burn"},null,-1)),rd={class:"chart-types"},en=I({__name:"ChartRevenue",setup(t){const{t:e}=E(),n=K(),o=new qo(G(),n.flavor),s=R("line"),i=R(1699723102),l=R(!0),{isFetching:c,data:p}=H({queryKey:["prisma-revenue-snapshots"],queryFn:()=>o.getSnapshots().then(r=>r.snapshots),initialData:[],initialDataUpdatedAt:0}),m=g(()=>p.value.filter(r=>r.timestamp>i.value).map(r=>N.cloneDeep(r)).map(r=>(l.value||(r.unlock_penalty_revenue_usd=0),r))),h=r=>{s.value!==r&&(s.value=r)};return(r,v)=>{const b=Ju,d=st,w=nt,L=te;return f(),P(L,{class:"chart-container",title:a(e)("title"),loading:a(c)},{actions:y(()=>[u("div",od,[u("div",nd,[_(b,{modelValue:a(i),"onUpdate:modelValue":v[0]||(v[0]=x=>ce(i)?i.value=x:null),placeholder:"Timestamp cut-off",min:0,max:new Date().getTime()/1e3},null,8,["modelValue","max"])]),u("div",sd,[_(w,null,{item:y(()=>[_(d,{modelValue:a(l),"onUpdate:modelValue":v[1]||(v[1]=x=>ce(l)?l.value=x:null)},{default:y(()=>[ld]),_:1},8,["modelValue"])]),default:y(()=>[j(" "+A(a(e)("include-unlock-penalty")),1)]),_:1})]),u("div",rd,[_(d,{value:"Line","model-value":a(s)==="line",onClick:v[2]||(v[2]=x=>h("line"))},null,8,["model-value"]),_(d,{value:"Breakdown","model-value":a(s)==="breakdown",onClick:v[3]||(v[3]=x=>h("breakdown"))},null,8,["model-value"])])])]),default:y(()=>[a(s)==="line"?(f(),P(Xu,{key:0,data:a(m)},null,8,["data"])):(f(),P(td,{key:1,data:a(m)},null,8,["data"]))]),_:1},8,["title","loading"])}}});function Ia(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"PRISMA revenue"}},"include-unlock-penalty":{t:0,b:{t:2,i:[{t:3}],s:"Include unlock penalty revenue"}}}})}typeof Ia=="function"&&Ia(en);const id=D(en,[["__scopeId","data-v-495c24cd"]]),tn=I({__name:"ChartBreakdown",setup(t){const{t:e}=E(),{theme:n,flavor:o}=z(K()),s=new qo(G(),o.value),{isFetching:i,data:l}=H({queryKey:["prisma-revenue-breakdown"],queryFn:()=>s.getBreakdown(),initialData:{unlock_penalty:0,borrowing_fees:0,redemption_fees:0},initialDataUpdatedAt:0}),c=g(()=>ne(n.value,{chart:{id:"breakdown",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const v=m.value[r.seriesIndex],b=r.series[r.seriesIndex];return[`<div><b>${v}</b>:</div><div>${h(b)}</div>`].join("")}},labels:m.value})),p=g(()=>[l.value.unlock_penalty,l.value.borrowing_fees,l.value.redemption_fees]),m=g(()=>[e("unlockPenalty"),e("borrowingFees"),e("redemptionFees")]),h=r=>`$${J(r,2,"percentage")}${Q(r,"percentage")}`;return(r,v)=>{const b=ie;return f(),P(b,{class:"graph",title:a(e)("title"),options:a(c),series:a(p),loading:a(i)},null,8,["title","options","series","loading"])}}});function Da(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Breakdown"}},unlockPenalty:{t:0,b:{t:2,i:[{t:3}],s:"Unlock penalty"}},borrowingFees:{t:0,b:{t:2,i:[{t:3}],s:"Borrowing fees"}},redemptionFees:{t:0,b:{t:2,i:[{t:3}],s:"Redemption fees"}}}})}typeof Da=="function"&&Da(tn);const cd=D(tn,[["__scopeId","data-v-709f297f"]]),ud={class:"revenue"},dd=I({__name:"Revenue.page",setup(t){return(e,n)=>(f(),S("div",ud,[_(id,{style:{"grid-column":"1"}}),_(cd,{style:{"grid-column":"2"}})]))}}),pd=D(dd,[["__scopeId","data-v-b2f76563"]]),md={class:"tab-view"},vd={class:"tab-headers"},fd=["onClick"],hd={class:"tabs"},_d=I({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(t,{emit:e}){const n=e,o=R(null),s=ko(),i=g(()=>(s!=null&&s.default?s.default():[]).filter(p=>p.props));W(()=>t.active,c=>{o.value=c,n("tab",{tab:i.value[c],index:o.value})},{immediate:!0});const l=(c,p)=>{c.props.disabled||(o.value=p,n("tab",{tab:i.value[p],index:o.value}))};return(c,p)=>(f(),S("div",md,[u("ul",vd,[(f(!0),S(X,null,le(a(i),(m,h)=>(f(),S("li",{key:h,class:O(["tab-header",{active:a(o)===h,disabled:m.props.disabled}]),onClick:r=>l(m,h)},A(m.props.header),11,fd))),128))]),u("div",hd,[(f(!0),S(X,null,le(a(i),(m,h)=>ds((f(),S("div",{key:h,class:"tab"},[(f(),P(Tt(m)))])),[[ps,a(o)===h]])),128))])]))}}),ct=D(_d,[["__scopeId","data-v-cb076fcc"]]),ut=I({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(t){return(e,n)=>ee(e.$slots,"default")}}),bd={class:"legend"},gd=["onClick"],yd={class:"label"},wd=I({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(t,{emit:e}){const n=e;return(o,s)=>(f(),S("div",bd,[(f(!0),S(X,null,le(o.items,i=>(f(),S("div",{key:i.id,class:O(["item",{togglable:i.togglable,disabled:o.disabled.includes(i.id)}]),onClick:l=>{i.togglable&&n("toggle",i.id)}},[u("div",{class:"color",style:_e({"background-color":i.color})},null,4),u("div",yd,A(i.label),1)],10,gd))),128))]))}}),Nt=D(wd,[["__scopeId","data-v-d25d58a4"]]);function St(t){const e=Math.floor(new Date().getTime()/1e3),n=14400,o=e-n*299;switch(t){case"convex":return{pool:"0x3b21C2868B6028CfB38Ff86127eF22E68d16d53B",chain:"ethereum",main_token:"0xdA47862a83dac0c112BA89c6abC2159b95afd71C",reference_token:"0x34635280737b5BFe6c7DC2FC3065D60d66e78185",interval:n,start:o,end:e};case"yearn":return{pool:"0x69833361991ed76f9e8DBBcdf9ea1520fEbFb4a7",chain:"ethereum",main_token:"0xdA47862a83dac0c112BA89c6abC2159b95afd71C",reference_token:"0xe3668873D944E4A949DA05fc8bDE419eFF543882",interval:n,start:o,end:e};default:throw new Error("Unknown contract")}}function $d(t){const e=Math.floor(new Date().getTime()/1e3),n="day",o=e-86400*299;switch(t){case"convex":return{pool:"0x3b21C2868B6028CfB38Ff86127eF22E68d16d53B",chain:"ethereum",interval:n,start:o,end:e};case"yearn":return{pool:"0x69833361991ed76f9e8DBBcdf9ea1520fEbFb4a7",chain:"ethereum",interval:n,start:o,end:e};default:throw new Error("Unknown contract")}}function Ht(t){const e=g(t),n=ms(Co(Object.fromEntries(e.value.map(s=>[s.id,!0])))),o=g(()=>e.value.filter(s=>!n[s.id].value).map(s=>s.id));return{items:e,toggles:n,disabled:o}}const Cd={class:"actions"},an=I({__name:"ChartComparisonPrice",setup(t){const{t:e}=E();let n,o;const{theme:s}=z(K()),{items:i}=Ht(()=>[{id:"cvxprisma",label:"cvxPRISMA",color:s.value.colors.blue},{id:"yprisma",label:"yPRISMA",color:s.value.colors.yellow}]),l=Se().getSocket("prices"),c=new ft(l,"ethereum",St("convex")),p=new ft(l,"ethereum",St("yearn")),m=be(c.ohlc$,[]),h=be(p.ohlc$,[]),r=g(()=>m.value.length+h.value.length===0);let v=1.1,b=0;const{chart:d,chartRef:w}=de(s,L,$=>{n=$.addLineSeries(x("convex")),o=$.addLineSeries(x("yearn"))});W(s,()=>{n.applyOptions(x("convex")),o.applyOptions(x("yearn"))}),W(m,$=>C($,"convex")),W(h,$=>C($,"yearn"));function L($){return ue($,s.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:k=>T(k)}})}function x($){const k=$==="convex"?s.value.colors.blue:s.value.colors.yellow;return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:pe.WithSteps,color:k,lastValueVisible:!1,priceLineVisible:!1}}function C($,k){if(!d.value||!n||!o)return;const q=N.chain($).map(B=>({time:B.time,value:B.close})).uniqWith((B,U)=>B.time===U.time).orderBy(B=>B.time,"asc").value();if(q.length>0){k==="convex"?n.setData(q):k==="yearn"&&o.setData(q);const B=[...m.value.map(U=>U.close),...h.value.map(U=>U.close)];b=Math.min(...B),v=Math.max(...B),d.value.timeScale().fitContent()}}const T=$=>{const k=v-b,q=k>1?k-Math.floor(k):k,B=-Math.floor(Math.log10(q)+1)+2;return`${J($,B,"dollar")}${Q($,"dollar")}`};return($,k)=>{const q=Nt,B=te;return f(),P(B,{class:"chart-container",title:a(e)("title"),loading:a(r)},{actions:y(()=>[u("div",Cd,[_(q,{items:a(i)},null,8,["items"])])]),default:y(()=>[u("div",{ref_key:"chartRef",ref:w,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function xa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price (peg)"}}}})}typeof xa=="function"&&xa(an);const kd=D(an,[["__scopeId","data-v-f3c7ad54"]]),Sd={class:"actions"},on=I({__name:"ChartComparisonTVL",setup(t){const{t:e}=E(),n=new rt(G());let o,s;const{theme:i}=z(K()),{items:l}=Ht(()=>[{id:"cvxprisma",label:"cvxPRISMA",color:i.value.colors.blue},{id:"yprisma",label:"yPRISMA",color:i.value.colors.yellow}]),c=g(()=>p.value||h.value),{isFetching:p,data:m}=H({queryKey:["prisma-wrapper-tvl","convex"],queryFn:()=>n.getTVL("convex").then(C=>C.tvl),initialData:[],initialDataUpdatedAt:0}),{isFetching:h,data:r}=H({queryKey:["prisma-wrapper-tvl","yearn"],queryFn:()=>n.getTVL("yearn").then(C=>C.tvl),initialData:[],initialDataUpdatedAt:0}),{chart:v,chartRef:b}=de(i,d,C=>{o=C.addLineSeries(w("convex")),s=C.addLineSeries(w("yearn"))});W(i,()=>{o.applyOptions(w("convex")),s.applyOptions(w("yearn"))}),W([m,v],([C,T])=>L("convex",C,T)),W([r,v],([C,T])=>L("yearn",C,T));function d(C){return ue(C,i.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:T=>x(T)}})}function w(C){const T=C==="convex"?i.value.colors.blue:i.value.colors.yellow;return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:pe.WithSteps,color:T,lastValueVisible:!1,priceLineVisible:!1}}function L(C,T,$){if(!$||!o||!s)return;const k=N.chain(T).map(q=>({time:q.timestamp,value:q.value})).uniqWith((q,B)=>q.time===B.time).orderBy(q=>q.time,"asc").value();k.length>0&&(C==="convex"?o.setData(k):C==="yearn"&&s.setData(k),$.timeScale().fitContent())}const x=C=>`$${J(C,0,"dollar")}${Q(C,"dollar")}`;return(C,T)=>{const $=Nt,k=te;return f(),P(k,{class:"chart-container",title:a(e)("title"),loading:a(c)},{actions:y(()=>[u("div",Sd,[_($,{items:a(l)},null,8,["items"])])]),default:y(()=>[u("div",{ref_key:"chartRef",ref:b,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function qa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof qa=="function"&&qa(on);const Ld=D(on,[["__scopeId","data-v-ca2546f2"]]),Td={class:"overview"},Ad=I({__name:"Overview",setup(t){return(e,n)=>(f(),S("div",Td,[_(kd),_(Ld)]))}}),Pd=D(Ad,[["__scopeId","data-v-8905db3f"]]),nn=I({__name:"ChartPrice",props:{contract:{}},setup(t){const{t:e}=E();let n,o,s=1,i=0;const{theme:l,flavor:c}=z(K()),{chart:p,chartRef:m}=de(l,C,U=>{n=U.addCandlestickSeries(T()),o=U.addHistogramSeries($())}),h=St(t.contract),r=$d(t.contract),v=Se().getSocket("prices"),b=new ft(v,"ethereum",h),d=new nl(v,"ethereum",r),w=be(b.ohlc$,[]),L=be(d.volume$,[]),x=g(()=>w.value.length+L.value.length===0);W(l,()=>{n.applyOptions(T()),o.applyOptions($())}),W(w,k),W(L,q);function C(U){return ue(U,l.value,{height:300,leftPriceScale:{scaleMargins:{top:.75,bottom:0}},localization:{priceFormatter:F=>B(F)}})}function T(){const{colors:U}=l.value;return{priceFormat:{type:"price",precision:6,minMove:.01},upColor:U.green,borderUpColor:U.green,wickUpColor:U.green,downColor:U.red,borderDownColor:U.red,wickDownColor:U.red,lastValueVisible:!1,priceLineVisible:!1}}function $(){const{colors:U}=l.value;return{color:c.value==="lsd"?U.blue:U.purple,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}}function k(U){if(!p.value||!n)return;const F=1,Z=N.chain(U).map(V=>({time:V.time,open:Math.pow(V.open,F),high:Math.pow(V.high,F),low:Math.pow(V.low,F),close:Math.pow(V.close,F)})).uniqWith((V,se)=>V.time===se.time).orderBy(V=>V.time,"asc").value();Z.length>0&&(n.setData(Z),p.value.timeScale().fitContent(),i=Math.min(...Z.map(V=>V.low)),s=Math.max(...Z.map(V=>V.high))),p.value.timeScale().fitContent()}function q(U){if(!p.value||!o)return;const F=N.chain(U).map(Z=>({time:Z.timestamp,value:Z.volume})).uniqWith((Z,V)=>Z.time===V.time).orderBy(Z=>Z.time,"asc").value();F.length>0&&o.setData(F)}const B=U=>{const F=s-i,Z=F>1?F-Math.floor(F):F,V=-Math.floor(Math.log10(Z)+1)+2;return`${J(U,V,"dollar")}${Q(U,"dollar")}`};return(U,F)=>{const Z=te;return f(),P(Z,{class:"chart-container",title:a(e)("title"),loading:a(x)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:m,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Va(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price (peg)"}}}})}typeof Va=="function"&&Va(nn);const sn=D(nn,[["__scopeId","data-v-f3f6ce9e"]]),ln=I({__name:"ChartTVL",props:{contract:{}},setup(t){const{t:e}=E(),n=new rt(G());let o;const{theme:s}=z(K()),{chart:i,chartRef:l}=de(s,m,b=>{o=b.addAreaSeries(h())}),{isFetching:c,data:p}=H({queryKey:["prisma-wrapper-tvl",g(()=>t.contract)],queryFn:({queryKey:[,b]})=>n.getTVL(b).then(d=>d.tvl),initialData:[],initialDataUpdatedAt:0});W([p,i],r),W(s,()=>o.applyOptions(h()));function m(b){return ue(b,s.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:d=>v(d)}})}function h(){return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...s.value.lineChartColors}}function r([b,d]){if(!d||!o)return;const w=N.chain(b).filter(L=>L.value>0).map(L=>({time:L.timestamp,value:L.value})).uniqWith((L,x)=>L.time===x.time).orderBy(L=>L.time,"asc").value();w.length>0&&o.setData(w),d.timeScale().fitContent()}const v=b=>`$${J(b,0,"dollar")}${Q(b,"dollar")}`;return(b,d)=>{const w=te;return f(),P(w,{class:"chart-container",title:a(e)("title"),loading:a(c)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ma(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof Ma=="function"&&Ma(ln);const rn=D(ln,[["__scopeId","data-v-c5957bbc"]]),cn=I({__name:"ChartFlow",props:{contract:{}},setup(t){const{t:e}=E(),n=new rt(G()),{theme:o}=z(K()),{isFetching:s,data:i}=H({queryKey:["prisma-wrapper-flow",g(()=>t.contract)],queryFn:({queryKey:[,r]})=>n.getFlow(r),initialData:{deposits:[],withdrawals:[]},initialDataUpdatedAt:0}),l=g(()=>{const{colors:r}=o.value;return ne(o.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[r.green,r.red],xaxis:{categories:c.value,labels:{formatter:m,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:h}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:v,dataPointIndex:b,w:d})=>{let w=0;const L=v.map((x,C)=>{const T=x[b];return w+=T,`<div><b>${d.globals.seriesNames[C]}</b>:	${h(T)}</div>`});return L.push(`<div><b>Total</b>:	${h(w)}</div>`),L.join("")}}})}),c=g(()=>i.value.deposits.length===0?[]:i.value.deposits.map(r=>new Date(r.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),p=g(()=>[{name:e("deposits"),data:Object.values(i.value.deposits).map(r=>r.amount_usd)},{name:e("withdrawals"),data:Object.values(i.value.withdrawals).map(r=>-r.amount_usd)}]),m=r=>r,h=r=>`$${J(r,0,"dollar")}${Q(r,"dollar")}`;return(r,v)=>{const b=ie;return f(),P(b,{title:a(e)("title"),loading:a(s),options:a(l),series:a(p)},null,8,["title","loading","options","series"])}}});function Fa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Staking and unstaking"}},deposits:{t:0,b:{t:2,i:[{t:3}],s:"Deposits"}},withdrawals:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawals"}}}})}typeof Fa=="function"&&Fa(cn);const un=D(cn,[["__scopeId","data-v-b6328e9e"]]),dn=I({__name:"ChartAPR",props:{contract:{}},setup(t){const{t:e}=E(),n=new rt(G());let o;const{theme:s}=z(K()),{chart:i,chartRef:l}=de(s,m,b=>{o=b.addAreaSeries(h())}),{isFetching:c,data:p}=H({queryKey:["prisma-wrapper-snapshots",g(()=>t.contract)],queryFn:({queryKey:[,b]})=>n.getSnapshots(b).then(d=>d.Snapshots),initialData:[],initialDataUpdatedAt:0});W([p,i],r),W(s,()=>o.applyOptions(h()));function m(b){return ue(b,s.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:d=>v(d)}})}function h(){return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...s.value.lineChartColors}}function r([b,d]){if(!d||!o)return;const w=N.chain(b).filter(L=>L.timestamp>=1699630610).map(L=>({time:L.timestamp,value:L.total_apr*100})).uniqWith((L,x)=>L.time===x.time).orderBy(L=>L.time,"asc").value();w.length>0&&o.setData(w),d.timeScale().fitContent()}const v=b=>`${J(b,0,"percentage")}${Q(b,"percentage")}`;return(b,d)=>{const w=te;return f(),P(w,{class:"chart-container",title:a(e)("title"),loading:a(c)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ra(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"APR"}}}})}typeof Ra=="function"&&Ra(dn);const pn=D(dn,[["__scopeId","data-v-6ddad98b"]]),mn=I({__name:"ChartDistribution",props:{contract:{}},setup(t){const{t:e}=E(),n=new rt(G()),{theme:o}=z(K()),{isFetching:s,data:i}=H({queryKey:["prisma-wrapper-distribution",g(()=>t.contract)],queryFn:({queryKey:[,r]})=>n.getDistribution(r).then(v=>v.distribution),initialData:[],initialDataUpdatedAt:0}),l=g(()=>ne(o.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:c.value,labels:{formatter:m,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:h}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),c=g(()=>i.value.map(r=>r.label)),p=g(()=>[{name:e("size"),data:Object.values(i.value).map(r=>r.value)}]),m=r=>r,h=r=>`$${J(r,0,"dollar")}${Q(r,"dollar")}`;return(r,v)=>{const b=ie;return f(),P(b,{class:"chart",title:a(e)("title"),loading:a(s),options:a(l),series:a(p)},null,8,["title","loading","options","series"])}}});function Ba(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Position size"}},size:{t:0,b:{t:2,i:[{t:3}],s:"Size"}}}})}typeof Ba=="function"&&Ba(mn);const vn=D(mn,[["__scopeId","data-v-d22ffbed"]]),Id={class:"cvxprisma"},Dd=I({__name:"CvxPrisma",setup(t){return(e,n)=>(f(),S("div",Id,[_(sn,{contract:"convex"}),_(rn,{contract:"convex"}),_(un,{contract:"convex"}),_(pn,{contract:"convex"}),_(vn,{contract:"convex",style:{"grid-column":"1 / -1"}})]))}}),xd=D(Dd,[["__scopeId","data-v-91ade2ce"]]),qd={class:"yprisma"},Vd=I({__name:"YPrisma",setup(t){return(e,n)=>(f(),S("div",qd,[_(sn,{contract:"yearn"}),_(rn,{contract:"yearn"}),_(un,{contract:"yearn"}),_(pn,{contract:"yearn"}),_(vn,{contract:"yearn",style:{"grid-column":"1 / -1"}})]))}}),Md=D(Vd,[["__scopeId","data-v-dc6f0440"]]);function fn(t,e,n){const o=et(),s=Qe("tab",t[0]),i=R(-1);return W(s,l=>i.value=t.findIndex(c=>c===l),{immediate:!0}),W(i,async l=>{l===-1&&(l=0),await o.push({name:e,params:{tab:t[l],...(n==null?void 0:n())??{}},replace:s.value===""})},{immediate:!0}),{tabActive:s,tabActiveIndex:i}}const Fd={class:"wrappers"},Rd=I({__name:"Wrappers.page",setup(t){const{tabActive:e,tabActiveIndex:n}=fn(["overview","cvxprisma","yprisma"],"wrappers");return(o,s)=>{const i=ut,l=ct;return f(),S("div",Fd,[_(l,{active:a(n),onTab:s[0]||(s[0]=c=>n.value=c.index)},{default:y(()=>[_(i,{header:"Overview"},{default:y(()=>[a(e)==="overview"?(f(),P(Pd,{key:0})):M("",!0)]),_:1}),_(i,{header:"cvxPRISMA"},{default:y(()=>[a(e)==="cvxprisma"?(f(),P(xd,{key:0})):M("",!0)]),_:1}),_(i,{header:"yPRISMA"},{default:y(()=>[a(e)==="yprisma"?(f(),P(Md,{key:0})):M("",!0)]),_:1})]),_:1},8,["active"])])}}}),Bd=D(Rd,[["__scopeId","data-v-eb3d2ad5"]]),Ud={class:"title"},Od={style:{display:"flex",gap:"1rem"}},Ed=["href"],Ua=10,hn=I({__name:"TableLockers",props:{lockers:{default:()=>[]}},setup(t){const{t:e}=E(),n=R(""),{sortColumns:o,sortColumn:s,sortOrder:i,onSort:l}=Te(["locker","weight","locked","unlocked","frozen"],"weight"),c=g(()=>["Locker","Weight","Locked","Unlocked","Frozen"]),p=g(()=>["weight","locked","unlocked","frozen"]),m=g(()=>N.chain(t.lockers).filter(b=>{const d=n.value.toLocaleLowerCase().split(" ");return(L=>d.some(x=>L.toLocaleLowerCase().includes(x)))(b.id)}).orderBy(b=>{switch(s.value){case"weight":return b.weight;case"locked":return b.locked;case"unlocked":return b.unlocked;case"frozen":return b.frozen;default:return b.weight}},i.value).value()),{page:h,rowsPage:r,onPage:v}=$e(m,Ua);return(b,d)=>{const w=fe,L=we,x=oe,C=re;return f(),P(C,{class:"datatable-lockers","columns-header":"1fr 3fr","columns-data":"lockers-columns-data",rows:a(r),columns:a(c),sorting:!0,"sorting-columns":a(o),"sorting-columns-enabled":a(p),"sorting-default-column":"weight","sorting-default-dir":"desc",onSortColumn:a(l)},{"header-content":y(()=>[u("div",Ud,A(a(e)("title")),1),u("div",Od,[_(w,{modelValue:a(n),"onUpdate:modelValue":d[0]||(d[0]=T=>ce(n)?n.value=T:null),class:"search",search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"]),_(L,{class:"pagination","items-count":a(m).length,"items-per-page":Ua,page:a(h),onPage:a(v)},null,8,["items-count","page","onPage"])])]),row:y(T=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${T.item.id}`,target:"_blank",onClick:d[1]||(d[1]=ae(()=>{},["stop"]))},A(T.item.id),9,Ed)]),u("div",{class:O(["number",{zero:T.item.weight===0}])},[_(x,{type:"dollar",value:Math.round(T.item.weight),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),u("div",{class:O(["number",{zero:T.item.locked===0}])},[_(x,{type:"dollar",value:Math.round(T.item.locked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),u("div",{class:O(["number",{zero:T.item.unlocked===0}])},[_(x,{type:"dollar",value:Math.round(T.item.unlocked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),u("div",{class:O(["number",{zero:T.item.frozen===0}])},[_(x,{type:"dollar",value:Math.round(T.item.frozen),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2)]),_:1},8,["rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"])}}});function Oa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Lockers"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Oa=="function"&&Oa(hn);const Kd=D(hn,[["__scopeId","data-v-32b0591b"]]),Ea="https://api.thegraph.com/subgraphs/name/benber86/prisma";class _n extends ye{async getTopLockers(){const n=await this.fetch(Ea,{query:`{
      lockers {
        totalWeight
      }
      accountDatas(first: 100 orderBy: weight orderDirection: desc) {
        id
        weight
        locked
        unlocked
        frozen
      }
    }`}),o=n.data.accountDatas.map(i=>({id:i.id,weight:parseInt(i.weight,10),locked:parseInt(i.locked,10),unlocked:parseInt(i.unlocked,10),frozen:parseInt(i.frozen,10)}));return{totalWeight:parseInt(n.data.lockers[0].totalWeight,10),accounts:o}}async getVotesIncentives(){return(await this.fetch(Ea,{query:`{
      incentiveVotes(first:100, orderBy:blockNumber, orderDirection:desc) {
        voter {
          id
        }
        votes(first: 100, orderBy:points, orderDirection:desc) {
          recipient {
            id
            address
          }
          points
        }
        isClearance
        transactionHash
        blockTimestamp
      }
    }`})).data.incentiveVotes.map(o=>o.votes.map(s=>({voter:o.voter.id,recipient:s.recipient.address,points:parseInt(s.points,10),isClearance:o.isClearance,transaction:o.transactionHash,timestamp:parseInt(o.blockTimestamp,10)}))).flat()}}const Wd={class:"title"},Nd=["href"],Hd=["href"],Gd={class:"number"},jd={class:"number"},Zd=["href"],zd={class:"number"},Ka=20,bn=I({__name:"TableVotesIncentives",setup(t){const{t:e}=E(),n=new _n(G()),{isFetching:o,data:s}=H({queryKey:["prisma-vote-incentives"],queryFn:()=>n.getVotesIncentives(),initialData:[],initialDataUpdatedAt:0}),{relativeTime:i}=ke(),l=g(()=>["Voter","Recipient","Points","Tx","Time"]),c=g(()=>s.value),{page:p,rowsPage:m,onPage:h}=$e(c,Ka);return(r,v)=>{const b=we,d=oe,w=re;return f(),P(w,{class:"datatable-votes-incentives","columns-header":"1fr minmax(auto, 25rem) auto","columns-data":"votes-incentives-columns-data",loading:a(o),rows:a(m),columns:a(l)},{"header-content":y(()=>[u("div",Wd,A(a(e)("title")),1),_(b,{class:"pagination","items-count":a(c).length,"items-per-page":Ka,page:a(p),onPage:a(h)},null,8,["items-count","page","onPage"])]),row:y(L=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${L.item.voter}`,target:"_blank",onClick:v[0]||(v[0]=ae(()=>{},["stop"]))},A(a(Y)(L.item.voter)),9,Nd)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${L.item.recipient}`,target:"_blank",onClick:v[1]||(v[1]=ae(()=>{},["stop"]))},A(a(Y)(L.item.recipient)),9,Hd)]),u("div",Gd,[_(d,{type:"dollar",value:Math.round(L.item.points),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])]),u("div",jd,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${L.item.transaction}`,target:"_blank",onClick:v[2]||(v[2]=ae(()=>{},["stop"]))},A(a(Y)(L.item.transaction)),9,Zd)]),u("div",zd,A(a(i)(L.item.timestamp)),1)]),_:1},8,["loading","rows","columns"])}}});function Wa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Incentive votes"}}}})}typeof Wa=="function"&&Wa(bn);const Yd=D(bn,[["__scopeId","data-v-1ee66c7a"]]),gn=I({__name:"ChartTopLockers",props:{totalWeight:{default:0},lockers:{default:()=>[]}},setup(t){const{t:e}=E(),{theme:n}=z(K()),o=g(()=>t.lockers.slice(0,10)),s=g(()=>ne(n.value,{chart:{id:"topLockers",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:m=>{const h=l.value[m.seriesIndex],r=m.series[m.seriesIndex],v=r/(t.totalWeight/100);return[`<div><b>${h}</b>:</div><div>${p(v)} - ${c(r)}</div>`].join("")}},labels:o.value.map(m=>m.id).concat(["Other⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"])})),i=g(()=>{const m=o.value.map(v=>v.weight),h=m.reduce((v,b)=>v+b,0),r=t.totalWeight-h;return[...m,r]}),l=g(()=>o.value.map(m=>m.id).concat(["Other"])),c=m=>`${J(m,2,"dollar")}${Q(m,"dollar")}`,p=m=>`${J(m,2,"percentage")}${Q(m,"percentage")}`;return(m,h)=>{const r=ie;return f(),P(r,{class:"graph",title:a(e)("title"),options:a(s),series:a(i)},null,8,["title","options","series"])}}});function Na(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top 10 largest lockers"}}}})}typeof Na=="function"&&Na(gn);const Qd=D(gn,[["__scopeId","data-v-0e8e0d9c"]]),Jd={class:"veprisma"},Xd=I({__name:"VePrisma.page",setup(t){const e=new _n(G()),{isFetching:n,data:o}=H({queryKey:["prisma-top-lockers"],queryFn:()=>e.getTopLockers(),initialData:{totalWeight:0,accounts:[]},initialDataUpdatedAt:0}),s=g(()=>o.value.accounts),i=g(()=>o.value.totalWeight);return(l,c)=>(f(),S("div",Jd,[_(Kd,{style:{"grid-row":"1","grid-column":"1"},loading:a(n),lockers:a(s)},null,8,["loading","lockers"]),_(Qd,{style:{"grid-row":"1","grid-column":"2"},loading:a(n),lockers:a(s),"total-weight":a(i)},null,8,["loading","lockers","total-weight"]),_(Yd,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}}),ep=D(Xd,[["__scopeId","data-v-2b3448d6"]]);function Ce(t){return t.status==="executed"?"executed":t.end>new Date().getTime()/1e3?"active":tp(t)?"passed":"denied"}function tp(t){return t.weightReceived>t.weightRequired}const yn=I({__name:"Status",props:{proposal:{}},setup(t){const{t:e}=E(),n=g(()=>Ce(t.proposal)==="denied"?e("no-quorum"):""),o=g(()=>{switch(Ce(t.proposal)){case"active":return e("active");case"denied":return e("denied");case"passed":return e("passed");case"executed":return e("executed");default:return"Unk. Status"}});return(s,i)=>{const l=nt,c=Le;return f(),P(c,{class:"status","tooltip-type":"underline",label:a(e)("status"),"has-value":!0,tooltip:a(n)},{default:y(()=>[a(n)?(f(),P(l,{key:0},{item:y(()=>[u("span",{class:O(["status-value",a(Ce)(s.proposal)])},A(a(o)),3)]),default:y(()=>[j(" "+A(a(n)),1)]),_:1})):(f(),S("span",{key:1,class:O(["status-value",a(Ce)(s.proposal)])},A(a(o)),3))]),_:1},8,["label","tooltip"])}}});function Ha(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{status:{t:0,b:{t:2,i:[{t:3}],s:"Status"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}},"no-quorum":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was not reached"}}}})}typeof Ha=="function"&&Ha(yn);const ap=D(yn,[["__scopeId","data-v-be0ac349"]]),op=["href"],wn=I({__name:"Proposer",props:{proposal:{}},setup(t){const{t:e}=E();return(n,o)=>{const s=Le;return f(),P(s,{class:"proposer",label:a(e)("proposer"),"has-value":!0},{default:y(()=>[u("a",{href:`https://etherscan.io/address/${n.proposal.proposer}`,target:"_blank"},A(a(Y)(n.proposal.proposer)),9,op)]),_:1},8,["label"])}}});function Ga(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{proposer:{t:0,b:{t:2,i:[{t:3}],s:"Proposer"}}}})}typeof Ga=="function"&&Ga(wn);const Lt=I({__name:"Date",props:{proposal:{},type:{}},setup(t){const{t:e}=E();let n;const o=R(""),s=g(()=>{switch(t.type){case"start":return e("start");case"end":return e("end");default:return"Unk. Type"}}),i=g(()=>{switch(t.type){case"start":return new Date(t.proposal.start*1e3).toLocaleDateString();case"end":{const p=new Date(t.proposal.end*1e3);return p>new Date?o.value:p.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),l=g(()=>{switch(t.type){case"start":return new Date(t.proposal.start*1e3).toLocaleDateString()+" "+new Date(t.proposal.start*1e3).toTimeString();case"end":return new Date(t.proposal.end*1e3).toLocaleDateString()+" "+new Date(t.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});ge(()=>{c()});const c=()=>{const p=new Date(t.proposal.end*1e3);n&&clearInterval(n),n=setInterval(()=>{o.value=Ys(p)})};return(p,m)=>{const h=Le;return f(),P(h,{class:"date","tooltip-type":"underline",label:a(s),value:a(i),"has-value":!0,tooltip:a(l)},null,8,["label","value","tooltip"])}}});function ja(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{start:{t:0,b:{t:2,i:[{t:3}],s:"Start"}},end:{t:0,b:{t:2,i:[{t:3}],s:"End"}}}})}typeof ja=="function"&&ja(Lt);const np=t=>(me("data-v-c2dcaf56"),t=t(),ve(),t),sp={class:"id"},lp={class:"metadata"},rp={class:"row"},ip=np(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),cp=[ip],$n=I({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(t,{emit:e}){const{t:n}=E(),o=e;return(s,i)=>{var l,c;return f(),S("div",{class:"proposal-summary",onClick:i[0]||(i[0]=p=>o("toggleExpand"))},[u("div",{class:O(["title",{"no-title":!((l=s.proposal.metadata)!=null&&l.title)}])},[u("div",sp,A(s.proposal.id),1),u("div",lp,A(((c=s.proposal.metadata)==null?void 0:c.title)||a(n)("no-title")),1)],2),u("div",rp,[_(ap,{class:"item",proposal:s.proposal},null,8,["proposal"]),_(wn,{class:"item",proposal:s.proposal},null,8,["proposal"]),_(Lt,{class:"item",proposal:s.proposal,type:"start"},null,8,["proposal"]),_(Lt,{class:"item",proposal:s.proposal,type:"end"},null,8,["proposal"]),u("div",{class:O(["item expander",{expanded:s.expanded}])},cp,2)])])}}});function Za(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-title":{t:0,b:{t:2,i:[{t:3}],s:"< No Title >"}}}})}typeof Za=="function"&&Za($n);const up=D($n,[["__scopeId","data-v-c2dcaf56"]]),dp=t=>(me("data-v-3ae22b38"),t=t(),ve(),t),pp={class:"quorum"},mp={class:"heading"},vp={class:"amount"},fp={class:"bar"},hp={class:"percentages"},_p=dp(()=>u("div",{class:"zero"},"0%",-1)),bp={class:"quorum"},Cn=I({__name:"VotingQuorum",props:{proposal:{}},setup(t){const{t:e}=E(),n=g(()=>t.proposal.weightReceived),o=g(()=>t.proposal.weightRequired),s=g(()=>n.value/o.value*100);return(i,l)=>{const c=oe;return f(),S("div",pp,[u("div",mp,A(a(e)("quorum")),1),u("div",vp,[_(c,{value:a(n),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),j(" / "),_(c,{value:a(o),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),j(" vePRISMA ")]),u("div",fp,[u("div",{class:"support",style:_e({width:`${a(s)}%`})},null,4),u("div",{class:"quorum",style:_e({width:`${100-a(s)}%`})},null,4)]),u("div",hp,[_p,u("div",bp,[_(c,{value:Math.min(a(s),100),precision:0,type:"percentage"},null,8,["value"])])])])}}});function za(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{quorum:{t:0,b:{t:2,i:[{t:3}],s:"Quorum"}}}})}typeof za=="function"&&za(Cn);const gp=D(Cn,[["__scopeId","data-v-3ae22b38"]]),yp=[{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"week",type:"uint256"}],name:"getAccountWeightAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Ze=[{inputs:[],name:"MAX_TIME_TO_EXECUTION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"executeProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenLocker",outputs:[{internalType:"contract ITokenLocker",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"weight",type:"uint256"}],name:"voteForProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"accountVoteWeights",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],wp={class:"buttons"},$p={class:"veprisma"},Cp={class:"info"},kp={class:"kpis"},Sp={class:"description"},Lp={class:"title"},kn=I({__name:"VotingButtons",props:{proposal:{}},setup(t){const{t:e}=E(),{address:n}=at(),o=R(!1),s=R(!1),i=R(!1),l=R(!1),c=R(0n),p=R(!1),m=g(()=>c.value>0n&&!l.value&&v.value&&!p.value),h=g(()=>m.value?"submit":l.value?"voting":v.value?p.value?"voted":"not-enough-voting-power":"voting-closed"),r=g(()=>Number(c.value)),v=g(()=>Ce(t.proposal)==="active"),b=g(()=>Ce(t.proposal)==="passed"),d=vs();async function w(){await Jt(l,async()=>{if(!n.value)return;const T=await Gt(d,{abi:Ze,address:je,functionName:"voteForProposal",args:[n.value,BigInt(t.proposal.id),c.value]});await jt(d,{hash:T}),o.value=!1})}async function L(){await Jt(s,async()=>{const T=await Gt(d,{abi:Ze,address:je,functionName:"executeProposal",args:[BigInt(t.proposal.id)]});await jt(d,{hash:T}),o.value=!1,i.value=await C()})}async function x(){if(!n.value)return;const T=await dt(d,{abi:Ze,address:je,functionName:"tokenLocker"});p.value=await dt(d,{abi:Ze,address:je,functionName:"accountVoteWeights",args:[n.value,BigInt(t.proposal.id)]}).then(k=>k>0n);const $=Math.floor((t.proposal.start-1691625600)/604800)-1;c.value=await dt(d,{abi:yp,address:T,functionName:"getAccountWeightAt",args:[n.value,BigInt($)]})}W(o,async T=>{T&&await sl(x)});async function C(){if(!b.value)return!1;const T=await dt(d,{abi:Ze,address:je,functionName:"MAX_TIME_TO_EXECUTION"}),$=t.proposal.executeAfter!==0,k=t.proposal.executeAfter<new Date().getTime()/1e3,q=t.proposal.executeAfter+Number(T)>new Date().getTime()/1e3;return $&&k&&q}return W(n,async()=>{i.value=await C()},{immediate:!0}),(T,$)=>{const k=ot,q=oe,B=Le,U=te,F=Ae;return f(),S(X,null,[u("div",wp,[_(k,{value:a(e)("vote"),primary:!0,onClick:$[0]||($[0]=Z=>o.value=!0)},null,8,["value"]),a(b)?(f(),P(k,{key:0,value:a(e)(a(s)?"executing":"execute"),primary:!0,disabled:!a(i)||a(s),onClick:L},null,8,["value","disabled"])):M("",!0)]),_(F,{show:a(o),onClose:$[1]||($[1]=Z=>o.value=!1)},{default:y(()=>[_(U,{title:a(e)("vote-with-veprisma"),class:"vote-content"},{default:y(()=>{var Z;return[u("div",$p,[u("div",Cp,[u("div",kp,[_(B,{label:a(e)("voting-power"),"has-value":!0},{default:y(()=>[_(q,{value:a(r),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),j(" vePRISMA ")]),_:1},8,["label"]),_(B,{label:a(e)("block"),value:T.proposal.block,"has-value":!0},null,8,["label","value"])]),u("div",Sp,[u("span",Lp,A(a(e)("description"))+": ",1),u("span",null,A(((Z=T.proposal.metadata)==null?void 0:Z.description)||""),1)])]),_(k,{class:"submit",value:a(e)(a(h)),primary:!0,disabled:!a(m),web3:!0,onClick:w},null,8,["value","disabled"])])]}),_:1},8,["title"])]),_:1},8,["show"])],64)}}});function Ya(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{vote:{t:0,b:{t:2,i:[{t:3}],s:"Vote"}},"vote-with-veprisma":{t:0,b:{t:2,i:[{t:3}],s:"Vote with vePRISMA"}},voting:{t:0,b:{t:2,i:[{t:3}],s:"Voting..."}},"voting-closed":{t:0,b:{t:2,i:[{t:3}],s:"Voting closed"}},voted:{t:0,b:{t:2,i:[{t:3}],s:"You've already voted"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},"voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Voting power"}},block:{t:0,b:{t:2,i:[{t:3}],s:"Block"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Submit"}},"not-enough-voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Not enough vePRISMA voting power"}},execute:{t:0,b:{t:2,i:[{t:3}],s:"Execute"}},executing:{t:0,b:{t:2,i:[{t:3}],s:"Executing..."}}}})}typeof Ya=="function"&&Ya(kn);const Tp=D(kn,[["__scopeId","data-v-400fdf37"]]),Ap={class:"voting"},Pp=I({__name:"Voting",props:{proposal:{}},setup(t){return(e,n)=>(f(),S("div",Ap,[_(gp,{proposal:e.proposal},null,8,["proposal"]),_(Tp,{proposal:e.proposal},null,8,["proposal"])]))}}),Ip=D(Pp,[["__scopeId","data-v-e200fa8f"]]),Dp={class:"voters"},xp={class:"address"},qp=["href"],Vp={class:"amount"},Mp={class:"percentage"},Fp=I({__name:"Voters",props:{proposal:{}},setup(t){const{address:e}=at(),n=g(()=>N.chain(t.proposal.voters).orderBy(l=>l.weight,"desc").value()),o=l=>l==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":l==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":l==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":Y(l,12),s=l=>l/t.proposal.weightReceived*100,i=l=>l===e.value;return(l,c)=>{const p=oe;return f(),S("div",Dp,[(f(!0),S(X,null,le(a(n),m=>(f(),S("div",{key:m.voter,class:"vote"},[u("div",xp,[u("a",{target:"_blank",href:`https://etherscan.io/address/${m.voter}`,class:O({you:i(m.voter)})},A(o(m.voter)),11,qp)]),u("div",Vp,[_(p,{value:m.weight,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",Mp,[_(p,{value:s(m.weight),precision:0,type:"percentage"},null,8,["value"])])]))),128))])}}}),Rp=D(Fp,[["__scopeId","data-v-d17b5124"]]),Bp={class:"technicals"},Up={key:0,class:"technical"},Op={class:"heading"},Ep={class:"description"},Kp=["href"],Wp={key:1,class:"technical"},Np={class:"heading"},Hp={class:"description"},Gp=["href"],jp={key:2,class:"technical"},Zp={class:"heading"},zp={class:"description"},Yp={class:"technical"},Qp={class:"technical"},Jp=["innerHTML"],Sn=I({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean}},setup(t){const{t:e}=E(),n=R(!0),o=R(t.proposal.votes>0),s=g(()=>`https://twitter.com/@${t.proposal.metadata.author}`),i=g(()=>N.uniqWith(t.proposal.voters.map(c=>c.voter),(c,p)=>c===p).length),l=g(()=>t.proposal.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,c=>/[A-F]/g.test(c)&&fs(c)?`<a href='https://etherscan.io/address/${c}'>${c}</a>`:c));return(c,p)=>{var h,r,v,b;const m=tt;return f(),S("div",Bp,[(h=c.proposal.metadata)!=null&&h.author?(f(),S("div",Up,[u("div",Op,A(a(e)("author")),1),u("div",Ep,[u("a",{href:a(s),target:"_blank"},A(c.proposal.metadata.author),9,Kp)])])):M("",!0),(r=c.proposal.metadata)!=null&&r.link?(f(),S("div",Wp,[u("div",Np,A(a(e)("link")),1),u("div",Hp,[u("a",{href:c.proposal.metadata.link,target:"_blank"},A(c.proposal.metadata.link),9,Gp)])])):M("",!0),(v=c.proposal.metadata)!=null&&v.description?(f(),S("div",jp,[u("div",Zp,A(a(e)("description")),1),u("div",zp,A((b=c.proposal.metadata)==null?void 0:b.description),1)])):M("",!0),u("div",Yp,[u("div",{class:"heading",onClick:p[0]||(p[0]=d=>o.value=!a(o))},[j(A(a(e)("voters"))+" ("+A(a(i)??"?")+") ",1),u("i",{class:O(["fas fa-chevron-up expander",{expandedVoters:a(o)}])},null,2)]),_(m,{expanded:a(o)},{default:y(()=>[_(Rp,{class:"voters",proposal:c.proposal},null,8,["proposal"])]),_:1},8,["expanded"])]),u("div",Qp,[u("div",{class:"heading",onClick:p[1]||(p[1]=d=>n.value=!a(n))},[j(A(a(e)("calldata"))+" ",1),u("i",{class:O(["fas fa-chevron-up expander",{expandedCallData:a(n)}])},null,2)]),_(m,{expanded:a(n)},{default:y(()=>[u("div",{class:"calldata",innerHTML:a(l)},null,8,Jp)]),_:1},8,["expanded"])])])}}});function Qa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},author:{t:0,b:{t:2,i:[{t:3}],s:"Author"}},link:{t:0,b:{t:2,i:[{t:3}],s:"Link"}},calldata:{t:0,b:{t:2,i:[{t:3}],s:"Calldata"}},voters:{t:0,b:{t:2,i:[{t:3}],s:"Voters"}}}})}typeof Qa=="function"&&Qa(Sn);const Xp=D(Sn,[["__scopeId","data-v-403d6a5e"]]),em={class:"proposal-details"},tm={class:"proposal-details-container"},am=I({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(t){return(e,n)=>(f(),S("div",em,[u("div",tm,[_(Xp,{proposal:e.proposal,expanded:e.expanded},null,8,["proposal","expanded"]),_(Ip,{proposal:e.proposal},null,8,["proposal"])])]))}}),om=D(am,[["__scopeId","data-v-4b022378"]]),nm=I({__name:"Proposal",props:{proposal:{}},setup(t){const e=R(!1);return(n,o)=>{const s=tt,i=te;return f(),P(i,{class:"proposal",compact:!0},{default:y(()=>[_(up,{proposal:n.proposal,expanded:a(e),onToggleExpand:o[0]||(o[0]=l=>e.value=!a(e))},null,8,["proposal","expanded"]),_(s,{class:"proposal-details-collapsible",expanded:a(e)},{default:y(()=>[_(om,{proposal:n.proposal,expanded:a(e)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),sm=D(nm,[["__scopeId","data-v-25075db1"]]),lm={class:"proposals-tab"},rm={class:"filters"},im={style:{display:"flex",gap:"1rem","justify-content":"end"}},cm={key:1},$t=10,Ln=I({__name:"ProposalsTab",props:{proposals:{}},setup(t){const{t:e}=E(),n=R(""),o=R(e("search-placeholder")),s=g(()=>{const p=n.value.toLocaleLowerCase();return N.chain(t.proposals).filter(m=>!!m.metadata&&m.metadata.title.toLocaleLowerCase().includes(p)).value()}),{page:i,rowsPage:l,onPage:c}=$e(s,$t);return(p,m)=>{const h=fe,r=we;return f(),S("div",lm,[u("div",rm,[_(h,{modelValue:a(n),"onUpdate:modelValue":m[0]||(m[0]=v=>ce(n)?n.value=v:null),class:"search",placeholder:a(o),search:!0},null,8,["modelValue","placeholder"]),u("div",im,[a(s).length>0?(f(),P(r,{key:0,class:"pagination","items-count":a(s).length,"items-per-page":$t,page:a(i),onPage:a(c)},null,8,["items-count","page","onPage"])):M("",!0)])]),(f(!0),S(X,null,le(a(l),v=>(f(),P(sm,{key:v.id,proposal:v},null,8,["proposal"]))),128)),a(s).length>0?(f(),P(r,{key:0,class:"pagination","items-count":a(s).length,"items-per-page":$t,page:a(i),onPage:a(c)},null,8,["items-count","page","onPage"])):M("",!0),a(s).length===0?(f(),S("div",cm,A(a(e)("no-proposals")),1)):M("",!0)])}}});function Ja(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for Prisma proposals"}},"no-proposals":{t:0,b:{t:2,i:[{t:3}],s:"No proposals could be found."}}}})}typeof Ja=="function"&&Ja(Ln);const ze=D(Ln,[["__scopeId","data-v-bf17230c"]]),um="https://api.prismamonitor.com/v1",dm=(t,e)=>{var C,T;const n=t.index,o=t.creator,s=t.creator_label??"",i=t.required_weight,l=t.received_weight,c=t.status,p=t.vote_count,m=t.voters.map($=>({voter:$.voter.toLowerCase(),weight:$.weight})),h=t.transaction_hash,r=t.execution_tx,v=t.can_execute_after,b=t.block_number,d=t.block_timestamp,w=t.execution_timestamp?t.execution_timestamp:d+604800,L=t.decode_data,x=(T=(C=e==null?void 0:e.data)==null?void 0:C.proposals.find($=>$.id===n))==null?void 0:T.metadata;return{id:n,metadata:x,proposer:o,proposerLabel:s,weightRequired:i,weightReceived:l,status:c,votes:p,voters:m,tx:h,txExecuted:r,executeAfter:v,block:b,start:d,end:w,script:L}};class pm extends ye{async getProposals(){let e;try{e=await this.fetch("https://api.prismafinance.com/api/v1/proposalVotes")}catch{Je({text:"Failed to fetch metadata for proposals",type:"error"})}return await Ve(s=>this.fetch(`${um}/dao/ethereum/ownership/proposals?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(i=>i.proposals.map(l=>dm(l,e))),1,100)}}const mm={class:"proposals"},Tn=I({__name:"Proposals.page",setup(t){const{t:e}=E(),n=new pm(G()),o=R(0),{isFetching:s,data:i}=H({queryKey:["prisma-proposals"],queryFn:()=>n.getProposals().then(h=>h.sort((r,v)=>v.start-r.start)),initialData:[],initialDataUpdatedAt:0}),l=g(()=>i.value.filter(h=>Ce(h)==="active")),c=g(()=>i.value.filter(h=>Ce(h)==="passed")),p=g(()=>i.value.filter(h=>Ce(h)==="denied")),m=g(()=>i.value.filter(h=>Ce(h)==="executed"));return(h,r)=>{const v=ut,b=ct,d=xt;return f(),S("div",mm,[a(s)?M("",!0):(f(),P(b,{key:0,onTab:r[0]||(r[0]=w=>o.value=w.index)},{default:y(()=>[_(v,{header:a(e)("all")},{default:y(()=>[a(o)===0?(f(),P(ze,{key:0,proposals:a(i)},null,8,["proposals"])):M("",!0)]),_:1},8,["header"]),_(v,{header:a(e)("active")},{default:y(()=>[a(o)===1?(f(),P(ze,{key:0,proposals:a(l)},null,8,["proposals"])):M("",!0)]),_:1},8,["header"]),_(v,{header:a(e)("passed")},{default:y(()=>[a(o)===2?(f(),P(ze,{key:0,proposals:a(c)},null,8,["proposals"])):M("",!0)]),_:1},8,["header"]),_(v,{header:a(e)("denied")},{default:y(()=>[a(o)===3?(f(),P(ze,{key:0,proposals:a(p)},null,8,["proposals"])):M("",!0)]),_:1},8,["header"]),_(v,{header:a(e)("executed")},{default:y(()=>[a(o)===4?(f(),P(ze,{key:0,proposals:a(m)},null,8,["proposals"])):M("",!0)]),_:1},8,["header"])]),_:1})),_(d,{class:O(["spinner",{loading:a(s)}])},null,8,["class"])])}}});function Xa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}}}})}typeof Xa=="function"&&Xa(Tn);const vm=D(Tn,[["__scopeId","data-v-b46d741f"]]),fm=I({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(t){const{theme:e}=z(K()),n=g(()=>ne(e.value,{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:l=>{let c=s.value[l.seriesIndex];c=c.length>10?Y(c):c;const p=l.series[l.seriesIndex];return[`<div><b>${c}</b>:</div><div>${i(p)}</div>`].join("")}},labels:t.data.map(l=>l.label.length>10?Y(l.label):l.label)})),o=g(()=>t.data.map(l=>l.value)),s=g(()=>t.data.map(l=>l.label)),i=l=>`$${J(Math.abs(l),1,"dollar")}${Q(l,"dollar")}`;return(l,c)=>{const p=ie;return f(),P(p,{class:"graph",options:a(n),series:a(o)},null,8,["options","series"])}}}),hm=D(fm,[["__scopeId","data-v-81d8187a"]]),_m={class:"actions"},An=I({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(t){const{t:e}=E(),n=K(),o=new Ie(G(),n.flavor),s=R("collateral"),{isFetching:i,data:l}=H({queryKey:["prisma-large-trove-positions",g(()=>{var c;return(c=t.vault)==null?void 0:c.address}),s],queryFn:({queryKey:[,c,p]})=>c?o.getLargeTrovePositions("ethereum",c,p).then(m=>m.positions):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});return(c,p)=>{const m=st,h=te;return f(),P(h,{class:"chart-container",title:a(e)("title"),loading:a(i)},{actions:y(()=>[u("div",_m,[_(m,{value:"Coll.","model-value":a(s)==="collateral",onClick:p[0]||(p[0]=r=>s.value="collateral")},null,8,["model-value"]),_(m,{value:"Debt","model-value":a(s)==="debt",onClick:p[1]||(p[1]=r=>s.value="debt")},null,8,["model-value"])])]),default:y(()=>[_(hm,{data:a(l)},null,8,["data"])]),_:1},8,["title","loading"])}}});function eo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"5 Largest Troves vs Others"}}}})}typeof eo=="function"&&eo(An);const bm=D(An,[["__scopeId","data-v-67d35a76"]]),gm=I({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(t){const{theme:e}=z(K()),n=g(()=>ne(e.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:s.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),o=g(()=>[{name:"# of troves",data:Object.values(t.data).map(i=>i.value)}]),s=g(()=>t.data.map(i=>i.label));return(i,l)=>{const c=ie;return f(),P(c,{class:"graph",options:a(n),series:a(o)},null,8,["options","series"])}}}),ym=D(gm,[["__scopeId","data-v-11181cf0"]]),wm={class:"actions"},Pn=I({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(t){const{t:e}=E(),n=K(),o=new Ie(G(),n.flavor),s=R("collateral"),{isFetching:i,data:l}=H({queryKey:["prisma-trove-distributions",g(()=>{var c;return(c=t.vault)==null?void 0:c.address}),s],queryFn:({queryKey:[,c,p]})=>c?o.getTroveDistribution("ethereum",c,p).then(m=>m.distribution):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});return(c,p)=>{const m=st,h=te;return f(),P(h,{class:"chart-container",title:a(e)("title"),loading:a(i)},{actions:y(()=>[u("div",wm,[_(m,{value:"Coll.","model-value":a(s)==="collateral",onClick:p[0]||(p[0]=r=>s.value="collateral")},null,8,["model-value"]),_(m,{value:"Debt","model-value":a(s)==="debt",onClick:p[1]||(p[1]=r=>s.value="debt")},null,8,["model-value"])])]),default:y(()=>[_(ym,{data:a(l)},null,8,["data"])]),_:1},8,["title","loading"])}}});function to(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Troves Distribution"}}}})}typeof to=="function"&&to(Pn);const $m=D(Pn,[["__scopeId","data-v-b434fdd3"]]),Cm={class:"kpis"},km=I({__name:"VaultKPIs",props:{vault:{default:null}},setup(t){return(e,n)=>{const o=oe,s=Le;return f(),S("div",Cm,[_(s,{label:"TVL","has-value":!!e.vault},{default:y(()=>[e.vault?(f(),P(o,{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):M("",!0)]),_:1},8,["has-value"]),_(s,{label:"Debt / Debt Cap","has-value":!!e.vault},{default:y(()=>[e.vault?(f(),P(o,{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):M("",!0),j(" / "),e.vault?(f(),P(o,{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):M("",!0)]),_:1},8,["has-value"]),_(s,{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:y(()=>[e.vault?(f(),P(o,{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):M("",!0),j(" / "),e.vault?(f(),P(o,{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):M("",!0)]),_:1},8,["has-value"]),_(s,{label:"Interest rate","has-value":!!e.vault},{default:y(()=>[e.vault?(f(),P(o,{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):M("",!0)]),_:1},8,["has-value"]),_(s,{label:"Troves open / total","has-value":!!e.vault},{default:y(()=>[e.vault?(f(),P(o,{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):M("",!0),j(" / "),e.vault?(f(),P(o,{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):M("",!0)]),_:1},8,["has-value"]),_(s,{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:y(()=>[e.vault?(f(),P(o,{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):M("",!0),j(" / "),e.vault?(f(),P(o,{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):M("",!0)]),_:1},8,["has-value"])])}}}),Sm=D(km,[["__scopeId","data-v-da6116fe"]]),In=I({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(t){const{t:e}=E();let n;const{theme:o,flavor:s}=z(K()),{chart:i,chartRef:l}=de(o,h,b=>{n=b.addAreaSeries(r())}),c=new Ie(G(),s.value),{isFetching:p,data:m}=H({queryKey:["prisma-vault-collateral-ratio",g(()=>{var b;return(b=t.vault)==null?void 0:b.address})],queryFn:({queryKey:[,b]})=>b?c.getVaultCollateralRatio("ethereum",b,"1m").then(d=>d.ratio):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});W([m,i],v),W(o,()=>n.applyOptions(r()));function h(b){return ue(b,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function r(){return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}}function v([b,d]){if(!d||!n)return;const w=N.chain(b).map(L=>({time:L.timestamp,value:L.value*100})).uniqWith((L,x)=>L.time===x.time).orderBy(L=>L.time,"asc").value();w.length>0&&n.setData(w),d.timeScale().fitContent()}return(b,d)=>{const w=te;return f(),P(w,{class:"chart-container",title:a(e)("title"),loading:a(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ao(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Vault collateral ratio"}}}})}typeof ao=="function"&&ao(In);const Lm=D(In,[["__scopeId","data-v-8eba1186"]]),Dn=I({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(t){const{t:e}=E();let n;const{theme:o,flavor:s}=z(K()),{chart:i,chartRef:l}=de(o,h,b=>{n=b.addAreaSeries(r())}),c=new Ie(G(),s.value),{isFetching:p,data:m}=H({queryKey:["prisma-vault-trove-count",g(()=>{var b;return(b=t.vault)==null?void 0:b.address})],queryFn:({queryKey:[,b]})=>b?c.getVaultTroveCount("ethereum",b,"1m").then(d=>d.count):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});W([m,i],v),W(o,()=>n.applyOptions(r()));function h(b){return ue(b,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function r(){return{priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}}function v([b,d]){if(!d||!n)return;const w=N.chain(b).map(L=>({time:L.timestamp,value:L.value})).uniqWith((L,x)=>L.time===x.time).orderBy(L=>L.time,"asc").value();w.length>0&&n.setData(w),d.timeScale().fitContent()}return(b,d)=>{const w=te;return f(),P(w,{class:"chart-container",title:a(e)("title"),loading:a(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function oo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Number of open troves"}}}})}typeof oo=="function"&&oo(Dn);const Tm=D(Dn,[["__scopeId","data-v-d2a4e33e"]]),Am={class:"vault-overview"},Pm=I({__name:"VaultOverview",props:{vault:{}},setup(t){return(e,n)=>(f(),S("div",Am,[_(Sm,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),_($m,{vault:e.vault},null,8,["vault"]),_(bm,{vault:e.vault},null,8,["vault"]),_(Lm,{vault:e.vault},null,8,["vault"]),_(Tm,{vault:e.vault},null,8,["vault"])]))}}),Im=D(Pm,[["__scopeId","data-v-1aa9d288"]]),Dm={class:"actions"},xn=I({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(t){const{t:e}=E();let n,o;const{theme:s,flavor:i}=z(K()),{items:l}=Ht(()=>[{id:"oracle",label:"Oracle",color:s.value.colorsArray[0]},{id:"market",label:"Market",color:s.value.colorsArray[1]}]),c=new Bt(G(),i.value),p={oracle:[],market:[]},{isFetching:m,data:h}=H({queryKey:["prisma-stable-distribution",g(()=>{var C;return(C=t.vault)==null?void 0:C.collateral})],queryFn:async({queryKey:[,C]})=>{if(C){const T=await c.getCollateralPrices("ethereum",C,"7d");return r(T.oracle,T.market)}else return Promise.resolve(p)},initialData:p,initialDataUpdatedAt:0}),r=(C,T)=>{const $=Math.max(C[0].timestamp,T[0].timestamp),k=Math.min(C[C.length-1].timestamp,T[T.length-1].timestamp),q=C.filter(U=>U.timestamp>=$&&U.timestamp<=k),B=T.filter(U=>U.timestamp>=$&&U.timestamp<=k);return q[q.length-1].timestamp<k&&q.push({timestamp:k,value:q[q.length-1].value}),B[B.length-1].timestamp<k&&B.push({timestamp:k,value:B[B.length-1].value}),{oracle:q,market:B}},{chart:v,chartRef:b}=de(s,d,C=>{n=C.addAreaSeries(L()),o=C.addAreaSeries(w())});W([h,v],x),W(s,()=>{n.applyOptions(L()),o.applyOptions(w())});function d(C){return ue(C,s.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function w(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:pe.WithSteps,lineColor:s.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function L(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...s.value.lineChartColors}}function x([C,T]){if(!T||!n)return;const $=N.chain(C==null?void 0:C.oracle).map(q=>({time:q.timestamp,value:q.value})).uniqWith((q,B)=>q.time===B.time).orderBy(q=>q.time,"asc").value(),k=N.chain(C==null?void 0:C.market).map(q=>({time:q.timestamp,value:q.value})).uniqWith((q,B)=>q.time===B.time).orderBy(q=>q.time,"asc").value();k.length>0&&o.setData(k),$.length>0&&n.setData($),T.timeScale().fitContent()}return(C,T)=>{const $=Nt,k=te;return f(),P(k,{class:"chart-container",title:a(e)("title"),loading:a(m)},{actions:y(()=>[u("div",Dm,[_($,{items:a(l)},null,8,["items"])])]),default:y(()=>[u("div",{ref_key:"chartRef",ref:b,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function no(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Oracle & Market price"}}}})}typeof no=="function"&&no(xn);const xm=D(xn,[["__scopeId","data-v-ca5752a8"]]),qn=I({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(t){const{t:e}=E(),{theme:n,flavor:o}=z(K()),s=new Bt(G(),o.value),{isFetching:i,data:l}=H({queryKey:["prisma-collateral-price-impact",g(()=>{var v;return(v=t.vault)==null?void 0:v.collateral})],queryFn:({queryKey:[,v]})=>v?s.getCollateralPriceImpact("ethereum",v).then(b=>b.impact):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),c=g(()=>ne(n.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:m.value,labels:{formatter:v=>h(v)}},yaxis:{seriesName:"impact",labels:{formatter:v=>r(v)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:v=>{if(!t.vault)return"";const b=m.value[v.dataPointIndex],d=h(b*t.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${h(b)} ${t.vault.name} ($${d})</div>

          <div><b>Price impact:</b>:</div>
          <div>${r(v.series[0][v.dataPointIndex])}</div>
          `}}})),p=g(()=>[{name:e("priceImpact"),data:Object.values(l.value).map(v=>v.impact)}]),m=g(()=>l.value.map(v=>t.vault?v.amount/t.vault.price:0)),h=v=>`${J(Math.abs(v),1,"dollar")}${Q(v,"dollar")}`,r=v=>`${J(v,2,"percentage")}${Q(v,"percentage")}`;return(v,b)=>{const d=ie;return f(),P(d,{class:"chart",title:a(e)("title"),loading:a(i),options:a(c),series:a(p)},null,8,["title","loading","options","series"])}}});function so(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"On-chain Selling Price Impact"}},priceImpact:{t:0,b:{t:2,i:[{t:3}],s:"Price impact"}}}})}typeof so=="function"&&so(qn);const qm=D(qn,[["__scopeId","data-v-3b221034"]]),Vm={class:"kpis"},Mm=["href"],Fm=I({__name:"CollateralKPIs",props:{vault:{default:null}},setup(t){const e=K(),n=new Bt(G(),e.flavor),{data:o}=H({queryKey:["prisma-collateral-info",g(()=>{var s;return(s=t.vault)==null?void 0:s.address})],queryFn:({queryKey:[,s]})=>s?n.getCollateralInfo("ethereum",s).then(i=>i.info):Promise.resolve(null),initialData:null,initialDataUpdatedAt:0});return(s,i)=>{const l=oe,c=Le;return f(),S("div",Vm,[_(c,{label:"Oracle price","has-value":!!a(o)},{default:y(()=>[a(o)?(f(),P(l,{key:0,value:a(o).price,precision:2,type:"dollar"},null,8,["value"])):M("",!0)]),_:1},8,["has-value"]),_(c,{label:"Total supply","has-value":!!a(o)},{default:y(()=>[a(o)?(f(),P(l,{key:0,value:a(o).supply,precision:2,type:"dollar"},null,8,["value"])):M("",!0)]),_:1},8,["has-value"]),_(c,{label:"TVL","has-value":!!a(o)},{default:y(()=>[a(o)?(f(),P(l,{key:0,value:a(o).tvl,precision:1,type:"dollar"},null,8,["value"])):M("",!0)]),_:1},8,["has-value"]),_(c,{label:"Share of the collateral market","has-value":!!a(o)},{default:y(()=>[a(o)?(f(),P(l,{key:0,value:a(o).share,precision:1,type:"percentage"},null,8,["value"])):M("",!0)]),_:1},8,["has-value"]),_(c,{label:"Full risk analysis by Prisma Risk team","has-value":!!a(o)},{default:y(()=>[a(o)?(f(),S("a",{key:0,href:a(o).risk}," Risk Report ",8,Mm)):M("",!0)]),_:1},8,["has-value"])])}}}),Rm=D(Fm,[["__scopeId","data-v-83e8991b"]]),Bm={class:"collateral"},Um=I({__name:"Collateral",props:{vault:{}},setup(t){return(e,n)=>(f(),S("div",Bm,[_(Rm,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),_(xm,{vault:e.vault},null,8,["vault"]),_(qm,{vault:e.vault},null,8,["vault"])]))}}),Om=D(Um,[["__scopeId","data-v-f2eb56c3"]]),Em={class:"title"},Km={style:{display:"flex",gap:"1rem"}},Wm=["href"],Nm=["href"],Hm={class:"number"},Gm={class:"number"},jm={class:"number"},lo=15,Vn=I({__name:"TableLiquidations",props:{vault:{default:null}},setup(t){const{t:e}=E(),n=K(),o=new Ut(G(),n.flavor),{isFetching:s,data:i}=H({queryKey:["prisma-vault-liquidations",g(()=>{var C;return(C=t.vault)==null?void 0:C.address})],queryFn:({queryKey:[,C]})=>C?o.getLiquidations("ethereum",C):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=ke(),c=R(""),p=R(null),{sortColumns:m,sortColumn:h,sortOrder:r,onSort:v}=Te(["liquidator","tx","debt","numtroves","timestamp"],"timestamp"),b=g(()=>["Liquidator","Transaction","Debt","# Troves","Time"]),d=g(()=>N.chain(i.value).filter(C=>{const T=c.value.toLocaleLowerCase().split(" ");return(k=>T.some(q=>k.toLocaleLowerCase().includes(q)))(C.liquidator)}).orderBy(C=>{switch(h.value){case"liquidator":return C.liquidator;case"tx":return C.transaction;case"debt":return C.liquidated_collateral_usd;case"numtroves":return C.troves_affected_count;case"timestamp":return C.timestamp;default:return C.timestamp}},r.value).value()),{page:w,rowsPage:L,onPage:x}=$e(d,lo);return(C,T)=>{const $=fe,k=we,q=oe,B=re,U=Ae;return f(),S(X,null,[_(B,{class:"datatable-liquidations","columns-header":"1fr 2fr","columns-data":"liquidations-columns-data",loading:a(s),rows:a(L),columns:a(b),sorting:!0,"sorting-columns":a(m),"sorting-columns-enabled":a(m),"sorting-default-column":"timestamp","sorting-default-dir":"desc",onSortColumn:a(v),onSelected:T[3]||(T[3]=F=>p.value=F)},{"header-content":y(()=>[u("div",Em,A(a(e)("title")),1),u("div",Km,[_($,{modelValue:a(c),"onUpdate:modelValue":T[0]||(T[0]=F=>ce(c)?c.value=F:null),class:"search",search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"]),_(k,{class:"pagination","items-count":a(d).length,"items-per-page":lo,page:a(w),onPage:a(x)},null,8,["items-count","page","onPage"])])]),row:y(F=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${F.item.liquidator}`,target:"_blank",onClick:T[1]||(T[1]=ae(()=>{},["stop"]))},A(a(Y)(F.item.liquidator)),9,Wm)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${F.item.transaction}`,target:"_blank",onClick:T[2]||(T[2]=ae(()=>{},["stop"]))},A(a(Y)(F.item.transaction)),9,Nm)]),u("div",Hm,[_(q,{type:"dollar",value:Math.round(F.item.liquidated_debt),precision:1/0},null,8,["value"])]),u("div",Gm,A(F.item.troves_affected_count),1),u("div",jm,A(a(l)(F.item.timestamp)),1)]),"row-details":y(()=>[j("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),_(U,{show:!!a(p),onClose:T[4]||(T[4]=F=>p.value=null)},{default:y(()=>{var F;return[a(p)?(f(),P(Wt,{key:0,liquidation:a(p),"vault-addr":((F=C.vault)==null?void 0:F.address)??""},null,8,["liquidation","vault-addr"])):M("",!0)]}),_:1},8,["show"])],64)}}});function ro(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof ro=="function"&&ro(Vn);const Zm=D(Vn,[["__scopeId","data-v-770b6a25"]]),zm={class:"liquidations"},Ym=I({__name:"Liquidations",props:{vault:{}},setup(t){return(e,n)=>(f(),S("div",zm,[_(Zm,{vault:e.vault},null,8,["vault"])]))}}),Qm=D(Ym,[["__scopeId","data-v-d6030225"]]),Jm={class:"title"},Xm={style:{display:"flex",gap:"1rem"}},ev=["href"],tv=["href"],av={class:"number"},ov={class:"number"},nv={class:"number"},io=15,Mn=I({__name:"TableRedemptions",props:{vault:{default:null}},setup(t){const{t:e}=E(),n=K(),o=new Ot(G(),n.flavor),{isFetching:s,data:i}=H({queryKey:["prisma-vault-redemptions",g(()=>{var C;return(C=t.vault)==null?void 0:C.address})],queryFn:({queryKey:[,C]})=>C?o.getRedemptions("ethereum",C):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=ke(),c=R(""),p=R(null),{sortColumns:m,sortColumn:h,sortOrder:r,onSort:v}=Te(["redeemer","tx","debt","numtroves","timestamp"],"timestamp"),b=g(()=>["Redeemer","Transaction","Debt","# Troves","Time"]),d=g(()=>N.chain(i.value).filter(C=>{const T=c.value.toLocaleLowerCase().split(" ");return(k=>T.some(q=>k.toLocaleLowerCase().includes(q)))(C.redeemer)}).orderBy(C=>{switch(h.value){case"redeemer":return C.redeemer;case"tx":return C.transaction;case"debt":return C.actual_debt_amount;case"numtroves":return C.troves_affected_count;case"timestamp":return C.timestamp;default:return C.timestamp}},r.value).value()),{page:w,rowsPage:L,onPage:x}=$e(d,io);return(C,T)=>{const $=fe,k=we,q=oe,B=re,U=Ae;return f(),S(X,null,[_(B,{class:"datatable-redemptions","columns-header":"1fr 2fr","columns-data":"redemptions-columns-data",loading:a(s),rows:a(L),columns:a(b),sorting:!0,"sorting-columns":a(m),"sorting-columns-enabled":a(m),"sorting-default-column":"timestamp","sorting-default-dir":"desc",onSortColumn:a(v),onSelected:T[3]||(T[3]=F=>p.value=F)},{"header-content":y(()=>[u("div",Jm,A(a(e)("title")),1),u("div",Xm,[_($,{modelValue:a(c),"onUpdate:modelValue":T[0]||(T[0]=F=>ce(c)?c.value=F:null),class:"search",search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"]),_(k,{class:"pagination","items-count":a(d).length,"items-per-page":io,page:a(w),onPage:a(x)},null,8,["items-count","page","onPage"])])]),row:y(F=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${F.item.redeemer}`,target:"_blank",onClick:T[1]||(T[1]=ae(()=>{},["stop"]))},A(a(Y)(F.item.redeemer)),9,ev)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${F.item.transaction}`,target:"_blank",onClick:T[2]||(T[2]=ae(()=>{},["stop"]))},A(a(Y)(F.item.transaction)),9,tv)]),u("div",av,[_(q,{type:"dollar",value:Math.round(F.item.actual_debt_amount),precision:1/0},null,8,["value"])]),u("div",ov,A(F.item.troves_affected_count),1),u("div",nv,A(a(l)(F.item.timestamp)),1)]),"row-details":y(()=>[j("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),_(U,{show:!!a(p),onClose:T[4]||(T[4]=F=>p.value=null)},{default:y(()=>{var F;return[a(p)?(f(),P(Kt,{key:0,redemption:a(p),"vault-addr":((F=C.vault)==null?void 0:F.address)??""},null,8,["redemption","vault-addr"])):M("",!0)]}),_:1},8,["show"])],64)}}});function co(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof co=="function"&&co(Mn);const sv=D(Mn,[["__scopeId","data-v-f5414e4f"]]),lv={class:"redemptions"},rv=I({__name:"Redemptions",props:{vault:{}},setup(t){return(e,n)=>(f(),S("div",lv,[_(sv,{vault:e.vault},null,8,["vault"])]))}}),iv=D(rv,[["__scopeId","data-v-8f90841b"]]),cv={style:{display:"flex",gap:"1rem"}},uv=["href"],dv={class:"number"},pv={class:"number"},uo=15,Fn=I({__name:"TableTroves",props:{vault:{default:null}},setup(t){const{t:e}=E(),n=K(),o=new Ne(G(),n.flavor),{isFetching:s,data:i}=H({queryKey:["prisma-vault-troves",g(()=>{var $;return($=t.vault)==null?void 0:$.address})],queryFn:({queryKey:[,$]})=>$?o.getTroves("ethereum",$):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=ke(),c=R(""),p=R("Open"),{sortColumns:m,sortColumn:h,sortOrder:r,onSort:v}=Te(["owner","debt","coll","ratio","created","updated"],"updated"),b=g(()=>p.value==="Open"?["Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["Owner","","","","Created At","Last Updated"]),d=g(()=>p.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),w=g(()=>N.chain(i.value).filter($=>p.value===$.status).filter($=>{const k=c.value.toLocaleLowerCase().split(" ");return(B=>k.some(U=>B.toLocaleLowerCase().includes(U)))($.owner)}).orderBy($=>{switch(h.value){case"owner":return $.owner;case"debt":return $.debt;case"coll":return $.collateral_usd;case"ratio":return $.collateral_ratio;case"created":return $.created_at;case"updated":return $.last_update;default:return $.last_update}},r.value).value()),{page:L,rowsPage:x,onPage:C}=$e(w,uo),T=$=>{$===0?p.value="Open":$===1?p.value="Closed":p.value="Open"};return($,k)=>{const q=ut,B=ct,U=fe,F=we,Z=oe,V=re;return f(),P(V,{class:"datatable-troves","columns-header":"1fr 2fr","columns-data":"troves-columns-data",loading:a(s),rows:a(x),columns:a(b),sorting:!0,"sorting-columns":a(m),"sorting-columns-enabled":a(d),"sorting-default-column":"updated","sorting-default-dir":"desc",onSortColumn:a(v)},{"header-content":y(()=>[_(B,{class:"types",onTab:k[0]||(k[0]=se=>T(se.index))},{default:y(()=>[_(q,{header:"Open"}),_(q,{header:"Closed"})]),_:1}),u("div",cv,[_(U,{modelValue:a(c),"onUpdate:modelValue":k[1]||(k[1]=se=>ce(c)?c.value=se:null),class:"search",search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"]),_(F,{class:"pagination","items-count":a(w).length,"items-per-page":uo,page:a(L),onPage:a(C)},null,8,["items-count","page","onPage"])])]),row:y(se=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${se.item.owner}`,target:"_blank",onClick:k[2]||(k[2]=ae(()=>{},["stop"]))},A(a(Y)(se.item.owner)),9,uv)]),u("div",{class:O(["number",{hide:a(p)==="Closed"}])},[_(Z,{type:"dollar",value:Math.round(se.item.debt),precision:1/0},null,8,["value"])],2),u("div",{class:O(["number",{hide:a(p)==="Closed"}])},[_(Z,{type:"dollar",value:Math.round(se.item.collateral_usd),precision:1/0},null,8,["value"])],2),u("div",{class:O(["number",{hide:a(p)==="Closed"}])},[_(Z,{value:se.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",dv,A(a(l)(se.item.created_at)),1),u("div",pv,A(a(l)(se.item.last_update)),1)]),"row-details":y(()=>[j("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"])}}});function po(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof po=="function"&&po(Fn);const mv=D(Fn,[["__scopeId","data-v-6d30e635"]]),vv={class:"troves"},fv=I({__name:"Troves",props:{vault:{}},setup(t){const e=gt(),n=et(),o=async s=>{e.trove=s,t.vault&&await n.push({name:"prismatrove",params:{troveAddr:s.owner,vaultAddr:t.vault.address}})};return(s,i)=>(f(),S("div",vv,[_(mv,{vault:s.vault,onSelected:o},null,8,["vault"])]))}}),hv=D(fv,[["__scopeId","data-v-5138a005"]]),_v={class:"vault-manager"},bv=I({__name:"VaultManager.page",setup(t){const e=K(),n=bt(),o=gt(),s=Se().getSocket(Ke(e.flavor)),i=new He(s,"ethereum"),l=be(i.overview$,[]),c=Qe("vaultAddr"),p=g(()=>o.vault);ge(()=>{var v,b;const r=qe((v=p.value)==null?void 0:v.address)??((b=p.value)==null?void 0:b.name)??"?";n.show=!0,n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${r}`}]}),W(l,r=>{const v=r.find(b=>b.address===c.value);v&&(o.vault=v)}),W(p,r=>{const v=qe(r==null?void 0:r.address)??(r==null?void 0:r.name)??"?";n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${v}`}]});const{tabActive:m,tabActiveIndex:h}=fn(["overview","collateral","trove","liquidations","redemptions"],"prismavault",()=>({vaultAddr:c.value}));return(r,v)=>{const b=ut,d=ct;return f(),S("div",_v,[_(d,{active:a(h),onTab:v[0]||(v[0]=w=>h.value=w.index)},{default:y(()=>[_(b,{header:"Overview"},{default:y(()=>[(f(),P(Ge,null,[a(m)==="overview"?(f(),P(Im,{key:0,vault:a(p)},null,8,["vault"])):M("",!0)],1024))]),_:1}),_(b,{header:"Collateral"},{default:y(()=>[(f(),P(Ge,null,[a(m)==="collateral"&&a(p)?(f(),P(Om,{key:0,vault:a(p)},null,8,["vault"])):M("",!0)],1024))]),_:1}),_(b,{header:"Troves"},{default:y(()=>[(f(),P(Ge,null,[a(m)==="trove"&&a(p)?(f(),P(hv,{key:0,vault:a(p)},null,8,["vault"])):M("",!0)],1024))]),_:1}),_(b,{header:"Liquidations"},{default:y(()=>[(f(),P(Ge,null,[a(m)==="liquidations"&&a(p)?(f(),P(Qm,{key:0,vault:a(p)},null,8,["vault"])):M("",!0)],1024))]),_:1}),_(b,{header:"Redemptions"},{default:y(()=>[(f(),P(Ge,null,[a(m)==="redemptions"&&a(p)?(f(),P(iv,{key:0,vault:a(p)},null,8,["vault"])):M("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),gv=D(bv,[["__scopeId","data-v-aa795be3"]]),yv=t=>(me("data-v-1adaf732"),t=t(),ve(),t),wv=yv(()=>u("div",null,[j(" This chart displays that amount of collateral available below different collateral ratios. "),u("br"),j(" It also displays the position of the trove relative to other troves in this vault. "),u("br"),u("br"),j(" This information is useful to estimate a trove's risk of redemption. "),u("br"),j(" Even if the trove's collateral ratio is high in the absolute, a lower ratio relative "),u("br"),j(" to other troves means a higher risk of redemption."),u("br"),u("br"),j(` As such, the lower the "risk rank" displayed, the higher the trove's risk of being redeemed. `)],-1)),Rn=I({__name:"ChartTroveRank",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=E(),{theme:n,flavor:o}=z(K()),s=new Ne(G(),o.value),i=R("Trove Relative Position"),l={rank:null,total_positions:0,ratio:null,positions:[]},{isFetching:c,data:p}=H({queryKey:["prisma-trove-rank",g(()=>{var d;return(d=t.vault)==null?void 0:d.address}),g(()=>{var d;return(d=t.trove)==null?void 0:d.owner})],queryFn:async({queryKey:[,d,w]})=>d&&w?await s.getTroveRank("ethereum",d,w):Promise.resolve(l),initialData:l,initialDataUpdatedAt:0}),m=g(()=>{var L,x;const{colors:d}=n.value,w={x:((L=p.value)==null?void 0:L.ratio)??0,borderColor:d.yellow,strokeDashArray:2,label:{borderColor:d.yellow,style:{background:d.yellow,color:"rgb(34, 34, 34)"},position:"top",offsetX:15,text:`This trove: ${b(((x=p.value)==null?void 0:x.ratio)??0,1)}`}};return ne(n.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!0}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},annotations:{xaxis:p.value.ratio?[w]:[]},toolbar:{show:!1},xaxis:{type:"numeric",categories:r.value,labels:{formatter:C=>b(C)}},yaxis:{seriesName:"impact",labels:{formatter:C=>v(C)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:C=>{if(!t.vault)return"";const T=r.value[C.dataPointIndex];return`
          <div><b>Collateral ratio:</b>:</div>
          <div>${C.dataPointIndex===r.value.length-1?"Over 250%":b(T)}</div>

          <div><b>Troves with lower or equal ratio:</b>:</div>
          <div>${p.value.positions[C.dataPointIndex].trove_count}</div>

          <div><b>Collateral value at lower or equal ratio:</b>:</div>
          <div>$${v(C.series[0][C.dataPointIndex])}</div>
          `}}})}),h=g(()=>[{name:e("rank"),data:Object.values(p.value.positions).map(d=>d.collateral_usd)}]),r=g(()=>p.value.positions.map(d=>d.ratio)),v=d=>`${J(Math.abs(d),1,"dollar")}${Q(d,"dollar")}`,b=(d,w=0)=>`${J(d,w,"percentage")}${Q(d,"percentage")}`;return W(p,d=>{d&&typeof d.rank=="number"&&(i.value=e("title",{rank:d.rank,total_positions:d.total_positions}))},{immediate:!0}),(d,w)=>{const L=nt,x=Rt,C=te;return f(),P(C,{class:"chart-container",title:a(i),loading:a(c)},{actions:y(()=>[_(L,null,{default:y(()=>[wv]),_:1})]),default:y(()=>[_(x,{class:"chart",options:a(m),series:a(h)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function mo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3,v:"Trove Relative Position (Risk rank: "},{t:4,k:"rank"},{t:3,v:" / "},{t:4,k:"total_positions"},{t:3,v:")"}]}}}})}typeof mo=="function"&&mo(Rn);const $v=D(Rn,[["__scopeId","data-v-1adaf732"]]),Bn=I({__name:"ChartTroveHealth",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=E(),{theme:n,flavor:o}=z(K()),s=new Ne(G(),o.value),{isFetching:i,data:l}=H({queryKey:["prisma-trove-snapshots",g(()=>{var r;return(r=t.vault)==null?void 0:r.address}),g(()=>{var r;return(r=t.trove)==null?void 0:r.owner})],queryFn:({queryKey:[,r,v]})=>r&&v?s.getTroveSnapshots("ethereum",r,v).then(b=>b.snapshots):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),c=g(()=>ne(n.value,{chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"collateralUsd",tickAmount:4,opposite:!0,labels:{formatter:r=>m(r)},min:0,max:Math.max(...l.value.map(r=>r.collateral_usd))},{seriesName:"ratio",tickAmount:4,labels:{formatter:r=>h(r)},min:0,max:Math.max(...l.value.map(r=>r.cr??0))}],dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:r=>{const v=r.w.globals.initialSeries[0].data[r.dataPointIndex].y,b=r.w.globals.initialSeries[1].data[r.dataPointIndex]?r.w.globals.initialSeries[1].data[r.dataPointIndex].y:0;return[`<div><b>${e("ratio")}</b>:</div><div>${h(b)}</div>`,`<div><b>${e("collateralUsd")}</b>:</div><div>${m(v)}</div>`].join("")}}})),p=g(()=>[{name:e("collateralUsd"),type:"line",data:l.value.map(r=>({x:r.timestamp*1e3,y:r.collateral_usd}))},{name:e("ratio"),type:"line",data:l.value.map(r=>({x:r.timestamp*1e3,y:r.cr??0}))}]),m=r=>`$${J(r,1,"dollar")}${Q(r,"dollar")}`,h=r=>`${xe(r*100,2)}%`;return(r,v)=>{const b=ie;return f(),P(b,{class:"health",title:a(e)("title"),options:a(c),series:a(p),loading:a(i)},null,8,["title","options","series","loading"])}}});function vo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Health"}},collateralUsd:{t:0,b:{t:2,i:[{t:3}],s:"Collateral ($)"}},ratio:{t:0,b:{t:2,i:[{t:3}],s:"Ratio"}}}})}typeof vo=="function"&&vo(Bn);const Cv=D(Bn,[["__scopeId","data-v-55059620"]]),kv={class:"title"},Sv={class:"number"},Lv={class:"number"},Tv={class:"number"},Av={class:"number"},Pv={class:"number"},Iv=["href"],Dv={class:"number"},Un=I({__name:"TableTroveOps",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=E(),n=K(),o=new Ne(G(),n.flavor),{relativeTime:s}=ke(),i=g(()=>N.orderBy(c.value,m=>m.timestamp,"desc")),{isFetching:l,data:c}=H({queryKey:["prisma-trove-snapshots",g(()=>{var m;return(m=t.vault)==null?void 0:m.address}),g(()=>{var m;return(m=t.trove)==null?void 0:m.owner})],queryFn:({queryKey:[,m,h]})=>m&&h?o.getTroveSnapshots("ethereum",m,h).then(r=>r.snapshots):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),p=m=>m.replace(/^_*(.)|_+(.)/g,(h,r,v)=>r?r.toUpperCase():" "+v.toUpperCase());return(m,h)=>{const r=oe,v=re;return f(),P(v,{class:"datatable-trove-ops","columns-header":"1fr 1fr auto","columns-data":"trove-ops-columns-data",loading:a(l),rows:a(i),columns:["Operation","Collateral","Debt","Ratio","Stake","Tx","Time"]},{"header-content":y(()=>[u("div",kv,A(a(e)("title")),1)]),row:y(b=>[u("div",null,A(p(b.item.operation)),1),u("div",Sv,[b.item.collateral?(f(),P(r,{key:0,value:b.item.collateral,precision:3,"show-symbol":!1,type:"dollar"},null,8,["value"])):M("",!0)]),u("div",Lv,[_(r,{type:"dollar",value:Math.round(b.item.debt),precision:1/0},null,8,["value"])]),u("div",Tv,[b.item.cr?(f(),P(r,{key:0,value:b.item.cr*100,precision:2,type:"percentage"},null,8,["value"])):M("",!0)]),u("div",Av,[b.item.stake?(f(),P(r,{key:0,value:b.item.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])):M("",!0)]),u("div",Pv,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${b.item.hash}`,target:"_blank",onClick:h[0]||(h[0]=ae(()=>{},["stop"]))},A(a(Y)(b.item.hash)),9,Iv)]),u("div",Dv,A(a(s)(b.item.timestamp)),1)]),_:1},8,["loading","rows"])}}});function fo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Operations"}}}})}typeof fo=="function"&&fo(Un);const xv=D(Un,[["__scopeId","data-v-85d1638b"]]),qv={class:"trove"},Vv=I({__name:"Trove.page",setup(t){const e=K(),n=bt(),o=gt(),s=new Ne(G(),e.flavor),i=Se().getSocket(Ke(e.flavor)),l=new He(i,"ethereum"),c=be(l.overview$,[]),p=Qe("vaultAddr"),m=Qe("troveAddr"),h=g(()=>o.vault),r=g(()=>o.trove);return ge(async()=>{var d,w,L;const v=await s.getTroveDetail("ethereum",p.value,m.value);v&&(o.trove=v);const b=qe((d=h.value)==null?void 0:d.address)??((w=h.value)==null?void 0:w.name)??"?";n.show=!0,n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${b}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((L=r.value)==null?void 0:L.owner)??"?"}`}]}),W(c,v=>{const b=v.find(d=>d.address===p.value);b&&(o.vault=b)}),W(h,v=>{var d;const b=qe(v==null?void 0:v.address)??(v==null?void 0:v.name)??"?";n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${b}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((d=r.value)==null?void 0:d.owner)??"?"}`}]}),W(r,v=>{var d,w;const b=qe((d=h.value)==null?void 0:d.address)??((w=h.value)==null?void 0:w.name)??"?";n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${b}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(v==null?void 0:v.owner)??"?"}`}]}),(v,b)=>(f(),S("div",qv,[_($v,{class:"graph-rank",vault:a(h),trove:a(r)},null,8,["vault","trove"]),_(Cv,{class:"graph-health",vault:a(h),trove:a(r)},null,8,["vault","trove"]),_(xv,{class:"table-ops",vault:a(h),trove:a(r)},null,8,["vault","trove"])]))}}),Mv=D(Vv,[["__scopeId","data-v-4369d6d5"]]),Fv={class:"title"},Rv={style:{display:"flex",gap:"1rem"}},Bv=["src"],Uv=["href"],Ov=["href"],Ev={class:"number"},Kv={class:"number"},Wv={class:"number"},ho=15,On=I({__name:"TableRedemptions",props:{troves:{default:()=>[]}},setup(t){const e=K(),n=new Ot(G(),e.flavor),{t:o}=E(),{isFetching:s,data:i}=H({queryKey:["prisma-redemptions",g(()=>t.troves)],queryFn:({queryKey:[,$]})=>Promise.all(N.chain($).uniq().map(k=>n.getRedemptionsForTrove("ethereum",k)).value()).then(k=>k.flat()),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=ke(),c=R(""),p=R("all"),m=R(null),{sortColumns:h,sortColumn:r,sortOrder:v,onSort:b}=Te(["icon","redeemer","tx","debt","numtroves","timestamp"],"timestamp"),d=g(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),w=g(()=>["redeemer","tx","debt","numtroves","timestamp"]),L=g(()=>N.chain(i.value).filter($=>{const k=c.value.toLocaleLowerCase().split(" "),q=U=>k.some(F=>U.toLocaleLowerCase().includes(F)),B=p.value==="all"?!0:$.vault===p.value;return q($.redeemer)&&B}).orderBy($=>{switch(r.value){case"redeemer":return $.redeemer;case"tx":return $.transaction;case"debt":return $.actual_debt_amount;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},v.value).value()),{page:x,rowsPage:C,onPage:T}=$e(L,ho);return($,k)=>{const q=fe,B=we,U=oe,F=re,Z=Ae;return f(),S(X,null,[_(F,{class:"datatable-redemptions","columns-header":"1fr 14rem 2fr","columns-data":"redemptions-columns-data",loading:a(s)||$.troves.length===0,rows:a(C),columns:a(d),sorting:!0,"sorting-columns":a(h),"sorting-columns-enabled":a(w),"sorting-default-column":"timestamp","sorting-default-dir":"desc",onSortColumn:a(b),onSelected:k[4]||(k[4]=V=>m.value=V)},{"header-content":y(()=>[u("div",Fv,A(a(o)("title")),1),_(yt,{class:"select-vault",vault:a(p),all:!0,onSelectVault:k[0]||(k[0]=V=>p.value=V)},null,8,["vault"]),u("div",Rv,[_(q,{modelValue:a(c),"onUpdate:modelValue":k[1]||(k[1]=V=>ce(c)?c.value=V:null),class:"search",search:!0,placeholder:a(o)("search-placeholder")},null,8,["modelValue","placeholder"]),_(B,{class:"pagination","items-count":a(L).length,"items-per-page":ho,page:a(x),onPage:a(T)},null,8,["items-count","page","onPage"])])]),row:y(V=>[u("img",{src:a(Me)(V.item.vault)},null,8,Bv),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${V.item.redeemer}`,target:"_blank",onClick:k[2]||(k[2]=ae(()=>{},["stop"]))},A(a(Y)(V.item.redeemer)),9,Uv)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.item.transaction}`,target:"_blank",onClick:k[3]||(k[3]=ae(()=>{},["stop"]))},A(a(Y)(V.item.transaction)),9,Ov)]),u("div",Ev,[_(U,{type:"dollar",value:Math.round(V.item.actual_debt_amount),precision:1/0},null,8,["value"])]),u("div",Kv,A(V.item.troves_affected_count),1),u("div",Wv,A(a(l)(V.item.timestamp)),1)]),"row-details":y(()=>[j("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),_(Z,{show:!!a(m),onClose:k[5]||(k[5]=V=>m.value=null)},{default:y(()=>[a(m)?(f(),P(Kt,{key:0,redemption:a(m),"vault-addr":a(m).vault},null,8,["redemption","vault-addr"])):M("",!0)]),_:1},8,["show"])],64)}}});function _o(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof _o=="function"&&_o(On);const Nv=D(On,[["__scopeId","data-v-832ce6b0"]]),Hv={class:"title"},Gv={style:{display:"flex",gap:"1rem"}},jv=["src"],Zv=["href"],zv=["href"],Yv={class:"number"},Qv={class:"number"},Jv={class:"number"},bo=15,En=I({__name:"TableLiquidations",props:{troves:{default:()=>[]}},setup(t){const e=K(),n=new Ut(G(),e.flavor),{t:o}=E(),{isFetching:s,data:i}=H({queryKey:["prisma-liquidations-troves",g(()=>t.troves)],queryFn:({queryKey:[,$]})=>Promise.all(N.chain($).uniq().map(k=>n.getLiquidationsForTrove("ethereum",k)).value()).then(k=>k.flat()),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=ke(),c=R(""),p=R("all"),m=R(null),{sortColumns:h,sortColumn:r,sortOrder:v,onSort:b}=Te(["icon","liquidator","tx","debt","numtroves","timestamp"],"timestamp"),d=g(()=>["","Liquidator","Transaction","Debt","# Troves","Time"]),w=g(()=>["liquidator","tx","debt","numtroves","timestamp"]),L=g(()=>N.chain(i.value).filter($=>{const k=c.value.toLocaleLowerCase().split(" "),q=U=>k.some(F=>U.toLocaleLowerCase().includes(F)),B=p.value==="all"?!0:$.vault===p.value;return q($.liquidator)&&B}).orderBy($=>{switch(r.value){case"liquidator":return $.liquidator;case"tx":return $.transaction;case"debt":return $.liquidated_collateral_usd;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},v.value).value()),{page:x,rowsPage:C,onPage:T}=$e(L,bo);return($,k)=>{const q=fe,B=we,U=oe,F=re,Z=Ae;return f(),S(X,null,[_(F,{class:"datatable-liquidations","columns-header":"1fr 14rem 2fr","columns-data":"liquidations-columns-data",loading:a(s)||$.troves.length===0,rows:a(C),columns:a(d),sorting:!0,"sorting-columns":a(h),"sorting-columns-enabled":a(w),"sorting-default-column":"timestamp","sorting-default-dir":"desc",onSortColumn:a(b),onSelected:k[4]||(k[4]=V=>m.value=V)},{"header-content":y(()=>[u("div",Hv,A(a(o)("title")),1),_(yt,{class:"select-vault",vault:a(p),all:!0,onSelectVault:k[0]||(k[0]=V=>p.value=V)},null,8,["vault"]),u("div",Gv,[_(q,{modelValue:a(c),"onUpdate:modelValue":k[1]||(k[1]=V=>ce(c)?c.value=V:null),class:"search",search:!0,placeholder:a(o)("search-placeholder")},null,8,["modelValue","placeholder"]),_(B,{class:"pagination","items-count":a(L).length,"items-per-page":bo,page:a(x),onPage:a(T)},null,8,["items-count","page","onPage"])])]),row:y(V=>[u("img",{src:a(Me)(V.item.vault)},null,8,jv),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${V.item.liquidator}`,target:"_blank",onClick:k[2]||(k[2]=ae(()=>{},["stop"]))},A(a(Y)(V.item.liquidator)),9,Zv)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.item.transaction}`,target:"_blank",onClick:k[3]||(k[3]=ae(()=>{},["stop"]))},A(a(Y)(V.item.transaction)),9,zv)]),u("div",Yv,[_(U,{type:"dollar",value:Math.round(V.item.liquidated_debt),precision:1/0},null,8,["value"])]),u("div",Qv,A(V.item.troves_affected_count),1),u("div",Jv,A(a(l)(V.item.timestamp)),1)]),"row-details":y(()=>[j("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),_(Z,{show:!!a(m),onClose:k[5]||(k[5]=V=>m.value=null)},{default:y(()=>[a(m)?(f(),P(Wt,{key:0,liquidation:a(m),"vault-addr":a(m).vault},null,8,["liquidation","vault-addr"])):M("",!0)]),_:1},8,["show"])],64)}}});function go(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof go=="function"&&go(En);const Xv=D(En,[["__scopeId","data-v-308fbc9e"]]),ef={style:{display:"grid","grid-template-columns":"auto 1fr"}},tf={class:"title"},af={style:{display:"flex",gap:"1rem","grid-column":"3"}},of=["src"],nf=["href"],sf={class:"number"},lf={class:"number"},yo=15,Kn=I({__name:"TableTroves",props:{vaults:{default:()=>[]},user:{}},emits:["troves"],setup(t,{emit:e}){const{t:n}=E(),o=K(),s=new Ne(G(),o.flavor),i=e,{isFetching:l,data:c}=H({queryKey:["prisma-troves",Zt(()=>t.vaults),Zt(()=>t.user)],queryFn:async({queryKey:[,q,B]})=>{if(q.length>0&&B){const U=await Promise.all(q.map(F=>s.getTroves("ethereum",F.address,B).then(Z=>Z.map(V=>({...V,vault:F.address}))))).then(F=>F.flat());return i("troves",U),U}else return Promise.resolve([])},initialData:[],initialDataUpdatedAt:0}),{relativeTime:p}=ke(),m=R(""),h=R("Open"),{sortColumns:r,sortColumn:v,sortOrder:b,onSort:d}=Te(["","owner","debt","coll","ratio","created","updated"],"updated"),w=g(()=>h.value==="Open"?["","Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["","Owner","","","","Created At","Last Updated"]),L=g(()=>h.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),x=g(()=>N.chain(c.value).filter(q=>h.value===q.status).filter(q=>{const B=m.value.toLocaleLowerCase().split(" ");return(F=>B.some(Z=>F.toLocaleLowerCase().includes(Z)))(q.owner)}).orderBy(q=>{switch(v.value){case"owner":return q.owner;case"debt":return q.debt;case"coll":return q.collateral_usd;case"ratio":return q.collateral_ratio;case"created":return q.created_at;case"updated":return q.last_update;default:return q.last_update}},b.value).value()),{page:C,rowsPage:T,onPage:$}=$e(x,yo),k=q=>{q===0?h.value="Open":q===1?h.value="Closed":h.value="Open"};return(q,B)=>{const U=ut,F=ct,Z=fe,V=we,se=oe,Hn=re;return f(),P(Hn,{class:"datatable-troves","columns-header":"1fr 14rem 2fr","columns-data":"troves-columns-data",loading:a(l),rows:a(T),columns:a(w),sorting:!0,"sorting-columns":a(r),"sorting-columns-enabled":a(L),"sorting-default-column":"updated","sorting-default-dir":"desc",onSortColumn:a(d)},{"header-content":y(()=>[u("div",ef,[u("div",tf,A(a(n)("title")),1),_(F,{class:"types",onTab:B[0]||(B[0]=he=>k(he.index))},{default:y(()=>[_(U,{header:"Open"}),_(U,{header:"Closed"})]),_:1})]),u("div",af,[_(Z,{modelValue:a(m),"onUpdate:modelValue":B[1]||(B[1]=he=>ce(m)?m.value=he:null),class:"search",search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),_(V,{class:"pagination","items-count":a(x).length,"items-per-page":yo,page:a(C),onPage:a($)},null,8,["items-count","page","onPage"])])]),row:y(he=>[u("img",{src:a(Me)(he.item.vault)},null,8,of),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${he.item.owner}`,target:"_blank",onClick:B[2]||(B[2]=ae(()=>{},["stop"]))},A(a(Y)(he.item.owner)),9,nf)]),u("div",{class:O(["number",{hide:a(h)==="Closed"}])},[_(se,{type:"dollar",value:Math.round(he.item.debt),precision:1/0},null,8,["value"])],2),u("div",{class:O(["number",{hide:a(h)==="Closed"}])},[_(se,{type:"dollar",value:Math.round(he.item.collateral_usd),precision:1/0},null,8,["value"])],2),u("div",{class:O(["number",{hide:a(h)==="Closed"}])},[_(se,{value:he.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",sf,A(a(p)(he.item.created_at)),1),u("div",lf,A(a(p)(he.item.last_update)),1)]),"row-details":y(()=>[j("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"])}}});function wo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Troves"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof wo=="function"&&wo(Kn);const rf=D(Kn,[["__scopeId","data-v-06fefbfe"]]),cf={class:"profile"},uf={style:{"grid-column":"1 / -1","margin-bottom":"-0.5rem"}},df=I({__name:"Profile.page",setup(t){const e=K(),n=et(),{address:o}=at(),s=Se().getSocket(Ke(e.flavor)),i=new He(s,"ethereum"),l=be(i.overview$,[]),c=Qe("addr"),p=R(void 0),m=R([]),h=g(()=>m.value.filter(v=>p.value?v.owner.toLocaleLowerCase()===p.value.toLocaleLowerCase():!1).map(v=>v.owner));ge(()=>{c.value&&(p.value=c.value)});const r=v=>{m.value=v};return W(o,async()=>{!c.value&&!p.value&&o.value&&await n.push({name:"profile",params:{addr:o.value}})},{immediate:!0}),W(c,v=>{v&&(p.value=v)}),(v,b)=>(f(),S("div",cf,[u("h2",uf," Profile: "+A(a(p)??"?"),1),_(rf,{style:{"z-index":"2"},vaults:a(l),user:a(p),onTroves:r},null,8,["vaults","user"]),_(Nv,{troves:a(h)},null,8,["troves"]),_(Xv,{troves:a(h)},null,8,["troves"])]))}}),pf=D(df,[["__scopeId","data-v-6d130a3e"]]),mf=[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:qc},{path:"/stable",name:"stable",component:au},{path:"/redemptions",name:"redemptions",component:qu},{path:"/liquidations",name:"liquidations",component:zu},{path:"/revenue",name:"revenue",component:pd},{path:"/vaults",name:"vaults",component:uc},{path:"/wrappers/:tab?",name:"wrappers",component:Bd},{path:"/veprisma",name:"veprisma",component:ep},{path:"/proposals",name:"proposals",component:vm},{path:"/profile/:addr?",name:"profile",component:pf},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:gv},{path:"/vault/:vaultAddr/trove/:troveAddr",name:"prismatrove",component:Mv}],vf={titleRoute:"/",menuItems:[{to:"/vaults",label:"Vaults",icon:"fas fa-piggy-bank"},{to:"/stable",label:()=>{const t=K();return _t(t.flavor)},icon:"fas fa-dollar-sign"},{to:"/pool",label:"Stability pool",icon:"fas fa-balance-scale"},{to:"/redemptions",label:"Redemptions",icon:"fas fa-bible"},{to:"/liquidations",label:"Liquidations",icon:"fas fa-book-dead"},{to:"/veprisma",label:"vePRISMA",icon:"fas fa-lock"},{to:"/proposals",label:"Proposals",icon:"fas fa-landmark"},{to:"/wrappers",label:"ve Wrappers",icon:"fas fa-tint"},{to:"/profile",label:"Profile",icon:"fas fa-user"}]};let Wn="http://localhost:8545";Wn=void 0;const ff=hs({chains:[Ye],connectors:[_s(),bs({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",showQrModal:!0,qrModalOptions:{themeMode:"dark"}}),gs(),ys()],transports:{[Ye.id]:ws(Wn,{batch:{wait:100}})}});function hf(t){const e=$s(t),n=Cs({legacy:!1,locale:"en",fallbackLocale:"en"});e.use(n);const o=ks();e.use(o);const s=new Ss({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:Ls}},queryCache:new Ts({onError:(i,l)=>{i.message.includes("Connector not connected")||i.message.includes("connector2.getAccounts is not a function")||i.message.includes("getAccounts is not a function")||Je({text:`Failed querying ${l.queryHash} >>> ${i.message}`,type:"error"})}})});return e.use(As).use(Ps,{queryClient:s}).use(Is).use(Ds,{config:ff}),{app:e,pinia:o}}const{app:_f}=hf(Br),bf=[vf],gf=[mf],Nn=Mt();Nn.pages=bf;Nn.routes=gf;const yf=hi();_f.use(yf).mount("#app");
