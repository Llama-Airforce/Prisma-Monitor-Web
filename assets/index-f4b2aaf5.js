import{L as ka,d as k,r as x,c as T,w as O,t as D,l as G,o as c,a as C,b as y,e as f,f as b,g as ae,h as qe,n as L,i as q,j as I,F as X,T as Sa,u as s,k as De,m as Ta,p as Da,q as E,s as d,v as Aa,x as R,y as ie,z as Rt,A as ce,B as ue,C as ke,D as _e,E as U,G as Ia,H as Pa,I as za,J as Ae,K as Le,M as Ze,N as Oa,O as xa,P as La,Q as Ma,R as fe,S as ve,U as Va,V as Se,W as Ra,X as Ba,Y as Wa,Z as Na,_ as Fa}from"./vendor-419b5831.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function a(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(l){if(l.ep)return;l.ep=!0;const n=a(l);fetch(l.href,n)}})();function pe(o,e=0,a=".",t=","){const l=isFinite(+o)?+o:0,n=isFinite(+e)?Math.abs(e):0,r=typeof t>"u"?",":t,v=typeof a>"u"?".":a,p=function(_,h){const m=Math.pow(10,h);return Math.round(_*m)/m},i=(n?p(l,n):Math.round(l)).toString().split(".");return i[0].length>3&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(i[1]||"").length<n&&(i[1]=i[1]||"",i[1]+=new Array(n-i[1].length+1).join("0")),i.join(v)}function Z(o,e){const a=Math.abs(o);return e==="percentage"?"%":e==="dollar"?a>=1*10**12?"t":a>=1*10**9?"b":a>=1*10**6?"m":a>=1*10**3?"k":"":""}function ee(o,e,a){const t=Math.abs(o);return a==="percentage"?pe(o,e):a==="dollar"?t>=1*10**12?pe(o/10**12,e):t>=1*10**9?pe(o/10**9,e):t>=1*10**6?pe(o/10**6,e):t>=1*10**3?pe(o/10**3,e):pe(o,e):o.toString()}async function Ee(o,e=0,a=1e3){const t=await o(e,a),l=await(t.length>=a?Ee(o,e+1,a):Promise.resolve([]));return t.concat(l)}function Ue(o,e){return(Array.isArray(o)?o:[o]).some(t=>e.path.startsWith(t))}const Ea="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",Ua="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",Ha="0x657ce046d98d163ef4f846210f25919fa7b31944",qa="https://api.llama.airforce/";async function ja(o,e,a){return await fetch(o,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:a}).then(t=>{if(t.ok)return t;throw new Error(`Fetch error ${t.status} for URL: ${o}`)})}async function Ga(o,e,a){return await(await ja(o,e,a)).json()}class Ja{constructor(e){this.host=e}async fetch(e,a,t){return Ga(e,a,t)}}async function Qa(o){try{return await o()}catch(e){e instanceof Error&&ka({text:e.message,type:"error"});return}}const Ka="|/-\\",M=k({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(o){let e=0,a=0;const t=x("|"),l=T(()=>o.value?ee(o.value,o.precision,o.type??""):o.value===0&&o.showZero?"0":o.value===null||o.value===void 0?t.value:"?"),n=T(()=>!o.value||!o.type||!G.isFinite(o.value)?o.showUnit&&o.type?Z(0,o.type):"":Z(o.value,o.type));return O(()=>o.value,r=>{if(clearInterval(a),e=0,r)return;const v=()=>{e=(e+1)%4,t.value=Ka[e]};a=window.setInterval(v,250)},{immediate:!0}),(r,v)=>D(r.showSymbol&&r.type==="dollar"?"$":"")+D(l.value)+D(r.showUnit?n.value:"")}}),Ya={key:0,class:"fas fa-chevron-right"},Xa=k({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(o,{emit:e}){const a=l=>{var n;return o.active?o.active.id===l.id:((n=o.crumbs.at(-1))==null?void 0:n.id)===l.id},t=l=>{var n;return((n=o.crumbs.at(-1))==null?void 0:n.id)===l.id};return(l,n)=>(c(),C(s(te),null,{default:y(()=>[f(Sa,{name:"fade",tag:"ul"},{default:y(()=>[(c(!0),b(X,null,ae(l.crumbs,r=>(c(),b("li",{key:r.id},[(c(),C(qe(a(r)?"span":"a"),{class:L({active:a(r)}),onClick:v=>e("crumb",r)},{default:y(()=>[q(D(r.label),1)]),_:2},1032,["class","onClick"])),!t(r)||l.crumbs.length===1?(c(),b("i",Ya)):I("",!0)]))),128))]),_:1})]),_:1}))}});const S=(o,e)=>{const a=o.__vccOpts||o;for(const[t,l]of e)a[t]=l;return a},Za=S(Xa,[["__scopeId","data-v-997741c8"]]);function eo(){return!1}De({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(o){this.address=o==null?void 0:o.toLocaleLowerCase()}}});Ta();Da({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"});function ne(o,e=6){if(!o)return"0x000...000";const a=e/2+2,t=o.length-e/2;return`${o.substring(0,a)}...${o.substring(t)}`}const to=k({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const a=async t=>{t.stopImmediatePropagation(),!(o.web3&&eo())&&e("click")};return(t,l)=>(c(),b("button",{class:L({primary:t.primary}),onClick:a},[E(t.$slots,"default",{},()=>[t.icon?(c(),b("i",{key:0,class:L(["icon",[t.icon,{noValue:!!t.value}]])},null,2)):I("",!0),q(" "+D(t.value),1)],!0)],2))}});const he=S(to,[["__scopeId","data-v-b051a687"]]),ao=k({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(o,{emit:e}){const a=()=>{e("update:modelValue",!o.modelValue)};return(t,l)=>(c(),b("button",{class:L({toggled:t.modelValue}),onClick:a},[E(t.$slots,"default",{},()=>[t.icon?(c(),b("i",{key:0,class:L(["icon",t.icon])},null,2)):I("",!0),q(" "+D(t.value),1)],!0)],2))}});const Oe=S(ao,[["__scopeId","data-v-a2cabc6a"]]),oo={class:"card"},so={class:"text"},lo=k({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(o){return(e,a)=>(c(),b("div",oo,[e.loading?(c(),C(s(Ht),{key:0,class:"loader"})):I("",!0),d("div",{class:L(["card-container",{loading:e.loading}])},[e.title?(c(),b("div",{key:0,class:L(["card-header",{collapsible:e.collapsible}])},[d("div",so,[e.icon?(c(),b("i",{key:0,class:L(["icon",e.icon])},null,2)):I("",!0),q(" "+D(e.title),1)]),E(e.$slots,"actions",{},void 0,!0)],2)):(c(),b("div",{key:1,class:L(["card-no-header",{compact:e.compact}])},null,2)),d("div",{class:L(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[E(e.$slots,"default",{},void 0,!0)],2)],2)]))}});const te=S(lo,[["__scopeId","data-v-317ddfe2"]]),no=k({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(o){return(e,a)=>(c(),C(s(te),{class:"card-graph",title:e.title,loading:e.loading},{default:y(()=>[f(s(Bt),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),E(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const re=S(no,[["__scopeId","data-v-4e0fd9b7"]]),ro={class:"chip"},io={class:"label"},co=k({__name:"Chip",props:{label:{default:""}},setup(o){return(e,a)=>(c(),b("div",ro,[d("div",io,D(e.label),1)]))}});const uo=S(co,[["__scopeId","data-v-1eb2caf8"]]);const _o={class:"collapsible-inside"},vo=k({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(o){return(e,a)=>(c(),b("div",{class:L(["collapsible-outside",{expanded:e.expanded}])},[d("div",_o,[E(e.$slots,"default",{},void 0,!0)])],2))}});const je=S(vo,[["__scopeId","data-v-25b74378"]]),po={key:1,class:"header"},mo={key:0,class:"header-icon"},ho={class:"header-actions"},fo={key:2,class:"list"},go=["onClick"],bo={key:0,class:"sorting-arrows"},yo={key:0,class:"sorting-arrow fa fa-caret-up"},$o={key:1,class:"sorting-arrow fa fa-caret-down"},Co={key:2,class:"sorting-arrow"},wo={class:"rows"},ko={key:3,class:"no-data"},Ge=k({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(o,{emit:e}){const a=x(""),t=x(se.Ascending),l=T(()=>`grid-template-columns: ${o.columnsHeader}`),n=T(()=>{if(o.rowsMin===null)return[];const u=Math.max(0,o.rowsMin-o.rows.length);return new Array(u)});Aa(()=>{o.sortingDefaultColumn&&(a.value=o.sortingDefaultColumn),o.sortingDefaultDir&&(t.value=o.sortingDefaultDir===se.Ascending?se.Ascending:se.Descending)});const r=u=>{e("selected",u)},{t:v}=R(),p=u=>{const $=u+1;return!!(o.rows[u+1]&&o.rows.findIndex(B=>B===o.selectedRow)===$)},i=u=>o.expanded.includes(u),_=u=>{const $=o.sortingColumns[u];return o.sortingColumnsEnabled.includes($)},h=u=>a.value===o.sortingColumns[u]&&t.value==="Ascending",m=u=>a.value===o.sortingColumns[u]&&t.value==="Descending",g=u=>{if(!o.sorting||!o.sortingColumns||!_(u))return;const $=o.sortingColumns[u];$===a.value?t.value=t.value===se.Ascending?se.Descending:se.Ascending:t.value=se.Ascending,a.value=$,e("sortColumn",a.value,t.value)};return(u,$)=>(c(),b("div",{class:L(["datatable",{loading:u.loading}])},[u.loading?(c(),C(s(Ht),{key:0,class:"loader"})):I("",!0),u.header?(c(),b("div",po,[u.icon?(c(),b("div",mo,[d("i",{class:L(u.icon)},null,2)])):I("",!0),d("div",{class:"header-title",style:ie(l.value)},[E(u.$slots,"header-title",{},void 0,!0)],4),d("div",ho,[E(u.$slots,"header-actions",{},void 0,!0)])])):I("",!0),u.rowsMin||u.rows&&u.rows.length>0?(c(),b("div",fo,[d("div",{class:L(["row-data",[u.columnsData,{"selected-below":p(-1)}]])},[E(u.$slots,"column-headers",{},()=>[(c(!0),b(X,null,ae(u.columns,(w,A)=>(c(),b("div",{key:w,class:L(["column-header",{"sortable-header":u.sorting&&_(A),"current-sort":a.value==u.sortingColumns[A]}]),onClick:B=>g(A)},[q(D(w)+" ",1),u.sorting&&_(A)?(c(),b("div",bo,[h(A)?(c(),b("i",yo)):m(A)?(c(),b("i",$o)):(c(),b("span",Co," — "))])):I("",!0)],10,go))),128))],!0)],2),d("div",wo,[(c(!0),b(X,null,ae(u.rows,(w,A)=>(c(),C(s(We),{key:w,data:w,class:L({"selected-below":p(A)}),columns:u.columnsData,selected:u.selectedRow===w,expanded:i(w),onClick:r},{row:y(()=>[E(u.$slots,"row",{item:w},void 0,!0)]),"row-details":y(()=>[E(u.$slots,"row-details",{item:w},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(c(!0),b(X,null,ae(n.value,w=>(c(),C(s(We),{key:w}))),128)),u.$slots["row-aggregation"]?(c(),C(s(We),{key:0,class:"aggregation",columns:u.columnsData},{row:y(()=>[E(u.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):I("",!0)])])):!u.rowsMin&&!u.loading?(c(),b("div",ko,[E(u.$slots,"no-data",{},()=>[q(D(s(v)("no-data")),1)],!0)])):I("",!0)],2))}});function et(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":a=>{const{normalize:t}=a;return t(["No data :("])}}})}function tt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":a=>{const{normalize:t}=a;return t(["没有数据 :("])}}})}typeof et=="function"&&et(Ge);typeof tt=="function"&&tt(Ge);const de=S(Ge,[["__scopeId","data-v-50e85b9c"]]),So=o=>(ce("data-v-45ff862c"),o=o(),ue(),o),To=So(()=>d("i",{class:"fas fa-chevron-up"},null,-1)),Do=[To],Ao={class:"row-details"},Io=k({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const a=Rt(),t=T(()=>{var r;const n=a["row-details"];if(n){const v=(r=n()[0])==null?void 0:r.children;if(v)return v.length>0}return!1}),l=()=>{e("click",o.data)};return(n,r)=>(c(),b("div",{class:L(["row",{expanded:n.expanded}])},[d("div",{class:L(["row-data item",[n.columns,{active:n.selected,expandable:t.value}]]),onClick:l},[E(n.$slots,"row",{},void 0,!0),t.value?(c(),b("div",{key:0,class:L(["expander",{expanded:n.expanded}])},Do,2)):I("",!0)],2),f(s(je),{expanded:n.expanded},{default:y(()=>[d("div",Ao,[E(n.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const We=S(Io,[["__scopeId","data-v-45ff862c"]]),Po=k({__name:"GraphApex",props:{options:{},series:{}},setup(o){return(e,a)=>{const t=ke("apexchart");return c(),C(t,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const Bt=S(Po,[["__scopeId","data-v-3e2879ed"]]);const zo=o=>(ce("data-v-a7ae5e73"),o=o(),ue(),o),Oo={class:"input-text"},xo={key:0,class:"icon"},Lo=zo(()=>d("i",{class:"fas fa-search"},null,-1)),Mo=[Lo],Vo=["type","value","placeholder","onInput"],Ro=["onClick"],Bo=k({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(o,{emit:e}){const a=T(()=>{const l=o.options.filter(r=>o.filter(o.modelValue,r));return o.sort?[...l].sort(o.sort):l}),t=l=>{const n=l.target.value;e("update:modelValue",n),e("input",n)};return(l,n)=>(c(),b("div",Oo,[l.search?(c(),b("span",xo,Mo)):I("",!0),d("input",{type:l.search?"search":"text",value:l.modelValue,placeholder:l.placeholder,onInput:_e(t,["stop"]),onSelect:n[0]||(n[0]=_e(()=>{},["stop"]))},null,40,Vo),l.options&&l.autoComplete?(c(),b("div",{key:1,class:L(["items",{selectHide:!l.autoComplete}])},[(c(!0),b(X,null,ae(a.value,(r,v)=>(c(),b("div",{key:v,onClick:p=>e("select",r)},[E(l.$slots,"item",{item:r,idx:v},()=>[q(D(r),1)],!0)],8,Ro))),128))],2)):I("",!0)]))}});const Me=S(Bo,[["__scopeId","data-v-a7ae5e73"]]),Wo={key:0,class:"value"},No={key:1,class:"value"},Fo=["innerHTML"],Eo={key:0,class:"value"},Uo={key:1,class:"value"},Ho=["innerHTML"],qo={class:"labels"},jo={class:"label"},Go={class:"label-second"},Jo=k({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(o){return(e,a)=>(c(),b("div",{class:L(["kpi",{disabled:!e.hasValue}])},[d("div",{class:L(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[E(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(c(),C(s(xe),{key:0},{item:y(()=>[e.hasValue?(c(),b("span",Wo,D(e.value),1)):(c(),b("span",No," ? "))]),default:y(()=>[E(e.$slots,"tooltip",{},()=>[d("span",{innerHTML:e.tooltip},null,8,Fo)],!0)]),_:3})):(c(),b(X,{key:1},[e.hasValue?(c(),b("span",Eo,D(e.value),1)):(c(),b("span",Uo," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(c(),C(s(xe),{key:0},{default:y(()=>[d("span",{innerHTML:e.tooltip},null,8,Ho)]),_:1})):I("",!0)],2),d("div",qo,[E(e.$slots,"label",{},()=>[d("div",jo,D(e.label),1)],!0),E(e.$slots,"label-second",{},()=>[d("div",Go,D(e.labelSecond),1)],!0)])],2))}});const Y=S(Jo,[["__scopeId","data-v-0123c061"]]),Qo={key:0,class:"modal"},Ko={class:"modal-popup"},Yo=k({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(o,{emit:e}){return O(()=>o.show,a=>{document.body.style.overflow=a?"hidden":""}),(a,t)=>a.show?(c(),b("div",Qo,[d("div",{class:"modal-mask",onClick:t[0]||(t[0]=l=>e("close"))}),d("div",Ko,[E(a.$slots,"default",{},void 0,!0)])])):I("",!0)}});const Wt=S(Yo,[["__scopeId","data-v-5f9f89df"]]),Xo={class:"buttons"},Zo={key:1,class:"not-ready"},Nt=k({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(o,{emit:e}){const{t:a}=R();return(t,l)=>(c(),C(s(Wt),{show:t.show},{default:y(()=>[f(s(te),{title:t.title},{default:y(()=>[E(t.$slots,"default",{},void 0,!0),d("div",Xo,[f(s(he),{class:"no",value:s(a)("no"),onClick:l[0]||(l[0]=n=>e("no"))},null,8,["value"]),t.ready?(c(),C(s(he),{key:0,class:"yes",value:s(a)("yes"),onClick:l[1]||(l[1]=n=>e("yes"))},null,8,["value"])):(c(),b("div",Zo,D(t.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function at(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:a=>{const{normalize:t}=a;return t(["Yes"])},no:a=>{const{normalize:t}=a;return t(["No"])}}})}function ot(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:a=>{const{normalize:t}=a;return t(["是的"])},no:a=>{const{normalize:t}=a;return t(["不是"])}}})}typeof at=="function"&&at(Nt);typeof ot=="function"&&ot(Nt);const Je=o=>(ce("data-v-6ab859e6"),o=o(),ue(),o),es=Je(()=>d("button",null,"1",-1)),ts=[es],as=Je(()=>d("button",null,[d("i",{class:"fas fa-chevron-left"})],-1)),os=[as],ss=["onClick"],ls=Je(()=>d("button",null,[d("i",{class:"fas fa-chevron-right"})],-1)),ns=[ls],rs=k({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(o,{emit:e}){const a=T(()=>Math.ceil(o.itemsCount/o.itemsPerPage)),t=T(()=>{const _=[...Array(12).keys()].map(w=>w-6+o.page).filter(w=>w>=1&&w<=a.value),h=_.findIndex(w=>w===o.page),m=[],g=[],u=o.page!==1&&o.page!==a.value?[o.page]:[];let $=1;for(;;){const w=_[h-$];if(w&&w!==1&&m.unshift(w),m.length+g.length+u.length>=5||$>_.length)break;const A=_[h+$];if(A&&A!==a.value&&g.push(A),$++,m.length+g.length+u.length>=5||$>_.length)break}return[...m,...u,...g]}),l=(p,i,_)=>Math.min(Math.max(p,i),_),n=()=>e("page",l(o.page-1,1,a.value)),r=()=>e("page",l(o.page+1,1,a.value)),v=p=>e("page",l(p,1,a.value));return(p,i)=>(c(),b("ul",null,[d("li",{class:L({active:p.page===1}),onClick:i[0]||(i[0]=_=>v(1))},ts,2),a.value>2?(c(),b("li",{key:0,onClick:n},os)):I("",!0),(c(!0),b(X,null,ae(t.value,_=>(c(),b("li",{key:_,class:L({active:_===p.page}),onClick:h=>v(_)},[d("button",null,D(_),1)],10,ss))),128)),a.value>2?(c(),b("li",{key:1,onClick:r},ns)):I("",!0),a.value>1?(c(),b("li",{key:2,class:L({active:p.page===a.value}),onClick:i[1]||(i[1]=_=>v(a.value))},[d("button",null,D(a.value),1)],2)):I("",!0)]))}});const Ft=S(rs,[["__scopeId","data-v-6ab859e6"]]),is=o=>(ce("data-v-8e55132f"),o=o(),ue(),o),cs={class:"select"},us={class:"item"},ds={key:0,class:"label"},_s=["onClick"],vs=is(()=>d("div",{class:"chevrons"},[d("i",{class:"fas fa-chevron-up"}),d("i",{class:"fas fa-chevron-down"})],-1)),ps=k({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(o,{emit:e}){return(a,t)=>(c(),b("div",{class:"select-container",tabindex:"0",onClick:t[0]||(t[0]=_e(l=>e("open"),["stop"])),onBlur:t[1]||(t[1]=l=>e("close"))},[d("div",cs,[d("div",{class:L(["selected",{open:a.open}])},[E(a.$slots,"item",{item:a.selected},()=>[d("div",us,D(a.selected),1)],!0),a.label?(c(),b("div",ds,D(a.label),1)):I("",!0)],2),d("div",{class:L(["items",{selectHide:!a.open}])},[(c(!0),b(X,null,ae(a.options,(l,n)=>(c(),b("div",{key:n,onClick:r=>e("input",l)},[E(a.$slots,"item",{item:l},()=>[q(D(l),1)],!0)],8,_s))),128))],2)]),vs],32))}});const Et=S(ps,[["__scopeId","data-v-8e55132f"]]),ms={class:"item"},hs={class:"label"},st="locale",fs=k({__name:"SelectLanguage",props:{locales:{default:()=>gs},direction:{default:"up"}},setup(o){const{t:e}=R(),{locale:a}=R({useScope:"global"}),t=x("en"),l=x(!1);U(()=>{const v=localStorage.getItem(st);v&&o.locales.some(p=>p===v)&&r(v)});const n=()=>{l.value=!l.value},r=v=>{t.value=v,a.value=t.value,localStorage.setItem(st,t.value)};return(v,p)=>(c(),C(s(Et),{class:L(["select",{"direction-up":v.direction==="up"}]),options:v.locales.map(i=>i),selected:t.value,open:l.value,onOpen:n,onClose:p[0]||(p[0]=i=>l.value=!1),onInput:r},{item:y(i=>[d("div",ms,[d("div",hs,D(s(e)(i.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function lt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:a=>{const{normalize:t}=a;return t(["English"])},zh:a=>{const{normalize:t}=a;return t(["中文"])},fr:a=>{const{normalize:t}=a;return t(["Français"])}}})}typeof lt=="function"&&lt(fs);const gs=["en","zh","fr"];var se=(o=>(o.Ascending="Ascending",o.Descending="Descending",o))(se||{});const bs={},Ut=o=>(ce("data-v-ad2adcec"),o=o(),ue(),o),ys={class:"lds-ripple"},$s=Ut(()=>d("div",null,null,-1)),Cs=Ut(()=>d("div",null,null,-1)),ws=[$s,Cs];function ks(o,e){return c(),b("div",ys,ws)}const Ht=S(bs,[["render",ks],["__scopeId","data-v-ad2adcec"]]),me=k({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(o){return(e,a)=>E(e.$slots,"default")}}),Ss={class:"tab-view"},Ts={class:"tab-headers"},Ds=["onClick"],As={class:"tabs"},Is=k({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(o,{emit:e}){const a=x(null),t=Rt(),l=T(()=>t!=null&&t.default?t.default():[]);O(()=>o.active,r=>{a.value=r,e("tab",{tab:l.value[r],index:a.value})},{immediate:!0});const n=(r,v)=>{r.props.disabled||(a.value=v,e("tab",{tab:l.value[v],index:a.value}))};return(r,v)=>(c(),b("div",Ss,[d("ul",Ts,[(c(!0),b(X,null,ae(l.value,(p,i)=>(c(),b("li",{key:i,class:L(["tab-header",{active:a.value===i,disabled:p.props.disabled}]),onClick:_=>n(p,i)},D(p.props.header),11,Ds))),128))]),d("div",As,[(c(!0),b(X,null,ae(l.value,(p,i)=>Ia((c(),b("div",{key:i,class:"tab"},[(c(),C(qe(p)))])),[[Pa,a.value===i]])),128))])]))}});const qt=S(Is,[["__scopeId","data-v-4a99a489"]]),Ps="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",zs={key:1,src:Ps},Os=k({__name:"Tooltip",props:{icon:{default:""}},setup(o){const e=x(!1);return(a,t)=>(c(),C(s(za),{class:"tooltip",show:e.value},{content:y(()=>[E(a.$slots,"default",{},void 0,!0)]),default:y(()=>[d("div",{onMouseover:t[0]||(t[0]=l=>e.value=!0),onMouseleave:t[1]||(t[1]=l=>e.value=!1)},[E(a.$slots,"item",{},()=>[a.icon?(c(),b("i",{key:0,class:L(a.icon)},null,2)):(c(),b("img",zs))],!0)],32)]),_:3},8,["show"]))}});const xe=S(Os,[["__scopeId","data-v-2158cb4b"]]);function H(o,e){const a=x(!1),t=x(e);return{loading:a,data:t,loadData:()=>(a.value=!0,Qa(async()=>{t.value=await o(),a.value=!1}))}}const xs={class:"legend"},Ls=["onClick"],Ms={class:"label"},Vs=k({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(o,{emit:e}){const a=t=>o.colors[t];return(t,l)=>(c(),b("div",xs,[(c(!0),b(X,null,ae(t.items,(n,r)=>(c(),b("div",{key:n,class:L(["item",{clickable:t.clickable,disabled:t.disabled.includes(n)}]),onClick:v=>{t.clickable&&e("click",n)}},[d("div",{class:"color",style:ie({"background-color":a(r)})},null,4),d("div",Ms,D(n),1)],10,Ls))),128))]))}});const Rs=S(Vs,[["__scopeId","data-v-b0a9ca48"]]);function Ne(o){return(o==null?void 0:o.children)!==void 0}function nt(o){return(o==null?void 0:o.to)!==void 0}const Bs={key:0},Ws={class:"nav-link-container"},Ns={class:"nav-link-container"},Fs={class:"left"},Es={class:"right"},Us=k({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(o,{emit:e}){const a=Ae(),t=x(!0),l=T(()=>nt(o.item)?[o.item]:Ne(o.item)?o.item.children:[]),n=()=>{Ne(o.item)&&o.item.children.filter(p=>Ue(p.to,a)).length>0&&(t.value=!0)};O(()=>o.item,()=>{n()},{immediate:!0}),O(()=>a.fullPath,()=>{n()},{immediate:!0});const r=()=>{t.value=!t.value};return(v,p)=>{const i=ke("router-link");return c(),b(X,null,[s(Ne)(v.item)?(c(),b("li",Bs,[d("a",{class:"nav-link node",onClick:r},[d("div",Ws,[q(D(v.item.label)+" ",1),d("i",{class:L(["expander fas fa-chevron-up",{expanded:t.value}])},null,2)])])])):I("",!0),f(s(je),{class:"items",expanded:t.value},{default:y(()=>[d("ul",null,[(c(!0),b(X,null,ae(l.value,_=>(c(),b("li",{key:_.label},[s(nt)(_)?(c(),C(i,{key:0,to:_.to,class:L(["nav-link leaf",{"router-link-active":s(Ue)(_.to,s(a))}]),onClick:p[0]||(p[0]=h=>e("navigated"))},{default:y(()=>[d("div",Ns,[d("div",Fs,D(_.label),1),d("div",Es,[_.tag==="beta"?(c(),C(s(uo),{key:0,label:"BETA"})):I("",!0)])])]),_:2},1032,["to","class"])):I("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const Hs=S(Us,[["__scopeId","data-v-d8ba8816"]]),qs=k({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(o,{emit:e}){const a=Ae(),t=T(()=>o.pages.find(n=>Ue(n.titleRoute,a))),l=T(()=>{var n;return((n=t.value)==null?void 0:n.menuItems)??[]});return(n,r)=>(c(),b("nav",null,[(c(!0),b(X,null,ae(l.value,v=>(c(),b("ul",{key:v.label},[f(Hs,{item:v,onNavigated:r[0]||(r[0]=p=>e("navigated"))},null,8,["item"])]))),128))]))}});const js=S(qs,[["__scopeId","data-v-59493144"]]),Gs="/assets/prisma-b38af1f3.png",Js="/assets/hat-80c6c9b1.png";const Qs={},jt=o=>(ce("data-v-f01d266e"),o=o(),ue(),o),Ks={class:"logo"},Ys=jt(()=>d("div",{class:"visual"},[d("img",{src:Gs}),d("img",{src:Js})],-1)),Xs=jt(()=>d("span",null,"prisma.monitor",-1)),Zs=[Ys,Xs];function el(o,e){return c(),b("div",Ks,Zs)}const tl=S(Qs,[["render",el],["__scopeId","data-v-f01d266e"]]),al={class:"header"},ol={class:"buttons"},sl=k({__name:"Header",emits:["toggle-expansion","navigated"],setup(o,{emit:e}){return(a,t)=>{const l=ke("router-link");return c(),b("div",al,[f(l,{class:"logo",to:"/",onClick:t[0]||(t[0]=n=>e("navigated"))},{default:y(()=>[f(tl,{class:"logo"})]),_:1}),d("div",ol,[f(s(he),{icon:"fas fa-bars",onClick:t[1]||(t[1]=n=>e("toggle-expansion"))})])])}}});const ll=S(sl,[["__scopeId","data-v-a5771fce"]]),be={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"};be.blue,be.yellow,be.green,be.red,be.purple;const ye={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"};ye.blue,ye.yellow,ye.green,ye.red,ye.purple;const $e={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"};$e.blue,$e.yellow,$e.green,$e.red,$e.purple;function rt(o){return o==="chad"?$e:o==="light"?ye:be}const Q=De({id:"settingsStore",state:()=>({theme:"light"})}),nl={class:"theme"},rl={class:"label"},il={class:"colors"},cl=k({__name:"SelectTheme",setup(o){const e=[{id:"dark",colors:rt("dark")},{id:"light",colors:rt("light")}],a=Q(),t=x(e[0]),l=x(!1);U(()=>{const v=window.matchMedia("(prefers-color-scheme: dark)").matches,p=localStorage.getItem("theme");if(!p&&v)r(e.find(i=>i.id==="dark"));else{const i=e.find(_=>_.id===p)??e.find(_=>_.id==="light")??e[0];r(i)}});const n=()=>{l.value=!l.value},r=v=>{t.value=v,window.document.documentElement.setAttribute("data-theme",t.value.id),a.theme=t.value.id,localStorage.setItem("theme",t.value.id)};return(v,p)=>(c(),C(s(Et),{class:"select direction-up",options:e.map(i=>i),selected:t.value,open:l.value,onOpen:n,onClose:p[0]||(p[0]=i=>l.value=!1),onInput:r},{item:y(i=>[d("div",nl,[d("div",rl,D(i.item.id),1),d("div",il,[d("div",{class:"color",style:ie({"background-color":i.item.colors.backgroundColor})},null,4),d("div",{class:"color",style:ie({"background-color":i.item.colors.level1})},null,4),d("div",{class:"color",style:ie({"background-color":i.item.colors.level2})},null,4),d("div",{class:"color",style:ie({"background-color":i.item.colors.blue})},null,4),d("div",{class:"color",style:ie({"background-color":i.item.colors.yellow})},null,4),d("div",{class:"color",style:ie({"background-color":i.item.colors.green})},null,4),d("div",{class:"color",style:ie({"background-color":i.item.colors.red})},null,4),d("div",{class:"color",style:ie({"background-color":i.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const ul=S(cl,[["__scopeId","data-v-12a81df3"]]),dl={class:"bottom"},_l={class:"buttons"},vl={href:"https://twitter.com/0xAlunara",target:"_blank"},pl={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},ml={class:"selectors"},hl=k({__name:"Bottom",emits:["navigated"],setup(o,{emit:e}){const a=async()=>{await navigator.clipboard.writeText(window.location.href)};return(t,l)=>{const n=ke("router-link");return c(),b("div",dl,[d("div",_l,[f(s(he),{class:"copy",icon:"fas fa-link",onClick:a}),d("a",vl,[f(s(he),{icon:"fab fa-twitter"})]),d("a",pl,[f(s(he),{icon:"fab fa-github"})]),f(n,{to:"/code"},{default:y(()=>[f(s(he),{icon:"fas fa-code",onClick:l[0]||(l[0]=r=>e("navigated"))})]),_:1})]),d("div",ml,[f(ul,{class:"themes"})])])}}});const fl=S(hl,[["__scopeId","data-v-949dc793"]]),Qe=De({id:"pageStore",state:()=>({pages:[]})}),gl=k({__name:"Navigation",emits:["navigated"],setup(o,{emit:e}){const a=Qe(),t=x(!1),l=()=>{t.value=!1,e("navigated")};return(n,r)=>(c(),b("div",{class:L(["menu-desktop",{expanded:t.value}])},[f(ll,{onToggleExpansion:r[0]||(r[0]=v=>t.value=!t.value),onNavigated:l}),f(s(je),{class:"menu-content",expanded:t.value},{default:y(()=>[f(s(js),{pages:s(a).pages,onNavigated:l},null,8,["pages"]),f(fl,{onNavigated:l})]),_:1},8,["expanded"])],2))}});const bl=S(gl,[["__scopeId","data-v-07323d4e"]]),Ve=De({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),yl={class:"root"},$l={class:"main"},Cl={class:"content"},wl=k({__name:"App",setup(o){const e=Ve(),a=Ae(),t=Le();O(()=>a.fullPath,n=>{(n.includes("pool")||n.includes("mkusd"))&&(e.show=!1)});const l=async n=>{n.pathName&&await t.push({name:n.pathName})};return(n,r)=>{const v=ke("notifications"),p=ke("router-view");return c(),b("div",yl,[f(v,{width:600,duration:-1}),f(bl,{class:"navigation"}),d("main",$l,[f(Ze,{name:"fade",mode:"out-in"},{default:y(()=>[s(e).show?(c(),C(s(Za),{key:0,class:"breadcrumb",crumbs:s(e).crumbs,onCrumb:l},null,8,["crumbs"])):I("",!0)]),_:1}),d("div",Cl,[f(p,null,{default:y(({Component:i})=>[f(Ze,{name:"fade",mode:"out-in"},{default:y(()=>[(c(),C(qe(i)))]),_:2},1024)]),_:1})])])])}}});const kl=S(wl,[["__scopeId","data-v-961314b9"]]),Sl="/assets/404-3a4df870.png",Tl=o=>(ce("data-v-c157f3ee"),o=o(),ue(),o),Dl={class:"not-found"},Al={class:"not-found-container"},Il=Tl(()=>d("img",{src:Sl},null,-1)),Gt=k({__name:"NotFound",setup(o){const{t:e}=R();return(a,t)=>(c(),b("div",Dl,[d("div",Al,[f(s(te),null,{default:y(()=>[q(D(s(e)("404")),1)]),_:1}),Il])]))}});function it(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:a=>{const{normalize:t}=a;return t(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof it=="function"&&it(Gt);const Pl=S(Gt,[["__scopeId","data-v-c157f3ee"]]),zl={class:"contracts"},Ol={class:"row"},xl=["href"],Ll=["href"],Jt=k({__name:"Code",setup(o){const{t:e}=R(),t=[{name:"Llama Airforce",contracts:[{contract:Ea,description:"multisig",gnosis:!0},{contract:Ua,description:"treasury",gnosis:!0},{contract:Ha,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]}],l=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}],n=r=>{switch(r.network){case"arbitrum":return r.gnosis?`https://app.safe.global/arb1:${r.contract}`:`https://arbiscan.io/address/${r.contract}`;case"ethereum":default:return r.gnosis?`https://app.safe.global/eth:${r.contract}`:`https://etherscan.io/address/${r.contract}`}};return(r,v)=>(c(),b("div",zl,[d("div",Ol,[f(s(de),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:l,columns:[s(e)("repository"),s(e)("description")]},{"header-title":y(()=>[d("div",null,D(s(e)("repositories")),1)]),row:y(p=>[d("div",null,[d("a",{href:p.item.url,target:"_blank"},D(p.item.name),9,xl)]),d("div",null,D(s(e)(p.item.description)),1)]),_:1},8,["columns"])]),(c(),b(X,null,ae(t,(p,i)=>f(s(de),{key:i,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:p.contracts,columns:[s(e)("contract"),s(e)("description")]},{"header-title":y(()=>[d("div",null,D(s(e)(p.name)),1)]),row:y(_=>[d("div",null,[d("a",{href:n(_.item),target:"_blank"},D(_.item.contract),9,Ll)]),d("div",null,D(s(e)(_.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function ct(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:a=>{const{normalize:t}=a;return t(["Repositories"])},repository:a=>{const{normalize:t}=a;return t(["Repository"])},description:a=>{const{normalize:t}=a;return t(["Description"])},contract:a=>{const{normalize:t}=a;return t(["Contract"])},other:a=>{const{normalize:t}=a;return t(["Other"])},"repo-laf":a=>{const{normalize:t}=a;return t(["This website's front-end, excluding the Union"])},multisig:a=>{const{normalize:t}=a;return t(["Multisig"])},treasury:a=>{const{normalize:t}=a;return t(["Treasury"])},"treasury-arbitrum":a=>{const{normalize:t}=a;return t(["Treasury Arbitrum"])}}})}typeof ct=="function"&&ct(Jt);const Ml=S(Jt,[["__scopeId","data-v-ed0a11dc"]]);function Vl(){const o=Qe(),e=[{path:"/code",component:Ml},...o.pages.flatMap(t=>t.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:Pl}];return Oa({history:xa(),routes:e})}const Rl=o=>({chart:{id:"chart",background:"transparant",foreColor:o.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:o.colorsArray,grid:{borderColor:o.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:o.colors.level5,height:1},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:o.colors.level5},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}}});function le(o,e){const a=Rl(o),t=(l,n)=>{if(typeof n=="object"){G.mergeWith(l,n,t);return}else return l||n};return G.mergeWith(e,a,t)}const Ce={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},Bl=[Ce.blue,Ce.yellow,Ce.green,Ce.red,Ce.purple,"#ff8f33"],we={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Wl=[we.blue,we.yellow,we.green,we.red,we.purple];function J(o){return o==="light"?we:Ce}function oe(o){return o==="light"?Wl:Bl}function N(){return qa}const W="https://api.prismamonitor.com/v1";class F extends Ja{async getHistoricalOpenTrovesOverview(e,a){return this.fetch(`${W}/managers/${e}/open_troves?period=${a}`)}async getHistoricalCollateralRatiosOverview(e,a){return this.fetch(`${W}/managers/${e}/collateral_ratios?period=${a}`)}async getCollateralRatioGrouped(e,a){return this.fetch(`${W}/managers/${e}/global_collateral_ratio?period=${a}`)}async getHistoricalCollateralOverview(e,a){return this.fetch(`${W}/managers/${e}/collateral?period=${a}`)}async getRatioDistributionGrouped(e){return this.fetch(`${W}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,a,t){return this.fetch(`${W}/managers/${e}/${a}/large_positions?unit=${t}`)}async getVaultCollateralRatio(e,a,t){return this.fetch(`${W}/managers/${e}/${a}/collateral_ratio?period=${t}`)}async getVaultTroveCount(e,a,t){return this.fetch(`${W}/managers/${e}/${a}/open_trove_count?period=${t}`)}async getTroveDistribution(e,a,t){return this.fetch(`${W}/managers/${e}/${a}/histograms?unit=${t}`)}async getCollateralPrices(e,a,t){return this.fetch(`${W}/collateral/${e}/${a}/prices?period=${t}`)}async getCollateralPriceImpact(e,a){return this.fetch(`${W}/collateral/${e}/${a}/impact`)}async getCollateralInfo(e,a){return this.fetch(`${W}/collateral/${e}/${a}/info`)}async getPoolTvl(e,a){return this.fetch(`${W}/pool/${e}/deposits?period=${a}`)}async getStableFlow(e,a){return this.fetch(`${W}/pool/${e}/stable_operations?period=${a}`)}async getStableDistribution(e){return this.fetch(`${W}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,a){return this.fetch(`${W}/pool/${e}/cumulative_withdrawals?period=${a}`)}async getTopStableDeposits(e,a,t){return this.fetch(`${W}/pool/${e}/top/stable_deposits?top=${a}&period=${t}`)}async getTopStableWithdrawals(e,a,t){return this.fetch(`${W}/pool/${e}/top/stable_withdrawals?top=${a}&period=${t}`)}async getPriceHistory(e,a){return this.fetch(`${W}/mkusd/${e}/history?period=${a}`)}async getPriceHistogram(e,a,t){return this.fetch(`${W}/mkusd/${e}/histogram?period=${t}&bins=${a}`)}async getLargeStableCoinHolders(e){return this.fetch(`${W}/mkusd/${e}/holders`)}async getStableCoinKPI(e){return this.fetch(`${W}/mkusd/${e}/general`)}async getCurvePoolDepth(e){return this.fetch(`${W}/mkusd/${e}/depth`)}async getRedemptions(e,a){return Ee(l=>this.fetch(`${W}/redemptions/${e}/${a}?items=100&page=${l}&order_by=block_timestamp&desc=true`).then(n=>n.redemptions),1,100)}async getTroves(e,a,t){return Ee(n=>this.fetch(`${W}/trove/${e}/${a}/troves?items=100&page=${n}&order_by=${t}&desc=true`).then(r=>r.troves),1,100)}async getTroveSnapshots(e,a,t){return this.fetch(`${W}/trove/${e}/${a}/snapshots/${t}`)}async getTroveDetail(e,a,t){return this.fetch(`${W}/trove/${e}/${a}/${t}`)}async getTroveHistory(e,a,t){return this.fetch(`${W}/trove/${e}/${a}/history/${t}`)}async getTroveRank(e,a,t){return this.fetch(`${W}/trove/${e}/${a}/rank/${t}`)}}const Qt=k({__name:"ChartOpenTroves",setup(o){const{t:e}=R(),a=new F(N()),t=Q(),{loading:l,data:n,loadData:r}=H(()=>a.getHistoricalOpenTrovesOverview("ethereum","6m").then(h=>h.managers),[]);U(()=>void r());const v=T(()=>{const h=J(t.theme),m=oe(t.theme);return le({colors:h,colorsArray:m},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:_,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:g,dataPointIndex:u,w:$})=>{let w=0;const A=g.map((B,j)=>{const z=B[u];return w+=z,`<div><b>${$.globals.seriesNames[j]}</b>: ${z}</div>`});return A.push(`<div><b>Total</b>: ${w}</div>`),A.join("")}}})}),p=T(()=>n.value.length===0||n.value[0].data.length===0?[]:n.value[0].data.map(h=>new Date(h.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),i=T(()=>n.value.length===0?[]:n.value.map(h=>({name:h.manager,data:h.data.map(m=>m.value)}))),_=h=>h;return(h,m)=>(c(),C(s(re),{class:"chart",title:s(e)("title"),loading:s(l),options:v.value,series:i.value},null,8,["title","loading","options","series"]))}});function ut(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Open troves"])}}})}typeof ut=="function"&&ut(Qt);const Nl=S(Qt,[["__scopeId","data-v-17e23069"]]),Fl=(o,e)=>{const a=J(e);return{width:o.clientWidth,height:o.clientHeight,layout:{background:{type:La.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:Ma.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ge(o,e,a){const t=Fl(o,e),l=(n,r)=>{if(typeof r=="object"){G.mergeWith(n,r,l);return}else return n||r};return G.mergeWith(a,t,l)}const Kt=k({__name:"ChartCollateralRatio",setup(o){const{t:e}=R(),a=new F(N());let t,l;const n=Q(),r=x(null),{loading:v,data:p,loadData:i}=H(()=>a.getCollateralRatioGrouped("ethereum","all").then(g=>g.data),[]);U(()=>{r.value&&(t=fe(r.value,_(r.value,n.theme)),l=t.addAreaSeries(h(n.theme)),m(p.value),i())}),O(()=>n.theme,g=>{r.value&&(t.applyOptions(_(r.value,g)),l.applyOptions(h(g)))}),O(p,g=>{m(g)});const _=(g,u)=>ge(g,u,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),h=g=>{const u=J(g);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ve.WithSteps,lineColor:u.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=g=>{if(!t||!l)return;const u=G.chain(g).map($=>({time:$.timestamp,value:$.value*100})).uniqWith(($,w)=>$.time===w.time).orderBy($=>$.time,"asc").value();u.length>0&&l.setData(u),t.timeScale().fitContent()};return(g,u)=>(c(),C(s(te),{class:"chart-container",title:s(e)("title"),loading:s(v)},{default:y(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function dt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Global collateral ratio"])}}})}typeof dt=="function"&&dt(Kt);const El=S(Kt,[["__scopeId","data-v-f7711ac1"]]),Yt=k({__name:"ChartRatioDeciles",setup(o){const{t:e}=R(),a=new F(N()),t=Q(),{loading:l,data:n,loadData:r}=H(()=>a.getRatioDistributionGrouped("ethereum").then(m=>m.deciles),[]);U(()=>void r());const v=T(()=>{const m=J(t.theme),g=oe(t.theme);return le({colors:m,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:_,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:h}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),p=T(()=>n.value.map(m=>m.label)),i=T(()=>[{name:e("debt"),data:Object.values(n.value).map(m=>m.data)}]),_=m=>m,h=m=>`$${ee(m,0,"dollar")}${Z(m,"dollar")}`;return(m,g)=>(c(),C(s(re),{class:"chart",title:s(e)("title"),loading:s(l),options:v.value,series:i.value},null,8,["title","loading","options","series"]))}});function _t(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Debt per Collateral Ratio Deciles"])},debt:a=>{const{normalize:t}=a;return t(["Debt"])}}})}typeof _t=="function"&&_t(Yt);const Ul=S(Yt,[["__scopeId","data-v-148e81ae"]]),Xt=k({__name:"ChartGlobalCollateral",setup(o){const{t:e}=R(),a=new F(N()),t=Q(),{loading:l,data:n,loadData:r}=H(()=>a.getHistoricalCollateralOverview("ethereum","6m").then(m=>m.managers),[]);U(()=>void r());const v=T(()=>{const m=J(t.theme),g=oe(t.theme);return le({colors:m,colorsArray:g},{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:_,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:h}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),p=T(()=>n.value.length===0||n.value[0].data.length===0?[]:n.value[0].data.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),i=T(()=>n.value.length===0?[]:n.value.map(m=>({name:m.manager,data:m.data.map(g=>g.value)}))),_=m=>m,h=m=>`$${ee(m,1,"dollar")}${Z(m,"dollar")}`;return(m,g)=>(c(),C(s(re),{class:"chart",title:s(e)("title"),loading:s(l),options:v.value,series:i.value},null,8,["title","loading","options","series"]))}});function vt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Collateral value"])}}})}typeof vt=="function"&&vt(Xt);const Hl=S(Xt,[["__scopeId","data-v-91cb0ff3"]]),Zt=class Te{constructor(e){this.url=e,this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={},this.channelSubscriptionParsers={},this.reconnectDelay=1e3,this.maxReconnectDelay=3e4,this.reconnectMultiplier=2,this.connect()}static getInstance(e){return Te.instances[e]||(Te.instances[e]=new Te(e)),Te.instances[e]}connect(){this.ws||(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.processMessageQueue(),this.reconnectDelay=1e3},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>{this.connect(),this.reconnectDelay*=this.reconnectMultiplier,this.reconnectDelay>this.maxReconnectDelay&&(this.reconnectDelay=this.maxReconnectDelay)},this.reconnectDelay)},this.ws.onmessage=e=>{var r;const a=JSON.parse(e.data),t=this.channelSubscriptionParsers[a.channel],l=t?t(e.data):"",n=(r=this.listeners[a.channel])==null?void 0:r[l];n==null||n(e.data)})}registerListener(e,a,t,l){this.listeners[e]||(this.listeners[e]={}),this.listeners[e][a]=l,this.channelSubscriptionParsers[e]=t;const n=this.messageQueue.filter(r=>JSON.parse(r).channel===e);n.forEach(l),this.messageQueue=this.messageQueue.filter(r=>!n.includes(r))}send(e){var a;((a=this.ws)==null?void 0:a.readyState)===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length;)this.send(this.messageQueue.shift()??"")}closeConnection(){var e;this.shouldReconnect=!1,(e=this.ws)==null||e.close()}getConnection(){return this.ws}};Zt.instances={};let ql=Zt;var He=(o=>(o.subscribe="subscribe",o.unsubscribe="unsubscribe",o.snapshots="snapshots",o))(He||{});const jl="wss://api.prismamonitor.com/v1/prisma/ws",Fe="troves_overview";class Ke{constructor(e){this.chain=e,this.currentData=x([]),this.parseSubscriptionFromMessage=a=>JSON.parse(a).subscription.chain,this.wsManager=ql.getInstance(jl),this.wsManager.registerListener(Fe,e,this.parseSubscriptionFromMessage,a=>{try{const t=JSON.parse(a);t.subscription.chain===this.chain&&(this.currentData.value=t.payload)}catch(t){console.error("Error parsing WebSocket message:",t,"Raw data:",a)}}),this.requestSnapshots(),this.subscribeToUpdates()}getCurrentData(){return this.currentData.value}requestSnapshots(){const e={action:He.snapshots,channel:Fe,settings:[{chain:this.chain}]};this.send(e)}subscribeToUpdates(){const e={action:He.subscribe,channel:Fe,settings:[{chain:this.chain}]};this.send(e)}send(e){this.wsManager.send(JSON.stringify(e))}}const Ie=o=>(ce("data-v-989149b2"),o=o(),ue(),o),Gl=["src"],Jl={class:"number"},Ql={class:"number"},Kl={class:"number"},Yl={class:"number"},Xl={class:"number"},Zl={class:"number"},en=Ie(()=>d("div",null,null,-1)),tn=Ie(()=>d("div",null,null,-1)),an={class:"number"},on={class:"number"},sn=Ie(()=>d("div",null,null,-1)),ln=Ie(()=>d("div",null,null,-1)),nn={class:"number"},rn=Ie(()=>d("div",null,null,-1)),ea=k({__name:"TableVaults",setup(o){const{t:e}=R(),a=new Ke("ethereum"),t=x(!0),l=x(""),n=x([]),r=T(()=>G.chain(n.value).filter(p=>{const i=l.value.toLocaleLowerCase().split(" "),_=h=>i.some(m=>h.toLocaleLowerCase().includes(m));return _(p.name)||_(p.address)}).value());O(a.currentData,p=>{t.value=!0,n.value=p,t.value=!1}),U(()=>{t.value=!0,n.value=a.currentData.value,t.value=!1});const v=p=>`icons/tokens/${(_=>{switch(_){case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbeth.webp";case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"steth.webp";case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"reth.webp";case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"frxeth.webp";default:return""}})(p)}`;return(p,i)=>(c(),C(s(de),{class:"datatable-vaults","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"vaults-columns-data",loading:t.value,rows:r.value,columns:["","Name","TVL","Debt","CR","MCR","Troves","Price"]},{"header-title":y(()=>[d("div",null,D(s(e)("title")),1),f(s(Me),{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=_=>l.value=_),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(_=>[d("img",{src:v(_.item.address)},null,8,Gl),d("div",null,D(_.item.name),1),d("div",Jl,[f(s(M),{value:_.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",Ql,[f(s(M),{value:_.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",Kl,[f(s(M),{value:_.item.cr*100,precision:2,type:"percentage"},null,8,["value"])]),d("div",Yl,[f(s(M),{value:_.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])]),d("div",Xl,D(_.item.open_troves),1),d("div",Zl,"$"+D(Math.round(_.item.price)),1)]),"row-aggregation":y(()=>[en,tn,d("div",an,[f(s(M),{value:r.value.reduce((_,h)=>_+h.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",on,[f(s(M),{value:r.value.reduce((_,h)=>_+h.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),sn,ln,d("div",nn,[f(s(M),{value:r.value.reduce((_,h)=>_+h.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),rn]),"row-details":y(()=>[q("   ")]),_:1},8,["loading","rows"]))}});function pt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vaults"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof pt=="function"&&pt(ea);const cn=S(ea,[["__scopeId","data-v-989149b2"]]),Re=De({id:"vaultStore",state:()=>({vault:null,trove:null})}),un={class:"vaults"},dn=k({__name:"Vaults",setup(o){const e=Ve(),a=Re(),t=Le();U(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const l=async n=>{a.vault=n,await t.push({name:"prismavault",params:{tab:"",vaultAddr:n.address}})};return(n,r)=>(c(),b("div",un,[f(cn,{style:{"grid-column":"1 / -1"},onSelected:l}),f(El),f(Ul),f(Hl),f(Nl)]))}});const _n=S(dn,[["__scopeId","data-v-47785ba8"]]),ta=k({__name:"ChartPoolTvl",setup(o){const{t:e}=R(),a=new F(N());let t,l;const n=Q(),r=x(null),{loading:v,data:p,loadData:i}=H(()=>a.getPoolTvl("ethereum","1m").then(u=>u.deposits),[]);U(()=>{r.value&&(t=fe(r.value,_(r.value,n.theme)),l=t.addAreaSeries(h(n.theme)),m(p.value),i())}),O(()=>n.theme,u=>{r.value&&(t.applyOptions(_(r.value,u)),l.applyOptions(h(u)))}),O(p,u=>{m(u)});const _=(u,$)=>ge(u,$,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:w=>g(w)}}),h=u=>{const $=J(u);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ve.WithSteps,lineColor:$.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=u=>{if(!t||!l)return;const $=G.chain(u).map(w=>({time:w.timestamp,value:w.value})).uniqWith((w,A)=>w.time===A.time).orderBy(w=>w.time,"asc").value();$.length>0&&l.setData($),t.timeScale().fitContent()},g=u=>`$${ee(u,1,"dollar")}${Z(u,"dollar")}`;return(u,$)=>(c(),C(s(te),{class:"chart-container",title:s(e)("title"),loading:s(v)},{default:y(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function mt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Total deposits in stability pool"])}}})}typeof mt=="function"&&mt(ta);const vn=S(ta,[["__scopeId","data-v-e251da43"]]),aa=k({__name:"ChartStableFlow",setup(o){const{t:e}=R(),a=new F(N()),t=Q(),{loading:l,data:n,loadData:r}=H(()=>a.getStableFlow("ethereum","1m"),{deposits:[],withdrawals:[]});U(()=>void r());const v=T(()=>{const m=J(t.theme),g=oe(t.theme);return le({colors:m,colorsArray:g},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[m.green,m.red],xaxis:{categories:p.value,labels:{formatter:_,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:h}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:u,dataPointIndex:$,w})=>{let A=0;const B=u.map((j,z)=>{const P=j[$];return A+=P,`<div><b>${w.globals.seriesNames[z]}</b>:	${h(P)}</div>`});return B.push(`<div><b>Total</b>:	${h(A)}</div>`),B.join("")}}})}),p=T(()=>n.value.deposits.length===0?[]:n.value.deposits.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),i=T(()=>[{name:e("deposits"),data:Object.values(n.value.deposits).map(m=>m.value)},{name:e("withdrawals"),data:Object.values(n.value.withdrawals).map(m=>m.value)}]),_=m=>m,h=m=>`$${ee(m,0,"dollar")}${Z(m,"dollar")}`;return(m,g)=>(c(),C(s(re),{title:s(e)("title"),loading:s(l),options:v.value,series:i.value},null,8,["title","loading","options","series"]))}});function ht(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD deposits and withdrawals"])},deposits:a=>{const{normalize:t}=a;return t(["Deposits"])},withdrawals:a=>{const{normalize:t}=a;return t(["Withdrawals"])}}})}typeof ht=="function"&&ht(aa);const pn=S(aa,[["__scopeId","data-v-c17d1a80"]]),oa=k({__name:"ChartDepositDistribution",setup(o){const{t:e}=R(),a=new F(N()),t=Q(),{loading:l,data:n,loadData:r}=H(()=>a.getStableDistribution("ethereum").then(_=>_.distribution),[]);U(()=>void r());const v=T(()=>{const _=J(t.theme),h=oe(t.theme);return le({colors:_,colorsArray:h},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:i.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),p=T(()=>[{name:e("numPos"),data:Object.values(n.value).map(_=>_.value)}]),i=T(()=>n.value.map(_=>_.label));return(_,h)=>(c(),C(s(re),{title:s(e)("title"),loading:s(l),series:p.value,options:v.value},null,8,["title","loading","series","options"]))}});function ft(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Distribution of current user deposits"])},numPos:a=>{const{normalize:t}=a;return t(["# of positions"])}}})}typeof ft=="function"&&ft(oa);const mn=S(oa,[["__scopeId","data-v-0286f136"]]),sa=k({__name:"ChartCumulativeWithdrawals",setup(o){const{t:e}=R(),a=new F(N());let t,l;const n=Q(),r=x(null),{loading:v,data:p,loadData:i}=H(()=>a.getCumulativeWithdrawals("ethereum","all").then(u=>u.withdrawals),[]);U(()=>{r.value&&(t=fe(r.value,_(r.value,n.theme)),l=t.addAreaSeries(h(n.theme)),m(p.value),i())}),O(()=>n.theme,u=>{r.value&&(t.applyOptions(_(r.value,u)),l.applyOptions(h(u)))}),O(p,u=>{m(u)});const _=(u,$)=>ge(u,$,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:w=>g(w)}}),h=u=>{const $=J(u);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ve.WithSteps,lineColor:$.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=u=>{if(!t||!l)return;const $=G.chain(u).map(w=>({time:w.timestamp,value:w.value})).uniqWith((w,A)=>w.time===A.time).orderBy(w=>w.time,"asc").value();$.length>0&&l.setData($),t.timeScale().fitContent()},g=u=>`$${ee(u,1,"dollar")}${Z(u,"dollar")}`;return(u,$)=>(c(),C(s(te),{class:"chart-container",title:s(e)("title"),loading:s(v)},{default:y(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function gt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Cumulative value of collaterals withdrawn"])}}})}typeof gt=="function"&&gt(sa);const hn=S(sa,[["__scopeId","data-v-c87ea7d3"]]),fn={class:"address"},gn=["href"],bn={class:"number"},yn={class:"number"},$n={class:"address"},Cn=["href"],la=k({__name:"TableTopDeposits",setup(o){const{t:e}=R(),a=new F(N()),t=T(()=>G.chain(n.value).map(v=>v).value()),{loading:l,data:n,loadData:r}=H(()=>a.getTopStableDeposits("ethereum",5,"7d").then(v=>v.operations),[]);return U(()=>void r()),(v,p)=>(c(),C(s(de),{class:"datatable-deposits","columns-header":"1fr","columns-data":"deposits-columns-data",loading:s(l),rows:t.value,columns:["Address","Amount","Date","Tx"]},{"header-title":y(()=>[d("div",null,D(s(e)("title")),1)]),row:y(i=>[d("div",fn,[d("a",{href:`https://etherscan.io/address/${i.item.user}`,target:"_blank"},D(s(ne)(i.item.user,8)),9,gn)]),d("div",bn,[f(s(M),{value:i.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",yn,D(new Date(i.item.timestamp*1e3).toLocaleDateString()),1),d("div",$n,[d("a",{href:`https://etherscan.io/tx/${i.item.hash}`,target:"_blank"},D(s(ne)(i.item.hash,8)),9,Cn)])]),_:1},8,["loading","rows"]))}});function bt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest deposits past 7 days"])}}})}typeof bt=="function"&&bt(la);const wn=S(la,[["__scopeId","data-v-c62e207d"]]),kn={class:"address"},Sn=["href"],Tn={class:"number"},Dn={class:"number"},An={class:"address"},In=["href"],na=k({__name:"TableTopWithdrawals",setup(o){const{t:e}=R(),a=new F(N()),t=T(()=>G.chain(n.value).map(v=>v).value()),{loading:l,data:n,loadData:r}=H(()=>a.getTopStableWithdrawals("ethereum",5,"7d").then(v=>v.operations),[]);return U(()=>void r()),(v,p)=>(c(),C(s(de),{class:"datatable-withdrawals","columns-header":"1fr","columns-data":"withdrawals-columns-data",loading:s(l),rows:t.value,columns:["Address","Amount","Date","Tx"]},{"header-title":y(()=>[d("div",null,D(s(e)("title")),1)]),row:y(i=>[d("div",kn,[d("a",{href:`https://etherscan.io/address/${i.item.user}`,target:"_blank"},D(s(ne)(i.item.user,8)),9,Sn)]),d("div",Tn,[f(s(M),{value:i.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",Dn,D(new Date(i.item.timestamp*1e3).toLocaleDateString()),1),d("div",An,[d("a",{href:`https://etherscan.io/tx/${i.item.hash}`,target:"_blank"},D(s(ne)(i.item.hash,8)),9,In)])]),_:1},8,["loading","rows"]))}});function yt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest withdrawals past 7 days"])}}})}typeof yt=="function"&&yt(na);const Pn=S(na,[["__scopeId","data-v-030921fd"]]),zn={class:"pool"},On=k({__name:"StabilityPool",setup(o){return(e,a)=>(c(),b("div",zn,[f(vn),f(pn),f(mn),f(hn),f(wn),f(Pn)]))}});const xn=S(On,[["__scopeId","data-v-c433301c"]]),Ln=o=>(ce("data-v-39b2c7b0"),o=o(),ue(),o),Mn=Ln(()=>d("div",null," Price data is sourced from Curve pools only. ",-1)),ra=k({__name:"ChartPrice",setup(o){const{t:e}=R(),a=new F(N());let t,l;const n=Q(),r=x(null),{loading:v,data:p,loadData:i}=H(()=>a.getPriceHistory("ethereum","1m").then(u=>u.prices),[]);U(()=>{r.value&&(t=fe(r.value,_(r.value,n.theme)),l=t.addAreaSeries(h(n.theme)),m(p.value),i())}),O(()=>n.theme,u=>{r.value&&(t.applyOptions(_(r.value,u)),l.applyOptions(h(u)))}),O(p,u=>{m(u)});const _=(u,$)=>ge(u,$,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:w=>g(w)}}),h=u=>{const $=J(u);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:ve.WithSteps,lineColor:$.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=u=>{if(!t||!l)return;const $=G.chain(u).map(w=>({time:w.timestamp,value:w.value})).uniqWith((w,A)=>w.time===A.time).orderBy(w=>w.time,"asc").value();$.length>0&&l.setData($),t.timeScale().fitContent()},g=u=>`$${ee(u,2,"dollar")}${Z(u,"dollar")}`;return(u,$)=>(c(),C(s(te),{class:"chart-container",title:s(e)("title"),loading:s(v)},{actions:y(()=>[f(s(xe),null,{default:y(()=>[Mn]),_:1})]),default:y(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function $t(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD price (last 30 days)"])}}})}typeof $t=="function"&&$t(ra);const Vn=S(ra,[["__scopeId","data-v-39b2c7b0"]]),ia=k({__name:"ChartPriceDistribution",setup(o){const{t:e}=R(),a=new F(N()),t=Q(),{loading:l,data:n,loadData:r}=H(()=>a.getPriceHistogram("ethereum",10,"all").then(_=>_.histogram),[]);U(()=>void r());const v=T(()=>{const _=J(t.theme),h=oe(t.theme);return le({colors:_,colorsArray:h},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:i.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),p=T(()=>[{name:e("numPos"),data:Object.values(n.value).map(_=>_.value)}]),i=T(()=>n.value.map(_=>_.label));return(_,h)=>(c(),C(s(re),{title:s(e)("title"),loading:s(l),series:p.value,options:v.value},null,8,["title","loading","series","options"]))}});function Ct(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Price histogram"])},numPos:a=>{const{normalize:t}=a;return t(["# of hourly price records"])}}})}typeof Ct=="function"&&Ct(ia);const Rn=S(ia,[["__scopeId","data-v-cb3982fd"]]),ca=k({__name:"ChartHolders",setup(o){const{t:e}=R(),a=new F(N()),t=Q(),{loading:l,data:n,loadData:r}=H(()=>a.getLargeStableCoinHolders("ethereum").then(h=>h.holders),[]);U(()=>void r());const v=T(()=>{const h=J(t.theme),m=oe(t.theme);return le({colors:h,colorsArray:m},{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:g=>{let u=i.value[g.seriesIndex];u=u.length>10&&u.startsWith("0x")?ne(u):u;const $=g.series[g.seriesIndex];return[`<div><b>${u}</b>:</div><div>${_($)}</div>`].join("")}},labels:n.value.map(g=>g.label.length>10&&g.label.startsWith("0x")?ne(g.label):g.label)})}),p=T(()=>n.value.map(h=>h.value)),i=T(()=>n.value.map(h=>h.label)),_=h=>`$${ee(Math.abs(h),1,"dollar")}${Z(h,"dollar")}`;return(h,m)=>(c(),C(s(re),{class:"graph",title:s(e)("title"),loading:s(l),options:v.value,series:p.value},null,8,["title","loading","options","series"]))}});function wt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest holders"])},numPos:a=>{const{normalize:t}=a;return t(["mkUSD balance:"])}}})}typeof wt=="function"&&wt(ca);const Bn=S(ca,[["__scopeId","data-v-87a21766"]]),Wn={class:"kpis"},Nn=k({__name:"KPIs",setup(o){const e=new F(N()),{data:a,loadData:t}=H(()=>e.getStableCoinKPI("ethereum").then(l=>l.info),null);return U(()=>void t()),(l,n)=>(c(),b("div",Wn,[f(s(Y),{label:"mkUSD price","has-value":!!s(a)},{default:y(()=>[s(a)?(c(),C(s(M),{key:0,value:s(a).price,precision:4,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),f(s(Y),{label:"Total supply","has-value":!!s(a)},{default:y(()=>[s(a)?(c(),C(s(M),{key:0,value:s(a).supply,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),f(s(Y),{label:"24h Volume (Curve)","has-value":!!s(a)},{default:y(()=>[s(a)?(c(),C(s(M),{key:0,value:s(a).volume,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),f(s(Y),{label:"Aggregate -2% Depth (Curve)","has-value":!!s(a)},{default:y(()=>[s(a)?(c(),C(s(M),{key:0,value:s(a).depth,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"])]))}});const Fn=S(Nn,[["__scopeId","data-v-b3576350"]]),ua=k({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(o){const{t:e}=R(),a=Q(),t=T(()=>{const v=J(a.theme),p=oe(a.theme);return le({colors:v,colorsArray:p},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:i=>r(i)}},yaxis:{seriesName:"amounts",labels:{formatter:i=>r(i)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:i=>r(i)}},colors:[i=>i.value===0?v.blue:v.green,i=>i.value===0?v.blue:v.red]})}),l=T(()=>{if(!o.depth)return[];const v=[...o.depth.ask.prices.map(i=>({x:i,y:0})),...o.depth.bid.prices.map((i,_)=>({x:i,y:o.depth.bid.amounts[_]}))],p=[...o.depth.ask.prices.map((i,_)=>({x:i,y:o.depth.ask.amounts[_]}))];return[{name:"Bid",data:v},{name:"Ask",data:p}]}),n=T(()=>{var p;if(!((p=o.depth)!=null&&p.tokens)||o.depth.tokens.length===0)return e("title");const v=o.depth.tokens.join(" / ");return`${e("title")} - ${v} (Curve)`}),r=v=>`$${ee(Math.abs(v),2,"dollar")}${Z(v,"dollar")}`;return(v,p)=>(c(),C(s(re),{class:"chart",title:n.value,loading:v.loading,options:t.value,series:l.value},null,8,["title","loading","options","series"]))}});function kt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidity Depth"])}}})}typeof kt=="function"&&kt(ua);const En=S(ua,[["__scopeId","data-v-defdef9f"]]),Un=k({__name:"ChartDepthContainer",setup(o){const e=new F(N()),{loading:a,data:t,loadData:l}=H(()=>e.getCurvePoolDepth("ethereum").then(n=>n.depth),[]);return U(()=>void l()),(n,r)=>(c(!0),b(X,null,ae(s(t),v=>(c(),C(En,{key:v.name,loading:s(a),depth:v},null,8,["loading","depth"]))),128))}});const Hn=S(Un,[["__scopeId","data-v-f0b8731b"]]),qn={class:"mkusd"},jn=k({__name:"Stablecoin",setup(o){return(e,a)=>(c(),b("div",qn,[f(Fn,{style:{"grid-column":"1 / -1"}}),f(Vn),f(Rn),f(Bn),f(Hn)]))}});const Gn=S(jn,[["__scopeId","data-v-738142b2"]]),Jn=k({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(o){const e=Q(),a=T(()=>{const r=J(e.theme),v=oe(e.theme);return le({colors:r,colorsArray:v},{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:p=>{let i=l.value[p.seriesIndex];i=i.length>10?ne(i):i;const _=p.series[p.seriesIndex];return[`<div><b>${i}</b>:</div><div>${n(_)}</div>`].join("")}},labels:o.data.map(p=>p.label.length>10?ne(p.label):p.label)})}),t=T(()=>o.data.map(r=>r.value)),l=T(()=>o.data.map(r=>r.label)),n=r=>`$${ee(Math.abs(r),1,"dollar")}${Z(r,"dollar")}`;return(r,v)=>(c(),C(s(re),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const Qn=S(Jn,[["__scopeId","data-v-5e27d0e1"]]),Kn={class:"actions"},da=k({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(o){const{t:e}=R(),a=new F(N()),t=x("collateral"),{loading:l,data:n,loadData:r}=H(()=>o.vault?a.getLargeTrovePositions("ethereum",o.vault.address,t.value).then(v=>v.positions):Promise.resolve([]),[]);return O(t,r,{immediate:!0}),O(()=>o.vault,r,{immediate:!0}),(v,p)=>(c(),C(s(te),{class:"chart-container",title:s(e)("title"),loading:s(l)},{actions:y(()=>[d("div",Kn,[f(s(Oe),{value:"Coll.","model-value":t.value==="collateral",onClick:p[0]||(p[0]=i=>t.value="collateral")},null,8,["model-value"]),f(s(Oe),{value:"Debt","model-value":t.value==="debt",onClick:p[1]||(p[1]=i=>t.value="debt")},null,8,["model-value"])])]),default:y(()=>[f(Qn,{data:s(n)},null,8,["data"])]),_:1},8,["title","loading"]))}});function St(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["5 Largest Troves vs Others"])}}})}typeof St=="function"&&St(da);const Yn=S(da,[["__scopeId","data-v-3b560130"]]),Xn=k({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(o){const e=Q(),a=T(()=>{const n=J(e.theme),r=oe(e.theme);return le({colors:n,colorsArray:r},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:l.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),t=T(()=>[{name:"# of troves",data:Object.values(o.data).map(n=>n.value)}]),l=T(()=>o.data.map(n=>n.label));return(n,r)=>(c(),C(s(re),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const Zn=S(Xn,[["__scopeId","data-v-726b6957"]]),er={class:"actions"},_a=k({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(o){const{t:e}=R(),a=new F(N()),{loading:t,data:l,loadData:n}=H(()=>o.vault?a.getTroveDistribution("ethereum",o.vault.address,r.value).then(v=>v.distribution):Promise.resolve([]),[]),r=x("collateral");return O(r,n,{immediate:!0}),O(()=>o.vault,n,{immediate:!0}),(v,p)=>(c(),C(s(te),{class:"chart-container",title:s(e)("title"),loading:s(t)},{actions:y(()=>[d("div",er,[f(s(Oe),{value:"Coll.","model-value":r.value==="collateral",onClick:p[0]||(p[0]=i=>r.value="collateral")},null,8,["model-value"]),f(s(Oe),{value:"Debt","model-value":r.value==="debt",onClick:p[1]||(p[1]=i=>r.value="debt")},null,8,["model-value"])])]),default:y(()=>[f(Zn,{data:s(l)},null,8,["data"])]),_:1},8,["title","loading"]))}});function Tt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Troves Distribution"])}}})}typeof Tt=="function"&&Tt(_a);const tr=S(_a,[["__scopeId","data-v-56b15476"]]),ar={class:"kpis"},or=k({__name:"VaultKPIs",props:{vault:{default:null}},setup(o){return(e,a)=>(c(),b("div",ar,[f(s(Y),{label:"TVL","has-value":!!e.vault},{default:y(()=>[e.vault?(c(),C(s(M),{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),f(s(Y),{label:"Debt / Debt Cap","has-value":!!e.vault},{default:y(()=>[e.vault?(c(),C(s(M),{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):I("",!0),q(" / "),e.vault?(c(),C(s(M),{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),f(s(Y),{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:y(()=>[e.vault?(c(),C(s(M),{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):I("",!0),q(" / "),e.vault?(c(),C(s(M),{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),f(s(Y),{label:"Interest rate","has-value":!!e.vault},{default:y(()=>[e.vault?(c(),C(s(M),{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),f(s(Y),{label:"Troves open / total","has-value":!!e.vault},{default:y(()=>[e.vault?(c(),C(s(M),{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0),q(" / "),e.vault?(c(),C(s(M),{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),f(s(Y),{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:y(()=>[e.vault?(c(),C(s(M),{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0),q(" / "),e.vault?(c(),C(s(M),{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0)]),_:1},8,["has-value"])]))}});const sr=S(or,[["__scopeId","data-v-12fbfe11"]]),va=k({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(o){const{t:e}=R(),a=new F(N());let t,l;const n=Q(),r=x(null),{loading:v,data:p,loadData:i}=H(()=>o.vault?a.getVaultCollateralRatio("ethereum",o.vault.address,"1m").then(g=>g.ratio):Promise.resolve([]),[]);U(()=>{r.value&&(t=fe(r.value,_(r.value,n.theme)),l=t.addAreaSeries(h(n.theme)),m(p.value))}),O(()=>n.theme,g=>{r.value&&(t.applyOptions(_(r.value,g)),l.applyOptions(h(g)))}),O(()=>o.vault,i,{immediate:!0}),O(p,g=>{m(g)});const _=(g,u)=>ge(g,u,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),h=g=>{const u=J(g);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ve.WithSteps,lineColor:u.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=g=>{if(!t||!l)return;const u=G.chain(g).map($=>({time:$.timestamp,value:$.value*100})).uniqWith(($,w)=>$.time===w.time).orderBy($=>$.time,"asc").value();u.length>0&&l.setData(u),t.timeScale().fitContent()};return(g,u)=>(c(),C(s(te),{class:"chart-container",title:s(e)("title"),loading:s(v)},{default:y(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Dt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vault collateral ratio"])}}})}typeof Dt=="function"&&Dt(va);const lr=S(va,[["__scopeId","data-v-518d60f9"]]),pa=k({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(o){const{t:e}=R(),a=new F(N());let t,l;const n=Q(),r=x(null),{loading:v,data:p,loadData:i}=H(()=>o.vault?a.getVaultTroveCount("ethereum",o.vault.address,"1m").then(g=>g.count):Promise.resolve([]),[]);U(()=>{r.value&&(t=fe(r.value,_(r.value,n.theme)),l=t.addAreaSeries(h(n.theme)),m(p.value))}),O(()=>n.theme,g=>{r.value&&(t.applyOptions(_(r.value,g)),l.applyOptions(h(g)))}),O(()=>o.vault,i,{immediate:!0}),O(p,g=>{m(g)});const _=(g,u)=>ge(g,u,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),h=g=>{const u=J(g);return{priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:ve.WithSteps,lineColor:u.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=g=>{if(!t||!l)return;const u=G.chain(g).map($=>({time:$.timestamp,value:$.value})).uniqWith(($,w)=>$.time===w.time).orderBy($=>$.time,"asc").value();u.length>0&&l.setData(u),t.timeScale().fitContent()};return(g,u)=>(c(),C(s(te),{class:"chart-container",title:s(e)("title"),loading:s(v)},{default:y(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function At(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Number of open troves"])}}})}typeof At=="function"&&At(pa);const nr=S(pa,[["__scopeId","data-v-a04a3ea9"]]),rr={class:"vault-overview"},ir=k({__name:"VaultOverview",props:{vault:{}},setup(o){return(e,a)=>(c(),b("div",rr,[f(sr,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),f(tr,{vault:e.vault},null,8,["vault"]),f(Yn,{vault:e.vault},null,8,["vault"]),f(lr,{vault:e.vault},null,8,["vault"]),f(nr,{vault:e.vault},null,8,["vault"])]))}});const cr=S(ir,[["__scopeId","data-v-ad4ff57f"]]),ur={class:"actions"},ma=k({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(o){const{t:e}=R(),a=new F(N());let t,l,n;const r=Q(),v=x(null),p={oracle:[],market:[]},{loading:i,data:_,loadData:h}=H(async()=>{if(o.vault){const A=await a.getCollateralPrices("ethereum",o.vault.collateral,"7d");return m(A.oracle,A.market)}else return Promise.resolve(p)},p);U(async()=>{v.value&&(await Va(),t=fe(v.value,g(v.value,r.theme)),l=t.addAreaSeries($(r.theme)),n=t.addAreaSeries(u(r.theme)),w(_.value))}),O(()=>o.vault,h,{immediate:!0}),O(()=>r.theme,A=>{v.value&&(t.applyOptions(g(v.value,A)),l.applyOptions($(A)),n.applyOptions(u(A)))}),O(_,A=>{w(A)});const m=(A,B)=>{const j=Math.max(A[0].timestamp,B[0].timestamp),z=Math.min(A[A.length-1].timestamp,B[B.length-1].timestamp),P=A.filter(K=>K.timestamp>=j&&K.timestamp<=z),V=B.filter(K=>K.timestamp>=j&&K.timestamp<=z);return P[P.length-1].timestamp<z&&P.push({timestamp:z,value:P[P.length-1].value}),V[V.length-1].timestamp<z&&V.push({timestamp:z,value:V[V.length-1].value}),{oracle:P,market:V}},g=(A,B)=>ge(A,B,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),u=A=>{const B=J(A);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ve.WithSteps,lineColor:B.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},$=A=>{const B=J(A);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ve.WithSteps,lineColor:B.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},w=A=>{if(!t||!l)return;const B=G.chain(A.oracle).map(z=>({time:z.timestamp,value:z.value})).uniqWith((z,P)=>z.time===P.time).orderBy(z=>z.time,"asc").value(),j=G.chain(A.market).map(z=>({time:z.timestamp,value:z.value})).uniqWith((z,P)=>z.time===P.time).orderBy(z=>z.time,"asc").value();j.length>0&&n.setData(j),B.length>0&&l.setData(B),t.timeScale().fitContent()};return(A,B)=>(c(),C(s(te),{class:"chart-container",title:s(e)("title"),loading:s(i)},{actions:y(()=>[d("div",ur,[f(s(Rs),{items:["Oracle","Market"],colors:s(oe)(s(r).theme)},null,8,["colors"])])]),default:y(()=>[d("div",{ref_key:"chartRef",ref:v,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function It(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Oracle & Market price"])}}})}typeof It=="function"&&It(ma);const dr=S(ma,[["__scopeId","data-v-94a01709"]]),ha=k({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(o){const{t:e}=R(),a=new F(N()),t=Q(),{loading:l,data:n,loadData:r}=H(()=>o.vault?a.getCollateralPriceImpact("ethereum",o.vault.collateral).then(m=>m.impact):Promise.resolve([]),[]),v=T(()=>{const m=J(t.theme),g=oe(t.theme);return le({colors:m,colorsArray:g},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:i.value,labels:{formatter:u=>_(u)}},yaxis:{seriesName:"impact",labels:{formatter:u=>h(u)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:u=>{if(!o.vault)return"";const $=i.value[u.dataPointIndex],w=_($*o.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${_($)} ${o.vault.name} ($${w})</div>

          <div><b>Price impact:</b>:</div>
          <div>${h(u.series[0][u.dataPointIndex])}</div>
          `}}})}),p=T(()=>[{name:e("priceImpact"),data:Object.values(n.value).map(m=>m.impact)}]),i=T(()=>n.value.map(m=>o.vault?m.amount/o.vault.price:0)),_=m=>`${ee(Math.abs(m),1,"dollar")}${Z(m,"dollar")}`,h=m=>`${ee(m,2,"percentage")}${Z(m,"percentage")}`;return O(()=>o.vault,r,{immediate:!0}),(m,g)=>(c(),C(s(re),{class:"chart",title:s(e)("title"),loading:s(l),options:v.value,series:p.value},null,8,["title","loading","options","series"]))}});function Pt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["On-chain Selling Price Impact"])},priceImpact:a=>{const{normalize:t}=a;return t(["Price impact"])}}})}typeof Pt=="function"&&Pt(ha);const _r=S(ha,[["__scopeId","data-v-57657d95"]]),vr={class:"kpis"},pr=["href"],mr=k({__name:"CollateralKPIs",props:{vault:{default:null}},setup(o){const e=new F(N()),{data:a,loadData:t}=H(()=>o.vault?e.getCollateralInfo("ethereum",o.vault.collateral).then(l=>l.info):Promise.resolve(null),null);return O(()=>o.vault,t,{immediate:!0}),(l,n)=>(c(),b("div",vr,[f(s(Y),{label:"Oracle price","has-value":!!s(a)},{default:y(()=>[s(a)?(c(),C(s(M),{key:0,value:s(a).price,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),f(s(Y),{label:"Total supply","has-value":!!s(a)},{default:y(()=>[s(a)?(c(),C(s(M),{key:0,value:s(a).supply,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),f(s(Y),{label:"TVL","has-value":!!s(a)},{default:y(()=>[s(a)?(c(),C(s(M),{key:0,value:s(a).tvl,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),f(s(Y),{label:"Share of the ETH LSD market","has-value":!!s(a)},{default:y(()=>[s(a)?(c(),C(s(M),{key:0,value:s(a).share,precision:1,type:"percentage"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),f(s(Y),{label:"Full risk analysis by Prisma Risk team","has-value":!!s(a)},{default:y(()=>[s(a)?(c(),b("a",{key:0,href:s(a).risk}," Risk Report ",8,pr)):I("",!0)]),_:1},8,["has-value"])]))}});const hr=S(mr,[["__scopeId","data-v-abf880e6"]]),fr={class:"collateral"},gr=k({__name:"Collateral",props:{vault:{}},setup(o){return(e,a)=>(c(),b("div",fr,[f(hr,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),f(dr,{vault:e.vault},null,8,["vault"]),f(_r,{vault:e.vault},null,8,["vault"])]))}});const br=S(gr,[["__scopeId","data-v-a7083765"]]);const yr={},$r={class:"liquidations"};function Cr(o,e){return c(),b("div",$r,"TODO")}const wr=S(yr,[["render",Cr],["__scopeId","data-v-5225d811"]]);function Ye(o,e){const t=Math.round(o.value/1e3)-e;return t<60?`${Math.round(t)} seconds ago`:t<60*60?`${Math.round(t/60)} minutes ago`:t<60*60*24?`${Math.round(t/(60*60))} hours ago`:`${Math.round(t/(60*60*24))} days ago`}const kr={class:"redemption-details"},Sr={class:"kpis"},Tr={class:"title"},Dr=["href"],fa=k({__name:"RedemptionDetails",props:{vaultAddr:{},redemption:{}},setup(o){const{t:e}=R(),a=x(""),t=T(()=>G.chain(o.redemption.troves_affected).filter(l=>{const n=a.value.toLocaleLowerCase().split(" ");return(v=>n.some(p=>v.toLocaleLowerCase().includes(p)))(l)}).value());return(l,n)=>(c(),C(s(te),{title:s(e)("redemption-details")},{default:y(()=>[d("div",kr,[d("div",Sr,[f(s(Y),{label:s(e)("withdrawal")},{default:y(()=>[f(s(M),{value:l.redemption.attempted_debt_amount,precision:2,type:"dollar"},null,8,["value"]),q(" / "),f(s(M),{value:l.redemption.collateral_sent_to_redeemer_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),f(s(Y),{label:s(e)("fee")},{default:y(()=>[f(s(M),{value:l.redemption.collateral_fee_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),f(s(de),{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:t.value,columns:["Trove"]},{"header-title":y(()=>[d("div",Tr,D(s(e)("troves-affected")),1),f(s(Me),{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=r=>a.value=r),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(r=>[d("div",{onClick:n[1]||(n[1]=_e(()=>{},["stop"]))},[d("a",{style:{"font-family":"monospace"},target:"_blank",href:`#/vault/${l.vaultAddr}/trove/${r.item}`},D(r.item),9,Dr)])]),_:1},8,["rows"])])]),_:1},8,["title"]))}});function zt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":a=>{const{normalize:t}=a;return t(["Troves affected"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])},"redemption-details":a=>{const{normalize:t}=a;return t(["Redemption Details"])},withdrawal:a=>{const{normalize:t}=a;return t(["Attempted / Received"])},fee:a=>{const{normalize:t}=a;return t(["Fee"])}}})}typeof zt=="function"&&zt(fa);const Ar=S(fa,[["__scopeId","data-v-670b2056"]]),Ir=["href"],Pr=["href"],zr={class:"number"},Or={class:"number"},xr={class:"number"},Pe=15,ga=k({__name:"TableRedemptions",props:{vault:{default:null}},setup(o){const{t:e}=R(),a=new F(N()),t=x(""),l=x(1),n=x(Date.now()),r=x(null),v=x("timestamp"),p=x(se.Descending),i=T(()=>["Redeemer","Transaction","Debt","# Troves","Time"]),_=T(()=>["redeemer","tx","debt","numtroves","timestamp"]),h=T(()=>G.chain(u.value).filter(z=>{const P=t.value.toLocaleLowerCase().split(" ");return(K=>P.some(Be=>K.toLocaleLowerCase().includes(Be)))(z.redeemer)}).orderBy(z=>{switch(v.value){case"redeemer":return z.redeemer;case"tx":return z.transaction;case"debt":return z.actual_debt_amount;case"numtroves":return z.troves_affected_count;case"timestamp":return z.timestamp;default:return z.timestamp}},p.value===se.Descending?"desc":"asc").value()),m=T(()=>G.chain(h.value).drop((l.value-1)*Pe).take(Pe).value()),{loading:g,data:u,loadData:$}=H(()=>o.vault?a.getRedemptions("ethereum",o.vault.address):Promise.resolve([]),[]);U(()=>{$(),setInterval(()=>{n.value=Date.now()})});const w=z=>Ye(n,z),A=z=>{l.value=z},B=(z,P)=>{v.value=z,p.value=P},j=z=>{r.value=z};return O(()=>o.vault,$,{immediate:!0}),O(m,z=>{z.length===0&&(l.value=Math.max(1,Math.ceil(h.value.length/Pe)))}),(z,P)=>(c(),b(X,null,[f(s(de),{class:"datatable-redemptions","columns-header":"1fr 1fr auto","columns-data":"redemptions-columns-data",loading:s(g),rows:m.value,columns:i.value,sorting:!0,"sorting-columns":_.value,"sorting-columns-enabled":_.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:B,onSelected:j},{"header-title":y(()=>[d("div",null,D(s(e)("title")),1),f(s(Me),{modelValue:t.value,"onUpdate:modelValue":P[0]||(P[0]=V=>t.value=V),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[f(s(Ft),{class:"pagination","items-count":h.value.length,"items-per-page":Pe,page:l.value,onPage:A},null,8,["items-count","page"])]),row:y(V=>[d("div",null,[d("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${V.item.redeemer}`,target:"_blank",onClick:P[1]||(P[1]=_e(()=>{},["stop"]))},D(s(ne)(V.item.redeemer)),9,Ir)]),d("div",null,[d("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${V.item.transaction}`,target:"_blank",onClick:P[2]||(P[2]=_e(()=>{},["stop"]))},D(s(ne)(V.item.transaction)),9,Pr)]),d("div",zr,"$"+D(Math.round(V.item.actual_debt_amount)),1),d("div",Or,D(V.item.troves_affected_count),1),d("div",xr,D(w(V.item.timestamp)),1)]),"row-details":y(()=>[q("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]),f(s(Wt),{show:!!r.value,onClose:P[3]||(P[3]=V=>r.value=null)},{default:y(()=>{var V;return[r.value?(c(),C(Ar,{key:0,redemption:r.value,"vault-addr":((V=z.vault)==null?void 0:V.address)??""},null,8,["redemption","vault-addr"])):I("",!0)]}),_:1},8,["show"])],64))}});function Ot(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Redemptions"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Ot=="function"&&Ot(ga);const Lr=S(ga,[["__scopeId","data-v-d0265209"]]),Mr={class:"redemptions"},Vr=k({__name:"Redemptions",props:{vault:{}},setup(o){return(e,a)=>(c(),b("div",Mr,[f(Lr,{vault:e.vault},null,8,["vault"])]))}});const Rr=S(Vr,[["__scopeId","data-v-ff43effe"]]),Br=["href"],Wr={class:"number"},Nr={class:"number"},ze=15,ba=k({__name:"TableTroves",props:{vault:{default:null}},setup(o){const{t:e}=R(),a=new F(N()),t=x(""),l=x("Open"),n=x(1),r=x(Date.now()),v=x("updated"),p=x(se.Descending),i=T(()=>l.value==="Open"?["Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["Owner","","","","Created At","Last Updated"]),_=T(()=>l.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","","","","created","updated"]),h=T(()=>l.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),m=T(()=>G.chain($.value).filter(P=>l.value===P.status).filter(P=>{const V=t.value.toLocaleLowerCase().split(" ");return(Be=>V.some(wa=>Be.toLocaleLowerCase().includes(wa)))(P.owner)}).orderBy(P=>{switch(v.value){case"owner":return P.owner;case"debt":return P.debt;case"coll":return P.collateral_usd;case"ratio":return P.collateral_ratio;case"created":return P.created_at;case"updated":return P.last_update;default:return P.last_update}},p.value===se.Descending?"desc":"asc").value()),g=T(()=>G.chain(m.value).drop((n.value-1)*ze).take(ze).value()),{loading:u,data:$,loadData:w}=H(()=>o.vault?a.getTroves("ethereum",o.vault.address,"last_update"):Promise.resolve([]),[]);U(()=>{w(),setInterval(()=>{r.value=Date.now()})});const A=P=>Ye(r,P),B=P=>{n.value=P},j=P=>{P===0?l.value="Open":P===1?l.value="Closed":l.value="Open"},z=(P,V)=>{v.value=P,p.value=V};return O(()=>o.vault,w,{immediate:!0}),O(g,P=>{P.length===0&&(n.value=Math.max(1,Math.ceil(m.value.length/ze)))}),(P,V)=>(c(),C(s(de),{class:"datatable-troves","columns-header":"1fr 1fr","columns-data":"troves-columns-data",loading:s(u),rows:g.value,columns:i.value,sorting:!0,"sorting-columns":_.value,"sorting-columns-enabled":h.value,"sorting-default-column":"updated","sorting-default-dir":"Descending",onSortColumn:z},{"header-title":y(()=>[f(s(qt),{class:"types",onTab:V[0]||(V[0]=K=>j(K.index))},{default:y(()=>[f(s(me),{header:"Open"}),f(s(me),{header:"Closed"})]),_:1}),f(s(Me),{modelValue:t.value,"onUpdate:modelValue":V[1]||(V[1]=K=>t.value=K),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[f(s(Ft),{class:"pagination","items-count":m.value.length,"items-per-page":ze,page:n.value,onPage:B},null,8,["items-count","page"])]),row:y(K=>[d("div",{onClick:V[2]||(V[2]=_e(()=>{},["stop"]))},[d("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${K.item.owner}`,target:"_blank"},D(s(ne)(K.item.owner)),9,Br)]),d("div",{class:L(["number",{hide:l.value==="Closed"}])}," $"+D(Math.round(K.item.debt)),3),d("div",{class:L(["number",{hide:l.value==="Closed"}])}," $"+D(Math.round(K.item.collateral_usd)),3),d("div",{class:L(["number",{hide:l.value==="Closed"}])},[f(s(M),{value:K.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),d("div",Wr,D(A(K.item.created_at)),1),d("div",Nr,D(A(K.item.last_update)),1)]),"row-details":y(()=>[q("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled"]))}});function xt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof xt=="function"&&xt(ba);const Fr=S(ba,[["__scopeId","data-v-2333b5bf"]]),Er={class:"troves"},Ur=k({__name:"Troves",props:{vault:{}},setup(o){const e=Re(),a=Le(),t=async l=>{e.trove=l,o.vault&&await a.push({name:"prismatrove",params:{troveAddr:l.owner,vaultAddr:o.vault.address}})};return(l,n)=>(c(),b("div",Er,[f(Fr,{vault:l.vault,onSelected:t},null,8,["vault"])]))}});const Hr=S(Ur,[["__scopeId","data-v-e65b0341"]]),qr={class:"vault-manager"},jr=k({__name:"VaultManager",setup(o){const e=new Ke("ethereum"),a=Ae(),t=Le(),l=Ve(),n=Re(),r=x(0),v=T(()=>a.params.vaultAddr),p=T(()=>n.vault);return U(()=>{var _;const i=a.params.tab;i&&typeof i=="string"&&(i==="collateral"?r.value=1:i==="trove"?r.value=2:i==="liquidations"?r.value=3:i==="redemptions"&&(r.value=4)),l.show=!0,l.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((_=p.value)==null?void 0:_.name)??"?"}`}]}),O(e.currentData,i=>{const _=i.find(h=>h.address===v.value);_&&(n.vault=_)}),O(p,i=>{l.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(i==null?void 0:i.name)??"?"}`}]}),O(r,async i=>{i===0?await t.push({name:"prismavault",params:{tab:"",vaultAddr:v.value}}):i===1?await t.push({name:"prismavault",params:{tab:"collateral",vaultAddr:v.value}}):i===2?await t.push({name:"prismavault",params:{tab:"trove",vaultAddr:v.value}}):i===3?await t.push({name:"prismavault",params:{tab:"liquidations",vaultAddr:v.value}}):i===4&&await t.push({name:"prismavault",params:{tab:"redemptions",vaultAddr:v.value}})}),(i,_)=>(c(),b("div",qr,[f(s(qt),{active:r.value,onTab:_[0]||(_[0]=h=>r.value=h.index)},{default:y(()=>[f(s(me),{header:"Overview"},{default:y(()=>[(c(),C(Se,null,[r.value===0?(c(),C(cr,{key:0,vault:p.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),f(s(me),{header:"Collateral"},{default:y(()=>[(c(),C(Se,null,[r.value===1&&p.value?(c(),C(br,{key:0,vault:p.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),f(s(me),{header:"Troves"},{default:y(()=>[(c(),C(Se,null,[r.value===2&&p.value?(c(),C(Hr,{key:0,vault:p.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),f(s(me),{header:"Liquidations",disabled:!0},{default:y(()=>[(c(),C(Se,null,[r.value===3&&p.value?(c(),C(wr,{key:0,vault:p.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),f(s(me),{header:"Redemptions"},{default:y(()=>[(c(),C(Se,null,[r.value===4&&p.value?(c(),C(Rr,{key:0,vault:p.value},null,8,["vault"])):I("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const Gr=S(jr,[["__scopeId","data-v-e93c424a"]]),Jr=o=>(ce("data-v-b0efbcdc"),o=o(),ue(),o),Qr=Jr(()=>d("div",null,[q(" This chart displays that amount of collateral available below different collateral ratios. "),d("br"),q(" It also displays the position of the trove relative to other troves in this vault. "),d("br"),d("br"),q(" This information is useful to estimate a trove's risk of redemption. "),d("br"),q(" Even if the trove's collateral ratio is high in the absolute, a lower ratio relative "),d("br"),q(" to other troves means a higher risk of redemption."),d("br"),d("br"),q(` As such, the lower the "risk rank" displayed, the higher the trove's risk of being redeemed. `)],-1)),ya=k({__name:"ChartTroveRank",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=R(),a=new F(N()),t=Q(),l=x("Trove Relative Position"),n={rank:null,total_positions:0,ratio:null,positions:[]},{loading:r,data:v,loadData:p}=H(async()=>o.vault&&o.trove?await a.getTroveRank("ethereum",o.vault.address,o.trove.owner):Promise.resolve(n),n),i=T(()=>{var A,B;const u=J(t.theme),$=oe(t.theme),w={x:((A=v.value)==null?void 0:A.ratio)??0,borderColor:u.yellow,strokeDashArray:2,label:{borderColor:u.yellow,style:{background:u.yellow,color:"rgb(34, 34, 34)"},position:"top",offsetX:15,text:`This trove: ${g(((B=v.value)==null?void 0:B.ratio)??0,1)}`}};return le({colors:u,colorsArray:$},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!0}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},annotations:{xaxis:v.value.ratio?[w]:[]},toolbar:{show:!1},xaxis:{type:"numeric",categories:h.value,labels:{formatter:j=>g(j)}},yaxis:{seriesName:"impact",labels:{formatter:j=>m(j)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:j=>{if(!o.vault)return"";const z=h.value[j.dataPointIndex];return`
          <div><b>Collateral ratio:</b>:</div>
          <div>${j.dataPointIndex===h.value.length-1?"Over 250%":g(z)}</div>

          <div><b>Troves with lower or equal ratio:</b>:</div>
          <div>${v.value.positions[j.dataPointIndex].trove_count}</div>

          <div><b>Collateral value at lower or equal ratio:</b>:</div>
          <div>$${m(j.series[0][j.dataPointIndex])}</div>
          `}}})}),_=T(()=>[{name:e("rank"),data:Object.values(v.value.positions).map(u=>u.collateral_usd)}]),h=T(()=>v.value.positions.map(u=>u.ratio)),m=u=>`${ee(Math.abs(u),1,"dollar")}${Z(u,"dollar")}`,g=(u,$=0)=>`${ee(u,$,"percentage")}${Z(u,"percentage")}`;return O(()=>o.vault,p,{immediate:!0}),O(v,u=>{u&&typeof u.rank=="number"&&(l.value=e("title",{rank:u.rank,total_positions:u.total_positions}))},{immediate:!0}),(u,$)=>(c(),C(s(te),{class:"chart-container",title:l.value,loading:s(r)},{actions:y(()=>[f(s(xe),null,{default:y(()=>[Qr]),_:1})]),default:y(()=>[f(s(Bt),{class:"chart",options:i.value,series:_.value},null,8,["options","series"])]),_:1},8,["title","loading"]))}});function Lt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t,interpolate:l,named:n}=a;return t(["Trove Relative Position (Risk rank: ",l(n("rank"))," / ",l(n("total_positions")),")"])}}})}typeof Lt=="function"&&Lt(ya);const Kr=S(ya,[["__scopeId","data-v-b0efbcdc"]]),$a=k({__name:"ChartTroveHealth",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=R(),a=new F(N()),t=Q(),{loading:l,data:n,loadData:r}=H(async()=>o.vault&&o.trove?await a.getTroveSnapshots("ethereum",o.vault.address,o.trove.owner).then(m=>m.snapshots):Promise.resolve([]),[]),v=T(()=>{const h=J(t.theme),m=oe(t.theme);return le({colors:h,colorsArray:m},{chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"collateralUsd",tickAmount:4,opposite:!0,labels:{formatter:g=>i(g)},min:0,max:Math.max(...n.value.map(g=>g.collateral_usd))},{seriesName:"ratio",tickAmount:4,labels:{formatter:g=>_(g)},min:0,max:Math.max(...n.value.map(g=>g.cr??0))}],dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:g=>{const u=g.w.globals.initialSeries[0].data[g.dataPointIndex].y,$=g.w.globals.initialSeries[1].data[g.dataPointIndex]?g.w.globals.initialSeries[1].data[g.dataPointIndex].y:0;return[`<div><b>${e("ratio")}</b>:</div><div>${_($)}</div>`,`<div><b>${e("collateralUsd")}</b>:</div><div>${i(u)}</div>`].join("")}}})}),p=T(()=>[{name:e("collateralUsd"),type:"line",data:n.value.map(h=>({x:h.timestamp*1e3,y:h.collateral_usd}))},{name:e("ratio"),type:"line",data:n.value.map(h=>({x:h.timestamp*1e3,y:h.cr??0}))}]),i=h=>`$${ee(h,1,"dollar")}${Z(h,"dollar")}`,_=h=>`${pe(h*100,2)}%`;return O(()=>o.vault,r,{immediate:!0}),(h,m)=>(c(),C(s(re),{class:"health",title:s(e)("title"),options:v.value,series:p.value,loading:s(l)},null,8,["title","options","series","loading"]))}});function Mt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Health"])},collateralUsd:a=>{const{normalize:t}=a;return t(["Collateral ($)"])},ratio:a=>{const{normalize:t}=a;return t(["Ratio"])}}})}typeof Mt=="function"&&Mt($a);const Yr=S($a,[["__scopeId","data-v-639bce2b"]]),Xr={class:"number"},Zr={key:1},ei={class:"number"},ti={class:"number"},ai={class:"number"},oi={class:"number"},si=["href"],li={class:"number"},Ca=k({__name:"TableTroveOps",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=R(),a=new F(N()),t=x(Date.now()),l=T(()=>G.orderBy(r.value,_=>_.timestamp,"desc")),{loading:n,data:r,loadData:v}=H(()=>o.vault&&o.trove?a.getTroveSnapshots("ethereum",o.vault.address,o.trove.owner).then(_=>_.snapshots):Promise.resolve([]),[]);U(()=>{v(),setInterval(()=>{t.value=Date.now()})});const p=_=>Ye(t,_),i=_=>_.replace(/^_*(.)|_+(.)/g,(h,m,g)=>m?m.toUpperCase():" "+g.toUpperCase());return O(()=>o.vault,v,{immediate:!0}),(_,h)=>(c(),C(s(de),{class:"datatable-trove-ops","columns-header":"1fr 1fr auto","columns-data":"trove-ops-columns-data",loading:s(n),rows:l.value,columns:["Operation","Collateral","Debt","Ratio","Stake","Tx","Time"]},{"header-title":y(()=>[d("div",null,D(s(e)("title")),1)]),row:y(m=>[d("div",null,D(i(m.item.operation)),1),d("div",Xr,[m.item.collateral?(c(),C(s(M),{key:0,value:m.item.collateral,precision:3,"show-symbol":!1,type:"dollar"},null,8,["value"])):I("",!0),m.item.debt?(c(),b("span",Zr," ($"+D(Math.round(m.item.debt))+") ",1)):I("",!0)]),d("div",ei,"$"+D(Math.round(m.item.debt)),1),d("div",ti,[m.item.cr?(c(),C(s(M),{key:0,value:m.item.cr*100,precision:2,type:"percentage"},null,8,["value"])):I("",!0)]),d("div",ai,[m.item.stake?(c(),C(s(M),{key:0,value:m.item.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])):I("",!0)]),d("div",oi,[d("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${m.item.hash}`,target:"_blank",onClick:h[0]||(h[0]=_e(()=>{},["stop"]))},D(s(ne)(m.item.hash)),9,si)]),d("div",li,D(p(m.item.timestamp)),1)]),_:1},8,["loading","rows"]))}});function Vt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Operations"])}}})}typeof Vt=="function"&&Vt(Ca);const ni=S(Ca,[["__scopeId","data-v-9bc04fc6"]]),ri={class:"trove"},ii=k({__name:"Trove",setup(o){const e=new F(N()),a=new Ke("ethereum"),t=Ve(),l=Re(),n=Ae(),r=T(()=>n.params.vaultAddr),v=T(()=>l.vault),p=T(()=>l.trove);return U(async()=>{var _,h;const i=await e.getTroveDetail("ethereum",n.params.vaultAddr,n.params.troveAddr);i&&(l.trove=i),t.show=!0,t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((_=v.value)==null?void 0:_.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((h=p.value)==null?void 0:h.owner)??"?"}`}]}),O(a.currentData,i=>{const _=i.find(h=>h.address===r.value);_&&(l.vault=_)}),O(v,i=>{var _;t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(i==null?void 0:i.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((_=p.value)==null?void 0:_.owner)??"?"}`}]}),O(p,i=>{var _;t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((_=v.value)==null?void 0:_.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(i==null?void 0:i.owner)??"?"}`}]}),(i,_)=>(c(),b("div",ri,[f(Kr,{class:"graph-rank",vault:v.value,trove:p.value},null,8,["vault","trove"]),f(Yr,{class:"graph-health",vault:v.value,trove:p.value},null,8,["vault","trove"]),f(ni,{class:"table-ops",vault:v.value,trove:p.value},null,8,["vault","trove"])]))}});const ci=S(ii,[["__scopeId","data-v-96bc8cff"]]),ui={titleRoute:"/",routes:[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:xn},{path:"/mkusd",name:"mkusd",component:Gn},{path:"/vaults",name:"vaults",component:_n},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:Gr},{path:"/vault/:vaultAddr/trove/:troveAddr",name:"prismatrove",component:ci}],menuItems:[{to:"/vaults",label:"Vaults"},{to:"/mkusd",label:"mkUSD"},{to:"/pool",label:"Stability pool"}]},Xe=Ra(kl),di=Ba({legacy:!1,locale:"en",fallbackLocale:"en"});Xe.use(di);const _i=Wa();Xe.use(_i);const vi=[ui],pi=Qe();pi.pages=vi;const mi=Vl();Xe.use(mi).use(Na).use(Fa).mount("#app");
