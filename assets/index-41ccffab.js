import{L as ja,d as S,r as V,c as w,w as q,t as k,l as N,o as _,a as T,b as y,e as p,f as C,g as ce,h as vt,n as B,i as F,j as O,F as X,T as tn,u as n,k as Ze,m as an,p as on,q as nn,W as sn,s as ln,v as rn,x as J,y as c,z as cn,A as W,B as he,C as Ga,D as ve,E as pe,G as Be,H as Q,I as ae,J as Ya,K as un,M as dn,N as _n,O as Ae,P as Ue,Q as Lt,R as mn,S as vn,U as pn,V as hn,X as Se,Y as ge,Z as fn,_ as It,$ as gn,a0 as bn,a1 as pt,a2 as Ge,a3 as yn,a4 as $n,a5 as wn,a6 as Cn,a7 as kn}from"./vendor-d50ff160.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();function xe(o,e=0,a=".",t=","){const s=isFinite(+o)?+o:0,l=isFinite(+e)?Math.abs(e):0,r=typeof t>"u"?",":t,h=typeof a>"u"?".":a,v=function(d,i){const g=Math.pow(10,i);return Math.round(d*g)/g},u=(l?v(s,l):Math.round(s)).toString().split(".");return u[0].length>3&&(u[0]=u[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(u[1]||"").length<l&&(u[1]=u[1]||"",u[1]+=new Array(l-u[1].length+1).join("0")),u.join(h)}function Z(o,e){const a=Math.abs(o);return e==="percentage"?"%":e==="dollar"?a>=1*10**12?"t":a>=1*10**9?"b":a>=1*10**6?"m":a>=1*10**3?"k":"":""}function te(o,e,a){const t=Math.abs(o);return e===1/0?o.toLocaleString():a==="percentage"?xe(o,e):a==="dollar"?t>=1*10**12?xe(o/10**12,e):t>=1*10**9?xe(o/10**9,e):t>=1*10**6?xe(o/10**6,e):t>=1*10**3?xe(o/10**3,e):xe(o,e):o.toString()}async function Ee(o,e=0,a=1e3){const t=await o(e,a),s=await(t.length>=a?Ee(o,e+1,a):Promise.resolve([]));return t.concat(s)}function _t(o,e){return(Array.isArray(o)?o:[o]).some(t=>e.path.startsWith(t))}const Sn="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",Tn="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",Pn="0x657ce046d98d163ef4f846210f25919fa7b31944",zn="https://api.llama.airforce/";async function Ln(o,e,a){return await fetch(o,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:a}).then(t=>{if(t.ok)return t;throw new Error(`Fetch error ${t.status} for URL: ${o}`)})}async function In(o,e,a){return await(await Ln(o,e,a)).json()}class Te{constructor(e){this.host=e}async fetch(e,a,t){return In(e,a,t)}}async function xn(o){try{return await o()}catch(e){e instanceof Error&&ja({text:e.message,type:"error"});return}}const An="|/-\\",R=S({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(o){let e=0,a=0;const t=V("|"),s=w(()=>o.value?te(o.value,typeof o.precision=="function"?o.precision(o.value):o.precision,o.type??""):o.value===0&&o.showZero?"0":o.value===null||o.value===void 0?t.value:"?"),l=w(()=>o.precision===1/0?"":!o.value||!o.type||!N.isFinite(o.value)?o.showUnit&&o.type?Z(0,o.type):"":Z(o.value,o.type));return q(()=>o.value,r=>{if(clearInterval(a),e=0,r)return;const h=()=>{e=(e+1)%4,t.value=An[e]};a=window.setInterval(h,250)},{immediate:!0}),(r,h)=>k(r.showSymbol&&r.type==="dollar"?"$":"")+k(s.value)+k(r.showUnit?l.value:"")}}),Dn={key:0,class:"fas fa-chevron-right"},On=S({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(o,{emit:e}){const a=e,t=l=>{var r;return o.active?o.active.id===l.id:((r=o.crumbs.at(-1))==null?void 0:r.id)===l.id},s=l=>{var r;return((r=o.crumbs.at(-1))==null?void 0:r.id)===l.id};return(l,r)=>(_(),T(n(se),null,{default:y(()=>[p(tn,{name:"fade",tag:"ul"},{default:y(()=>[(_(!0),C(X,null,ce(l.crumbs,h=>(_(),C("li",{key:h.id},[(_(),T(vt(t(h)?"span":"a"),{class:B({active:t(h)}),onClick:v=>a("crumb",h)},{default:y(()=>[F(k(h.label),1)]),_:2},1032,["class","onClick"])),!s(h)||l.crumbs.length===1?(_(),C("i",Dn)):O("",!0)]))),128))]),_:1})]),_:1}))}});const P=(o,e)=>{const a=o.__vccOpts||o;for(const[t,s]of e)a[t]=s;return a},Vn=P(On,[["__scopeId","data-v-997741c8"]]);function Rn(){return!1}const ht=Ze({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(o){this.address=o==null?void 0:o.toLocaleLowerCase()}}}),Mn=an(),qn=on({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"}),Wn=ln({darkMode:!0}),Bn=rn();let fe=null;function En(){const o=nn({wallets:[Mn,qn,Wn,Bn],chains:[{id:"0x1",token:"ETH",label:"Ethereum Mainnet",rpcUrl:"https://mainnet.infura.io/v3/878382a352b14db1b7ad52a89a886207"}],appMetadata:{name:"Llama Airforce",icon:"/wallet-icon.png",description:"Airdropping knowledge bombs about the Curve ecosystem"},theme:"dark"});return o.state.actions.updateAccountCenter({enabled:!1}),o}let mt=null;async function Ja(o=!1){fe||(fe=En());let[e]=fe.state.get().wallets;if(!e){const a=window.localStorage.getItem("connectedWallet");a?[e]=await fe.connectWallet({autoSelect:{label:a,disableModals:!0}}):o&&([e]=await(fe==null?void 0:fe.connectWallet())??[null],e&&window.localStorage.setItem("connectedWallet",e.label))}mt=e||null}function Qe(){return mt?new sn(mt.provider):void 0}async function Un(){if(!fe)return;const[o]=fe.state.get().wallets;await fe.disconnectWallet({label:o.label}),window.localStorage.removeItem("connectedWallet")}async function Ka(o){if(!o)return!1;try{const a=await o.getSigner().getAddress();return!0}catch{return!1}}async function Qa(o){if(!o)return!1;try{const{name:e,chainId:a}=await o.getNetwork();return e==="homestead"&&a===1}catch{return!1}}async function Fn(o){return await o.getSigner().getAddress()}function H(o,e=6){if(!o)return"0x000...000";const a=e/2+2,t=o.length-e/2;return`${o.substring(0,a)}...${o.substring(t)}`}const Nn=S({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const a=e,t=async s=>{if(s.stopImmediatePropagation(),o.web3&&Rn()){const l=Qe();if(!l)return;await Qa(l)||(await l.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())}a("click")};return(s,l)=>(_(),C("button",{class:B({primary:s.primary}),onClick:t},[J(s.$slots,"default",{},()=>[s.icon?(_(),C("i",{key:0,class:B(["icon",[s.icon,{noValue:!!s.value}]])},null,2)):O("",!0),F(" "+k(s.value),1)],!0)],2))}});const me=P(Nn,[["__scopeId","data-v-b051a687"]]),Hn=S({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(o,{emit:e}){const a=e,t=()=>{a("update:modelValue",!o.modelValue)};return(s,l)=>(_(),C("button",{class:B({toggled:s.modelValue}),onClick:t},[J(s.$slots,"default",{},()=>[s.icon?(_(),C("i",{key:0,class:B(["icon",s.icon])},null,2)):O("",!0),F(" "+k(s.value),1)],!0)],2))}});const nt=P(Hn,[["__scopeId","data-v-a2cabc6a"]]),jn=["inert"],Gn={class:"text"},Yn=S({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(o){return(e,a)=>(_(),C("div",{class:"card",inert:e.loading},[p(n(to),{class:B(["loader",{loading:e.loading}])},null,8,["class"]),c("div",{class:B(["card-container",{loading:e.loading}])},[e.title?(_(),C("div",{key:0,class:B(["card-header",{collapsible:e.collapsible}])},[c("div",Gn,[e.icon?(_(),C("i",{key:0,class:B(["icon",e.icon])},null,2)):O("",!0),F(" "+k(e.title),1)]),J(e.$slots,"actions",{},void 0,!0)],2)):(_(),C("div",{key:1,class:B(["card-no-header",{compact:e.compact}])},null,2)),c("div",{class:B(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[J(e.$slots,"default",{},void 0,!0)],2)],2)],8,jn))}});const se=P(Yn,[["__scopeId","data-v-c2704c0a"]]),Jn=S({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(o){return(e,a)=>(_(),T(n(se),{class:"card-graph",title:e.title,loading:e.loading},{default:y(()=>[p(n(Xa),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),J(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const ie=P(Jn,[["__scopeId","data-v-4e0fd9b7"]]),Kn={class:"chip"},Qn={class:"label"},Xn=S({__name:"Chip",props:{label:{default:""}},setup(o){return(e,a)=>(_(),C("div",Kn,[c("div",Qn,k(e.label),1)]))}});const Zn=P(Xn,[["__scopeId","data-v-1eb2caf8"]]);const es={class:"collapsible-inside"},ts=S({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(o){return(e,a)=>(_(),C("div",{class:B(["collapsible-outside",{expanded:e.expanded}])},[c("div",es,[J(e.$slots,"default",{},void 0,!0)])],2))}});const ft=P(ts,[["__scopeId","data-v-25b74378"]]),as=["inert"],os={key:0,class:"header"},ns={key:0,class:"header-icon"},ss={class:"list"},ls=["onClick"],rs={key:0,class:"sorting-arrows"},is={key:0,class:"sorting-arrow fa fa-caret-up"},cs={key:1,class:"sorting-arrow fa fa-caret-down"},us={key:2,class:"sorting-arrow"},ds={class:"rows"},_s={key:0,class:"no-data"},gt=S({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(o,{emit:e}){const a=e,t=V(""),s=V(ee.Ascending),l=w(()=>`grid-template-columns: ${o.columnsHeader}`),r=w(()=>{if(o.rowsMin===null)return[];const f=Math.max(0,o.rowsMin-o.rows.length);return new Array(f)});cn(()=>{o.sortingDefaultColumn&&(t.value=o.sortingDefaultColumn),o.sortingDefaultDir&&(s.value=o.sortingDefaultDir===ee.Ascending?ee.Ascending:ee.Descending)});const h=f=>{a("selected",f)},{t:v}=W(),u=f=>{const A=f+1;return!!(o.rows[f+1]&&o.rows.findIndex(D=>D===o.selectedRow)===A)},d=f=>o.expanded.includes(f),i=f=>{const A=o.sortingColumns[f];return o.sortingColumnsEnabled.includes(A)},g=f=>t.value===o.sortingColumns[f]&&s.value===ee.Ascending,m=f=>t.value===o.sortingColumns[f]&&s.value===ee.Descending,b=f=>{if(!o.sorting||!o.sortingColumns||!i(f))return;const A=o.sortingColumns[f];A===t.value?s.value=s.value===ee.Ascending?ee.Descending:ee.Ascending:s.value=ee.Ascending,t.value=A,a("sortColumn",t.value,s.value)};return(f,A)=>(_(),C("div",{class:B(["datatable",{loading:f.loading}]),inert:f.loading},[f.header?(_(),C("div",os,[f.icon?(_(),C("div",ns,[c("i",{class:B(f.icon)},null,2)])):O("",!0),c("div",{class:"header-content",style:he(l.value)},[J(f.$slots,"header-content",{},void 0,!0)],4)])):O("",!0),c("div",ss,[c("div",{class:B(["row-data",[f.columnsData,{"selected-below":u(-1)}]])},[J(f.$slots,"column-headers",{},()=>[(_(!0),C(X,null,ce(f.columns,(I,M)=>(_(),C("div",{key:I,class:B(["column-header",{"sortable-header":f.sorting&&i(M),"current-sort":t.value==f.sortingColumns[M]}]),onClick:D=>b(M)},[F(k(I)+" ",1),f.sorting&&i(M)?(_(),C("div",rs,[g(M)?(_(),C("i",is)):m(M)?(_(),C("i",cs)):(_(),C("span",us," — "))])):O("",!0)],10,ls))),128))],!0)],2),c("div",ds,[p(n(to),{class:B(["loader",{loading:f.loading}])},null,8,["class"]),(_(!0),C(X,null,ce(f.rows,(I,M)=>(_(),T(n(ct),{key:I,data:I,class:B({"selected-below":u(M)}),columns:f.columnsData,selected:f.selectedRow===I,expanded:d(I),onClick:h},{row:y(()=>[J(f.$slots,"row",{item:I},void 0,!0)]),"row-details":y(()=>[J(f.$slots,"row-details",{item:I},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(_(!0),C(X,null,ce(r.value,I=>(_(),T(n(ct),{key:I}))),128)),!f.rowsMin&&(!f.rows||f.rows.length===0)&&!f.loading?(_(),C("div",_s,[J(f.$slots,"no-data",{},()=>[F(k(n(v)("no-data")),1)],!0)])):O("",!0),f.$slots["row-aggregation"]&&f.rows.length>0?(_(),T(n(ct),{key:1,class:"aggregation",columns:f.columnsData},{row:y(()=>[J(f.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):O("",!0)])])],10,as))}});function xt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":a=>{const{normalize:t}=a;return t(["No data :("])}}})}function At(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":a=>{const{normalize:t}=a;return t(["没有数据 :("])}}})}typeof xt=="function"&&xt(gt);typeof At=="function"&&At(gt);const ne=P(gt,[["__scopeId","data-v-841cc030"]]),ms=o=>(ve("data-v-45ff862c"),o=o(),pe(),o),vs=ms(()=>c("i",{class:"fas fa-chevron-up"},null,-1)),ps=[vs],hs={class:"row-details"},fs=S({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const a=e,t=Ga(),s=w(()=>{var h;const r=t["row-details"];if(r){const v=(h=r()[0])==null?void 0:h.children;if(v)return v.length>0}return!1}),l=()=>{a("click",o.data)};return(r,h)=>(_(),C("div",{class:B(["row",{expanded:r.expanded}])},[c("div",{class:B(["row-data item",[r.columns,{active:r.selected,expandable:s.value}]]),onClick:l},[J(r.$slots,"row",{},void 0,!0),s.value?(_(),C("div",{key:0,class:B(["expander",{expanded:r.expanded}])},ps,2)):O("",!0)],2),p(n(ft),{expanded:r.expanded},{default:y(()=>[c("div",hs,[J(r.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const ct=P(fs,[["__scopeId","data-v-45ff862c"]]),gs=S({__name:"GraphApex",props:{options:{},series:{}},setup(o){return(e,a)=>{const t=Be("apexchart");return _(),T(t,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const Xa=P(gs,[["__scopeId","data-v-3e2879ed"]]);const bs=o=>(ve("data-v-a7ae5e73"),o=o(),pe(),o),ys={class:"input-text"},$s={key:0,class:"icon"},ws=bs(()=>c("i",{class:"fas fa-search"},null,-1)),Cs=[ws],ks=["type","value","placeholder","onInput"],Ss=["onClick"],Ts=S({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(o,{emit:e}){const a=e,t=w(()=>{const l=o.options.filter(h=>o.filter(o.modelValue,h));return o.sort?[...l].sort(o.sort):l}),s=l=>{const r=l.target.value;a("update:modelValue",r),a("input",r)};return(l,r)=>(_(),C("div",ys,[l.search?(_(),C("span",$s,Cs)):O("",!0),c("input",{type:l.search?"search":"text",value:l.modelValue,placeholder:l.placeholder,onInput:Q(s,["stop"]),onSelect:r[0]||(r[0]=Q(()=>{},["stop"]))},null,40,ks),l.options&&l.autoComplete?(_(),C("div",{key:1,class:B(["items",{selectHide:!l.autoComplete}])},[(_(!0),C(X,null,ce(t.value,(h,v)=>(_(),C("div",{key:v,onClick:u=>a("select",h)},[J(l.$slots,"item",{item:h,idx:v},()=>[F(k(h),1)],!0)],8,Ss))),128))],2)):O("",!0)]))}});const ue=P(Ts,[["__scopeId","data-v-a7ae5e73"]]),Ps={key:0,class:"value"},zs={key:1,class:"value"},Ls=["innerHTML"],Is={key:0,class:"value"},xs={key:1,class:"value"},As=["innerHTML"],Ds={class:"labels"},Os={class:"label"},Vs={class:"label-second"},Rs=S({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(o){return(e,a)=>(_(),C("div",{class:B(["kpi",{disabled:!e.hasValue}])},[c("div",{class:B(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[J(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(_(),T(n(Xe),{key:0},{item:y(()=>[e.hasValue?(_(),C("span",Ps,k(e.value),1)):(_(),C("span",zs," ? "))]),default:y(()=>[J(e.$slots,"tooltip",{},()=>[c("span",{innerHTML:e.tooltip},null,8,Ls)],!0)]),_:3})):(_(),C(X,{key:1},[e.hasValue?(_(),C("span",Is,k(e.value),1)):(_(),C("span",xs," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(_(),T(n(Xe),{key:0},{default:y(()=>[c("span",{innerHTML:e.tooltip},null,8,As)]),_:1})):O("",!0)],2),c("div",Ds,[J(e.$slots,"label",{},()=>[c("div",Os,k(e.label),1)],!0),J(e.$slots,"label-second",{},()=>[c("div",Vs,k(e.labelSecond),1)],!0)])],2))}});const oe=P(Rs,[["__scopeId","data-v-0123c061"]]),Ms={key:0,class:"modal"},qs={class:"modal-popup"},Ws=S({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(o,{emit:e}){const a=e,t=s=>{s.code==="Escape"&&a("close")};return ae(()=>{document.addEventListener("keydown",t)}),Ya(()=>{document.removeEventListener("keydown",t)}),q(()=>o.show,s=>{document.body.style.overflow=s?"hidden":""}),(s,l)=>s.show?(_(),C("div",Ms,[c("div",{class:"modal-mask",onClick:l[0]||(l[0]=r=>a("close"))}),c("div",qs,[J(s.$slots,"default",{},void 0,!0)])])):O("",!0)}});const De=P(Ws,[["__scopeId","data-v-8f349360"]]),Bs={class:"buttons"},Es={key:1,class:"not-ready"},Za=S({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(o,{emit:e}){const a=e,{t}=W();return(s,l)=>(_(),T(n(De),{show:s.show},{default:y(()=>[p(n(se),{title:s.title},{default:y(()=>[J(s.$slots,"default",{},void 0,!0),c("div",Bs,[p(n(me),{class:"no",value:n(t)("no"),onClick:l[0]||(l[0]=r=>a("no"))},null,8,["value"]),s.ready?(_(),T(n(me),{key:0,class:"yes",value:n(t)("yes"),onClick:l[1]||(l[1]=r=>a("yes"))},null,8,["value"])):(_(),C("div",Es,k(s.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function Dt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:a=>{const{normalize:t}=a;return t(["Yes"])},no:a=>{const{normalize:t}=a;return t(["No"])}}})}function Ot(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:a=>{const{normalize:t}=a;return t(["是的"])},no:a=>{const{normalize:t}=a;return t(["不是"])}}})}typeof Dt=="function"&&Dt(Za);typeof Ot=="function"&&Ot(Za);const bt=o=>(ve("data-v-6ab859e6"),o=o(),pe(),o),Us=bt(()=>c("button",null,"1",-1)),Fs=[Us],Ns=bt(()=>c("button",null,[c("i",{class:"fas fa-chevron-left"})],-1)),Hs=[Ns],js=["onClick"],Gs=bt(()=>c("button",null,[c("i",{class:"fas fa-chevron-right"})],-1)),Ys=[Gs],Js=S({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(o,{emit:e}){const a=e,t=w(()=>Math.ceil(o.itemsCount/o.itemsPerPage)),s=w(()=>{const i=[...Array(12).keys()].map(I=>I-6+o.page).filter(I=>I>=1&&I<=t.value),g=i.findIndex(I=>I===o.page),m=[],b=[],f=o.page!==1&&o.page!==t.value?[o.page]:[];let A=1;for(;;){const I=i[g-A];if(I&&I!==1&&m.unshift(I),m.length+b.length+f.length>=5||A>i.length)break;const M=i[g+A];if(M&&M!==t.value&&b.push(M),A++,m.length+b.length+f.length>=5||A>i.length)break}return[...m,...f,...b]}),l=(u,d,i)=>Math.min(Math.max(u,d),i),r=()=>a("page",l(o.page-1,1,t.value)),h=()=>a("page",l(o.page+1,1,t.value)),v=u=>a("page",l(u,1,t.value));return(u,d)=>(_(),C("ul",null,[c("li",{class:B({active:u.page===1}),onClick:d[0]||(d[0]=i=>v(1))},Fs,2),t.value>2?(_(),C("li",{key:0,onClick:r},Hs)):O("",!0),(_(!0),C(X,null,ce(s.value,i=>(_(),C("li",{key:i,class:B({active:i===u.page}),onClick:g=>v(i)},[c("button",null,k(i),1)],10,js))),128)),t.value>2?(_(),C("li",{key:1,onClick:h},Ys)):O("",!0),t.value>1?(_(),C("li",{key:2,class:B({active:u.page===t.value}),onClick:d[1]||(d[1]=i=>v(t.value))},[c("button",null,k(t.value),1)],2)):O("",!0)]))}});const be=P(Js,[["__scopeId","data-v-6ab859e6"]]),Ks=o=>(ve("data-v-8e55132f"),o=o(),pe(),o),Qs={class:"select"},Xs={class:"item"},Zs={key:0,class:"label"},el=["onClick"],tl=Ks(()=>c("div",{class:"chevrons"},[c("i",{class:"fas fa-chevron-up"}),c("i",{class:"fas fa-chevron-down"})],-1)),al=S({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(o,{emit:e}){const a=e;return(t,s)=>(_(),C("div",{class:"select-container",tabindex:"0",onClick:s[0]||(s[0]=Q(l=>a("open"),["stop"])),onBlur:s[1]||(s[1]=l=>a("close"))},[c("div",Qs,[c("div",{class:B(["selected",{open:t.open}])},[J(t.$slots,"item",{item:t.selected},()=>[c("div",Xs,k(t.selected),1)],!0),t.label?(_(),C("div",Zs,k(t.label),1)):O("",!0)],2),c("div",{class:B(["items",{selectHide:!t.open}])},[(_(!0),C(X,null,ce(t.options,(l,r)=>(_(),C("div",{key:r,onClick:h=>a("input",l)},[J(t.$slots,"item",{item:l},()=>[F(k(l),1)],!0)],8,el))),128))],2)]),tl],32))}});const yt=P(al,[["__scopeId","data-v-8e55132f"]]),ol={class:"item"},nl={class:"label"},Vt="locale",sl=S({__name:"SelectLanguage",props:{locales:{default:()=>ll},direction:{default:"up"}},setup(o){const{t:e}=W(),{locale:a}=W({useScope:"global"}),t=V("en"),s=V(!1);ae(()=>{const h=localStorage.getItem(Vt);h&&o.locales.some(v=>v===h)&&r(h)});const l=()=>{s.value=!s.value},r=h=>{t.value=h,a.value=t.value,localStorage.setItem(Vt,t.value)};return(h,v)=>(_(),T(n(yt),{class:B(["select",{"direction-up":h.direction==="up"}]),options:h.locales.map(u=>u),selected:t.value,open:s.value,onOpen:l,onClose:v[0]||(v[0]=u=>s.value=!1),onInput:r},{item:y(u=>[c("div",ol,[c("div",nl,k(n(e)(u.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function Rt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:a=>{const{normalize:t}=a;return t(["English"])},zh:a=>{const{normalize:t}=a;return t(["中文"])},fr:a=>{const{normalize:t}=a;return t(["Français"])}}})}typeof Rt=="function"&&Rt(sl);const ll=["en","zh","fr"];var ee=(o=>(o.Ascending="Ascending",o.Descending="Descending",o))(ee||{});const rl={},eo=o=>(ve("data-v-ad2adcec"),o=o(),pe(),o),il={class:"lds-ripple"},cl=eo(()=>c("div",null,null,-1)),ul=eo(()=>c("div",null,null,-1)),dl=[cl,ul];function _l(o,e){return _(),C("div",il,dl)}const to=P(rl,[["render",_l],["__scopeId","data-v-ad2adcec"]]),_e=S({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(o){return(e,a)=>J(e.$slots,"default")}}),ml={class:"tab-view"},vl={class:"tab-headers"},pl=["onClick"],hl={class:"tabs"},fl=S({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(o,{emit:e}){const a=e,t=V(null),s=Ga(),l=w(()=>s!=null&&s.default?s.default():[]);q(()=>o.active,h=>{t.value=h,a("tab",{tab:l.value[h],index:t.value})},{immediate:!0});const r=(h,v)=>{h.props.disabled||(t.value=v,a("tab",{tab:l.value[v],index:t.value}))};return(h,v)=>(_(),C("div",ml,[c("ul",vl,[(_(!0),C(X,null,ce(l.value,(u,d)=>(_(),C("li",{key:d,class:B(["tab-header",{active:t.value===d,disabled:u.props.disabled}]),onClick:i=>r(u,d)},k(u.props.header),11,pl))),128))]),c("div",hl,[(_(!0),C(X,null,ce(l.value,(u,d)=>un((_(),C("div",{key:d,class:"tab"},[(_(),T(vt(u)))])),[[dn,t.value===d]])),128))])]))}});const st=P(fl,[["__scopeId","data-v-4a99a489"]]),gl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",bl={key:1,src:gl},yl=S({__name:"Tooltip",props:{icon:{default:""}},setup(o){const e=V(!1);return(a,t)=>(_(),T(n(_n),{class:"tooltip",show:e.value},{content:y(()=>[J(a.$slots,"default",{},void 0,!0)]),default:y(()=>[c("div",{onMouseover:t[0]||(t[0]=s=>e.value=!0),onMouseleave:t[1]||(t[1]=s=>e.value=!1)},[J(a.$slots,"item",{},()=>[a.icon?(_(),C("i",{key:0,class:B(a.icon)},null,2)):(_(),C("img",bl))],!0)],32)]),_:3},8,["show"]))}});const Xe=P(yl,[["__scopeId","data-v-2158cb4b"]]);function U(o,e){const a=V(!1),t=V(e);let s=0;const l=()=>(s++,a.value=!0,xn(async()=>{t.value=await o(),s--,a.value=s!==0}));return ae(()=>void l()),{loading:a,data:t,load:l}}function $l(o,e){const t=Math.round(o.value/1e3)-e;return t<60?`${Math.round(t)} seconds ago`:t<60*60?`${Math.round(t/60)} minutes ago`:t<60*60*24?`${Math.round(t/(60*60))} hours ago`:`${Math.round(t/(60*60*24))} days ago`}function ye(){const o=V(Date.now());return ae(()=>{setInterval(()=>{o.value=Date.now()})}),{relativeTime:a=>$l(o,a)}}function Pe(o,e){const a=V(o),t=V(e??ee.Descending);return{sortColumn:a,sortOrder:t,onSort:(l,r)=>{a.value=l,t.value=r}}}function $e(o,e){const a=V(1),t=w(()=>N.chain(o.value).drop((a.value-1)*e).take(e).value()),s=l=>{a.value=l};return q(t,l=>{l.length===0&&(a.value=Math.max(1,Math.ceil(o.value.length/e)))}),{page:a,rowsPage:t,onPage:s}}function Fe(o,e){const a=V(e),t=o.subscribe({next:s=>{a.value=s},error:s=>{const l=s instanceof Error?s.message:JSON.stringify(s);ja({text:l,type:"error"})}});return Ya(()=>{t&&t.unsubscribe()}),a}const wl={class:"legend"},Cl=["onClick"],kl={class:"label"},Sl=S({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(o,{emit:e}){const a=e,t=s=>o.colors[s];return(s,l)=>(_(),C("div",wl,[(_(!0),C(X,null,ce(s.items,(r,h)=>(_(),C("div",{key:r,class:B(["item",{clickable:s.clickable,disabled:s.disabled.includes(r)}]),onClick:v=>{s.clickable&&a("click",r)}},[c("div",{class:"color",style:he({"background-color":t(h)})},null,4),c("div",kl,k(r),1)],10,Cl))),128))]))}});const Tl=P(Sl,[["__scopeId","data-v-b0a9ca48"]]);function ut(o){return(o==null?void 0:o.children)!==void 0}function Mt(o){return(o==null?void 0:o.to)!==void 0}const Pl={key:0},zl={class:"nav-link-container"},Ll={class:"nav-link-container"},Il={class:"left"},xl={class:"right"},Al=S({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(o,{emit:e}){const a=e,t=Ae(),s=V(!0),l=w(()=>Mt(o.item)?[o.item]:ut(o.item)?o.item.children:[]),r=()=>{ut(o.item)&&o.item.children.filter(u=>_t(u.to,t)).length>0&&(s.value=!0)};q(()=>o.item,()=>{r()},{immediate:!0}),q(()=>t.fullPath,()=>{r()},{immediate:!0});const h=()=>{s.value=!s.value};return(v,u)=>{const d=Be("router-link");return _(),C(X,null,[n(ut)(v.item)?(_(),C("li",Pl,[c("a",{class:"nav-link node",onClick:h},[c("div",zl,[F(k(v.item.label)+" ",1),c("i",{class:B(["expander fas fa-chevron-up",{expanded:s.value}])},null,2)])])])):O("",!0),p(n(ft),{class:"items",expanded:s.value},{default:y(()=>[c("ul",null,[(_(!0),C(X,null,ce(l.value,i=>(_(),C("li",{key:i.label},[n(Mt)(i)?(_(),T(d,{key:0,to:i.to,class:B(["nav-link leaf",{"router-link-active":n(_t)(i.to,n(t))}]),onClick:u[0]||(u[0]=g=>a("navigated"))},{default:y(()=>[c("div",Ll,[c("div",Il,k(i.label),1),c("div",xl,[i.tag==="beta"?(_(),T(n(Zn),{key:0,label:"BETA"})):O("",!0)])])]),_:2},1032,["to","class"])):O("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const Dl=P(Al,[["__scopeId","data-v-d8ba8816"]]),Ol=S({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(o,{emit:e}){const a=e,t=Ae(),s=w(()=>o.pages.find(r=>_t(r.titleRoute,t))),l=w(()=>{var r;return((r=s.value)==null?void 0:r.menuItems)??[]});return(r,h)=>(_(),C("nav",null,[(_(!0),C(X,null,ce(l.value,v=>(_(),C("ul",{key:v.label},[p(Dl,{item:v,onNavigated:h[0]||(h[0]=u=>a("navigated"))},null,8,["item"])]))),128))]))}});const Vl=P(Ol,[["__scopeId","data-v-59493144"]]),Rl="/assets/prisma-b38af1f3.png",Ml="/assets/hat-80c6c9b1.png";const ql={},ao=o=>(ve("data-v-f01d266e"),o=o(),pe(),o),Wl={class:"logo"},Bl=ao(()=>c("div",{class:"visual"},[c("img",{src:Rl}),c("img",{src:Ml})],-1)),El=ao(()=>c("span",null,"prisma.monitor",-1)),Ul=[Bl,El];function Fl(o,e){return _(),C("div",Wl,Ul)}const Nl=P(ql,[["render",Fl],["__scopeId","data-v-f01d266e"]]),Hl={class:"header"},jl={class:"buttons"},Gl=S({__name:"Header",emits:["toggle-expansion","navigated"],setup(o,{emit:e}){const a=e;return(t,s)=>{const l=Be("router-link");return _(),C("div",Hl,[p(l,{class:"logo",to:"/",onClick:s[0]||(s[0]=r=>a("navigated"))},{default:y(()=>[p(Nl,{class:"logo"})]),_:1}),c("div",jl,[p(n(me),{icon:"fas fa-bars",onClick:s[1]||(s[1]=r=>a("toggle-expansion"))})])])}}});const Yl=P(Gl,[["__scopeId","data-v-a5771fce"]]),Jl=o=>(ve("data-v-2a3f89a0"),o=o(),pe(),o),Kl={class:"buttons"},Ql=Jl(()=>c("i",{class:"fas fa-trash"},null,-1)),Xl=["innerHTML"],$t=S({__name:"WalletConnectButton",emits:["connected"],setup(o,{emit:e}){const{t:a}=W(),t=e,s=ht(),l=async()=>{await Ja(!0);const h=Qe(),v=await Ka(h);s.connected=v,v&&t("connected")},r=()=>{window.localStorage.removeItem("connectedWallet")};return(h,v)=>(_(),C("div",Kl,[p(n(me),{class:"button",primary:!0,onClick:l},{default:y(()=>[F(k(n(a)("connect-your-wallet")),1)]),_:1}),p(n(Xe),{class:"tooltip"},{item:y(()=>[p(n(me),{class:"button clear",onClick:r},{default:y(()=>[Ql]),_:1})]),default:y(()=>[c("div",{class:"ping",innerHTML:n(a)("clear-cache")},null,8,Xl)]),_:1})]))}});function qt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"connect-your-wallet":a=>{const{normalize:t}=a;return t(["Connect Wallet"])},"clear-cache":a=>{const{normalize:t}=a;return t(["<b>Clear Cache</b><br /> Press this button to possibly solve the issue of a non-working connect button.<br /> This problem often occurs when you switch between wallet extensions in your browser.<br /> Try to connect again after pressing this button."])}}})}function Wt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"connect-your-wallet":a=>{const{normalize:t}=a;return t(["连接你的钱包"])},"clear-cache":a=>{const{normalize:t}=a;return t(["<b>清除缓存</b><br /> 按下这个按钮，可能会解决连接按钮不工作的问题.<br /> 这个问题经常发生在你在浏览器中切换钱包扩展时.<br /> 按下这个按钮后，尝试再次连接."])}}})}typeof qt=="function"&&qt($t);typeof Wt=="function"&&Wt($t);const Zl=P($t,[["__scopeId","data-v-2a3f89a0"]]),er={class:"wallet"},tr={key:0,class:"connected"},ar={key:0,class:"incorrectNetwork"},or={class:"info"},nr={key:1,class:"notConnected"},sr={key:0,class:"info"},oo=S({__name:"Wallet",props:{labelPleaseConnect:{}},setup(o){const{t:e}=W(),a=ht(),t=w(()=>a.connected),s=w(()=>a.correctNetwork),l=w(()=>H(a.address));ae(async()=>{await Ja();const v=Qe(),u=await Ka(v);a.connected=u;const d=await Qa(v);a.correctNetwork=d}),q(()=>a.connected,async v=>{const u=Qe(),d=u&&v?await Fn(u):void 0;a.setAddress(d)},{immediate:!0});const r=async()=>{const v=Qe();v&&(await v.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())},h=async()=>{await Un(),a.connected=!1};return(v,u)=>(_(),C("div",er,[t.value?(_(),C("div",tr,[s.value?O("",!0):(_(),C("div",ar,[p(n(me),{class:"changeNetwork",value:"Change Network",primary:!0,onClick:r}),c("span",or,k(n(e)("incorrect-network")),1)])),p(n(me),{class:"disconnect",icon:"fas fa-check",value:l.value,onClick:h},null,8,["value"])])):(_(),C("div",nr,[p(Zl),v.labelPleaseConnect?(_(),C("span",sr,k(v.labelPleaseConnect),1)):O("",!0)]))]))}});function Bt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"incorrect-network":a=>{const{normalize:t}=a;return t(["You are not on the correct network; should be Ethereum"])}}})}typeof Bt=="function"&&Bt(oo);const lr=P(oo,[["__scopeId","data-v-7d2ec4f7"]]),Ve={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"};Ve.blue,Ve.yellow,Ve.green,Ve.red,Ve.purple;const Re={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"};Re.blue,Re.yellow,Re.green,Re.red,Re.purple;const Me={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"};Me.blue,Me.yellow,Me.green,Me.red,Me.purple;function Et(o){return o==="chad"?Me:o==="light"?Re:Ve}const K=Ze({id:"settingsStore",state:()=>({theme:"light"})}),rr={class:"theme"},ir={class:"label"},cr={class:"colors"},ur=S({__name:"SelectTheme",setup(o){const e=[{id:"dark",colors:Et("dark")},{id:"light",colors:Et("light")}],a=K(),t=V(e[0]),s=V(!1);ae(()=>{const h=window.matchMedia("(prefers-color-scheme: dark)").matches,v=localStorage.getItem("theme");if(!v&&h)r(e.find(u=>u.id==="dark"));else{const u=e.find(d=>d.id===v)??e.find(d=>d.id==="light")??e[0];r(u)}});const l=()=>{s.value=!s.value},r=h=>{t.value=h,window.document.documentElement.setAttribute("data-theme",t.value.id),a.theme=t.value.id,localStorage.setItem("theme",t.value.id)};return(h,v)=>(_(),T(n(yt),{class:"select direction-up",options:e.map(u=>u),selected:t.value,open:s.value,onOpen:l,onClose:v[0]||(v[0]=u=>s.value=!1),onInput:r},{item:y(u=>[c("div",rr,[c("div",ir,k(u.item.id),1),c("div",cr,[c("div",{class:"color",style:he({"background-color":u.item.colors.backgroundColor})},null,4),c("div",{class:"color",style:he({"background-color":u.item.colors.level1})},null,4),c("div",{class:"color",style:he({"background-color":u.item.colors.level2})},null,4),c("div",{class:"color",style:he({"background-color":u.item.colors.blue})},null,4),c("div",{class:"color",style:he({"background-color":u.item.colors.yellow})},null,4),c("div",{class:"color",style:he({"background-color":u.item.colors.green})},null,4),c("div",{class:"color",style:he({"background-color":u.item.colors.red})},null,4),c("div",{class:"color",style:he({"background-color":u.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const dr=P(ur,[["__scopeId","data-v-12a81df3"]]),_r={class:"bottom"},mr={class:"buttons"},vr={href:"https://twitter.com/0xAlunara",target:"_blank"},pr={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},hr={class:"selectors"},fr=S({__name:"Bottom",emits:["navigated"],setup(o,{emit:e}){const a=e,t=async()=>{await navigator.clipboard.writeText(window.location.href)};return(s,l)=>{const r=Be("router-link");return _(),C("div",_r,[c("div",mr,[p(n(me),{class:"copy",icon:"fas fa-link",onClick:t}),c("a",vr,[p(n(me),{icon:"fab fa-twitter"})]),c("a",pr,[p(n(me),{icon:"fab fa-github"})]),p(r,{to:"/code"},{default:y(()=>[p(n(me),{icon:"fas fa-code",onClick:l[0]||(l[0]=h=>a("navigated"))})]),_:1})]),c("div",hr,[p(dr,{class:"themes"})]),p(lr)])}}});const gr=P(fr,[["__scopeId","data-v-0cf9bbd9"]]),wt=Ze({id:"pageStore",state:()=>({pages:[]})}),br=S({__name:"Navigation",emits:["navigated"],setup(o,{emit:e}){const a=e,t=wt(),s=V(!1),l=()=>{s.value=!1,a("navigated")};return(r,h)=>(_(),C("div",{class:B(["menu-desktop",{expanded:s.value}])},[p(Yl,{onToggleExpansion:h[0]||(h[0]=v=>s.value=!s.value),onNavigated:l}),p(n(ft),{class:"menu-content",expanded:s.value},{default:y(()=>[p(n(Vl),{pages:n(t).pages,onNavigated:l},null,8,["pages"]),p(gr,{onNavigated:l})]),_:1},8,["expanded"])],2))}});const yr=P(br,[["__scopeId","data-v-07323d4e"]]),lt=Ze({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),$r={class:"root"},wr={class:"main"},Cr={class:"content"},kr=S({__name:"App",setup(o){const e=lt(),a=Ae(),t=Ue();q(()=>a.fullPath,l=>{["/pool","/mkusd","/redemptions","/liquidation","/profile","/wrappers","/veprisma"].some(h=>l.startsWith(h))&&(e.show=!1)});const s=async l=>{l.pathName&&await t.push({name:l.pathName})};return(l,r)=>{const h=Be("notifications"),v=Be("router-view");return _(),C("div",$r,[p(h,{width:600,duration:-1}),p(yr,{class:"navigation"}),c("main",wr,[p(Lt,{name:"fade",mode:"out-in"},{default:y(()=>[n(e).show?(_(),T(n(Vn),{key:0,class:"breadcrumb",crumbs:n(e).crumbs,onCrumb:s},null,8,["crumbs"])):O("",!0)]),_:1}),c("div",Cr,[p(v,null,{default:y(({Component:u})=>[p(Lt,{name:"fade",mode:"out-in"},{default:y(()=>[(_(),T(vt(u)))]),_:2},1024)]),_:1})])])])}}});const Sr=P(kr,[["__scopeId","data-v-8c0b3636"]]),Tr="/assets/404-3a4df870.png",Pr=o=>(ve("data-v-c157f3ee"),o=o(),pe(),o),zr={class:"not-found"},Lr={class:"not-found-container"},Ir=Pr(()=>c("img",{src:Tr},null,-1)),no=S({__name:"NotFound",setup(o){const{t:e}=W();return(a,t)=>(_(),C("div",zr,[c("div",Lr,[p(n(se),null,{default:y(()=>[F(k(n(e)("404")),1)]),_:1}),Ir])]))}});function Ut(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:a=>{const{normalize:t}=a;return t(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof Ut=="function"&&Ut(no);const xr=P(no,[["__scopeId","data-v-c157f3ee"]]),Ar={class:"contracts"},Dr={class:"row"},Or={class:"title"},Vr=["href"],Rr={class:"title"},Mr=["href"],so=S({__name:"Code",setup(o){const{t:e}=W(),t=[{name:"Llama Airforce",contracts:[{contract:Sn,description:"multisig",gnosis:!0},{contract:Tn,description:"treasury",gnosis:!0},{contract:Pn,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]}],s=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}],l=r=>{switch(r.network){case"arbitrum":return r.gnosis?`https://app.safe.global/arb1:${r.contract}`:`https://arbiscan.io/address/${r.contract}`;case"ethereum":default:return r.gnosis?`https://app.safe.global/eth:${r.contract}`:`https://etherscan.io/address/${r.contract}`}};return(r,h)=>(_(),C("div",Ar,[c("div",Dr,[p(n(ne),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:s,columns:[n(e)("repository"),n(e)("description")]},{"header-content":y(()=>[c("div",Or,k(n(e)("repositories")),1)]),row:y(v=>[c("div",null,[c("a",{href:v.item.url,target:"_blank"},k(v.item.name),9,Vr)]),c("div",null,k(n(e)(v.item.description)),1)]),_:1},8,["columns"])]),(_(),C(X,null,ce(t,(v,u)=>p(n(ne),{key:u,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:v.contracts,columns:[n(e)("contract"),n(e)("description")]},{"header-content":y(()=>[c("div",Rr,k(n(e)(v.name)),1)]),row:y(d=>[c("div",null,[c("a",{href:l(d.item),target:"_blank"},k(d.item.contract),9,Mr)]),c("div",null,k(n(e)(d.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function Ft(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:a=>{const{normalize:t}=a;return t(["Repositories"])},repository:a=>{const{normalize:t}=a;return t(["Repository"])},description:a=>{const{normalize:t}=a;return t(["Description"])},contract:a=>{const{normalize:t}=a;return t(["Contract"])},other:a=>{const{normalize:t}=a;return t(["Other"])},"repo-laf":a=>{const{normalize:t}=a;return t(["This website's front-end, excluding the Union"])},multisig:a=>{const{normalize:t}=a;return t(["Multisig"])},treasury:a=>{const{normalize:t}=a;return t(["Treasury"])},"treasury-arbitrum":a=>{const{normalize:t}=a;return t(["Treasury Arbitrum"])}}})}typeof Ft=="function"&&Ft(so);const qr=P(so,[["__scopeId","data-v-7220715c"]]);function Wr(){const o=wt(),e=[{path:"/code",component:qr},...o.pages.flatMap(t=>t.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:xr}];return mn({history:vn(),routes:e})}const Br=o=>({chart:{id:"chart",background:"transparant",foreColor:o.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:o.colorsArray,grid:{borderColor:o.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:o.colors.level5,height:1},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:o.colors.level5},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}}});function re(o,e){const a=Br(o),t=(s,l)=>{if(typeof l=="object"){N.mergeWith(s,l,t);return}else return s||l};return N.mergeWith(e,a,t)}const qe={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},Er=[qe.blue,qe.yellow,qe.green,qe.red,qe.purple,"#ff8f33"],We={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Ur=[We.blue,We.yellow,We.green,We.red,We.purple];function j(o){return o==="light"?We:qe}function le(o){return o==="light"?Ur:Er}function E(){return zn}const Ce="https://api.prismamonitor.com/v1";class Ie extends Te{async getHistoricalOpenTrovesOverview(e,a){return this.fetch(`${Ce}/managers/${e}/open_troves?period=${a}`)}async getHistoricalCollateralRatiosOverview(e,a){return this.fetch(`${Ce}/managers/${e}/collateral_ratios?period=${a}`)}async getCollateralRatioGrouped(e,a){return this.fetch(`${Ce}/managers/${e}/global_collateral_ratio?period=${a}`)}async getHistoricalCollateralOverview(e,a){return this.fetch(`${Ce}/managers/${e}/collateral?period=${a}`)}async getRatioDistributionGrouped(e){return this.fetch(`${Ce}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,a,t){return this.fetch(`${Ce}/managers/${e}/${a}/large_positions?unit=${t}`)}async getVaultCollateralRatio(e,a,t){return this.fetch(`${Ce}/managers/${e}/${a}/collateral_ratio?period=${t}`)}async getVaultTroveCount(e,a,t){return this.fetch(`${Ce}/managers/${e}/${a}/open_trove_count?period=${t}`)}async getTroveDistribution(e,a,t){return this.fetch(`${Ce}/managers/${e}/${a}/histograms?unit=${t}`)}}const lo=S({__name:"ChartOpenTroves",setup(o){const{t:e}=W(),a=new Ie(E()),t=K(),{loading:s,data:l}=U(()=>a.getHistoricalOpenTrovesOverview("ethereum","6m").then(d=>d.managers),[]),r=w(()=>{const d=j(t.theme),i=le(t.theme);return re({colors:d,colorsArray:i},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:h.value,labels:{formatter:u,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:g,dataPointIndex:m,w:b})=>{let f=0;const A=g.map((I,M)=>{const D=I[m];return f+=D,`<div><b>${b.globals.seriesNames[M]}</b>: ${D}</div>`});return A.push(`<div><b>Total</b>: ${f}</div>`),A.join("")}}})}),h=w(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(d=>new Date(d.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),v=w(()=>l.value.length===0?[]:l.value.map(d=>({name:d.manager,data:d.data.map(i=>i.value)}))),u=d=>d;return(d,i)=>(_(),T(n(ie),{class:"chart",title:n(e)("title"),loading:n(s),options:r.value,series:v.value},null,8,["title","loading","options","series"]))}});function Nt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Open troves"])}}})}typeof Nt=="function"&&Nt(lo);const Fr=P(lo,[["__scopeId","data-v-5e648abe"]]),Nr=(o,e)=>{const a=j(e);return{width:o.clientWidth,height:o.clientHeight,layout:{background:{type:pn.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:hn.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ze(o,e,a){const t=Nr(o,e),s=(l,r)=>{if(typeof r=="object"){N.mergeWith(l,r,s);return}else return l||r};return N.mergeWith(a,t,s)}const ro=S({__name:"ChartCollateralRatio",setup(o){const{t:e}=W(),a=new Ie(E());let t,s;const l=K(),r=V(null),{loading:h,data:v}=U(()=>a.getCollateralRatioGrouped("ethereum","all").then(g=>g.data),[]);ae(()=>{r.value&&(t=Se(r.value,u(r.value,l.theme)),s=t.addAreaSeries(d(l.theme)),i(v.value))}),q(()=>l.theme,g=>{r.value&&(t.applyOptions(u(r.value,g)),s.applyOptions(d(g)))}),q(v,g=>{i(g)});const u=(g,m)=>ze(g,m,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),d=g=>{const m=j(g);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ge.WithSteps,lineColor:m.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},i=g=>{if(!t||!s)return;const m=N.chain(g).map(b=>({time:b.timestamp,value:b.value*100})).uniqWith((b,f)=>b.time===f.time).orderBy(b=>b.time,"asc").value();m.length>0&&s.setData(m),t.timeScale().fitContent()};return(g,m)=>(_(),T(n(se),{class:"chart-container",title:n(e)("title"),loading:n(h)},{default:y(()=>[c("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ht(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Global collateral ratio"])}}})}typeof Ht=="function"&&Ht(ro);const Hr=P(ro,[["__scopeId","data-v-d8e9773b"]]),io=S({__name:"ChartRatioDeciles",setup(o){const{t:e}=W(),a=new Ie(E()),t=K(),{loading:s,data:l}=U(()=>a.getRatioDistributionGrouped("ethereum").then(i=>i.deciles),[]),r=w(()=>{const i=j(t.theme),g=le(t.theme);return re({colors:i,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:h.value,labels:{formatter:u,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:d}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),h=w(()=>l.value.map(i=>i.label)),v=w(()=>[{name:e("debt"),data:Object.values(l.value).map(i=>i.data)}]),u=i=>i,d=i=>`$${te(i,0,"dollar")}${Z(i,"dollar")}`;return(i,g)=>(_(),T(n(ie),{class:"chart",title:n(e)("title"),loading:n(s),options:r.value,series:v.value},null,8,["title","loading","options","series"]))}});function jt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Debt per Collateral Ratio Deciles"])},debt:a=>{const{normalize:t}=a;return t(["Debt"])}}})}typeof jt=="function"&&jt(io);const jr=P(io,[["__scopeId","data-v-b5ef781d"]]),co=S({__name:"ChartGlobalCollateral",setup(o){const{t:e}=W(),a=new Ie(E()),t=K(),{loading:s,data:l}=U(()=>a.getHistoricalCollateralOverview("ethereum","6m").then(i=>i.managers),[]),r=w(()=>{const i=j(t.theme),g=le(t.theme);return re({colors:i,colorsArray:g},{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:h.value,labels:{formatter:u,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:d}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),h=w(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(i=>new Date(i.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),v=w(()=>l.value.length===0?[]:l.value.map(i=>({name:i.manager,data:i.data.map(g=>g.value)}))),u=i=>i,d=i=>`$${te(i,1,"dollar")}${Z(i,"dollar")}`;return(i,g)=>(_(),T(n(ie),{class:"chart",title:n(e)("title"),loading:n(s),options:r.value,series:v.value},null,8,["title","loading","options","series"]))}});function Gt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Collateral value"])}}})}typeof Gt=="function"&&Gt(co);const Gr=P(co,[["__scopeId","data-v-85094bb7"]]);function ke(o){switch(o.toLocaleLowerCase()){case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH";case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH";case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH";case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH";default:throw new Error(`Unknown collateral for ${o}`)}}function Le(o){return o==="all"?"":`icons/tokens/${(a=>{switch(a){case"cbETH":return"cbeth.webp";case"wstETH":return"steth.webp";case"rETH":return"reth.webp";case"sfrxETH":return"frxeth.webp";default:return""}})(o)}`}const Yr="wss://api.prismamonitor.com/v1/prisma/ws",Yt="troves_overview";let Ye=null,Jt=null;class Ne{constructor(e){if(this.chain=e,Ye){this.send("snapshots");return}Ye=Ye??fn(Yr),Jt=Ye.pipe(It(a=>a),gn(a=>a.subscription.chain===this.chain&&a.channel===Yt),It(a=>a.payload),bn(1)),this.send("subscribe"),this.send("snapshots")}get overview$(){return Jt}send(e){const a={action:e,channel:Yt,settings:[{chain:this.chain}]};Ye.next(a)}}const et=o=>(ve("data-v-ec3f010b"),o=o(),pe(),o),Jr={class:"title"},Kr=["src"],Qr={class:"number"},Xr={class:"number"},Zr={class:"number"},ei={class:"number"},ti={class:"number"},ai={class:"number"},oi=et(()=>c("div",null,null,-1)),ni=et(()=>c("div",null,null,-1)),si={class:"number"},li={class:"number"},ri=et(()=>c("div",null,null,-1)),ii=et(()=>c("div",null,null,-1)),ci={class:"number"},ui=et(()=>c("div",null,null,-1)),uo=S({__name:"TableVaults",setup(o){const{t:e}=W(),a=new Ne("ethereum"),t=V(""),s=Fe(a.overview$,[]),l=w(()=>N.chain(s.value).filter(h=>{const v=t.value.toLocaleLowerCase().split(" "),u=d=>v.some(i=>d.toLocaleLowerCase().includes(i));return u(h.name)||u(h.address)}).value()),r=w(()=>s.value.length===0);return(h,v)=>(_(),T(n(ne),{class:"datatable-vaults","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"vaults-columns-data",loading:r.value,rows:l.value,columns:["","Name","TVL","Debt","CR","MCR","Troves","Price"]},{"header-content":y(()=>[c("div",Jr,k(n(e)("title")),1),p(n(ue),{modelValue:t.value,"onUpdate:modelValue":v[0]||(v[0]=u=>t.value=u),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(u=>[c("img",{src:n(Le)(u.item.name)},null,8,Kr),c("div",null,k(u.item.name),1),c("div",Qr,[p(n(R),{value:u.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),c("div",Xr,[p(n(R),{value:u.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),c("div",Zr,[p(n(R),{value:u.item.cr*100,precision:2,type:"percentage"},null,8,["value"])]),c("div",ei,[p(n(R),{value:u.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])]),c("div",ti,k(u.item.open_troves),1),c("div",ai,[p(n(R),{type:"dollar",value:Math.round(u.item.price),precision:1/0},null,8,["value"])])]),"row-aggregation":y(()=>[oi,ni,c("div",si,[p(n(R),{value:l.value.reduce((u,d)=>u+d.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),c("div",li,[p(n(R),{value:l.value.reduce((u,d)=>u+d.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),ri,ii,c("div",ci,[p(n(R),{value:l.value.reduce((u,d)=>u+d.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),ui]),"row-details":y(()=>[F("   ")]),_:1},8,["loading","rows"]))}});function Kt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vaults"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Kt=="function"&&Kt(uo);const di=P(uo,[["__scopeId","data-v-ec3f010b"]]),rt=Ze({id:"vaultStore",state:()=>({vault:null,trove:null})}),_i={class:"vaults"},mi=S({__name:"Vaults",setup(o){const e=lt(),a=rt(),t=Ue();ae(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const s=async l=>{a.vault=l,await t.push({name:"prismavault",params:{tab:"",vaultAddr:l.address}})};return(l,r)=>(_(),C("div",_i,[p(di,{style:{"grid-column":"1 / -1"},onSelected:s}),p(Hr),p(jr),p(Gr),p(Fr)]))}});const vi=P(mi,[["__scopeId","data-v-47785ba8"]]),Oe="https://api.prismamonitor.com/v1";class He extends Te{async getPoolTvl(e,a){return this.fetch(`${Oe}/pool/${e}/deposits?period=${a}`)}async getStableFlow(e,a){return this.fetch(`${Oe}/pool/${e}/stable_operations?period=${a}`)}async getStableDistribution(e){return this.fetch(`${Oe}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,a){return this.fetch(`${Oe}/pool/${e}/cumulative_withdrawals?period=${a}`)}async getTopStableDeposits(e,a,t){return this.fetch(`${Oe}/pool/${e}/top/stable_deposits?top=${a}&period=${t}`)}async getTopStableWithdrawals(e,a,t){return this.fetch(`${Oe}/pool/${e}/top/stable_withdrawals?top=${a}&period=${t}`)}}const _o=S({__name:"ChartPoolTvl",setup(o){const{t:e}=W(),a=new He(E());let t,s;const l=K(),r=V(null),{loading:h,data:v}=U(()=>a.getPoolTvl("ethereum","1m").then(m=>m.deposits),[]);ae(()=>{r.value&&(t=Se(r.value,u(r.value,l.theme)),s=t.addAreaSeries(d(l.theme)),i(v.value))}),q(()=>l.theme,m=>{r.value&&(t.applyOptions(u(r.value,m)),s.applyOptions(d(m)))}),q(v,m=>{i(m)});const u=(m,b)=>ze(m,b,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>g(f)}}),d=m=>{const b=j(m);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ge.WithSteps,lineColor:b.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},i=m=>{if(!t||!s)return;const b=N.chain(m).map(f=>({time:f.timestamp,value:f.value})).uniqWith((f,A)=>f.time===A.time).orderBy(f=>f.time,"asc").value();b.length>0&&s.setData(b),t.timeScale().fitContent()},g=m=>`$${te(m,1,"dollar")}${Z(m,"dollar")}`;return(m,b)=>(_(),T(n(se),{class:"chart-container",title:n(e)("title"),loading:n(h)},{default:y(()=>[c("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Qt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Total deposits in stability pool"])}}})}typeof Qt=="function"&&Qt(_o);const pi=P(_o,[["__scopeId","data-v-08ef8b78"]]),mo=S({__name:"ChartStableFlow",setup(o){const{t:e}=W(),a=new He(E()),t=K(),{loading:s,data:l}=U(()=>a.getStableFlow("ethereum","1m"),{deposits:[],withdrawals:[]}),r=w(()=>{const i=j(t.theme),g=le(t.theme);return re({colors:i,colorsArray:g},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[i.green,i.red],xaxis:{categories:h.value,labels:{formatter:u,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:d}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:m,dataPointIndex:b,w:f})=>{let A=0;const I=m.map((M,D)=>{const x=M[b];return A+=x,`<div><b>${f.globals.seriesNames[D]}</b>:	${d(x)}</div>`});return I.push(`<div><b>Total</b>:	${d(A)}</div>`),I.join("")}}})}),h=w(()=>l.value.deposits.length===0?[]:l.value.deposits.map(i=>new Date(i.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),v=w(()=>[{name:e("deposits"),data:Object.values(l.value.deposits).map(i=>i.value)},{name:e("withdrawals"),data:Object.values(l.value.withdrawals).map(i=>i.value)}]),u=i=>i,d=i=>`$${te(i,0,"dollar")}${Z(i,"dollar")}`;return(i,g)=>(_(),T(n(ie),{title:n(e)("title"),loading:n(s),options:r.value,series:v.value},null,8,["title","loading","options","series"]))}});function Xt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD deposits and withdrawals"])},deposits:a=>{const{normalize:t}=a;return t(["Deposits"])},withdrawals:a=>{const{normalize:t}=a;return t(["Withdrawals"])}}})}typeof Xt=="function"&&Xt(mo);const hi=P(mo,[["__scopeId","data-v-59000d87"]]),vo=S({__name:"ChartDepositDistribution",setup(o){const{t:e}=W(),a=new He(E()),t=K(),{loading:s,data:l}=U(()=>a.getStableDistribution("ethereum").then(u=>u.distribution),[]),r=w(()=>{const u=j(t.theme),d=le(t.theme);return re({colors:u,colorsArray:d},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:v.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),h=w(()=>[{name:e("numPos"),data:Object.values(l.value).map(u=>u.value)}]),v=w(()=>l.value.map(u=>u.label));return(u,d)=>(_(),T(n(ie),{title:n(e)("title"),loading:n(s),series:h.value,options:r.value},null,8,["title","loading","series","options"]))}});function Zt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Distribution of current user deposits"])},numPos:a=>{const{normalize:t}=a;return t(["# of positions"])}}})}typeof Zt=="function"&&Zt(vo);const fi=P(vo,[["__scopeId","data-v-0c200c77"]]),po=S({__name:"ChartCumulativeWithdrawals",setup(o){const{t:e}=W(),a=new He(E());let t,s;const l=K(),r=V(null),{loading:h,data:v}=U(()=>a.getCumulativeWithdrawals("ethereum","all").then(m=>m.withdrawals),[]);ae(()=>{r.value&&(t=Se(r.value,u(r.value,l.theme)),s=t.addAreaSeries(d(l.theme)),i(v.value))}),q(()=>l.theme,m=>{r.value&&(t.applyOptions(u(r.value,m)),s.applyOptions(d(m)))}),q(v,m=>{i(m)});const u=(m,b)=>ze(m,b,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>g(f)}}),d=m=>{const b=j(m);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ge.WithSteps,lineColor:b.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},i=m=>{if(!t||!s)return;const b=N.chain(m).map(f=>({time:f.timestamp,value:f.value})).uniqWith((f,A)=>f.time===A.time).orderBy(f=>f.time,"asc").value();b.length>0&&s.setData(b),t.timeScale().fitContent()},g=m=>`$${te(m,1,"dollar")}${Z(m,"dollar")}`;return(m,b)=>(_(),T(n(se),{class:"chart-container",title:n(e)("title"),loading:n(h)},{default:y(()=>[c("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ea(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Cumulative value of collaterals withdrawn"])}}})}typeof ea=="function"&&ea(po);const gi=P(po,[["__scopeId","data-v-32707dbe"]]),bi={class:"title"},yi={class:"address"},$i=["href"],wi={class:"number"},Ci={class:"number"},ki={class:"address"},Si=["href"],ho=S({__name:"TableTopDeposits",setup(o){const{t:e}=W(),a=new He(E()),{loading:t,data:s}=U(()=>a.getTopStableDeposits("ethereum",5,"7d").then(r=>r.operations),[]),l=w(()=>N.chain(s.value).map(r=>r).value());return(r,h)=>(_(),T(n(ne),{class:"datatable-deposits","columns-header":"1fr","columns-data":"deposits-columns-data",loading:n(t),rows:l.value,columns:["Address","Amount","Date","Tx"]},{"header-content":y(()=>[c("div",bi,k(n(e)("title")),1)]),row:y(v=>[c("div",yi,[c("a",{href:`https://etherscan.io/address/${v.item.user}`,target:"_blank"},k(n(H)(v.item.user,8)),9,$i)]),c("div",wi,[p(n(R),{value:v.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",Ci,k(new Date(v.item.timestamp*1e3).toLocaleDateString()),1),c("div",ki,[c("a",{href:`https://etherscan.io/tx/${v.item.hash}`,target:"_blank"},k(n(H)(v.item.hash,8)),9,Si)])]),_:1},8,["loading","rows"]))}});function ta(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest deposits past 7 days"])}}})}typeof ta=="function"&&ta(ho);const Ti=P(ho,[["__scopeId","data-v-4e9e0fb0"]]),Pi={class:"title"},zi={class:"address"},Li=["href"],Ii={class:"number"},xi={class:"number"},Ai={class:"address"},Di=["href"],fo=S({__name:"TableTopWithdrawals",setup(o){const{t:e}=W(),a=new He(E()),t=w(()=>N.chain(l.value).map(r=>r).value()),{loading:s,data:l}=U(()=>a.getTopStableWithdrawals("ethereum",5,"7d").then(r=>r.operations),[]);return(r,h)=>(_(),T(n(ne),{class:"datatable-withdrawals","columns-header":"1fr","columns-data":"withdrawals-columns-data",loading:n(s),rows:t.value,columns:["Address","Amount","Date","Tx"]},{"header-content":y(()=>[c("div",Pi,k(n(e)("title")),1)]),row:y(v=>[c("div",zi,[c("a",{href:`https://etherscan.io/address/${v.item.user}`,target:"_blank"},k(n(H)(v.item.user,8)),9,Li)]),c("div",Ii,[p(n(R),{value:v.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",xi,k(new Date(v.item.timestamp*1e3).toLocaleDateString()),1),c("div",Ai,[c("a",{href:`https://etherscan.io/tx/${v.item.hash}`,target:"_blank"},k(n(H)(v.item.hash,8)),9,Di)])]),_:1},8,["loading","rows"]))}});function aa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest withdrawals past 7 days"])}}})}typeof aa=="function"&&aa(fo);const Oi=P(fo,[["__scopeId","data-v-ccae8030"]]),Vi={class:"pool"},Ri=S({__name:"StabilityPool",setup(o){return(e,a)=>(_(),C("div",Vi,[p(pi),p(hi),p(fi),p(gi),p(Ti),p(Oi)]))}});const Mi=P(Ri,[["__scopeId","data-v-c433301c"]]),Je="https://api.prismamonitor.com/v1";class tt extends Te{async getPriceHistory(e,a){return this.fetch(`${Je}/mkusd/${e}/history?period=${a}`)}async getPriceHistogram(e,a,t){return this.fetch(`${Je}/mkusd/${e}/histogram?period=${t}&bins=${a}`)}async getLargeStableCoinHolders(e){return this.fetch(`${Je}/mkusd/${e}/holders`)}async getStableCoinKPI(e){return this.fetch(`${Je}/mkusd/${e}/general`)}async getCurvePoolDepth(e){return this.fetch(`${Je}/mkusd/${e}/depth`)}}const qi=o=>(ve("data-v-b3c56b08"),o=o(),pe(),o),Wi=qi(()=>c("div",null,"Price data is sourced from Curve pools only.",-1)),go=S({__name:"ChartPrice",setup(o){const{t:e}=W(),a=new tt(E());let t,s;const l=K(),r=V(null),{loading:h,data:v}=U(()=>a.getPriceHistory("ethereum","1m").then(m=>m.prices),[]);ae(()=>{r.value&&(t=Se(r.value,u(r.value,l.theme)),s=t.addAreaSeries(d(l.theme)),i(v.value))}),q(()=>l.theme,m=>{r.value&&(t.applyOptions(u(r.value,m)),s.applyOptions(d(m)))}),q(v,m=>{i(m)});const u=(m,b)=>ze(m,b,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>g(f)}}),d=m=>{const b=j(m);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:ge.WithSteps,lineColor:b.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},i=m=>{if(!t||!s)return;const b=N.chain(m).map(f=>({time:f.timestamp,value:f.value})).uniqWith((f,A)=>f.time===A.time).orderBy(f=>f.time,"asc").value();b.length>0&&s.setData(b),t.timeScale().fitContent()},g=m=>`$${te(m,2,"dollar")}${Z(m,"dollar")}`;return(m,b)=>(_(),T(n(se),{class:"chart-container",title:n(e)("title"),loading:n(h)},{actions:y(()=>[p(n(Xe),null,{default:y(()=>[Wi]),_:1})]),default:y(()=>[c("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function oa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD price (last 30 days)"])}}})}typeof oa=="function"&&oa(go);const Bi=P(go,[["__scopeId","data-v-b3c56b08"]]),bo=S({__name:"ChartPriceDistribution",setup(o){const{t:e}=W(),a=new tt(E()),t=K(),{loading:s,data:l}=U(()=>a.getPriceHistogram("ethereum",10,"all").then(u=>u.histogram),[]),r=w(()=>{const u=j(t.theme),d=le(t.theme);return re({colors:u,colorsArray:d},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:v.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),h=w(()=>[{name:e("numPos"),data:Object.values(l.value).map(u=>u.value)}]),v=w(()=>l.value.map(u=>u.label));return(u,d)=>(_(),T(n(ie),{title:n(e)("title"),loading:n(s),series:h.value,options:r.value},null,8,["title","loading","series","options"]))}});function na(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Price histogram"])},numPos:a=>{const{normalize:t}=a;return t(["# of hourly price records"])}}})}typeof na=="function"&&na(bo);const Ei=P(bo,[["__scopeId","data-v-80e70b60"]]),yo=S({__name:"ChartHolders",setup(o){const{t:e}=W(),a=new tt(E()),t=K(),{loading:s,data:l}=U(()=>a.getLargeStableCoinHolders("ethereum").then(d=>d.holders),[]),r=w(()=>{const d=j(t.theme),i=le(t.theme);return re({colors:d,colorsArray:i},{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:g=>{let m=v.value[g.seriesIndex];m=m.length>10&&m.startsWith("0x")?H(m):m;const b=g.series[g.seriesIndex];return[`<div><b>${m}</b>:</div><div>${u(b)}</div>`].join("")}},labels:l.value.map(g=>g.label.length>10&&g.label.startsWith("0x")?H(g.label):g.label)})}),h=w(()=>l.value.map(d=>d.value)),v=w(()=>l.value.map(d=>d.label)),u=d=>`$${te(Math.abs(d),1,"dollar")}${Z(d,"dollar")}`;return(d,i)=>(_(),T(n(ie),{class:"graph",title:n(e)("title"),loading:n(s),options:r.value,series:h.value},null,8,["title","loading","options","series"]))}});function sa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest holders"])},numPos:a=>{const{normalize:t}=a;return t(["mkUSD balance:"])}}})}typeof sa=="function"&&sa(yo);const Ui=P(yo,[["__scopeId","data-v-1ddc910f"]]),Fi={class:"kpis"},Ni=S({__name:"KPIs",setup(o){const e=new tt(E()),{data:a}=U(()=>e.getStableCoinKPI("ethereum").then(t=>t.info),null);return(t,s)=>(_(),C("div",Fi,[p(n(oe),{label:"mkUSD price","has-value":!!n(a)},{default:y(()=>[n(a)?(_(),T(n(R),{key:0,value:n(a).price,precision:4,type:"dollar"},null,8,["value"])):O("",!0)]),_:1},8,["has-value"]),p(n(oe),{label:"Total supply","has-value":!!n(a)},{default:y(()=>[n(a)?(_(),T(n(R),{key:0,value:n(a).supply,precision:2,type:"dollar"},null,8,["value"])):O("",!0)]),_:1},8,["has-value"]),p(n(oe),{label:"24h Volume (Curve)","has-value":!!n(a)},{default:y(()=>[n(a)?(_(),T(n(R),{key:0,value:n(a).volume,precision:1,type:"dollar"},null,8,["value"])):O("",!0)]),_:1},8,["has-value"]),p(n(oe),{label:"Aggregate -2% Depth (Curve)","has-value":!!n(a)},{default:y(()=>[n(a)?(_(),T(n(R),{key:0,value:n(a).depth,precision:1,type:"dollar"},null,8,["value"])):O("",!0)]),_:1},8,["has-value"])]))}});const Hi=P(Ni,[["__scopeId","data-v-48e5701e"]]),$o=S({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(o){const{t:e}=W(),a=K(),t=w(()=>{const h=j(a.theme),v=le(a.theme);return re({colors:h,colorsArray:v},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:u=>r(u)}},yaxis:{seriesName:"amounts",labels:{formatter:u=>r(u)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:u=>r(u)}},colors:[u=>u.value===0?h.blue:h.green,u=>u.value===0?h.blue:h.red]})}),s=w(()=>{if(!o.depth)return[];const h=[...o.depth.ask.prices.map(u=>({x:u,y:0})),...o.depth.bid.prices.map((u,d)=>({x:u,y:o.depth.bid.amounts[d]}))],v=[...o.depth.ask.prices.map((u,d)=>({x:u,y:o.depth.ask.amounts[d]}))];return[{name:"Bid",data:h},{name:"Ask",data:v}]}),l=w(()=>{var v;if(!((v=o.depth)!=null&&v.tokens)||o.depth.tokens.length===0)return e("title");const h=o.depth.tokens.join(" / ");return`${e("title")} - ${h} (Curve)`}),r=h=>`$${te(Math.abs(h),2,"dollar")}${Z(h,"dollar")}`;return(h,v)=>(_(),T(n(ie),{class:"chart",title:l.value,loading:h.loading,options:t.value,series:s.value},null,8,["title","loading","options","series"]))}});function la(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidity Depth"])}}})}typeof la=="function"&&la($o);const ji=P($o,[["__scopeId","data-v-69d5ffa2"]]),Gi=S({__name:"ChartDepthContainer",setup(o){const e=new tt(E()),{loading:a,data:t}=U(()=>e.getCurvePoolDepth("ethereum").then(s=>s.depth),[]);return(s,l)=>(_(!0),C(X,null,ce(n(t),r=>(_(),T(ji,{key:r.name,loading:n(a),depth:r},null,8,["loading","depth"]))),128))}});const Yi=P(Gi,[["__scopeId","data-v-28ca1d13"]]),Ji={class:"mkusd"},Ki=S({__name:"Stablecoin",setup(o){return(e,a)=>(_(),C("div",Ji,[p(Hi,{style:{"grid-column":"1 / -1"}}),p(Bi),p(Ei),p(Ui),p(Yi)]))}});const Qi=P(Ki,[["__scopeId","data-v-738142b2"]]),Xi={class:"redemption-details"},Zi={class:"kpis"},ec={class:"title"},tc=["href"],wo=S({__name:"RedemptionDetails",props:{vaultAddr:{},redemption:{}},setup(o){const{t:e}=W(),a=V(""),t=w(()=>N.chain(o.redemption.troves_affected).filter(s=>{const l=a.value.toLocaleLowerCase().split(" ");return(h=>l.some(v=>h.toLocaleLowerCase().includes(v)))(s)}).value());return(s,l)=>(_(),T(n(se),{title:n(e)("redemption-details")},{default:y(()=>[c("div",Xi,[c("div",Zi,[p(n(oe),{label:n(e)("withdrawal")},{default:y(()=>[p(n(R),{value:s.redemption.attempted_debt_amount,precision:2,type:"dollar"},null,8,["value"]),F(" / "),p(n(R),{value:s.redemption.collateral_sent_to_redeemer_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),p(n(oe),{label:n(e)("fee")},{default:y(()=>[p(n(R),{value:s.redemption.collateral_fee_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),p(n(ne),{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:t.value,columns:["Trove"]},{"header-content":y(()=>[c("div",ec,k(n(e)("troves-affected")),1),p(n(ue),{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value=r),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(r=>[c("div",null,[c("a",{style:{"font-family":"monospace"},target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${r.item}`,onClick:l[1]||(l[1]=Q(()=>{},["stop"]))},k(r.item),9,tc)])]),_:1},8,["rows"])])]),_:1},8,["title"]))}});function ra(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":a=>{const{normalize:t}=a;return t(["Troves affected"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])},"redemption-details":a=>{const{normalize:t}=a;return t(["Redemption Details"])},withdrawal:a=>{const{normalize:t}=a;return t(["Attempted / Received"])},fee:a=>{const{normalize:t}=a;return t(["Fee"])}}})}typeof ra=="function"&&ra(wo);const Ct=P(wo,[["__scopeId","data-v-da85ccb3"]]),ac={key:0,class:"item"},oc=["src"],nc={key:1,class:"empty"},sc={class:"label"},lc=S({__name:"SelectCollateral",props:{collateral:{default:null},all:{type:Boolean,default:!1}},emits:["select-collateral"],setup(o,{emit:e}){const a=e,t=V(!1),s=[...o.all?[{collateral:"all",label:"All"}]:[],{collateral:"cbETH",label:"cbETH"},{collateral:"wstETH",label:"wstETH"},{collateral:"rETH",label:"rETH"},{collateral:"sfrxETH",label:"sfrxETH"}],l=w(()=>s.find(u=>u.collateral===o.collateral)??null);ae(()=>{v(s[0])});const r=u=>u.label,h=()=>{t.value=!t.value},v=u=>{const{collateral:d}=u;a("select-collateral",d)};return(u,d)=>(_(),T(n(yt),{class:"select",options:s,selected:l.value,open:t.value,onOpen:h,onClose:d[0]||(d[0]=i=>t.value=!1),onInput:v},{item:y(i=>[i.item?(_(),C("div",ac,[n(Le)(i.item.collateral)?(_(),C("img",{key:0,src:n(Le)(i.item.collateral)},null,8,oc)):(_(),C("div",nc)),c("div",sc,k(r(i.item)),1)])):O("",!0)]),_:1},8,["selected","open"]))}});const at=P(lc,[["__scopeId","data-v-2bf0e714"]]),ia="https://api.prismamonitor.com/v1";class kt extends Te{async getRedemptions(e,a){return Ee(s=>this.fetch(`${ia}/redemptions/${e}/${a}?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(l=>l.redemptions),1,100)}async getRedemptionsForTrove(e,a){return Ee(s=>this.fetch(`${ia}/redemptions/${e}?items=100&page=${s}&order_by=block_timestamp&desc=true&trove_filter=${a}`).then(l=>l.redemptions),1,100)}}const rc={class:"title"},ic=["src"],cc=["href"],uc=["href"],dc={class:"number"},_c={class:"number"},mc={class:"number"},ca=15,Co=S({__name:"TableRedemptions",props:{vaults:{default:()=>[]}},setup(o){const e=new kt(E()),{t:a}=W(),{loading:t,data:s,load:l}=U(()=>o.vaults.length>0?Promise.all(o.vaults.map($=>e.getRedemptions("ethereum",$.address))).then($=>$.flat()):Promise.resolve([]),[]),{relativeTime:r}=ye(),{sortColumn:h,sortOrder:v,onSort:u}=Pe("timestamp"),d=V(""),i=V("all"),g=V(null),m=w(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),b=w(()=>["icon","redeemer","tx","debt","numtroves","timestamp"]),f=w(()=>["redeemer","tx","debt","numtroves","timestamp"]),A=w(()=>N.chain(s.value).filter($=>{const L=d.value.toLocaleLowerCase().split(" "),z=de=>L.some(we=>de.toLocaleLowerCase().includes(we)),G=ke($.vault),Y=i.value==="all"?!0:i.value===G;return z($.redeemer)&&Y}).orderBy($=>{switch(h.value){case"redeemer":return $.redeemer;case"tx":return $.transaction;case"debt":return $.actual_debt_amount;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},v.value===ee.Descending?"desc":"asc").value()),{page:I,rowsPage:M,onPage:D}=$e(A,ca),x=$=>{g.value=$};return q(()=>o.vaults,l),($,L)=>(_(),C(X,null,[p(n(ne),{class:"datatable-redemptions","columns-header":"1fr 12rem minmax(auto, 25rem) auto auto","columns-data":"redemptions-columns-data",loading:n(t),rows:n(M),columns:m.value,sorting:!0,"sorting-columns":b.value,"sorting-columns-enabled":f.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:n(u),onSelected:x},{"header-content":y(()=>[c("div",rc,k(n(a)("title")),1),p(at,{class:"select-collateral",collateral:i.value,all:!0,onSelectCollateral:L[0]||(L[0]=z=>i.value=z)},null,8,["collateral"]),p(n(ue),{modelValue:d.value,"onUpdate:modelValue":L[1]||(L[1]=z=>d.value=z),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"]),p(n(be),{class:"pagination","items-count":A.value.length,"items-per-page":ca,page:n(I),onPage:n(D)},null,8,["items-count","page","onPage"])]),row:y(z=>[c("img",{src:n(Le)(n(ke)(z.item.vault))},null,8,ic),c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${z.item.redeemer}`,target:"_blank",onClick:L[2]||(L[2]=Q(()=>{},["stop"]))},k(n(H)(z.item.redeemer)),9,cc)]),c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${z.item.transaction}`,target:"_blank",onClick:L[3]||(L[3]=Q(()=>{},["stop"]))},k(n(H)(z.item.transaction)),9,uc)]),c("div",dc,[p(n(R),{type:"dollar",value:Math.round(z.item.actual_debt_amount),precision:1/0},null,8,["value"])]),c("div",_c,k(z.item.troves_affected_count),1),c("div",mc,k(n(r)(z.item.timestamp)),1)]),"row-details":y(()=>[F("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),p(n(De),{show:!!g.value,onClose:L[4]||(L[4]=z=>g.value=null)},{default:y(()=>[g.value?(_(),T(Ct,{key:0,redemption:g.value,"vault-addr":g.value.vault},null,8,["redemption","vault-addr"])):O("",!0)]),_:1},8,["show"])],64))}});function ua(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Redemptions"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof ua=="function"&&ua(Co);const vc=P(Co,[["__scopeId","data-v-9c28ae22"]]),pc={class:"redemptions"},hc=S({__name:"Redemptions",setup(o){const e=new Ne("ethereum"),a=Fe(e.overview$,[]);return(t,s)=>(_(),C("div",pc,[p(vc,{vaults:n(a)},null,8,["vaults"])]))}});const fc=P(hc,[["__scopeId","data-v-7dad5953"]]),gc={class:"liquidation-details"},bc={class:"kpis"},yc={class:"title"},$c=["href"],ko=S({__name:"LiquidationDetails",props:{vaultAddr:{},liquidation:{}},setup(o){const{t:e}=W(),a=V(""),t=w(()=>N.chain(o.liquidation.troves_affected).filter(s=>{const l=a.value.toLocaleLowerCase().split(" ");return(h=>l.some(v=>h.toLocaleLowerCase().includes(v)))(s)}).value());return(s,l)=>(_(),T(n(se),{title:n(e)("liquidation-details")},{default:y(()=>[c("div",gc,[c("div",bc,[p(n(oe),{label:n(e)("debt")},{default:y(()=>[p(n(R),{value:s.liquidation.liquidated_debt,precision:2,type:"dollar"},null,8,["value"]),F(" / "),p(n(R),{value:s.liquidation.liquidated_collateral,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),p(n(oe),{label:n(e)("gas-compensation")},{default:y(()=>[p(n(R),{value:s.liquidation.collateral_gas_compensation_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),p(n(ne),{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:t.value,columns:["Trove"]},{"header-content":y(()=>[c("div",yc,k(n(e)("troves-affected")),1),p(n(ue),{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value=r),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(r=>[c("div",null,[c("a",{style:{"font-family":"monospace"},target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${r.item}`,onClick:l[1]||(l[1]=Q(()=>{},["stop"]))},k(r.item),9,$c)])]),_:1},8,["rows"])])]),_:1},8,["title"]))}});function da(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":a=>{const{normalize:t}=a;return t(["Troves affected"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])},"liquidation-details":a=>{const{normalize:t}=a;return t(["Liquidation Details"])},debt:a=>{const{normalize:t}=a;return t(["Debt / Collateral"])},"gas-compensation":a=>{const{normalize:t}=a;return t(["Gas compensation"])}}})}typeof da=="function"&&da(ko);const St=P(ko,[["__scopeId","data-v-3718b149"]]),_a="https://api.prismamonitor.com/v1";class Tt extends Te{async getLiquidations(e,a){return Ee(s=>this.fetch(`${_a}/liquidations/${e}/${a}?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(l=>l.liquidations),1,100)}async getLiquidationsForTrove(e,a){return Ee(s=>this.fetch(`${_a}/liquidations/${e}?items=100&page=${s}&order_by=block_timestamp&desc=true&trove_filter=${a}`).then(l=>l.liquidations),1,100)}}const wc={class:"title"},Cc=["src"],kc=["href"],Sc=["href"],Tc={class:"number"},Pc={class:"number"},zc={class:"number"},ma=15,So=S({__name:"TableLiquidations",props:{vaults:{default:()=>[]}},setup(o){const e=new Tt(E()),{t:a}=W(),{loading:t,data:s,load:l}=U(()=>o.vaults.length>0?Promise.all(o.vaults.map($=>e.getLiquidations("ethereum",$.address))).then($=>$.flat()):Promise.resolve([]),[]),{relativeTime:r}=ye(),{sortColumn:h,sortOrder:v,onSort:u}=Pe("timestamp"),d=V(""),i=V("all"),g=V(null),m=w(()=>["","Liquidator","Transaction","Debt","# Troves","Time"]),b=w(()=>["icon","liquidator","tx","debt","numtroves","timestamp"]),f=w(()=>["liquidator","tx","debt","numtroves","timestamp"]),A=w(()=>N.chain(s.value).filter($=>{const L=d.value.toLocaleLowerCase().split(" "),z=de=>L.some(we=>de.toLocaleLowerCase().includes(we)),G=ke($.vault),Y=i.value==="all"?!0:i.value===G;return z($.liquidator)&&Y}).orderBy($=>{switch(h.value){case"liquidator":return $.liquidator;case"tx":return $.transaction;case"debt":return $.liquidated_collateral_usd;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},v.value===ee.Descending?"desc":"asc").value()),{page:I,rowsPage:M,onPage:D}=$e(A,ma),x=$=>{g.value=$};return q(()=>o.vaults,l),($,L)=>(_(),C(X,null,[p(n(ne),{class:"datatable-liquidations","columns-header":"1fr 12rem minmax(auto, 25rem) auto auto","columns-data":"liquidations-columns-data",loading:n(t),rows:n(M),columns:m.value,sorting:!0,"sorting-columns":b.value,"sorting-columns-enabled":f.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:n(u),onSelected:x},{"header-content":y(()=>[c("div",wc,k(n(a)("title")),1),p(at,{class:"select-collateral",collateral:i.value,all:!0,onSelectCollateral:L[0]||(L[0]=z=>i.value=z)},null,8,["collateral"]),p(n(ue),{modelValue:d.value,"onUpdate:modelValue":L[1]||(L[1]=z=>d.value=z),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"]),p(n(be),{class:"pagination","items-count":A.value.length,"items-per-page":ma,page:n(I),onPage:n(D)},null,8,["items-count","page","onPage"])]),row:y(z=>[c("img",{src:n(Le)(n(ke)(z.item.vault))},null,8,Cc),c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${z.item.liquidator}`,target:"_blank",onClick:L[2]||(L[2]=Q(()=>{},["stop"]))},k(n(H)(z.item.liquidator)),9,kc)]),c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${z.item.transaction}`,target:"_blank",onClick:L[3]||(L[3]=Q(()=>{},["stop"]))},k(n(H)(z.item.transaction)),9,Sc)]),c("div",Tc,[p(n(R),{type:"dollar",value:Math.round(z.item.liquidated_debt),precision:1/0},null,8,["value"])]),c("div",Pc,k(z.item.troves_affected_count),1),c("div",zc,k(n(r)(z.item.timestamp)),1)]),"row-details":y(()=>[F("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),p(n(De),{show:!!g.value,onClose:L[4]||(L[4]=z=>g.value=null)},{default:y(()=>[g.value?(_(),T(St,{key:0,liquidation:g.value,"vault-addr":g.value.vault},null,8,["liquidation","vault-addr"])):O("",!0)]),_:1},8,["show"])],64))}});function va(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidations"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof va=="function"&&va(So);const Lc=P(So,[["__scopeId","data-v-c9f8db7b"]]),Ic={class:"liquidations"},xc=S({__name:"Liquidations",setup(o){const e=new Ne("ethereum"),a=Fe(e.overview$,[]);return(t,s)=>(_(),C("div",Ic,[p(Lc,{vaults:n(a)},null,8,["vaults"])]))}});const Ac=P(xc,[["__scopeId","data-v-c74db113"]]),ot="https://api.prismamonitor.com/v1";class it extends Te{getContractAddress(e){switch(e){case"convex":return"0x0c73f1cfd5c9dfc150c8707aa47acbd14f0be108";case"yearn":return"0x774a55c3eeb79929fd445ae97191228ab39c4d0f";default:throw new Error("Unknown contract")}}async getTVL(e){return this.fetch(`${ot}/staking/${this.getContractAddress(e)}/tvl?period=all&groupby=day`)}async getFlow(e){return this.fetch(`${ot}/staking/${this.getContractAddress(e)}/flow?period=all&groupby=day`)}async getDistribution(e){return this.fetch(`${ot}/staking/${this.getContractAddress(e)}/distribution`)}async getSnapshots(e){return this.fetch(`${ot}/staking/${this.getContractAddress(e)}/snapshots?period=7d`)}}const To=S({__name:"ChartTVL",props:{contract:{}},setup(o){const{t:e}=W(),a=new it(E());let t,s;const l=K(),r=V(null),{loading:h,data:v}=U(()=>a.getTVL(o.contract).then(m=>m.tvl),[]);ae(async()=>{r.value&&(await pt(),t=Se(r.value,u(r.value,l.theme)),s=t.addAreaSeries(d(l.theme)),i(v.value))}),q(()=>l.theme,m=>{r.value&&(t.applyOptions(u(r.value,m)),s.applyOptions(d(m)))}),q(v,m=>{i(m)});const u=(m,b)=>ze(m,b,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>g(f)}}),d=m=>{const b=j(m);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:ge.WithSteps,lineColor:b.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},i=m=>{if(!t||!s)return;const b=N.chain(m).filter(f=>f.value>0).map(f=>({time:f.timestamp,value:f.value})).uniqWith((f,A)=>f.time===A.time).orderBy(f=>f.time,"asc").value();b.length>0&&s.setData(b),t.timeScale().fitContent()},g=m=>`$${te(m,0,"dollar")}${Z(m,"dollar")}`;return(m,b)=>(_(),T(n(se),{class:"chart-container",title:n(e)("title"),loading:n(h)},{default:y(()=>[c("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function pa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["TVL"])}}})}typeof pa=="function"&&pa(To);const Po=P(To,[["__scopeId","data-v-4cb4d1d0"]]),zo=S({__name:"ChartFlow",props:{contract:{}},setup(o){const{t:e}=W(),a=new it(E()),t=K(),{loading:s,data:l}=U(()=>a.getFlow(o.contract),{deposits:[],withdrawals:[]}),r=w(()=>{const i=j(t.theme),g=le(t.theme);return re({colors:i,colorsArray:g},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[i.green,i.red],xaxis:{categories:h.value,labels:{formatter:u,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:d}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:m,dataPointIndex:b,w:f})=>{let A=0;const I=m.map((M,D)=>{const x=M[b];return A+=x,`<div><b>${f.globals.seriesNames[D]}</b>:	${d(x)}</div>`});return I.push(`<div><b>Total</b>:	${d(A)}</div>`),I.join("")}}})}),h=w(()=>l.value.deposits.length===0?[]:l.value.deposits.map(i=>new Date(i.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),v=w(()=>[{name:e("deposits"),data:Object.values(l.value.deposits).map(i=>i.amount_usd)},{name:e("withdrawals"),data:Object.values(l.value.withdrawals).map(i=>-i.amount_usd)}]),u=i=>i,d=i=>`$${te(i,0,"dollar")}${Z(i,"dollar")}`;return(i,g)=>(_(),T(n(ie),{title:n(e)("title"),loading:n(s),options:r.value,series:v.value},null,8,["title","loading","options","series"]))}});function ha(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Staking and unstaking"])},deposits:a=>{const{normalize:t}=a;return t(["Deposits"])},withdrawals:a=>{const{normalize:t}=a;return t(["Withdrawals"])}}})}typeof ha=="function"&&ha(zo);const Lo=P(zo,[["__scopeId","data-v-a9468a01"]]),Io=S({__name:"ChartAPR",props:{contract:{}},setup(o){const{t:e}=W(),a=new it(E());let t,s;const l=K(),r=V(null),{loading:h,data:v}=U(()=>a.getSnapshots(o.contract).then(m=>m.Snapshots),[]);ae(async()=>{r.value&&(await pt(),t=Se(r.value,u(r.value,l.theme)),s=t.addAreaSeries(d(l.theme)),i(v.value))}),q(()=>l.theme,m=>{r.value&&(t.applyOptions(u(r.value,m)),s.applyOptions(d(m)))}),q(v,m=>{i(m)});const u=(m,b)=>ze(m,b,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>g(f)}}),d=m=>{const b=j(m);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:ge.WithSteps,lineColor:b.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},i=m=>{if(!t||!s)return;const b=N.chain(m).filter(f=>f.timestamp>=1699630610).map(f=>({time:f.timestamp,value:f.total_apr*100})).uniqWith((f,A)=>f.time===A.time).orderBy(f=>f.time,"asc").value();b.length>0&&s.setData(b),t.timeScale().fitContent()},g=m=>`${te(m,0,"percentage")}${Z(m,"percentage")}`;return(m,b)=>(_(),T(n(se),{class:"chart-container",title:n(e)("title"),loading:n(h)},{default:y(()=>[c("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function fa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["APR"])}}})}typeof fa=="function"&&fa(Io);const xo=P(Io,[["__scopeId","data-v-27fec992"]]),Ao=S({__name:"ChartDistribution",props:{contract:{}},setup(o){const{t:e}=W(),a=new it(E()),t=K(),{loading:s,data:l}=U(()=>a.getDistribution(o.contract).then(i=>i.distribution),[]),r=w(()=>{const i=j(t.theme),g=le(t.theme);return re({colors:i,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:h.value,labels:{formatter:u,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:d}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),h=w(()=>l.value.map(i=>i.label)),v=w(()=>[{name:e("size"),data:Object.values(l.value).map(i=>i.value)}]),u=i=>i,d=i=>`$${te(i,0,"dollar")}${Z(i,"dollar")}`;return(i,g)=>(_(),T(n(ie),{class:"chart",title:n(e)("title"),loading:n(s),options:r.value,series:v.value},null,8,["title","loading","options","series"]))}});function ga(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Position size"])},size:a=>{const{normalize:t}=a;return t(["Size"])}}})}typeof ga=="function"&&ga(Ao);const Do=P(Ao,[["__scopeId","data-v-4bf7940c"]]),Dc={class:"cvxprisma"},Oc=S({__name:"CvxPrisma",setup(o){return(e,a)=>(_(),C("div",Dc,[p(Po,{contract:"convex"}),p(Lo,{contract:"convex"}),p(xo,{contract:"convex"}),p(Do,{contract:"convex"})]))}});const Vc=P(Oc,[["__scopeId","data-v-b480b0ff"]]),Rc={class:"yprisma"},Mc=S({__name:"YPrisma",setup(o){return(e,a)=>(_(),C("div",Rc,[p(Po,{contract:"yearn"}),p(Lo,{contract:"yearn"}),p(xo,{contract:"yearn"}),p(Do,{contract:"yearn"})]))}});const qc=P(Mc,[["__scopeId","data-v-97b71344"]]),Wc={class:"wrappers"},Bc=S({__name:"Wrappers",setup(o){const e=Ae(),a=Ue(),t=V(0);return ae(()=>{const s=e.params.tab;s&&typeof s=="string"&&(s==="cvxprisma"?t.value=0:s==="yprisma"&&(t.value=1))}),q(t,async s=>{s===0?await a.push({name:"wrappers",params:{tab:"cvxprisma"}}):s===1&&await a.push({name:"wrappers",params:{tab:"yprisma"}})}),(s,l)=>(_(),C("div",Wc,[p(n(st),{active:t.value,onTab:l[0]||(l[0]=r=>t.value=r.index)},{default:y(()=>[p(n(_e),{header:"cvxPRISMA"},{default:y(()=>[t.value===0?(_(),T(Vc,{key:0})):O("",!0)]),_:1}),p(n(_e),{header:"yPRISMA"},{default:y(()=>[t.value===1?(_(),T(qc,{key:0})):O("",!0)]),_:1})]),_:1},8,["active"])]))}});const Ec=P(Bc,[["__scopeId","data-v-a3c0185e"]]),Uc={class:"title"},Fc=["href"],ba=10,Oo=S({__name:"TableLockers",props:{lockers:{default:()=>[]}},setup(o){const{t:e}=W(),{sortColumn:a,sortOrder:t,onSort:s}=Pe("weight"),l=V(""),r=w(()=>["Locker","Weight","Locked","Unlocked","Frozen"]),h=w(()=>["locker","weight","locked","unlocked","frozen"]),v=w(()=>["weight","locked","unlocked","frozen"]),u=w(()=>N.chain(o.lockers).filter(m=>{const b=l.value.toLocaleLowerCase().split(" ");return(A=>b.some(I=>A.toLocaleLowerCase().includes(I)))(m.id)}).orderBy(m=>{switch(a.value){case"weight":return m.weight;case"locked":return m.locked;case"unlocked":return m.unlocked;case"frozen":return m.frozen;default:return m.weight}},t.value===ee.Descending?"desc":"asc").value()),{page:d,rowsPage:i,onPage:g}=$e(u,ba);return(m,b)=>(_(),T(n(ne),{class:"datatable-lockers","columns-header":"1fr minmax(auto, 25rem) auto","columns-data":"lockers-columns-data",rows:n(i),columns:r.value,sorting:!0,"sorting-columns":h.value,"sorting-columns-enabled":v.value,"sorting-default-column":"weight","sorting-default-dir":"Descending",onSortColumn:n(s)},{"header-content":y(()=>[c("div",Uc,k(n(e)("title")),1),p(n(ue),{modelValue:l.value,"onUpdate:modelValue":b[0]||(b[0]=f=>l.value=f),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"]),p(n(be),{class:"pagination","items-count":u.value.length,"items-per-page":ba,page:n(d),onPage:n(g)},null,8,["items-count","page","onPage"])]),row:y(f=>[c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${f.item.id}`,target:"_blank",onClick:b[1]||(b[1]=Q(()=>{},["stop"]))},k(f.item.id),9,Fc)]),c("div",{class:B(["number",{zero:f.item.weight===0}])},[p(n(R),{type:"dollar",value:Math.round(f.item.weight),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),c("div",{class:B(["number",{zero:f.item.locked===0}])},[p(n(R),{type:"dollar",value:Math.round(f.item.locked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),c("div",{class:B(["number",{zero:f.item.unlocked===0}])},[p(n(R),{type:"dollar",value:Math.round(f.item.unlocked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),c("div",{class:B(["number",{zero:f.item.frozen===0}])},[p(n(R),{type:"dollar",value:Math.round(f.item.frozen),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2)]),_:1},8,["rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]))}});function ya(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Lockers"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof ya=="function"&&ya(Oo);const Nc=P(Oo,[["__scopeId","data-v-55511c57"]]),$a="https://api.thegraph.com/subgraphs/name/benber86/prisma-test";class Vo extends Te{async getTopLockers(){const e=`{
      lockers {
        totalWeight
      }
      accountDatas(first: 100 orderBy: weight orderDirection: desc) {
        id
        weight
        locked
        unlocked
        frozen
      }
    }`,a=await this.fetch($a,{query:e}),t=a.data.accountDatas.map(l=>({id:l.id,weight:parseInt(l.weight,10),locked:parseInt(l.locked,10),unlocked:parseInt(l.unlocked,10),frozen:parseInt(l.frozen,10)}));return{totalWeight:parseInt(a.data.lockers[0].totalWeight,10),accounts:t}}async getVotesIncentives(){const e=`{
      incentiveVotes(first:100, orderBy:blockNumber, orderDirection:desc) {
        voter {
          id
        }
        votes(first: 100, orderBy:weight, orderDirection:desc) {
          recipient {
            id
            address
          }
          weight
        }
        isClearance
        transactionHash
        blockTimestamp
      }
    }`;return(await this.fetch($a,{query:e})).data.incentiveVotes.map(t=>t.votes.map(s=>({voter:t.voter.id,recipient:s.recipient.address,weight:parseInt(s.weight,10),isClearance:t.isClearance,transaction:t.transactionHash,timestamp:parseInt(t.blockTimestamp,10)}))).flat()}}const Hc={class:"title"},jc=["href"],Gc=["href"],Yc={class:"number"},Jc={class:"number"},Kc=["href"],Qc={class:"number"},wa=20,Ro=S({__name:"TableVotesIncentives",setup(o){const{t:e}=W(),a=new Vo(E()),{loading:t,data:s}=U(()=>a.getVotesIncentives(),[]),{relativeTime:l}=ye(),r=w(()=>["Voter","Recipient","Weight","Tx","Time"]),h=w(()=>s.value),{page:v,rowsPage:u,onPage:d}=$e(h,wa);return(i,g)=>(_(),T(n(ne),{class:"datatable-votes-incentives","columns-header":"1fr minmax(auto, 25rem) auto","columns-data":"votes-incentives-columns-data",loading:n(t),rows:n(u),columns:r.value},{"header-content":y(()=>[c("div",Hc,k(n(e)("title")),1),p(n(be),{class:"pagination","items-count":h.value.length,"items-per-page":wa,page:n(v),onPage:n(d)},null,8,["items-count","page","onPage"])]),row:y(m=>[c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${m.item.voter}`,target:"_blank",onClick:g[0]||(g[0]=Q(()=>{},["stop"]))},k(n(H)(m.item.voter)),9,jc)]),c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${m.item.recipient}`,target:"_blank",onClick:g[1]||(g[1]=Q(()=>{},["stop"]))},k(n(H)(m.item.recipient)),9,Gc)]),c("div",Yc,[p(n(R),{type:"dollar",value:Math.round(m.item.weight),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])]),c("div",Jc,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${m.item.transaction}`,target:"_blank",onClick:g[2]||(g[2]=Q(()=>{},["stop"]))},k(n(H)(m.item.transaction)),9,Kc)]),c("div",Qc,k(n(l)(m.item.timestamp)),1)]),_:1},8,["loading","rows","columns"]))}});function Ca(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Incentive votes"])}}})}typeof Ca=="function"&&Ca(Ro);const Xc=P(Ro,[["__scopeId","data-v-5bb8abfe"]]),Mo=S({__name:"ChartTopLockers",props:{totalWeight:{default:0},lockers:{default:()=>[]}},setup(o){const{t:e}=W(),a=K(),t=w(()=>o.lockers.slice(0,10)),s=w(()=>{const u=j(a.theme),d=le(a.theme);return re({colors:u,colorsArray:d},{chart:{id:"topLockers",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:i=>{const g=r.value[i.seriesIndex],m=i.series[i.seriesIndex],b=m/(o.totalWeight/100);return[`<div><b>${g}</b>:</div><div>${v(b)} - ${h(m)}</div>`].join("")}},labels:t.value.map(i=>i.id).concat(["Other⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"])})}),l=w(()=>{const u=t.value.map(g=>g.weight),d=u.reduce((g,m)=>g+m,0),i=o.totalWeight-d;return[...u,i]}),r=w(()=>t.value.map(u=>u.id).concat(["Other"])),h=u=>`${te(u,2,"dollar")}${Z(u,"dollar")}`,v=u=>`${te(u,2,"percentage")}${Z(u,"percentage")}`;return(u,d)=>(_(),T(n(ie),{class:"graph",title:n(e)("title"),options:s.value,series:l.value},null,8,["title","options","series"]))}});function ka(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Top 10 largest lockers"])},numPos:a=>{const{normalize:t}=a;return t(["mkUSD balance:"])}}})}typeof ka=="function"&&ka(Mo);const Zc=P(Mo,[["__scopeId","data-v-468ddfdb"]]),eu={class:"veprisma"},tu=S({__name:"VePrisma",setup(o){const e=new Vo(E()),{loading:a,data:t}=U(()=>e.getTopLockers(),{totalWeight:0,accounts:[]}),s=w(()=>t.value.accounts),l=w(()=>t.value.totalWeight);return(r,h)=>(_(),C("div",eu,[p(Nc,{style:{"grid-row":"1","grid-column":"1"},loading:n(a),lockers:s.value},null,8,["loading","lockers"]),p(Zc,{style:{"grid-row":"1","grid-column":"2"},loading:n(a),lockers:s.value,"total-weight":l.value},null,8,["loading","lockers","total-weight"]),p(Xc,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}});const au=P(tu,[["__scopeId","data-v-088360fa"]]),ou=S({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(o){const e=K(),a=w(()=>{const r=j(e.theme),h=le(e.theme);return re({colors:r,colorsArray:h},{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:v=>{let u=s.value[v.seriesIndex];u=u.length>10?H(u):u;const d=v.series[v.seriesIndex];return[`<div><b>${u}</b>:</div><div>${l(d)}</div>`].join("")}},labels:o.data.map(v=>v.label.length>10?H(v.label):v.label)})}),t=w(()=>o.data.map(r=>r.value)),s=w(()=>o.data.map(r=>r.label)),l=r=>`$${te(Math.abs(r),1,"dollar")}${Z(r,"dollar")}`;return(r,h)=>(_(),T(n(ie),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const nu=P(ou,[["__scopeId","data-v-efd10802"]]),su={class:"actions"},qo=S({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Ie(E()),t=V("collateral"),{loading:s,data:l,load:r}=U(()=>o.vault?a.getLargeTrovePositions("ethereum",o.vault.address,t.value).then(h=>h.positions):Promise.resolve([]),[]);return q([t,()=>o.vault],r),(h,v)=>(_(),T(n(se),{class:"chart-container",title:n(e)("title"),loading:n(s)},{actions:y(()=>[c("div",su,[p(n(nt),{value:"Coll.","model-value":t.value==="collateral",onClick:v[0]||(v[0]=u=>t.value="collateral")},null,8,["model-value"]),p(n(nt),{value:"Debt","model-value":t.value==="debt",onClick:v[1]||(v[1]=u=>t.value="debt")},null,8,["model-value"])])]),default:y(()=>[p(nu,{data:n(l)},null,8,["data"])]),_:1},8,["title","loading"]))}});function Sa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["5 Largest Troves vs Others"])}}})}typeof Sa=="function"&&Sa(qo);const lu=P(qo,[["__scopeId","data-v-6a1ccb21"]]),ru=S({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(o){const e=K(),a=w(()=>{const l=j(e.theme),r=le(e.theme);return re({colors:l,colorsArray:r},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:s.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),t=w(()=>[{name:"# of troves",data:Object.values(o.data).map(l=>l.value)}]),s=w(()=>o.data.map(l=>l.label));return(l,r)=>(_(),T(n(ie),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const iu=P(ru,[["__scopeId","data-v-b58532a3"]]),cu={class:"actions"},Wo=S({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Ie(E()),{loading:t,data:s,load:l}=U(()=>o.vault?a.getTroveDistribution("ethereum",o.vault.address,r.value).then(h=>h.distribution):Promise.resolve([]),[]),r=V("collateral");return q([r,()=>o.vault],l),(h,v)=>(_(),T(n(se),{class:"chart-container",title:n(e)("title"),loading:n(t)},{actions:y(()=>[c("div",cu,[p(n(nt),{value:"Coll.","model-value":r.value==="collateral",onClick:v[0]||(v[0]=u=>r.value="collateral")},null,8,["model-value"]),p(n(nt),{value:"Debt","model-value":r.value==="debt",onClick:v[1]||(v[1]=u=>r.value="debt")},null,8,["model-value"])])]),default:y(()=>[p(iu,{data:n(s)},null,8,["data"])]),_:1},8,["title","loading"]))}});function Ta(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Troves Distribution"])}}})}typeof Ta=="function"&&Ta(Wo);const uu=P(Wo,[["__scopeId","data-v-10917c24"]]),du={class:"kpis"},_u=S({__name:"VaultKPIs",props:{vault:{default:null}},setup(o){return(e,a)=>(_(),C("div",du,[p(n(oe),{label:"TVL","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),T(n(R),{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):O("",!0)]),_:1},8,["has-value"]),p(n(oe),{label:"Debt / Debt Cap","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),T(n(R),{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):O("",!0),F(" / "),e.vault?(_(),T(n(R),{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):O("",!0)]),_:1},8,["has-value"]),p(n(oe),{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),T(n(R),{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):O("",!0),F(" / "),e.vault?(_(),T(n(R),{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):O("",!0)]),_:1},8,["has-value"]),p(n(oe),{label:"Interest rate","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),T(n(R),{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):O("",!0)]),_:1},8,["has-value"]),p(n(oe),{label:"Troves open / total","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),T(n(R),{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):O("",!0),F(" / "),e.vault?(_(),T(n(R),{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):O("",!0)]),_:1},8,["has-value"]),p(n(oe),{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),T(n(R),{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):O("",!0),F(" / "),e.vault?(_(),T(n(R),{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):O("",!0)]),_:1},8,["has-value"])]))}});const mu=P(_u,[["__scopeId","data-v-12fbfe11"]]),Bo=S({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Ie(E());let t,s;const l=K(),r=V(null),{loading:h,data:v,load:u}=U(()=>o.vault?a.getVaultCollateralRatio("ethereum",o.vault.address,"1m").then(m=>m.ratio):Promise.resolve([]),[]);ae(()=>{r.value&&(t=Se(r.value,d(r.value,l.theme)),s=t.addAreaSeries(i(l.theme)),g(v.value))}),q(()=>l.theme,m=>{r.value&&(t.applyOptions(d(r.value,m)),s.applyOptions(i(m)))}),q(()=>o.vault,u),q(v,m=>{g(m)});const d=(m,b)=>ze(m,b,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),i=m=>{const b=j(m);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ge.WithSteps,lineColor:b.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=m=>{if(!t||!s)return;const b=N.chain(m).map(f=>({time:f.timestamp,value:f.value*100})).uniqWith((f,A)=>f.time===A.time).orderBy(f=>f.time,"asc").value();b.length>0&&s.setData(b),t.timeScale().fitContent()};return(m,b)=>(_(),T(n(se),{class:"chart-container",title:n(e)("title"),loading:n(h)},{default:y(()=>[c("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Pa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vault collateral ratio"])}}})}typeof Pa=="function"&&Pa(Bo);const vu=P(Bo,[["__scopeId","data-v-f38834b1"]]),Eo=S({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Ie(E());let t,s;const l=K(),r=V(null),{loading:h,data:v,load:u}=U(()=>o.vault?a.getVaultTroveCount("ethereum",o.vault.address,"1m").then(m=>m.count):Promise.resolve([]),[]);ae(()=>{r.value&&(t=Se(r.value,d(r.value,l.theme)),s=t.addAreaSeries(i(l.theme)),g(v.value))}),q(()=>l.theme,m=>{r.value&&(t.applyOptions(d(r.value,m)),s.applyOptions(i(m)))}),q(()=>o.vault,u),q(v,m=>{g(m)});const d=(m,b)=>ze(m,b,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),i=m=>{const b=j(m);return{priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:ge.WithSteps,lineColor:b.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=m=>{if(!t||!s)return;const b=N.chain(m).map(f=>({time:f.timestamp,value:f.value})).uniqWith((f,A)=>f.time===A.time).orderBy(f=>f.time,"asc").value();b.length>0&&s.setData(b),t.timeScale().fitContent()};return(m,b)=>(_(),T(n(se),{class:"chart-container",title:n(e)("title"),loading:n(h)},{default:y(()=>[c("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function za(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Number of open troves"])}}})}typeof za=="function"&&za(Eo);const pu=P(Eo,[["__scopeId","data-v-221c503a"]]),hu={class:"vault-overview"},fu=S({__name:"VaultOverview",props:{vault:{}},setup(o){return(e,a)=>(_(),C("div",hu,[p(mu,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),p(uu,{vault:e.vault},null,8,["vault"]),p(lu,{vault:e.vault},null,8,["vault"]),p(vu,{vault:e.vault},null,8,["vault"]),p(pu,{vault:e.vault},null,8,["vault"])]))}});const gu=P(fu,[["__scopeId","data-v-ad4ff57f"]]),dt="https://api.prismamonitor.com/v1";class Pt extends Te{async getCollateralPrices(e,a,t){return this.fetch(`${dt}/collateral/${e}/${a}/prices?period=${t}`)}async getCollateralPriceImpact(e,a){return this.fetch(`${dt}/collateral/${e}/${a}/impact`)}async getCollateralInfo(e,a){return this.fetch(`${dt}/collateral/${e}/${a}/info`)}}const bu={class:"actions"},Uo=S({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Pt(E());let t,s,l;const r=K(),h=V(null),v={oracle:[],market:[]},{loading:u,data:d,load:i}=U(async()=>{if(o.vault){const I=await a.getCollateralPrices("ethereum",o.vault.collateral,"7d");return g(I.oracle,I.market)}else return Promise.resolve(v)},v);ae(async()=>{h.value&&(await pt(),t=Se(h.value,m(h.value,r.theme)),s=t.addAreaSeries(f(r.theme)),l=t.addAreaSeries(b(r.theme)),A(d.value))}),q(()=>o.vault,i),q(()=>r.theme,I=>{h.value&&(t.applyOptions(m(h.value,I)),s.applyOptions(f(I)),l.applyOptions(b(I)))}),q(d,I=>{A(I)});const g=(I,M)=>{const D=Math.max(I[0].timestamp,M[0].timestamp),x=Math.min(I[I.length-1].timestamp,M[M.length-1].timestamp),$=I.filter(z=>z.timestamp>=D&&z.timestamp<=x),L=M.filter(z=>z.timestamp>=D&&z.timestamp<=x);return $[$.length-1].timestamp<x&&$.push({timestamp:x,value:$[$.length-1].value}),L[L.length-1].timestamp<x&&L.push({timestamp:x,value:L[L.length-1].value}),{oracle:$,market:L}},m=(I,M)=>ze(I,M,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),b=I=>{const M=j(I);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ge.WithSteps,lineColor:M.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},f=I=>{const M=j(I);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ge.WithSteps,lineColor:M.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},A=I=>{if(!t||!s)return;const M=N.chain(I.oracle).map(x=>({time:x.timestamp,value:x.value})).uniqWith((x,$)=>x.time===$.time).orderBy(x=>x.time,"asc").value(),D=N.chain(I.market).map(x=>({time:x.timestamp,value:x.value})).uniqWith((x,$)=>x.time===$.time).orderBy(x=>x.time,"asc").value();D.length>0&&l.setData(D),M.length>0&&s.setData(M),t.timeScale().fitContent()};return(I,M)=>(_(),T(n(se),{class:"chart-container",title:n(e)("title"),loading:n(u)},{actions:y(()=>[c("div",bu,[p(n(Tl),{items:["Oracle","Market"],colors:n(le)(n(r).theme)},null,8,["colors"])])]),default:y(()=>[c("div",{ref_key:"chartRef",ref:h,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function La(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Oracle & Market price"])}}})}typeof La=="function"&&La(Uo);const yu=P(Uo,[["__scopeId","data-v-dd698e9d"]]),Fo=S({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Pt(E()),t=K(),{loading:s,data:l,load:r}=U(()=>o.vault?a.getCollateralPriceImpact("ethereum",o.vault.collateral).then(g=>g.impact):Promise.resolve([]),[]),h=w(()=>{const g=j(t.theme),m=le(t.theme);return re({colors:g,colorsArray:m},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:u.value,labels:{formatter:b=>d(b)}},yaxis:{seriesName:"impact",labels:{formatter:b=>i(b)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:b=>{if(!o.vault)return"";const f=u.value[b.dataPointIndex],A=d(f*o.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${d(f)} ${o.vault.name} ($${A})</div>

          <div><b>Price impact:</b>:</div>
          <div>${i(b.series[0][b.dataPointIndex])}</div>
          `}}})}),v=w(()=>[{name:e("priceImpact"),data:Object.values(l.value).map(g=>g.impact)}]),u=w(()=>l.value.map(g=>o.vault?g.amount/o.vault.price:0)),d=g=>`${te(Math.abs(g),1,"dollar")}${Z(g,"dollar")}`,i=g=>`${te(g,2,"percentage")}${Z(g,"percentage")}`;return q(()=>o.vault,r),(g,m)=>(_(),T(n(ie),{class:"chart",title:n(e)("title"),loading:n(s),options:h.value,series:v.value},null,8,["title","loading","options","series"]))}});function Ia(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["On-chain Selling Price Impact"])},priceImpact:a=>{const{normalize:t}=a;return t(["Price impact"])}}})}typeof Ia=="function"&&Ia(Fo);const $u=P(Fo,[["__scopeId","data-v-0dee4660"]]),wu={class:"kpis"},Cu=["href"],ku=S({__name:"CollateralKPIs",props:{vault:{default:null}},setup(o){const e=new Pt(E()),{data:a,load:t}=U(()=>o.vault?e.getCollateralInfo("ethereum",o.vault.collateral).then(s=>s.info):Promise.resolve(null),null);return q(()=>o.vault,t),(s,l)=>(_(),C("div",wu,[p(n(oe),{label:"Oracle price","has-value":!!n(a)},{default:y(()=>[n(a)?(_(),T(n(R),{key:0,value:n(a).price,precision:2,type:"dollar"},null,8,["value"])):O("",!0)]),_:1},8,["has-value"]),p(n(oe),{label:"Total supply","has-value":!!n(a)},{default:y(()=>[n(a)?(_(),T(n(R),{key:0,value:n(a).supply,precision:2,type:"dollar"},null,8,["value"])):O("",!0)]),_:1},8,["has-value"]),p(n(oe),{label:"TVL","has-value":!!n(a)},{default:y(()=>[n(a)?(_(),T(n(R),{key:0,value:n(a).tvl,precision:1,type:"dollar"},null,8,["value"])):O("",!0)]),_:1},8,["has-value"]),p(n(oe),{label:"Share of the ETH LSD market","has-value":!!n(a)},{default:y(()=>[n(a)?(_(),T(n(R),{key:0,value:n(a).share,precision:1,type:"percentage"},null,8,["value"])):O("",!0)]),_:1},8,["has-value"]),p(n(oe),{label:"Full risk analysis by Prisma Risk team","has-value":!!n(a)},{default:y(()=>[n(a)?(_(),C("a",{key:0,href:n(a).risk}," Risk Report ",8,Cu)):O("",!0)]),_:1},8,["has-value"])]))}});const Su=P(ku,[["__scopeId","data-v-f0e40118"]]),Tu={class:"collateral"},Pu=S({__name:"Collateral",props:{vault:{}},setup(o){return(e,a)=>(_(),C("div",Tu,[p(Su,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),p(yu,{vault:e.vault},null,8,["vault"]),p($u,{vault:e.vault},null,8,["vault"])]))}});const zu=P(Pu,[["__scopeId","data-v-a7083765"]]),Lu={class:"title"},Iu=["href"],xu=["href"],Au={class:"number"},Du={class:"number"},Ou={class:"number"},xa=15,No=S({__name:"TableLiquidations",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Tt(E()),{loading:t,data:s,load:l}=U(()=>o.vault?a.getLiquidations("ethereum",o.vault.address):Promise.resolve([]),[]),{relativeTime:r}=ye(),{sortColumn:h,sortOrder:v,onSort:u}=Pe("timestamp"),d=V(""),i=V(null),g=w(()=>["Liquidator","Transaction","Debt","# Troves","Time"]),m=w(()=>["liquidator","tx","debt","numtroves","timestamp"]),b=w(()=>N.chain(s.value).filter(D=>{const x=d.value.toLocaleLowerCase().split(" ");return(L=>x.some(z=>L.toLocaleLowerCase().includes(z)))(D.liquidator)}).orderBy(D=>{switch(h.value){case"liquidator":return D.liquidator;case"tx":return D.transaction;case"debt":return D.liquidated_collateral_usd;case"numtroves":return D.troves_affected_count;case"timestamp":return D.timestamp;default:return D.timestamp}},v.value===ee.Descending?"desc":"asc").value()),{page:f,rowsPage:A,onPage:I}=$e(b,xa),M=D=>{i.value=D};return q(()=>o.vault,l),(D,x)=>(_(),C(X,null,[p(n(ne),{class:"datatable-liquidations","columns-header":"1fr 1fr auto auto","columns-data":"liquidations-columns-data",loading:n(t),rows:n(A),columns:g.value,sorting:!0,"sorting-columns":m.value,"sorting-columns-enabled":m.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:n(u),onSelected:M},{"header-content":y(()=>[c("div",Lu,k(n(e)("title")),1),p(n(ue),{modelValue:d.value,"onUpdate:modelValue":x[0]||(x[0]=$=>d.value=$),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"]),p(n(be),{class:"pagination","items-count":b.value.length,"items-per-page":xa,page:n(f),onPage:n(I)},null,8,["items-count","page","onPage"])]),row:y($=>[c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${$.item.liquidator}`,target:"_blank",onClick:x[1]||(x[1]=Q(()=>{},["stop"]))},k(n(H)($.item.liquidator)),9,Iu)]),c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${$.item.transaction}`,target:"_blank",onClick:x[2]||(x[2]=Q(()=>{},["stop"]))},k(n(H)($.item.transaction)),9,xu)]),c("div",Au,[p(n(R),{type:"dollar",value:Math.round($.item.liquidated_debt),precision:1/0},null,8,["value"])]),c("div",Du,k($.item.troves_affected_count),1),c("div",Ou,k(n(r)($.item.timestamp)),1)]),"row-details":y(()=>[F("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),p(n(De),{show:!!i.value,onClose:x[3]||(x[3]=$=>i.value=null)},{default:y(()=>{var $;return[i.value?(_(),T(St,{key:0,liquidation:i.value,"vault-addr":(($=D.vault)==null?void 0:$.address)??""},null,8,["liquidation","vault-addr"])):O("",!0)]}),_:1},8,["show"])],64))}});function Aa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidations"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Aa=="function"&&Aa(No);const Vu=P(No,[["__scopeId","data-v-97a00cfc"]]),Ru={class:"liquidations"},Mu=S({__name:"Liquidations",props:{vault:{}},setup(o){return(e,a)=>(_(),C("div",Ru,[p(Vu,{vault:e.vault},null,8,["vault"])]))}});const qu=P(Mu,[["__scopeId","data-v-3b2484a7"]]),Wu={class:"title"},Bu=["href"],Eu=["href"],Uu={class:"number"},Fu={class:"number"},Nu={class:"number"},Da=15,Ho=S({__name:"TableRedemptions",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new kt(E()),{loading:t,data:s,load:l}=U(()=>o.vault?a.getRedemptions("ethereum",o.vault.address):Promise.resolve([]),[]),{relativeTime:r}=ye(),{sortColumn:h,sortOrder:v,onSort:u}=Pe("timestamp"),d=V(""),i=V(null),g=w(()=>["Redeemer","Transaction","Debt","# Troves","Time"]),m=w(()=>["redeemer","tx","debt","numtroves","timestamp"]),b=w(()=>N.chain(s.value).filter(D=>{const x=d.value.toLocaleLowerCase().split(" ");return(L=>x.some(z=>L.toLocaleLowerCase().includes(z)))(D.redeemer)}).orderBy(D=>{switch(h.value){case"redeemer":return D.redeemer;case"tx":return D.transaction;case"debt":return D.actual_debt_amount;case"numtroves":return D.troves_affected_count;case"timestamp":return D.timestamp;default:return D.timestamp}},v.value===ee.Descending?"desc":"asc").value()),{page:f,rowsPage:A,onPage:I}=$e(b,Da),M=D=>{i.value=D};return q(()=>o.vault,l),(D,x)=>(_(),C(X,null,[p(n(ne),{class:"datatable-redemptions","columns-header":"1fr 1fr auto auto","columns-data":"redemptions-columns-data",loading:n(t),rows:n(A),columns:g.value,sorting:!0,"sorting-columns":m.value,"sorting-columns-enabled":m.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:n(u),onSelected:M},{"header-content":y(()=>[c("div",Wu,k(n(e)("title")),1),p(n(ue),{modelValue:d.value,"onUpdate:modelValue":x[0]||(x[0]=$=>d.value=$),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"]),p(n(be),{class:"pagination","items-count":b.value.length,"items-per-page":Da,page:n(f),onPage:n(I)},null,8,["items-count","page","onPage"])]),row:y($=>[c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${$.item.redeemer}`,target:"_blank",onClick:x[1]||(x[1]=Q(()=>{},["stop"]))},k(n(H)($.item.redeemer)),9,Bu)]),c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${$.item.transaction}`,target:"_blank",onClick:x[2]||(x[2]=Q(()=>{},["stop"]))},k(n(H)($.item.transaction)),9,Eu)]),c("div",Uu,[p(n(R),{type:"dollar",value:Math.round($.item.actual_debt_amount),precision:1/0},null,8,["value"])]),c("div",Fu,k($.item.troves_affected_count),1),c("div",Nu,k(n(r)($.item.timestamp)),1)]),"row-details":y(()=>[F("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),p(n(De),{show:!!i.value,onClose:x[3]||(x[3]=$=>i.value=null)},{default:y(()=>{var $;return[i.value?(_(),T(Ct,{key:0,redemption:i.value,"vault-addr":(($=D.vault)==null?void 0:$.address)??""},null,8,["redemption","vault-addr"])):O("",!0)]}),_:1},8,["show"])],64))}});function Oa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Redemptions"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Oa=="function"&&Oa(Ho);const Hu=P(Ho,[["__scopeId","data-v-b5493b99"]]),ju={class:"redemptions"},Gu=S({__name:"Redemptions",props:{vault:{}},setup(o){return(e,a)=>(_(),C("div",ju,[p(Hu,{vault:e.vault},null,8,["vault"])]))}});const Yu=P(Gu,[["__scopeId","data-v-ff43effe"]]),Ke="https://api.prismamonitor.com/v1";class je extends Te{async getTroves(e,a,t){return Ee(l=>this.fetch(`${Ke}/trove/${e}/${a}/troves?items=100&page=${l}&order_by=last_update&desc=true${t?"&owner_filter="+t:""}`).then(r=>r.troves),1,100)}async getTroveSnapshots(e,a,t){return this.fetch(`${Ke}/trove/${e}/${a}/snapshots/${t}`)}async getTroveDetail(e,a,t){return this.fetch(`${Ke}/trove/${e}/${a}/${t}`)}async getTroveHistory(e,a,t){return this.fetch(`${Ke}/trove/${e}/${a}/history/${t}`)}async getTroveRank(e,a,t){return this.fetch(`${Ke}/trove/${e}/${a}/rank/${t}`)}}const Ju=["href"],Ku={class:"number"},Qu={class:"number"},Va=15,jo=S({__name:"TableTroves",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new je(E()),{loading:t,data:s,load:l}=U(()=>o.vault?a.getTroves("ethereum",o.vault.address):Promise.resolve([]),[]),{relativeTime:r}=ye(),{sortColumn:h,sortOrder:v,onSort:u}=Pe("updated"),d=V(""),i=V("Open"),g=w(()=>i.value==="Open"?["Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["Owner","","","","Created At","Last Updated"]),m=w(()=>i.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","","","","created","updated"]),b=w(()=>i.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),f=w(()=>N.chain(s.value).filter(x=>i.value===x.status).filter(x=>{const $=d.value.toLocaleLowerCase().split(" ");return(z=>$.some(G=>z.toLocaleLowerCase().includes(G)))(x.owner)}).orderBy(x=>{switch(h.value){case"owner":return x.owner;case"debt":return x.debt;case"coll":return x.collateral_usd;case"ratio":return x.collateral_ratio;case"created":return x.created_at;case"updated":return x.last_update;default:return x.last_update}},v.value===ee.Descending?"desc":"asc").value()),{page:A,rowsPage:I,onPage:M}=$e(f,Va),D=x=>{x===0?i.value="Open":x===1?i.value="Closed":i.value="Open"};return q(()=>o.vault,l),(x,$)=>(_(),T(n(ne),{class:"datatable-troves","columns-header":"1fr 1fr auto","columns-data":"troves-columns-data",loading:n(t),rows:n(I),columns:g.value,sorting:!0,"sorting-columns":m.value,"sorting-columns-enabled":b.value,"sorting-default-column":"updated","sorting-default-dir":"Descending",onSortColumn:n(u)},{"header-content":y(()=>[p(n(st),{class:"types",onTab:$[0]||($[0]=L=>D(L.index))},{default:y(()=>[p(n(_e),{header:"Open"}),p(n(_e),{header:"Closed"})]),_:1}),p(n(ue),{modelValue:d.value,"onUpdate:modelValue":$[1]||($[1]=L=>d.value=L),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"]),p(n(be),{class:"pagination","items-count":f.value.length,"items-per-page":Va,page:n(A),onPage:n(M)},null,8,["items-count","page","onPage"])]),row:y(L=>[c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${L.item.owner}`,target:"_blank",onClick:$[2]||($[2]=Q(()=>{},["stop"]))},k(n(H)(L.item.owner)),9,Ju)]),c("div",{class:B(["number",{hide:i.value==="Closed"}])},[p(n(R),{type:"dollar",value:Math.round(L.item.debt),precision:1/0},null,8,["value"])],2),c("div",{class:B(["number",{hide:i.value==="Closed"}])},[p(n(R),{type:"dollar",value:Math.round(L.item.collateral_usd),precision:1/0},null,8,["value"])],2),c("div",{class:B(["number",{hide:i.value==="Closed"}])},[p(n(R),{value:L.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),c("div",Ku,k(n(r)(L.item.created_at)),1),c("div",Qu,k(n(r)(L.item.last_update)),1)]),"row-details":y(()=>[F("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]))}});function Ra(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Ra=="function"&&Ra(jo);const Xu=P(jo,[["__scopeId","data-v-e3da76fb"]]),Zu={class:"troves"},ed=S({__name:"Troves",props:{vault:{}},setup(o){const e=rt(),a=Ue(),t=async s=>{e.trove=s,o.vault&&await a.push({name:"prismatrove",params:{troveAddr:s.owner,vaultAddr:o.vault.address}})};return(s,l)=>(_(),C("div",Zu,[p(Xu,{vault:s.vault,onSelected:t},null,8,["vault"])]))}});const td=P(ed,[["__scopeId","data-v-a25b939f"]]),ad={class:"vault-manager"},od=S({__name:"VaultManager",setup(o){const e=new Ne("ethereum"),a=Ae(),t=Ue(),s=lt(),l=rt(),r=Fe(e.overview$,[]),h=V(0),v=w(()=>a.params.vaultAddr),u=w(()=>l.vault);return ae(()=>{var i;const d=a.params.tab;d&&typeof d=="string"&&(d==="collateral"?h.value=1:d==="trove"?h.value=2:d==="liquidations"?h.value=3:d==="redemptions"&&(h.value=4)),s.show=!0,s.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((i=u.value)==null?void 0:i.name)??"?"}`}]}),q(r,d=>{const i=d.find(g=>g.address===v.value);i&&(l.vault=i)}),q(u,d=>{s.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(d==null?void 0:d.name)??"?"}`}]}),q(h,async d=>{d===0?await t.push({name:"prismavault",params:{tab:"",vaultAddr:v.value}}):d===1?await t.push({name:"prismavault",params:{tab:"collateral",vaultAddr:v.value}}):d===2?await t.push({name:"prismavault",params:{tab:"trove",vaultAddr:v.value}}):d===3?await t.push({name:"prismavault",params:{tab:"liquidations",vaultAddr:v.value}}):d===4&&await t.push({name:"prismavault",params:{tab:"redemptions",vaultAddr:v.value}})}),(d,i)=>(_(),C("div",ad,[p(n(st),{active:h.value,onTab:i[0]||(i[0]=g=>h.value=g.index)},{default:y(()=>[p(n(_e),{header:"Overview"},{default:y(()=>[(_(),T(Ge,null,[h.value===0?(_(),T(gu,{key:0,vault:u.value},null,8,["vault"])):O("",!0)],1024))]),_:1}),p(n(_e),{header:"Collateral"},{default:y(()=>[(_(),T(Ge,null,[h.value===1&&u.value?(_(),T(zu,{key:0,vault:u.value},null,8,["vault"])):O("",!0)],1024))]),_:1}),p(n(_e),{header:"Troves"},{default:y(()=>[(_(),T(Ge,null,[h.value===2&&u.value?(_(),T(td,{key:0,vault:u.value},null,8,["vault"])):O("",!0)],1024))]),_:1}),p(n(_e),{header:"Liquidations"},{default:y(()=>[(_(),T(Ge,null,[h.value===3&&u.value?(_(),T(qu,{key:0,vault:u.value},null,8,["vault"])):O("",!0)],1024))]),_:1}),p(n(_e),{header:"Redemptions"},{default:y(()=>[(_(),T(Ge,null,[h.value===4&&u.value?(_(),T(Yu,{key:0,vault:u.value},null,8,["vault"])):O("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const nd=P(od,[["__scopeId","data-v-dbaa226b"]]),sd=o=>(ve("data-v-25d800cb"),o=o(),pe(),o),ld=sd(()=>c("div",null,[F(" This chart displays that amount of collateral available below different collateral ratios. "),c("br"),F(" It also displays the position of the trove relative to other troves in this vault. "),c("br"),c("br"),F(" This information is useful to estimate a trove's risk of redemption. "),c("br"),F(" Even if the trove's collateral ratio is high in the absolute, a lower ratio relative "),c("br"),F(" to other troves means a higher risk of redemption."),c("br"),c("br"),F(` As such, the lower the "risk rank" displayed, the higher the trove's risk of being redeemed. `)],-1)),Go=S({__name:"ChartTroveRank",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=W(),a=new je(E()),t=K(),s=V("Trove Relative Position"),l={rank:null,total_positions:0,ratio:null,positions:[]},{loading:r,data:h,load:v}=U(async()=>o.vault&&o.trove?await a.getTroveRank("ethereum",o.vault.address,o.trove.owner):Promise.resolve(l),l),u=w(()=>{var I,M;const b=j(t.theme),f=le(t.theme),A={x:((I=h.value)==null?void 0:I.ratio)??0,borderColor:b.yellow,strokeDashArray:2,label:{borderColor:b.yellow,style:{background:b.yellow,color:"rgb(34, 34, 34)"},position:"top",offsetX:15,text:`This trove: ${m(((M=h.value)==null?void 0:M.ratio)??0,1)}`}};return re({colors:b,colorsArray:f},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!0}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},annotations:{xaxis:h.value.ratio?[A]:[]},toolbar:{show:!1},xaxis:{type:"numeric",categories:i.value,labels:{formatter:D=>m(D)}},yaxis:{seriesName:"impact",labels:{formatter:D=>g(D)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:D=>{if(!o.vault)return"";const x=i.value[D.dataPointIndex];return`
          <div><b>Collateral ratio:</b>:</div>
          <div>${D.dataPointIndex===i.value.length-1?"Over 250%":m(x)}</div>

          <div><b>Troves with lower or equal ratio:</b>:</div>
          <div>${h.value.positions[D.dataPointIndex].trove_count}</div>

          <div><b>Collateral value at lower or equal ratio:</b>:</div>
          <div>$${g(D.series[0][D.dataPointIndex])}</div>
          `}}})}),d=w(()=>[{name:e("rank"),data:Object.values(h.value.positions).map(b=>b.collateral_usd)}]),i=w(()=>h.value.positions.map(b=>b.ratio)),g=b=>`${te(Math.abs(b),1,"dollar")}${Z(b,"dollar")}`,m=(b,f=0)=>`${te(b,f,"percentage")}${Z(b,"percentage")}`;return q(()=>o.vault,v),q(h,b=>{b&&typeof b.rank=="number"&&(s.value=e("title",{rank:b.rank,total_positions:b.total_positions}))},{immediate:!0}),(b,f)=>(_(),T(n(se),{class:"chart-container",title:s.value,loading:n(r)},{actions:y(()=>[p(n(Xe),null,{default:y(()=>[ld]),_:1})]),default:y(()=>[p(n(Xa),{class:"chart",options:u.value,series:d.value},null,8,["options","series"])]),_:1},8,["title","loading"]))}});function Ma(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t,interpolate:s,named:l}=a;return t(["Trove Relative Position (Risk rank: ",s(l("rank"))," / ",s(l("total_positions")),")"])}}})}typeof Ma=="function"&&Ma(Go);const rd=P(Go,[["__scopeId","data-v-25d800cb"]]),Yo=S({__name:"ChartTroveHealth",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=W(),a=new je(E()),t=K(),{loading:s,data:l,load:r}=U(async()=>o.vault&&o.trove?await a.getTroveSnapshots("ethereum",o.vault.address,o.trove.owner).then(g=>g.snapshots):Promise.resolve([]),[]),h=w(()=>{const i=j(t.theme),g=le(t.theme);return re({colors:i,colorsArray:g},{chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"collateralUsd",tickAmount:4,opposite:!0,labels:{formatter:m=>u(m)},min:0,max:Math.max(...l.value.map(m=>m.collateral_usd))},{seriesName:"ratio",tickAmount:4,labels:{formatter:m=>d(m)},min:0,max:Math.max(...l.value.map(m=>m.cr??0))}],dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:m=>{const b=m.w.globals.initialSeries[0].data[m.dataPointIndex].y,f=m.w.globals.initialSeries[1].data[m.dataPointIndex]?m.w.globals.initialSeries[1].data[m.dataPointIndex].y:0;return[`<div><b>${e("ratio")}</b>:</div><div>${d(f)}</div>`,`<div><b>${e("collateralUsd")}</b>:</div><div>${u(b)}</div>`].join("")}}})}),v=w(()=>[{name:e("collateralUsd"),type:"line",data:l.value.map(i=>({x:i.timestamp*1e3,y:i.collateral_usd}))},{name:e("ratio"),type:"line",data:l.value.map(i=>({x:i.timestamp*1e3,y:i.cr??0}))}]),u=i=>`$${te(i,1,"dollar")}${Z(i,"dollar")}`,d=i=>`${xe(i*100,2)}%`;return q(()=>o.vault,r),(i,g)=>(_(),T(n(ie),{class:"health",title:n(e)("title"),options:h.value,series:v.value,loading:n(s)},null,8,["title","options","series","loading"]))}});function qa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Health"])},collateralUsd:a=>{const{normalize:t}=a;return t(["Collateral ($)"])},ratio:a=>{const{normalize:t}=a;return t(["Ratio"])}}})}typeof qa=="function"&&qa(Yo);const id=P(Yo,[["__scopeId","data-v-d951ca25"]]),cd={class:"title"},ud={class:"number"},dd={class:"number"},_d={class:"number"},md={class:"number"},vd={class:"number"},pd=["href"],hd={class:"number"},Jo=S({__name:"TableTroveOps",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=W(),a=new je(E()),{relativeTime:t}=ye(),s=w(()=>N.orderBy(r.value,u=>u.timestamp,"desc")),{loading:l,data:r,load:h}=U(()=>o.vault&&o.trove?a.getTroveSnapshots("ethereum",o.vault.address,o.trove.owner).then(u=>u.snapshots):Promise.resolve([]),[]),v=u=>u.replace(/^_*(.)|_+(.)/g,(d,i,g)=>i?i.toUpperCase():" "+g.toUpperCase());return q(()=>o.vault,h),(u,d)=>(_(),T(n(ne),{class:"datatable-trove-ops","columns-header":"1fr 1fr auto","columns-data":"trove-ops-columns-data",loading:n(l),rows:s.value,columns:["Operation","Collateral","Debt","Ratio","Stake","Tx","Time"]},{"header-content":y(()=>[c("div",cd,k(n(e)("title")),1)]),row:y(i=>[c("div",null,k(v(i.item.operation)),1),c("div",ud,[i.item.collateral?(_(),T(n(R),{key:0,value:i.item.collateral,precision:3,"show-symbol":!1,type:"dollar"},null,8,["value"])):O("",!0)]),c("div",dd,[p(n(R),{type:"dollar",value:Math.round(i.item.debt),precision:1/0},null,8,["value"])]),c("div",_d,[i.item.cr?(_(),T(n(R),{key:0,value:i.item.cr*100,precision:2,type:"percentage"},null,8,["value"])):O("",!0)]),c("div",md,[i.item.stake?(_(),T(n(R),{key:0,value:i.item.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])):O("",!0)]),c("div",vd,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${i.item.hash}`,target:"_blank",onClick:d[0]||(d[0]=Q(()=>{},["stop"]))},k(n(H)(i.item.hash)),9,pd)]),c("div",hd,k(n(t)(i.item.timestamp)),1)]),_:1},8,["loading","rows"]))}});function Wa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Operations"])}}})}typeof Wa=="function"&&Wa(Jo);const fd=P(Jo,[["__scopeId","data-v-168e7e87"]]),gd={class:"trove"},bd=S({__name:"Trove",setup(o){const e=new je(E()),a=new Ne("ethereum"),t=lt(),s=rt(),l=Ae(),r=Fe(a.overview$,[]),h=w(()=>l.params.vaultAddr),v=w(()=>s.vault),u=w(()=>s.trove);return ae(async()=>{var i,g;const d=await e.getTroveDetail("ethereum",l.params.vaultAddr,l.params.troveAddr);d&&(s.trove=d),t.show=!0,t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((i=v.value)==null?void 0:i.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((g=u.value)==null?void 0:g.owner)??"?"}`}]}),q(r,d=>{const i=d.find(g=>g.address===h.value);i&&(s.vault=i)}),q(v,d=>{var i;t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(d==null?void 0:d.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((i=u.value)==null?void 0:i.owner)??"?"}`}]}),q(u,d=>{var i;t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((i=v.value)==null?void 0:i.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(d==null?void 0:d.owner)??"?"}`}]}),(d,i)=>(_(),C("div",gd,[p(rd,{class:"graph-rank",vault:v.value,trove:u.value},null,8,["vault","trove"]),p(id,{class:"graph-health",vault:v.value,trove:u.value},null,8,["vault","trove"]),p(fd,{class:"table-ops",vault:v.value,trove:u.value},null,8,["vault","trove"])]))}});const yd=P(bd,[["__scopeId","data-v-b979bba6"]]),$d={class:"title"},wd=["src"],Cd=["href"],kd=["href"],Sd={class:"number"},Td={class:"number"},Pd={class:"number"},Ba=15,Ko=S({__name:"TableRedemptions",props:{troves:{default:()=>[]}},setup(o){const e=new kt(E()),{t:a}=W(),{loading:t,data:s,load:l}=U(()=>Promise.all(o.troves.map($=>e.getRedemptionsForTrove("ethereum",$))).then($=>$.flat()),[]),{relativeTime:r}=ye(),{sortColumn:h,sortOrder:v,onSort:u}=Pe("timestamp"),d=V(""),i=V("all"),g=V(null),m=w(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),b=w(()=>["icon","redeemer","tx","debt","numtroves","timestamp"]),f=w(()=>["redeemer","tx","debt","numtroves","timestamp"]),A=w(()=>N.chain(s.value).filter($=>{const L=d.value.toLocaleLowerCase().split(" "),z=de=>L.some(we=>de.toLocaleLowerCase().includes(we)),G=ke($.vault),Y=i.value==="all"?!0:i.value===G;return z($.redeemer)&&Y}).orderBy($=>{switch(h.value){case"redeemer":return $.redeemer;case"tx":return $.transaction;case"debt":return $.actual_debt_amount;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},v.value===ee.Descending?"desc":"asc").value()),{page:I,rowsPage:M,onPage:D}=$e(A,Ba),x=$=>{g.value=$};return q(()=>o.troves,l),($,L)=>(_(),C(X,null,[p(n(ne),{class:"datatable-redemptions","columns-header":"1fr 12rem minmax(auto, 25rem) auto auto","columns-data":"redemptions-columns-data",loading:n(t)||$.troves.length===0,rows:n(M),columns:m.value,sorting:!0,"sorting-columns":b.value,"sorting-columns-enabled":f.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:n(u),onSelected:x},{"header-content":y(()=>[c("div",$d,k(n(a)("title")),1),p(at,{class:"select-collateral",collateral:i.value,all:!0,onSelectCollateral:L[0]||(L[0]=z=>i.value=z)},null,8,["collateral"]),p(n(ue),{modelValue:d.value,"onUpdate:modelValue":L[1]||(L[1]=z=>d.value=z),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"]),p(n(be),{class:"pagination","items-count":A.value.length,"items-per-page":Ba,page:n(I),onPage:n(D)},null,8,["items-count","page","onPage"])]),row:y(z=>[c("img",{src:n(Le)(n(ke)(z.item.vault))},null,8,wd),c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${z.item.redeemer}`,target:"_blank",onClick:L[2]||(L[2]=Q(()=>{},["stop"]))},k(n(H)(z.item.redeemer)),9,Cd)]),c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${z.item.transaction}`,target:"_blank",onClick:L[3]||(L[3]=Q(()=>{},["stop"]))},k(n(H)(z.item.transaction)),9,kd)]),c("div",Sd,[p(n(R),{type:"dollar",value:Math.round(z.item.actual_debt_amount),precision:1/0},null,8,["value"])]),c("div",Td,k(z.item.troves_affected_count),1),c("div",Pd,k(n(r)(z.item.timestamp)),1)]),"row-details":y(()=>[F("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),p(n(De),{show:!!g.value,onClose:L[4]||(L[4]=z=>g.value=null)},{default:y(()=>[g.value?(_(),T(Ct,{key:0,redemption:g.value,"vault-addr":g.value.vault},null,8,["redemption","vault-addr"])):O("",!0)]),_:1},8,["show"])],64))}});function Ea(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Redemptions"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Ea=="function"&&Ea(Ko);const zd=P(Ko,[["__scopeId","data-v-7c04fc34"]]),Ld={class:"title"},Id=["src"],xd=["href"],Ad=["href"],Dd={class:"number"},Od={class:"number"},Vd={class:"number"},Ua=15,Qo=S({__name:"TableLiquidations",props:{troves:{default:()=>[]}},setup(o){const e=new Tt(E()),{t:a}=W(),{loading:t,data:s,load:l}=U(()=>Promise.all(o.troves.map($=>e.getLiquidationsForTrove("ethereum",$))).then($=>$.flat()),[]),{relativeTime:r}=ye(),{sortColumn:h,sortOrder:v,onSort:u}=Pe("timestamp"),d=V(""),i=V("all"),g=V(null),m=w(()=>["","Liquidator","Transaction","Debt","# Troves","Time"]),b=w(()=>["icon","liquidator","tx","debt","numtroves","timestamp"]),f=w(()=>["liquidator","tx","debt","numtroves","timestamp"]),A=w(()=>N.chain(s.value).filter($=>{const L=d.value.toLocaleLowerCase().split(" "),z=de=>L.some(we=>de.toLocaleLowerCase().includes(we)),G=ke($.vault),Y=i.value==="all"?!0:i.value===G;return z($.liquidator)&&Y}).orderBy($=>{switch(h.value){case"liquidator":return $.liquidator;case"tx":return $.transaction;case"debt":return $.liquidated_collateral_usd;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},v.value===ee.Descending?"desc":"asc").value()),{page:I,rowsPage:M,onPage:D}=$e(A,Ua),x=$=>{g.value=$};return q(()=>o.troves,l),($,L)=>(_(),C(X,null,[p(n(ne),{class:"datatable-liquidations","columns-header":"1fr 12rem minmax(auto, 25rem) auto auto","columns-data":"liquidations-columns-data",loading:n(t)||$.troves.length===0,rows:n(M),columns:m.value,sorting:!0,"sorting-columns":b.value,"sorting-columns-enabled":f.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:n(u),onSelected:x},{"header-content":y(()=>[c("div",Ld,k(n(a)("title")),1),p(at,{class:"select-collateral",collateral:i.value,all:!0,onSelectCollateral:L[0]||(L[0]=z=>i.value=z)},null,8,["collateral"]),p(n(ue),{modelValue:d.value,"onUpdate:modelValue":L[1]||(L[1]=z=>d.value=z),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"]),p(n(be),{class:"pagination","items-count":A.value.length,"items-per-page":Ua,page:n(I),onPage:n(D)},null,8,["items-count","page","onPage"])]),row:y(z=>[c("img",{src:n(Le)(n(ke)(z.item.vault))},null,8,Id),c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${z.item.liquidator}`,target:"_blank",onClick:L[2]||(L[2]=Q(()=>{},["stop"]))},k(n(H)(z.item.liquidator)),9,xd)]),c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${z.item.transaction}`,target:"_blank",onClick:L[3]||(L[3]=Q(()=>{},["stop"]))},k(n(H)(z.item.transaction)),9,Ad)]),c("div",Dd,[p(n(R),{type:"dollar",value:Math.round(z.item.liquidated_debt),precision:1/0},null,8,["value"])]),c("div",Od,k(z.item.troves_affected_count),1),c("div",Vd,k(n(r)(z.item.timestamp)),1)]),"row-details":y(()=>[F("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),p(n(De),{show:!!g.value,onClose:L[4]||(L[4]=z=>g.value=null)},{default:y(()=>[g.value?(_(),T(St,{key:0,liquidation:g.value,"vault-addr":g.value.vault},null,8,["liquidation","vault-addr"])):O("",!0)]),_:1},8,["show"])],64))}});function Fa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidations"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Fa=="function"&&Fa(Qo);const Rd=P(Qo,[["__scopeId","data-v-e7417e97"]]),Md={class:"title"},qd=["src"],Wd=["href"],Bd={class:"number"},Ed={class:"number"},Na=15,Xo=S({__name:"TableTroves",props:{vaults:{default:()=>[]},user:{}},emits:["troves"],setup(o,{emit:e}){const{t:a}=W(),t=new je(E()),s=e,{loading:l,data:r,load:h}=U(async()=>{if(o.vaults.length>0&&o.user){const z=await Promise.all(o.vaults.map(G=>t.getTroves("ethereum",G.address,o.user).then(Y=>Y.map(de=>({...de,vault:{name:G.name,address:G.address}}))))).then(G=>G.flat());return s("troves",z),z}else return Promise.resolve([])},[]),{relativeTime:v}=ye(),{sortColumn:u,sortOrder:d,onSort:i}=Pe("updated"),g=V(""),m=V("all"),b=V("Open"),f=w(()=>b.value==="Open"?["","Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["","Owner","","","","Created At","Last Updated"]),A=w(()=>b.value==="Open"?["","owner","debt","coll","ratio","created","updated"]:["","owner","","","","created","updated"]),I=w(()=>b.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),M=w(()=>N.chain(r.value).filter(z=>b.value===z.status).filter(z=>{const G=g.value.toLocaleLowerCase().split(" "),Y=Zo=>G.some(en=>Zo.toLocaleLowerCase().includes(en)),de=ke(z.vault.address),we=m.value==="all"?!0:m.value===de;return Y(z.owner)&&we}).orderBy(z=>{switch(u.value){case"owner":return z.owner;case"debt":return z.debt;case"coll":return z.collateral_usd;case"ratio":return z.collateral_ratio;case"created":return z.created_at;case"updated":return z.last_update;default:return z.last_update}},d.value===ee.Descending?"desc":"asc").value()),{page:D,rowsPage:x,onPage:$}=$e(M,Na),L=z=>{z===0?b.value="Open":z===1?b.value="Closed":b.value="Open"};return q(()=>o.vaults,h),(z,G)=>(_(),T(n(ne),{class:"datatable-troves","columns-header":"auto 1fr 12rem minmax(auto, 25rem) auto","columns-data":"troves-columns-data",loading:n(l),rows:n(x),columns:f.value,sorting:!0,"sorting-columns":A.value,"sorting-columns-enabled":I.value,"sorting-default-column":"updated","sorting-default-dir":"Descending",onSortColumn:n(i)},{"header-content":y(()=>[c("div",Md,k(n(a)("title")),1),p(n(st),{class:"types",onTab:G[0]||(G[0]=Y=>L(Y.index))},{default:y(()=>[p(n(_e),{header:"Open"}),p(n(_e),{header:"Closed"})]),_:1}),p(at,{class:"select-collateral",collateral:m.value,all:!0,onSelectCollateral:G[1]||(G[1]=Y=>m.value=Y)},null,8,["collateral"]),p(n(ue),{modelValue:g.value,"onUpdate:modelValue":G[2]||(G[2]=Y=>g.value=Y),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"]),p(n(be),{class:"pagination","items-count":M.value.length,"items-per-page":Na,page:n(D),onPage:n($)},null,8,["items-count","page","onPage"])]),row:y(Y=>[c("img",{src:n(Le)(Y.item.vault.name)},null,8,qd),c("div",null,[c("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${Y.item.owner}`,target:"_blank",onClick:G[3]||(G[3]=Q(()=>{},["stop"]))},k(n(H)(Y.item.owner)),9,Wd)]),c("div",{class:B(["number",{hide:b.value==="Closed"}])},[p(n(R),{type:"dollar",value:Math.round(Y.item.debt),precision:1/0},null,8,["value"])],2),c("div",{class:B(["number",{hide:b.value==="Closed"}])},[p(n(R),{type:"dollar",value:Math.round(Y.item.collateral_usd),precision:1/0},null,8,["value"])],2),c("div",{class:B(["number",{hide:b.value==="Closed"}])},[p(n(R),{value:Y.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),c("div",Bd,k(n(v)(Y.item.created_at)),1),c("div",Ed,k(n(v)(Y.item.last_update)),1)]),"row-details":y(()=>[F("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]))}});function Ha(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Troves"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Ha=="function"&&Ha(Xo);const Ud=P(Xo,[["__scopeId","data-v-31752a2e"]]),Fd={class:"profile"},Nd={style:{"grid-column":"1 / -1","margin-bottom":"-0.5rem"}},Hd=S({__name:"Profile",setup(o){const e=new Ne("ethereum"),a=Ae(),t=Ue(),s=ht(),l=Fe(e.overview$,[]),r=V(void 0),h=V([]),v=w(()=>h.value.filter(d=>r.value?d.owner.toLocaleLowerCase()===r.value.toLocaleLowerCase():!1).map(d=>d.owner));ae(()=>{const d=a.params.addr;d&&typeof d=="string"&&(r.value=d)});const u=d=>{h.value=d};return q(()=>s.address,async()=>{!a.params.addr&&!r.value&&s.address&&await t.push({name:"profile",params:{addr:s.address}})},{immediate:!0}),q(()=>a.params,()=>{const d=a.params.addr;d&&typeof d=="string"&&(r.value=d)}),(d,i)=>(_(),C("div",Fd,[c("h2",Nd," Profile: "+k(r.value??"?"),1),p(Ud,{style:{"z-index":"2"},vaults:n(l),user:r.value,onTroves:u},null,8,["vaults","user"]),p(zd,{troves:v.value},null,8,["troves"]),p(Rd,{troves:v.value},null,8,["troves"])]))}});const jd=P(Hd,[["__scopeId","data-v-c1178071"]]),Gd={titleRoute:"/",routes:[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:Mi},{path:"/mkusd",name:"mkusd",component:Qi},{path:"/redemptions",name:"redemptions",component:fc},{path:"/liquidations",name:"liquidations",component:Ac},{path:"/vaults",name:"vaults",component:vi},{path:"/wrappers/:tab?",name:"wrappers",component:Ec},{path:"/veprisma",name:"veprisma",component:au},{path:"/profile/:addr?",name:"profile",component:jd},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:nd},{path:"/vault/:vaultAddr/trove/:troveAddr",name:"prismatrove",component:yd}],menuItems:[{to:"/vaults",label:"Vaults"},{to:"/mkusd",label:"mkUSD"},{to:"/pool",label:"Stability pool"},{to:"/redemptions",label:"Redemptions"},{to:"/liquidations",label:"Liquidations"},{to:"/veprisma",label:"vePRISMA"},{to:"/wrappers",label:"ve Wrappers"},{to:"/profile",label:"Profile"}]},zt=yn(Sr),Yd=$n({legacy:!1,locale:"en",fallbackLocale:"en"});zt.use(Yd);const Jd=wn();zt.use(Jd);const Kd=[Gd],Qd=wt();Qd.pages=Kd;const Xd=Wr();zt.use(Xd).use(Cn).use(kn).mount("#app");
