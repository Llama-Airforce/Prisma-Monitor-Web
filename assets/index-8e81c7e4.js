import{L as ea,d as k,r as M,c as D,w as P,t as T,l as G,o as i,a as b,b as y,e as h,f,g as Y,h as Re,n as z,i as q,j as I,F as Q,T as ta,u as o,k as De,m as aa,p as sa,q as L,s as _,v as oa,x as V,y as se,z as Ct,A as ie,B as ce,C as Ce,D as Le,E as B,G as la,H as na,I as ra,J as Ie,K as Be,M as Ue,N as ia,O as ca,P as ua,Q as da,R as de,S as ne,U as _a,V as ve,W as pa,X as va,Y as ma,Z as ha,_ as fa}from"./vendor-419b5831.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();function me(s,e=0,a=".",t=","){const n=isFinite(+s)?+s:0,l=isFinite(+e)?Math.abs(e):0,r=typeof t>"u"?",":t,d=typeof a>"u"?".":a,p=function(v,$){const m=Math.pow(10,$);return Math.round(v*m)/m},c=(l?p(n,l):Math.round(n)).toString().split(".");return c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(c[1]||"").length<l&&(c[1]=c[1]||"",c[1]+=new Array(l-c[1].length+1).join("0")),c.join(d)}function K(s,e){const a=Math.abs(s);return e==="percentage"?"%":e==="dollar"?a>=1*10**12?"t":a>=1*10**9?"b":a>=1*10**6?"m":a>=1*10**3?"k":"":""}function Z(s,e,a){const t=Math.abs(s);return a==="percentage"?me(s,e):a==="dollar"?t>=1*10**12?me(s/10**12,e):t>=1*10**9?me(s/10**9,e):t>=1*10**6?me(s/10**6,e):t>=1*10**3?me(s/10**3,e):me(s,e):s.toString()}function Me(s,e){return(Array.isArray(s)?s:[s]).some(t=>e.path.startsWith(t))}const ga="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",ba="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",ya="0x657ce046d98d163ef4f846210f25919fa7b31944",$a="https://api.llama.airforce/";async function Ca(s,e,a){return await fetch(s,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:a}).then(t=>{if(t.ok)return t;throw new Error(`Fetch error ${t.status} for URL: ${s}`)})}async function wa(s,e,a){return await(await Ca(s,e,a)).json()}class ka{constructor(e){this.host=e}async fetch(e,a,t){return wa(e,a,t)}}async function Sa(s){try{return await s()}catch(e){e instanceof Error&&ea({text:e.message,type:"error"});return}}const Da="|/-\\",O=k({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(s){let e=0,a=0;const t=M("|"),n=D(()=>s.value?Z(s.value,s.precision,s.type??""):s.value===0&&s.showZero?"0":s.value===null||s.value===void 0?t.value:"?"),l=D(()=>!s.value||!s.type||!G.isFinite(s.value)?s.showUnit&&s.type?K(0,s.type):"":K(s.value,s.type));return P(()=>s.value,r=>{if(clearInterval(a),e=0,r)return;const d=()=>{e=(e+1)%4,t.value=Da[e]};a=window.setInterval(d,250)},{immediate:!0}),(r,d)=>T(r.showSymbol&&r.type==="dollar"?"$":"")+T(n.value)+T(r.showUnit?l.value:"")}}),Aa={key:0,class:"fas fa-chevron-right"},Ia=k({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(s,{emit:e}){const a=n=>{var l;return s.active?s.active.id===n.id:((l=s.crumbs.at(-1))==null?void 0:l.id)===n.id},t=n=>{var l;return((l=s.crumbs.at(-1))==null?void 0:l.id)===n.id};return(n,l)=>(i(),b(o(X),null,{default:y(()=>[h(ta,{name:"fade",tag:"ul"},{default:y(()=>[(i(!0),f(Q,null,Y(n.crumbs,r=>(i(),f("li",{key:r.id},[(i(),b(Re(a(r)?"span":"a"),{class:z({active:a(r)}),onClick:d=>e("crumb",r)},{default:y(()=>[q(T(r.label),1)]),_:2},1032,["class","onClick"])),!t(r)||n.crumbs.length===1?(i(),f("i",Aa)):I("",!0)]))),128))]),_:1})]),_:1}))}});const C=(s,e)=>{const a=s.__vccOpts||s;for(const[t,n]of e)a[t]=n;return a},Ta=C(Ia,[["__scopeId","data-v-997741c8"]]);function Pa(){return!1}De({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(s){this.address=s==null?void 0:s.toLocaleLowerCase()}}});aa();sa({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"});function re(s,e=6){if(!s)return"0x000...000";const a=e/2+2,t=s.length-e/2;return`${s.substring(0,a)}...${s.substring(t)}`}const za=k({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(s,{emit:e}){const a=async t=>{t.stopImmediatePropagation(),!(s.web3&&Pa())&&e("click")};return(t,n)=>(i(),f("button",{class:z({primary:t.primary}),onClick:a},[L(t.$slots,"default",{},()=>[t.icon?(i(),f("i",{key:0,class:z(["icon",[t.icon,{noValue:!!t.value}]])},null,2)):I("",!0),q(" "+T(t.value),1)],!0)],2))}});const ue=C(za,[["__scopeId","data-v-71e224f0"]]),Oa=k({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(s,{emit:e}){const a=()=>{e("update:modelValue",!s.modelValue)};return(t,n)=>(i(),f("button",{class:z({toggled:t.modelValue}),onClick:a},[L(t.$slots,"default",{},()=>[t.icon?(i(),f("i",{key:0,class:z(["icon",t.icon])},null,2)):I("",!0),q(" "+T(t.value),1)],!0)],2))}});const Ae=C(Oa,[["__scopeId","data-v-38d61379"]]),La={class:"card"},Ma={class:"text"},Va=k({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(s){return(e,a)=>(i(),f("div",La,[e.loading?(i(),b(o(Dt),{key:0,class:"loader"})):I("",!0),_("div",{class:z(["card-container",{loading:e.loading}])},[e.title?(i(),f("div",{key:0,class:z(["card-header",{collapsible:e.collapsible}])},[_("div",Ma,[e.icon?(i(),f("i",{key:0,class:z(["icon",e.icon])},null,2)):I("",!0),q(" "+T(e.title),1)]),L(e.$slots,"actions",{},void 0,!0)],2)):(i(),f("div",{key:1,class:z(["card-no-header",{compact:e.compact}])},null,2)),_("div",{class:z(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[L(e.$slots,"default",{},void 0,!0)],2)],2)]))}});const X=C(Va,[["__scopeId","data-v-317ddfe2"]]),xa=k({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(s){return(e,a)=>(i(),b(o(X),{class:"card-graph",title:e.title,loading:e.loading},{default:y(()=>[h(o(ns),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),L(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const te=C(xa,[["__scopeId","data-v-4e0fd9b7"]]),Ra={class:"chip"},Ba={class:"label"},Wa=k({__name:"Chip",props:{label:{default:""}},setup(s){return(e,a)=>(i(),f("div",Ra,[_("div",Ba,T(e.label),1)]))}});const Fa=C(Wa,[["__scopeId","data-v-1eb2caf8"]]);const Na={class:"collapsible-inside"},Ea=k({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(s){return(e,a)=>(i(),f("div",{class:z(["collapsible-outside",{expanded:e.expanded}])},[_("div",Na,[L(e.$slots,"default",{},void 0,!0)])],2))}});const We=C(Ea,[["__scopeId","data-v-25b74378"]]),Ha={key:1,class:"header"},Ua={key:0,class:"header-icon"},qa={class:"header-actions"},Ga={key:2,class:"list"},ja=["onClick"],Qa={key:0,class:"sorting-arrows"},Ja={key:0,class:"sorting-arrow fa fa-caret-up"},Ya={key:1,class:"sorting-arrow fa fa-caret-down"},Ka={key:2,class:"sorting-arrow"},Xa={class:"rows"},Za={key:3,class:"no-data"},Fe=k({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(s,{emit:e}){const a=M(""),t=M(le.Ascending),n=D(()=>`grid-template-columns: ${s.columnsHeader}`),l=D(()=>{if(s.rowsMin===null)return[];const u=Math.max(0,s.rowsMin-s.rows.length);return new Array(u)});oa(()=>{s.sortingDefaultColumn&&(a.value=s.sortingDefaultColumn),s.sortingDefaultDir&&(t.value=s.sortingDefaultDir===le.Ascending?le.Ascending:le.Descending)});const r=u=>{e("selected",u)},{t:d}=V(),p=u=>{const w=u+1;return!!(s.rows[u+1]&&s.rows.findIndex(W=>W===s.selectedRow)===w)},c=u=>s.expanded.includes(u),v=u=>{const w=s.sortingColumns[u];return s.sortingColumnsEnabled.includes(w)},$=u=>a.value===s.sortingColumns[u]&&t.value==="Ascending",m=u=>a.value===s.sortingColumns[u]&&t.value==="Descending",g=u=>{if(!s.sorting||!s.sortingColumns||!v(u))return;const w=s.sortingColumns[u];w===a.value?t.value=t.value===le.Ascending?le.Descending:le.Ascending:t.value=le.Ascending,a.value=w,e("sortColumn",a.value,t.value)};return(u,w)=>(i(),f("div",{class:z(["datatable",{loading:u.loading}])},[u.loading?(i(),b(o(Dt),{key:0,class:"loader"})):I("",!0),u.header?(i(),f("div",Ha,[u.icon?(i(),f("div",Ua,[_("i",{class:z(u.icon)},null,2)])):I("",!0),_("div",{class:"header-title",style:se(n.value)},[L(u.$slots,"header-title",{},void 0,!0)],4),_("div",qa,[L(u.$slots,"header-actions",{},void 0,!0)])])):I("",!0),u.rowsMin||u.rows&&u.rows.length>0?(i(),f("div",Ga,[_("div",{class:z(["row-data",[u.columnsData,{"selected-below":p(-1)}]])},[L(u.$slots,"column-headers",{},()=>[(i(!0),f(Q,null,Y(u.columns,(S,A)=>(i(),f("div",{key:S,class:z(["column-header",{"sortable-header":u.sorting&&v(A),"current-sort":a.value==u.sortingColumns[A]}]),onClick:W=>g(A)},[q(T(S)+" ",1),u.sorting&&v(A)?(i(),f("div",Qa,[$(A)?(i(),f("i",Ja)):m(A)?(i(),f("i",Ya)):(i(),f("span",Ka," — "))])):I("",!0)],10,ja))),128))],!0)],2),_("div",Xa,[(i(!0),f(Q,null,Y(u.rows,(S,A)=>(i(),b(o(Pe),{key:S,data:S,class:z({"selected-below":p(A)}),columns:u.columnsData,selected:u.selectedRow===S,expanded:c(S),onClick:r},{row:y(()=>[L(u.$slots,"row",{item:S},void 0,!0)]),"row-details":y(()=>[L(u.$slots,"row-details",{item:S},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(i(!0),f(Q,null,Y(l.value,S=>(i(),b(o(Pe),{key:S}))),128)),u.$slots["row-aggregation"]?(i(),b(o(Pe),{key:0,class:"aggregation",columns:u.columnsData},{row:y(()=>[L(u.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):I("",!0)])])):!u.rowsMin&&!u.loading?(i(),f("div",Za,[L(u.$slots,"no-data",{},()=>[q(T(o(d)("no-data")),1)],!0)])):I("",!0)],2))}});function qe(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":a=>{const{normalize:t}=a;return t(["No data :("])}}})}function Ge(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":a=>{const{normalize:t}=a;return t(["没有数据 :("])}}})}typeof qe=="function"&&qe(Fe);typeof Ge=="function"&&Ge(Fe);const Se=C(Fe,[["__scopeId","data-v-50e85b9c"]]),es=s=>(ie("data-v-45ff862c"),s=s(),ce(),s),ts=es(()=>_("i",{class:"fas fa-chevron-up"},null,-1)),as=[ts],ss={class:"row-details"},os=k({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(s,{emit:e}){const a=Ct(),t=D(()=>{var r;const l=a["row-details"];if(l){const d=(r=l()[0])==null?void 0:r.children;if(d)return d.length>0}return!1}),n=()=>{e("click",s.data)};return(l,r)=>(i(),f("div",{class:z(["row",{expanded:l.expanded}])},[_("div",{class:z(["row-data item",[l.columns,{active:l.selected,expandable:t.value}]]),onClick:n},[L(l.$slots,"row",{},void 0,!0),t.value?(i(),f("div",{key:0,class:z(["expander",{expanded:l.expanded}])},as,2)):I("",!0)],2),h(o(We),{expanded:l.expanded},{default:y(()=>[_("div",ss,[L(l.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const Pe=C(os,[["__scopeId","data-v-45ff862c"]]),ls=k({__name:"GraphApex",props:{options:{},series:{}},setup(s){return(e,a)=>{const t=Ce("apexchart");return i(),b(t,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const ns=C(ls,[["__scopeId","data-v-3e2879ed"]]);const rs=s=>(ie("data-v-e9d8f446"),s=s(),ce(),s),is={class:"input-text"},cs={key:0,class:"icon"},us=rs(()=>_("i",{class:"fas fa-search"},null,-1)),ds=[us],_s=["type","value","placeholder","onInput"],ps=["onClick"],vs=k({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(s,{emit:e}){const a=D(()=>{const n=s.options.filter(r=>s.filter(s.modelValue,r));return s.sort?[...n].sort(s.sort):n}),t=n=>{const l=n.target.value;e("update:modelValue",l),e("input",l)};return(n,l)=>(i(),f("div",is,[n.search?(i(),f("span",cs,ds)):I("",!0),_("input",{type:n.search?"search":"text",value:n.modelValue,placeholder:n.placeholder,onInput:Le(t,["stop"]),onSelect:l[0]||(l[0]=Le(()=>{},["stop"]))},null,40,_s),n.options&&n.autoComplete?(i(),f("div",{key:1,class:z(["items",{selectHide:!n.autoComplete}])},[(i(!0),f(Q,null,Y(a.value,(r,d)=>(i(),f("div",{key:d,onClick:p=>e("select",r)},[L(n.$slots,"item",{item:r,idx:d},()=>[q(T(r),1)],!0)],8,ps))),128))],2)):I("",!0)]))}});const ms=C(vs,[["__scopeId","data-v-e9d8f446"]]),hs={key:0,class:"value"},fs={key:1,class:"value"},gs=["innerHTML"],bs={key:0,class:"value"},ys={key:1,class:"value"},$s=["innerHTML"],Cs={class:"labels"},ws={class:"label"},ks={class:"label-second"},Ss=k({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(s){return(e,a)=>(i(),f("div",{class:z(["kpi",{disabled:!e.hasValue}])},[_("div",{class:z(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[L(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(i(),b(o(Ve),{key:0},{item:y(()=>[e.hasValue?(i(),f("span",hs,T(e.value),1)):(i(),f("span",fs," ? "))]),default:y(()=>[L(e.$slots,"tooltip",{},()=>[_("span",{innerHTML:e.tooltip},null,8,gs)],!0)]),_:3})):(i(),f(Q,{key:1},[e.hasValue?(i(),f("span",bs,T(e.value),1)):(i(),f("span",ys," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(i(),b(o(Ve),{key:0},{default:y(()=>[_("span",{innerHTML:e.tooltip},null,8,$s)]),_:1})):I("",!0)],2),_("div",Cs,[L(e.$slots,"label",{},()=>[_("div",ws,T(e.label),1)],!0),L(e.$slots,"label-second",{},()=>[_("div",ks,T(e.labelSecond),1)],!0)])],2))}});const j=C(Ss,[["__scopeId","data-v-0123c061"]]),Ds={key:0,class:"modal"},As={class:"modal-popup"},Is=k({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(s,{emit:e}){return P(()=>s.show,a=>{document.body.style.overflow=a?"hidden":""}),(a,t)=>a.show?(i(),f("div",Ds,[_("div",{class:"modal-mask",onClick:t[0]||(t[0]=n=>e("close"))}),_("div",As,[L(a.$slots,"default",{},void 0,!0)])])):I("",!0)}});const Ts=C(Is,[["__scopeId","data-v-49c4143d"]]),Ps={class:"buttons"},zs={key:1,class:"not-ready"},wt=k({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(s,{emit:e}){const{t:a}=V();return(t,n)=>(i(),b(o(Ts),{show:t.show},{default:y(()=>[h(o(X),{title:t.title},{default:y(()=>[L(t.$slots,"default",{},void 0,!0),_("div",Ps,[h(o(ue),{class:"no",value:o(a)("no"),onClick:n[0]||(n[0]=l=>e("no"))},null,8,["value"]),t.ready?(i(),b(o(ue),{key:0,class:"yes",value:o(a)("yes"),onClick:n[1]||(n[1]=l=>e("yes"))},null,8,["value"])):(i(),f("div",zs,T(t.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function je(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:a=>{const{normalize:t}=a;return t(["Yes"])},no:a=>{const{normalize:t}=a;return t(["No"])}}})}function Qe(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:a=>{const{normalize:t}=a;return t(["是的"])},no:a=>{const{normalize:t}=a;return t(["不是"])}}})}typeof je=="function"&&je(wt);typeof Qe=="function"&&Qe(wt);const Os=s=>(ie("data-v-18a4b249"),s=s(),ce(),s),Ls={class:"select"},Ms={class:"item"},Vs={key:0,class:"label"},xs=["onClick"],Rs=Os(()=>_("div",{class:"chevrons"},[_("i",{class:"fas fa-chevron-up"}),_("i",{class:"fas fa-chevron-down"})],-1)),Bs=k({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(s,{emit:e}){return(a,t)=>(i(),f("div",{class:"select-container",tabindex:"0",onClick:t[0]||(t[0]=Le(n=>e("open"),["stop"])),onBlur:t[1]||(t[1]=n=>e("close"))},[_("div",Ls,[_("div",{class:z(["selected",{open:a.open}])},[L(a.$slots,"item",{item:a.selected},()=>[_("div",Ms,T(a.selected),1)],!0),a.label?(i(),f("div",Vs,T(a.label),1)):I("",!0)],2),_("div",{class:z(["items",{selectHide:!a.open}])},[(i(!0),f(Q,null,Y(a.options,(n,l)=>(i(),f("div",{key:l,onClick:r=>e("input",n)},[L(a.$slots,"item",{item:n},()=>[q(T(n),1)],!0)],8,xs))),128))],2)]),Rs],32))}});const kt=C(Bs,[["__scopeId","data-v-18a4b249"]]),Ws={class:"item"},Fs={class:"label"},Je="locale",Ns=k({__name:"SelectLanguage",props:{locales:{default:()=>Es},direction:{default:"up"}},setup(s){const{t:e}=V(),{locale:a}=V({useScope:"global"}),t=M("en"),n=M(!1);B(()=>{const d=localStorage.getItem(Je);d&&s.locales.some(p=>p===d)&&r(d)});const l=()=>{n.value=!n.value},r=d=>{t.value=d,a.value=t.value,localStorage.setItem(Je,t.value)};return(d,p)=>(i(),b(o(kt),{class:z(["select",{"direction-up":d.direction==="up"}]),options:d.locales.map(c=>c),selected:t.value,open:n.value,onOpen:l,onClose:p[0]||(p[0]=c=>n.value=!1),onInput:r},{item:y(c=>[_("div",Ws,[_("div",Fs,T(o(e)(c.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function Ye(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:a=>{const{normalize:t}=a;return t(["English"])},zh:a=>{const{normalize:t}=a;return t(["中文"])},fr:a=>{const{normalize:t}=a;return t(["Français"])}}})}typeof Ye=="function"&&Ye(Ns);const Es=["en","zh","fr"];var le=(s=>(s.Ascending="Ascending",s.Descending="Descending",s))(le||{});const Hs={},St=s=>(ie("data-v-ad2adcec"),s=s(),ce(),s),Us={class:"lds-ripple"},qs=St(()=>_("div",null,null,-1)),Gs=St(()=>_("div",null,null,-1)),js=[qs,Gs];function Qs(s,e){return i(),f("div",Us,js)}const Dt=C(Hs,[["render",Qs],["__scopeId","data-v-ad2adcec"]]),he=k({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(s){return(e,a)=>L(e.$slots,"default")}}),Js={class:"tab-view"},Ys={class:"tab-headers"},Ks=["onClick"],Xs={class:"tabs"},Zs=k({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(s,{emit:e}){const a=M(null),t=Ct(),n=D(()=>t!=null&&t.default?t.default():[]);P(()=>s.active,r=>{a.value=r,e("tab",{tab:n.value[r],index:a.value})},{immediate:!0});const l=(r,d)=>{r.props.disabled||(a.value=d,e("tab",{tab:n.value[d],index:a.value}))};return(r,d)=>(i(),f("div",Js,[_("ul",Ys,[(i(!0),f(Q,null,Y(n.value,(p,c)=>(i(),f("li",{key:c,class:z(["tab-header",{active:a.value===c,disabled:p.props.disabled}]),onClick:v=>l(p,c)},T(p.props.header),11,Ks))),128))]),_("div",Xs,[(i(!0),f(Q,null,Y(n.value,(p,c)=>la((i(),f("div",{key:c,class:"tab"},[(i(),b(Re(p)))])),[[na,a.value===c]])),128))])]))}});const eo=C(Zs,[["__scopeId","data-v-4a99a489"]]),to="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",ao={key:1,src:to},so=k({__name:"Tooltip",props:{icon:{default:""}},setup(s){const e=M(!1);return(a,t)=>(i(),b(o(ra),{class:"tooltip",show:e.value},{content:y(()=>[L(a.$slots,"default",{},void 0,!0)]),default:y(()=>[_("div",{onMouseover:t[0]||(t[0]=n=>e.value=!0),onMouseleave:t[1]||(t[1]=n=>e.value=!1)},[L(a.$slots,"item",{},()=>[a.icon?(i(),f("i",{key:0,class:z(a.icon)},null,2)):(i(),f("img",ao))],!0)],32)]),_:3},8,["show"]))}});const Ve=C(so,[["__scopeId","data-v-2158cb4b"]]);function F(s,e){const a=M(!1),t=M(e);return{loading:a,data:t,loadData:()=>(a.value=!0,Sa(async()=>{t.value=await s(),a.value=!1}))}}const oo={class:"legend"},lo=["onClick"],no={class:"label"},ro=k({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(s,{emit:e}){const a=t=>s.colors[t];return(t,n)=>(i(),f("div",oo,[(i(!0),f(Q,null,Y(t.items,(l,r)=>(i(),f("div",{key:l,class:z(["item",{clickable:t.clickable,disabled:t.disabled.includes(l)}]),onClick:d=>{t.clickable&&e("click",l)}},[_("div",{class:"color",style:se({"background-color":a(r)})},null,4),_("div",no,T(l),1)],10,lo))),128))]))}});const io=C(ro,[["__scopeId","data-v-b0a9ca48"]]);function ze(s){return(s==null?void 0:s.children)!==void 0}function Ke(s){return(s==null?void 0:s.to)!==void 0}const co={key:0},uo={class:"nav-link-container"},_o={class:"nav-link-container"},po={class:"left"},vo={class:"right"},mo=k({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(s,{emit:e}){const a=Ie(),t=M(!0),n=D(()=>Ke(s.item)?[s.item]:ze(s.item)?s.item.children:[]),l=()=>{ze(s.item)&&s.item.children.filter(p=>Me(p.to,a)).length>0&&(t.value=!0)};P(()=>s.item,()=>{l()},{immediate:!0}),P(()=>a.fullPath,()=>{l()},{immediate:!0});const r=()=>{t.value=!t.value};return(d,p)=>{const c=Ce("router-link");return i(),f(Q,null,[o(ze)(d.item)?(i(),f("li",co,[_("a",{class:"nav-link node",onClick:r},[_("div",uo,[q(T(d.item.label)+" ",1),_("i",{class:z(["expander fas fa-chevron-up",{expanded:t.value}])},null,2)])])])):I("",!0),h(o(We),{class:"items",expanded:t.value},{default:y(()=>[_("ul",null,[(i(!0),f(Q,null,Y(n.value,v=>(i(),f("li",{key:v.label},[o(Ke)(v)?(i(),b(c,{key:0,to:v.to,class:z(["nav-link leaf",{"router-link-active":o(Me)(v.to,o(a))}]),onClick:p[0]||(p[0]=$=>e("navigated"))},{default:y(()=>[_("div",_o,[_("div",po,T(v.label),1),_("div",vo,[v.tag==="beta"?(i(),b(o(Fa),{key:0,label:"BETA"})):I("",!0)])])]),_:2},1032,["to","class"])):I("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const ho=C(mo,[["__scopeId","data-v-d8ba8816"]]),fo=k({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(s,{emit:e}){const a=Ie(),t=D(()=>s.pages.find(l=>Me(l.titleRoute,a))),n=D(()=>{var l;return((l=t.value)==null?void 0:l.menuItems)??[]});return(l,r)=>(i(),f("nav",null,[(i(!0),f(Q,null,Y(n.value,d=>(i(),f("ul",{key:d.label},[h(ho,{item:d,onNavigated:r[0]||(r[0]=p=>e("navigated"))},null,8,["item"])]))),128))]))}});const go=C(fo,[["__scopeId","data-v-59493144"]]),bo="/assets/prisma-b38af1f3.png",yo="/assets/hat-80c6c9b1.png";const $o={},At=s=>(ie("data-v-f01d266e"),s=s(),ce(),s),Co={class:"logo"},wo=At(()=>_("div",{class:"visual"},[_("img",{src:bo}),_("img",{src:yo})],-1)),ko=At(()=>_("span",null,"prisma.monitor",-1)),So=[wo,ko];function Do(s,e){return i(),f("div",Co,So)}const Ao=C($o,[["render",Do],["__scopeId","data-v-f01d266e"]]),Io={class:"header"},To={class:"buttons"},Po=k({__name:"Header",emits:["toggle-expansion","navigated"],setup(s,{emit:e}){return(a,t)=>{const n=Ce("router-link");return i(),f("div",Io,[h(n,{class:"logo",to:"/",onClick:t[0]||(t[0]=l=>e("navigated"))},{default:y(()=>[h(Ao,{class:"logo"})]),_:1}),_("div",To,[h(o(ue),{icon:"fas fa-bars",onClick:t[1]||(t[1]=l=>e("toggle-expansion"))})])])}}});const zo=C(Po,[["__scopeId","data-v-a5771fce"]]),fe={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"};fe.blue,fe.yellow,fe.green,fe.red,fe.purple;const ge={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"};ge.blue,ge.yellow,ge.green,ge.red,ge.purple;const be={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"};be.blue,be.yellow,be.green,be.red,be.purple;function Xe(s){return s==="chad"?be:s==="light"?ge:fe}const U=De({id:"settingsStore",state:()=>({theme:"light"})}),Oo={class:"theme"},Lo={class:"label"},Mo={class:"colors"},Vo=k({__name:"SelectTheme",setup(s){const e=[{id:"dark",colors:Xe("dark")},{id:"light",colors:Xe("light")}],a=U(),t=M(e[0]),n=M(!1);B(()=>{const d=window.matchMedia("(prefers-color-scheme: dark)").matches,p=localStorage.getItem("theme");if(!p&&d)r(e.find(c=>c.id==="dark"));else{const c=e.find(v=>v.id===p)??e.find(v=>v.id==="light")??e[0];r(c)}});const l=()=>{n.value=!n.value},r=d=>{t.value=d,window.document.documentElement.setAttribute("data-theme",t.value.id),a.theme=t.value.id,localStorage.setItem("theme",t.value.id)};return(d,p)=>(i(),b(o(kt),{class:"select direction-up",options:e.map(c=>c),selected:t.value,open:n.value,onOpen:l,onClose:p[0]||(p[0]=c=>n.value=!1),onInput:r},{item:y(c=>[_("div",Oo,[_("div",Lo,T(c.item.id),1),_("div",Mo,[_("div",{class:"color",style:se({"background-color":c.item.colors.backgroundColor})},null,4),_("div",{class:"color",style:se({"background-color":c.item.colors.level1})},null,4),_("div",{class:"color",style:se({"background-color":c.item.colors.level2})},null,4),_("div",{class:"color",style:se({"background-color":c.item.colors.blue})},null,4),_("div",{class:"color",style:se({"background-color":c.item.colors.yellow})},null,4),_("div",{class:"color",style:se({"background-color":c.item.colors.green})},null,4),_("div",{class:"color",style:se({"background-color":c.item.colors.red})},null,4),_("div",{class:"color",style:se({"background-color":c.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const xo=C(Vo,[["__scopeId","data-v-12a81df3"]]),Ro={class:"bottom"},Bo={class:"buttons"},Wo={href:"https://twitter.com/0xAlunara",target:"_blank"},Fo={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},No={class:"selectors"},Eo=k({__name:"Bottom",emits:["navigated"],setup(s,{emit:e}){const a=async()=>{await navigator.clipboard.writeText(window.location.href)};return(t,n)=>{const l=Ce("router-link");return i(),f("div",Ro,[_("div",Bo,[h(o(ue),{class:"copy",icon:"fas fa-link",onClick:a}),_("a",Wo,[h(o(ue),{icon:"fab fa-twitter"})]),_("a",Fo,[h(o(ue),{icon:"fab fa-github"})]),h(l,{to:"/code"},{default:y(()=>[h(o(ue),{icon:"fas fa-code",onClick:n[0]||(n[0]=r=>e("navigated"))})]),_:1})]),_("div",No,[h(xo,{class:"themes"})])])}}});const Ho=C(Eo,[["__scopeId","data-v-949dc793"]]),Ne=De({id:"pageStore",state:()=>({pages:[]})}),Uo=k({__name:"Navigation",emits:["navigated"],setup(s,{emit:e}){const a=Ne(),t=M(!1),n=()=>{t.value=!1,e("navigated")};return(l,r)=>(i(),f("div",{class:z(["menu-desktop",{expanded:t.value}])},[h(zo,{onToggleExpansion:r[0]||(r[0]=d=>t.value=!t.value),onNavigated:n}),h(o(We),{class:"menu-content",expanded:t.value},{default:y(()=>[h(o(go),{pages:o(a).pages,onNavigated:n},null,8,["pages"]),h(Ho,{onNavigated:n})]),_:1},8,["expanded"])],2))}});const qo=C(Uo,[["__scopeId","data-v-07323d4e"]]),Ee=De({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),Go={class:"root"},jo={class:"main"},Qo={class:"content"},Jo=k({__name:"App",setup(s){const e=Ee(),a=Ie(),t=Be();P(()=>a.fullPath,l=>{(l.includes("pool")||l.includes("mkusd"))&&(e.show=!1)});const n=async l=>{l.pathName&&await t.push({name:l.pathName})};return(l,r)=>{const d=Ce("notifications"),p=Ce("router-view");return i(),f("div",Go,[h(d,{width:600,duration:-1}),h(qo,{class:"navigation"}),_("main",jo,[h(Ue,{name:"fade",mode:"out-in"},{default:y(()=>[o(e).show?(i(),b(o(Ta),{key:0,class:"breadcrumb",crumbs:o(e).crumbs,onCrumb:n},null,8,["crumbs"])):I("",!0)]),_:1}),_("div",Qo,[h(p,null,{default:y(({Component:c})=>[h(Ue,{name:"fade",mode:"out-in"},{default:y(()=>[(i(),b(Re(c)))]),_:2},1024)]),_:1})])])])}}});const Yo=C(Jo,[["__scopeId","data-v-961314b9"]]),Ko="/assets/404-3a4df870.png",Xo=s=>(ie("data-v-c157f3ee"),s=s(),ce(),s),Zo={class:"not-found"},el={class:"not-found-container"},tl=Xo(()=>_("img",{src:Ko},null,-1)),It=k({__name:"NotFound",setup(s){const{t:e}=V();return(a,t)=>(i(),f("div",Zo,[_("div",el,[h(o(X),null,{default:y(()=>[q(T(o(e)("404")),1)]),_:1}),tl])]))}});function Ze(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:a=>{const{normalize:t}=a;return t(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof Ze=="function"&&Ze(It);const al=C(It,[["__scopeId","data-v-c157f3ee"]]),sl={class:"contracts"},ol={class:"row"},ll=["href"],nl=["href"],Tt=k({__name:"Code",setup(s){const{t:e}=V(),t=[{name:"Llama Airforce",contracts:[{contract:ga,description:"multisig",gnosis:!0},{contract:ba,description:"treasury",gnosis:!0},{contract:ya,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]}],n=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}],l=r=>{switch(r.network){case"arbitrum":return r.gnosis?`https://app.safe.global/arb1:${r.contract}`:`https://arbiscan.io/address/${r.contract}`;case"ethereum":default:return r.gnosis?`https://app.safe.global/eth:${r.contract}`:`https://etherscan.io/address/${r.contract}`}};return(r,d)=>(i(),f("div",sl,[_("div",ol,[h(o(Se),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:n,columns:[o(e)("repository"),o(e)("description")]},{"header-title":y(()=>[_("div",null,T(o(e)("repositories")),1)]),row:y(p=>[_("div",null,[_("a",{href:p.item.url,target:"_blank"},T(p.item.name),9,ll)]),_("div",null,T(o(e)(p.item.description)),1)]),_:1},8,["columns"])]),(i(),f(Q,null,Y(t,(p,c)=>h(o(Se),{key:c,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:p.contracts,columns:[o(e)("contract"),o(e)("description")]},{"header-title":y(()=>[_("div",null,T(o(e)(p.name)),1)]),row:y(v=>[_("div",null,[_("a",{href:l(v.item),target:"_blank"},T(v.item.contract),9,nl)]),_("div",null,T(o(e)(v.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function et(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:a=>{const{normalize:t}=a;return t(["Repositories"])},repository:a=>{const{normalize:t}=a;return t(["Repository"])},description:a=>{const{normalize:t}=a;return t(["Description"])},contract:a=>{const{normalize:t}=a;return t(["Contract"])},other:a=>{const{normalize:t}=a;return t(["Other"])},"repo-laf":a=>{const{normalize:t}=a;return t(["This website's front-end, excluding the Union"])},multisig:a=>{const{normalize:t}=a;return t(["Multisig"])},treasury:a=>{const{normalize:t}=a;return t(["Treasury"])},"treasury-arbitrum":a=>{const{normalize:t}=a;return t(["Treasury Arbitrum"])}}})}typeof et=="function"&&et(Tt);const rl=C(Tt,[["__scopeId","data-v-ed0a11dc"]]);function il(){const s=Ne(),e=[{path:"/code",component:rl},...s.pages.flatMap(t=>t.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:al}];return ia({history:ca(),routes:e})}const cl=s=>({chart:{id:"chart",background:"transparant",foreColor:s.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:s.colorsArray,grid:{borderColor:s.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:s.colors.level5,height:1},axisTicks:{color:s.colors.level5},title:{color:s.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:s.colors.level5},axisTicks:{color:s.colors.level5},title:{color:s.colors.level5}}});function ae(s,e){const a=cl(s),t=(n,l)=>{if(typeof l=="object"){G.mergeWith(n,l,t);return}else return n||l};return G.mergeWith(e,a,t)}const ye={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},ul=[ye.blue,ye.yellow,ye.green,ye.red,ye.purple,"#ff8f33"],$e={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},dl=[$e.blue,$e.yellow,$e.green,$e.red,$e.purple];function H(s){return s==="light"?$e:ye}function ee(s){return s==="light"?dl:ul}function N(){return $a}const R="https://api.prismamonitor.com/v1";class E extends ka{async getHistoricalOpenTrovesOverview(e,a){return this.fetch(`${R}/managers/${e}/open_troves?period=${a}`)}async getHistoricalCollateralRatiosOverview(e,a){return this.fetch(`${R}/managers/${e}/collateral_ratios?period=${a}`)}async getCollateralRatioGrouped(e,a){return this.fetch(`${R}/managers/${e}/global_collateral_ratio?period=${a}`)}async getHistoricalCollateralOverview(e,a){return this.fetch(`${R}/managers/${e}/collateral?period=${a}`)}async getRatioDistributionGrouped(e){return this.fetch(`${R}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,a,t){return this.fetch(`${R}/managers/${e}/${a}/large_positions?unit=${t}`)}async getVaultCollateralRatio(e,a,t){return this.fetch(`${R}/managers/${e}/${a}/collateral_ratio?period=${t}`)}async getVaultTroveCount(e,a,t){return this.fetch(`${R}/managers/${e}/${a}/open_trove_count?period=${t}`)}async getTroveDistribution(e,a,t){return this.fetch(`${R}/managers/${e}/${a}/histograms?unit=${t}`)}async getCollateralPrices(e,a,t){return this.fetch(`${R}/collateral/${e}/${a}/prices?period=${t}`)}async getCollateralPriceImpact(e,a){return this.fetch(`${R}/collateral/${e}/${a}/impact`)}async getCollateralInfo(e,a){return this.fetch(`${R}/collateral/${e}/${a}/info`)}async getPoolTvl(e,a){return this.fetch(`${R}/pool/${e}/deposits?period=${a}`)}async getStableFlow(e,a){return this.fetch(`${R}/pool/${e}/stable_operations?period=${a}`)}async getStableDistribution(e){return this.fetch(`${R}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,a){return this.fetch(`${R}/pool/${e}/cumulative_withdrawals?period=${a}`)}async getTopStableDeposits(e,a,t){return this.fetch(`${R}/pool/${e}/top/stable_deposits?top=${a}&period=${t}`)}async getTopStableWithdrawals(e,a,t){return this.fetch(`${R}/pool/${e}/top/stable_withdrawals?top=${a}&period=${t}`)}async getPriceHistory(e,a){return this.fetch(`${R}/mkusd/${e}/history?period=${a}`)}async getPriceHistogram(e,a,t){return this.fetch(`${R}/mkusd/${e}/histogram?period=${t}&bins=${a}`)}async getLargeStableCoinHolders(e){return this.fetch(`${R}/mkusd/${e}/holders`)}async getStableCoinKPI(e){return this.fetch(`${R}/mkusd/${e}/general`)}async getCurvePoolDepth(e){return this.fetch(`${R}/mkusd/${e}/depth`)}}const Pt=k({__name:"ChartOpenTroves",setup(s){const{t:e}=V(),a=new E(N()),t=U(),{loading:n,data:l,loadData:r}=F(()=>a.getHistoricalOpenTrovesOverview("ethereum","6m").then($=>$.managers),[]);B(()=>void r());const d=D(()=>{const $=H(t.theme),m=ee(t.theme);return ae({colors:$,colorsArray:m},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:g,dataPointIndex:u,w})=>{let S=0;const A=g.map((W,oe)=>{const x=W[u];return S+=x,`<div><b>${w.globals.seriesNames[oe]}</b>: ${x}</div>`});return A.push(`<div><b>Total</b>: ${S}</div>`),A.join("")}}})}),p=D(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map($=>new Date($.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=D(()=>l.value.length===0?[]:l.value.map($=>({name:$.manager,data:$.data.map(m=>m.value)}))),v=$=>$;return($,m)=>(i(),b(o(te),{class:"chart",title:o(e)("title"),loading:o(n),options:d.value,series:c.value},null,8,["title","loading","options","series"]))}});function tt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Open troves"])}}})}typeof tt=="function"&&tt(Pt);const _l=C(Pt,[["__scopeId","data-v-17e23069"]]),pl=(s,e)=>{const a=H(e);return{width:s.clientWidth,height:s.clientHeight,layout:{background:{type:ua.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:da.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function _e(s,e,a){const t=pl(s,e),n=(l,r)=>{if(typeof r=="object"){G.mergeWith(l,r,n);return}else return l||r};return G.mergeWith(a,t,n)}const zt=k({__name:"ChartCollateralRatio",setup(s){const{t:e}=V(),a=new E(N());let t,n;const l=U(),r=M(null),{loading:d,data:p,loadData:c}=F(()=>a.getCollateralRatioGrouped("ethereum","all").then(g=>g.data),[]);B(()=>{r.value&&(t=de(r.value,v(r.value,l.theme)),n=t.addAreaSeries($(l.theme)),m(p.value),c())}),P(()=>l.theme,g=>{r.value&&(t.applyOptions(v(r.value,g)),n.applyOptions($(g)))}),P(p,g=>{m(g)});const v=(g,u)=>_e(g,u,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),$=g=>{const u=H(g);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ne.WithSteps,lineColor:u.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=g=>{if(!t||!n)return;const u=G.chain(g).map(w=>({time:w.timestamp,value:w.value*100})).uniqWith((w,S)=>w.time===S.time).orderBy(w=>w.time,"asc").value();u.length>0&&n.setData(u),t.timeScale().fitContent()};return(g,u)=>(i(),b(o(X),{class:"chart-container",title:o(e)("title"),loading:o(d)},{default:y(()=>[_("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function at(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Global collateral ratio"])}}})}typeof at=="function"&&at(zt);const vl=C(zt,[["__scopeId","data-v-f7711ac1"]]),Ot=k({__name:"ChartRatioDeciles",setup(s){const{t:e}=V(),a=new E(N()),t=U(),{loading:n,data:l,loadData:r}=F(()=>a.getRatioDistributionGrouped("ethereum").then(m=>m.deciles),[]);B(()=>void r());const d=D(()=>{const m=H(t.theme),g=ee(t.theme);return ae({colors:m,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:$}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),p=D(()=>l.value.map(m=>m.label)),c=D(()=>[{name:e("debt"),data:Object.values(l.value).map(m=>m.data)}]),v=m=>m,$=m=>`$${Z(m,0,"dollar")}${K(m,"dollar")}`;return(m,g)=>(i(),b(o(te),{class:"chart",title:o(e)("title"),loading:o(n),options:d.value,series:c.value},null,8,["title","loading","options","series"]))}});function st(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Debt per Collateral Ratio Deciles"])},debt:a=>{const{normalize:t}=a;return t(["Debt"])}}})}typeof st=="function"&&st(Ot);const ml=C(Ot,[["__scopeId","data-v-148e81ae"]]),Lt=k({__name:"ChartGlobalCollateral",setup(s){const{t:e}=V(),a=new E(N()),t=U(),{loading:n,data:l,loadData:r}=F(()=>a.getHistoricalCollateralOverview("ethereum","6m").then(m=>m.managers),[]);B(()=>void r());const d=D(()=>{const m=H(t.theme),g=ee(t.theme);return ae({colors:m,colorsArray:g},{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:$}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),p=D(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=D(()=>l.value.length===0?[]:l.value.map(m=>({name:m.manager,data:m.data.map(g=>g.value)}))),v=m=>m,$=m=>`$${Z(m,1,"dollar")}${K(m,"dollar")}`;return(m,g)=>(i(),b(o(te),{class:"chart",title:o(e)("title"),loading:o(n),options:d.value,series:c.value},null,8,["title","loading","options","series"]))}});function ot(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Collateral value"])}}})}typeof ot=="function"&&ot(Lt);const hl=C(Lt,[["__scopeId","data-v-91cb0ff3"]]),Mt=class ke{constructor(e){this.url=e,this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={},this.channelSubscriptionParsers={},this.reconnectDelay=1e3,this.maxReconnectDelay=3e4,this.reconnectMultiplier=2,this.connect()}static getInstance(e){return ke.instances[e]||(ke.instances[e]=new ke(e)),ke.instances[e]}connect(){this.ws||(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.processMessageQueue(),this.reconnectDelay=1e3},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>{this.connect(),this.reconnectDelay*=this.reconnectMultiplier,this.reconnectDelay>this.maxReconnectDelay&&(this.reconnectDelay=this.maxReconnectDelay)},this.reconnectDelay)},this.ws.onmessage=e=>{var r;const a=JSON.parse(e.data),t=this.channelSubscriptionParsers[a.channel],n=t?t(e.data):"",l=(r=this.listeners[a.channel])==null?void 0:r[n];l==null||l(e.data)})}registerListener(e,a,t,n){this.listeners[e]||(this.listeners[e]={}),this.listeners[e][a]=n,this.channelSubscriptionParsers[e]=t;const l=this.messageQueue.filter(r=>JSON.parse(r).channel===e);l.forEach(n),this.messageQueue=this.messageQueue.filter(r=>!l.includes(r))}send(e){var a;((a=this.ws)==null?void 0:a.readyState)===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length;)this.send(this.messageQueue.shift()??"")}closeConnection(){var e;this.shouldReconnect=!1,(e=this.ws)==null||e.close()}getConnection(){return this.ws}};Mt.instances={};let fl=Mt;var xe=(s=>(s.subscribe="subscribe",s.unsubscribe="unsubscribe",s.snapshots="snapshots",s))(xe||{});const gl="wss://api.prismamonitor.com/v1/prisma/ws",Oe="troves_overview";class Vt{constructor(e){this.chain=e,this.currentData=M([]),this.parseSubscriptionFromMessage=a=>JSON.parse(a).subscription.chain,this.wsManager=fl.getInstance(gl),this.wsManager.registerListener(Oe,e,this.parseSubscriptionFromMessage,a=>{try{const t=JSON.parse(a);t.subscription.chain===this.chain&&(this.currentData.value=t.payload)}catch(t){console.error("Error parsing WebSocket message:",t,"Raw data:",a)}}),this.requestSnapshots(),this.subscribeToUpdates()}getCurrentData(){return this.currentData.value}requestSnapshots(){const e={action:xe.snapshots,channel:Oe,settings:[{chain:this.chain}]};this.send(e)}subscribeToUpdates(){const e={action:xe.subscribe,channel:Oe,settings:[{chain:this.chain}]};this.send(e)}send(e){this.wsManager.send(JSON.stringify(e))}}const Te=s=>(ie("data-v-c5984d60"),s=s(),ce(),s),bl={class:"number"},yl={class:"number"},$l={class:"number"},Cl={class:"number"},wl={class:"number"},kl={class:"number"},Sl=Te(()=>_("div",null,null,-1)),Dl={class:"number"},Al={class:"number"},Il=Te(()=>_("div",null,null,-1)),Tl=Te(()=>_("div",null,null,-1)),Pl={class:"number"},zl=Te(()=>_("div",null,null,-1)),xt=k({__name:"TableVaults",setup(s){const{t:e}=V(),a=new Vt("ethereum"),t=M(!0),n=M(""),l=M([]),r=D(()=>G.chain(l.value).filter(d=>{const p=n.value.toLocaleLowerCase().split(" "),c=v=>p.some($=>v.toLocaleLowerCase().includes($));return c(d.name)||c(d.address)}).value());return P(a.currentData,d=>{t.value=!0,l.value=d,t.value=!1}),B(()=>{t.value=!0,l.value=a.currentData.value,t.value=!1}),(d,p)=>(i(),b(o(Se),{class:"datatable-vaults","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"troves-columns-data",loading:t.value,rows:r.value,columns:["Name","TVL","Debt","CR","MCR","Troves","Price"]},{"header-title":y(()=>[_("div",null,T(o(e)("title")),1),h(o(ms),{modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=c=>n.value=c),class:"search",search:!0,placeholder:o(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(c=>[_("div",null,T(c.item.name),1),_("div",bl,[h(o(O),{value:c.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_("div",yl,[h(o(O),{value:c.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_("div",$l,[h(o(O),{value:c.item.cr*100,precision:2,type:"percentage"},null,8,["value"])]),_("div",Cl,[h(o(O),{value:c.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])]),_("div",wl,T(c.item.open_troves),1),_("div",kl,"$"+T(Math.round(c.item.price)),1)]),"row-aggregation":y(()=>[Sl,_("div",Dl,[h(o(O),{value:r.value.reduce((c,v)=>c+v.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_("div",Al,[h(o(O),{value:r.value.reduce((c,v)=>c+v.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),Il,Tl,_("div",Pl,[h(o(O),{value:r.value.reduce((c,v)=>c+v.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),zl]),"row-details":y(()=>[q("   ")]),_:1},8,["loading","rows"]))}});function lt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vaults"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof lt=="function"&&lt(xt);const Ol=C(xt,[["__scopeId","data-v-c5984d60"]]),Rt=De({id:"vaultStore",state:()=>({vault:null})}),Ll={class:"vaults"},Ml=k({__name:"Vaults",setup(s){const e=Ee(),a=Rt(),t=Be();B(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const n=async l=>{a.vault=l,await t.push({name:"prismavault",params:{tab:"",vaultAddr:l.address}})};return(l,r)=>(i(),f("div",Ll,[h(Ol,{style:{"grid-column":"1 / -1"},onSelected:n}),h(vl),h(ml),h(hl),h(_l)]))}});const Vl=C(Ml,[["__scopeId","data-v-47785ba8"]]),Bt=k({__name:"ChartPoolTvl",setup(s){const{t:e}=V(),a=new E(N());let t,n;const l=U(),r=M(null),{loading:d,data:p,loadData:c}=F(()=>a.getPoolTvl("ethereum","1m").then(u=>u.deposits),[]);B(()=>{r.value&&(t=de(r.value,v(r.value,l.theme)),n=t.addAreaSeries($(l.theme)),m(p.value),c())}),P(()=>l.theme,u=>{r.value&&(t.applyOptions(v(r.value,u)),n.applyOptions($(u)))}),P(p,u=>{m(u)});const v=(u,w)=>_e(u,w,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:S=>g(S)}}),$=u=>{const w=H(u);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ne.WithSteps,lineColor:w.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=u=>{if(!t||!n)return;const w=G.chain(u).map(S=>({time:S.timestamp,value:S.value})).uniqWith((S,A)=>S.time===A.time).orderBy(S=>S.time,"asc").value();w.length>0&&n.setData(w),t.timeScale().fitContent()},g=u=>`$${Z(u,1,"dollar")}${K(u,"dollar")}`;return(u,w)=>(i(),b(o(X),{class:"chart-container",title:o(e)("title"),loading:o(d)},{default:y(()=>[_("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function nt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Total deposits in stability pool"])}}})}typeof nt=="function"&&nt(Bt);const xl=C(Bt,[["__scopeId","data-v-e251da43"]]),Wt=k({__name:"ChartStableFlow",setup(s){const{t:e}=V(),a=new E(N()),t=U(),{loading:n,data:l,loadData:r}=F(()=>a.getStableFlow("ethereum","1m"),{deposits:[],withdrawals:[]});B(()=>void r());const d=D(()=>{const m=H(t.theme),g=ee(t.theme);return ae({colors:m,colorsArray:g},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[m.green,m.red],xaxis:{categories:p.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:$}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:u,dataPointIndex:w,w:S})=>{let A=0;const W=u.map((oe,x)=>{const J=oe[w];return A+=J,`<div><b>${S.globals.seriesNames[x]}</b>:	${$(J)}</div>`});return W.push(`<div><b>Total</b>:	${$(A)}</div>`),W.join("")}}})}),p=D(()=>l.value.deposits.length===0?[]:l.value.deposits.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=D(()=>[{name:e("deposits"),data:Object.values(l.value.deposits).map(m=>m.value)},{name:e("withdrawals"),data:Object.values(l.value.withdrawals).map(m=>m.value)}]),v=m=>m,$=m=>`$${Z(m,0,"dollar")}${K(m,"dollar")}`;return(m,g)=>(i(),b(o(te),{title:o(e)("title"),loading:o(n),options:d.value,series:c.value},null,8,["title","loading","options","series"]))}});function rt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD deposits and withdrawals"])},deposits:a=>{const{normalize:t}=a;return t(["Deposits"])},withdrawals:a=>{const{normalize:t}=a;return t(["Withdrawals"])}}})}typeof rt=="function"&&rt(Wt);const Rl=C(Wt,[["__scopeId","data-v-c17d1a80"]]),Ft=k({__name:"ChartDepositDistribution",setup(s){const{t:e}=V(),a=new E(N()),t=U(),{loading:n,data:l,loadData:r}=F(()=>a.getStableDistribution("ethereum").then(v=>v.distribution),[]);B(()=>void r());const d=D(()=>{const v=H(t.theme),$=ee(t.theme);return ae({colors:v,colorsArray:$},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:c.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),p=D(()=>[{name:e("numPos"),data:Object.values(l.value).map(v=>v.value)}]),c=D(()=>l.value.map(v=>v.label));return(v,$)=>(i(),b(o(te),{title:o(e)("title"),loading:o(n),series:p.value,options:d.value},null,8,["title","loading","series","options"]))}});function it(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Distribution of current user deposits"])},numPos:a=>{const{normalize:t}=a;return t(["# of positions"])}}})}typeof it=="function"&&it(Ft);const Bl=C(Ft,[["__scopeId","data-v-0286f136"]]),Nt=k({__name:"ChartCumulativeWithdrawals",setup(s){const{t:e}=V(),a=new E(N());let t,n;const l=U(),r=M(null),{loading:d,data:p,loadData:c}=F(()=>a.getCumulativeWithdrawals("ethereum","all").then(u=>u.withdrawals),[]);B(()=>{r.value&&(t=de(r.value,v(r.value,l.theme)),n=t.addAreaSeries($(l.theme)),m(p.value),c())}),P(()=>l.theme,u=>{r.value&&(t.applyOptions(v(r.value,u)),n.applyOptions($(u)))}),P(p,u=>{m(u)});const v=(u,w)=>_e(u,w,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:S=>g(S)}}),$=u=>{const w=H(u);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ne.WithSteps,lineColor:w.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=u=>{if(!t||!n)return;const w=G.chain(u).map(S=>({time:S.timestamp,value:S.value})).uniqWith((S,A)=>S.time===A.time).orderBy(S=>S.time,"asc").value();w.length>0&&n.setData(w),t.timeScale().fitContent()},g=u=>`$${Z(u,1,"dollar")}${K(u,"dollar")}`;return(u,w)=>(i(),b(o(X),{class:"chart-container",title:o(e)("title"),loading:o(d)},{default:y(()=>[_("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ct(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Cumulative value of collaterals withdrawn"])}}})}typeof ct=="function"&&ct(Nt);const Wl=C(Nt,[["__scopeId","data-v-c87ea7d3"]]),Fl={class:"address"},Nl=["href"],El={class:"number"},Hl={class:"number"},Ul={class:"address"},ql=["href"],Et=k({__name:"TableTopDeposits",setup(s){const{t:e}=V(),a=new E(N()),t=D(()=>G.chain(l.value).map(d=>d).value()),{loading:n,data:l,loadData:r}=F(()=>a.getTopStableDeposits("ethereum",5,"7d").then(d=>d.operations),[]);return B(()=>void r()),(d,p)=>(i(),b(o(Se),{class:"datatable-deposits","columns-header":"1fr","columns-data":"deposits-columns-data",loading:o(n),rows:t.value,columns:["Address","Amount","Date","Tx"]},{"header-title":y(()=>[_("div",null,T(o(e)("title")),1)]),row:y(c=>[_("div",Fl,[_("a",{href:`https://etherscan.io/address/${c.item.user}`,target:"_blank"},T(o(re)(c.item.user,8)),9,Nl)]),_("div",El,[h(o(O),{value:c.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),_("div",Hl,T(new Date(c.item.timestamp*1e3).toLocaleDateString()),1),_("div",Ul,[_("a",{href:`https://etherscan.io/tx/${c.item.hash}`,target:"_blank"},T(o(re)(c.item.hash,8)),9,ql)])]),_:1},8,["loading","rows"]))}});function ut(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest deposits past 7 days"])}}})}typeof ut=="function"&&ut(Et);const Gl=C(Et,[["__scopeId","data-v-c62e207d"]]),jl={class:"address"},Ql=["href"],Jl={class:"number"},Yl={class:"number"},Kl={class:"address"},Xl=["href"],Ht=k({__name:"TableTopWithdrawals",setup(s){const{t:e}=V(),a=new E(N()),t=D(()=>G.chain(l.value).map(d=>d).value()),{loading:n,data:l,loadData:r}=F(()=>a.getTopStableDeposits("ethereum",5,"7d").then(d=>d.operations),[]);return B(()=>void r()),(d,p)=>(i(),b(o(Se),{class:"datatable-withdrawals","columns-header":"1fr","columns-data":"withdrawals-columns-data",loading:o(n),rows:t.value,columns:["Address","Amount","Date","Tx"]},{"header-title":y(()=>[_("div",null,T(o(e)("title")),1)]),row:y(c=>[_("div",jl,[_("a",{href:`https://etherscan.io/address/${c.item.user}`,target:"_blank"},T(o(re)(c.item.user,8)),9,Ql)]),_("div",Jl,[h(o(O),{value:c.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),_("div",Yl,T(new Date(c.item.timestamp*1e3).toLocaleDateString()),1),_("div",Kl,[_("a",{href:`https://etherscan.io/tx/${c.item.hash}`,target:"_blank"},T(o(re)(c.item.hash,8)),9,Xl)])]),_:1},8,["loading","rows"]))}});function dt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest withdrawals past 7 days"])}}})}typeof dt=="function"&&dt(Ht);const Zl=C(Ht,[["__scopeId","data-v-a0b172aa"]]),en={class:"pool"},tn=k({__name:"StabilityPool",setup(s){return(e,a)=>(i(),f("div",en,[h(xl),h(Rl),h(Bl),h(Wl),h(Gl),h(Zl)]))}});const an=C(tn,[["__scopeId","data-v-c433301c"]]),sn=s=>(ie("data-v-530ed967"),s=s(),ce(),s),on=sn(()=>_("div",null,[q(" Price data is sourced from Coingecko via Defi Llama."),_("br"),q(" Due to a bug in the way Coingecko aggregates mkUSD price data, "),_("br"),q("the chart may erroneously report large price variations. A fix is on its way. ")],-1)),Ut=k({__name:"ChartPrice",setup(s){const{t:e}=V(),a=new E(N());let t,n;const l=U(),r=M(null),{loading:d,data:p,loadData:c}=F(()=>a.getPriceHistory("ethereum","1m").then(u=>u.prices),[]);B(()=>{r.value&&(t=de(r.value,v(r.value,l.theme)),n=t.addAreaSeries($(l.theme)),m(p.value),c())}),P(()=>l.theme,u=>{r.value&&(t.applyOptions(v(r.value,u)),n.applyOptions($(u)))}),P(p,u=>{m(u)});const v=(u,w)=>_e(u,w,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:S=>g(S)}}),$=u=>{const w=H(u);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:ne.WithSteps,lineColor:w.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=u=>{if(!t||!n)return;const w=G.chain(u).map(S=>({time:S.timestamp,value:S.value})).uniqWith((S,A)=>S.time===A.time).orderBy(S=>S.time,"asc").value();w.length>0&&n.setData(w),t.timeScale().fitContent()},g=u=>`$${Z(u,2,"dollar")}${K(u,"dollar")}`;return(u,w)=>(i(),b(o(X),{class:"chart-container",title:o(e)("title"),loading:o(d)},{actions:y(()=>[h(o(Ve),null,{default:y(()=>[on]),_:1})]),default:y(()=>[_("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function _t(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD price (last 30 days)"])}}})}typeof _t=="function"&&_t(Ut);const ln=C(Ut,[["__scopeId","data-v-530ed967"]]),qt=k({__name:"ChartPriceDistribution",setup(s){const{t:e}=V(),a=new E(N()),t=U(),{loading:n,data:l,loadData:r}=F(()=>a.getPriceHistogram("ethereum",10,"all").then(v=>v.histogram),[]);B(()=>void r());const d=D(()=>{const v=H(t.theme),$=ee(t.theme);return ae({colors:v,colorsArray:$},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:c.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),p=D(()=>[{name:e("numPos"),data:Object.values(l.value).map(v=>v.value)}]),c=D(()=>l.value.map(v=>v.label));return(v,$)=>(i(),b(o(te),{title:o(e)("title"),loading:o(n),series:p.value,options:d.value},null,8,["title","loading","series","options"]))}});function pt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Price histogram"])},numPos:a=>{const{normalize:t}=a;return t(["# of hourly price records"])}}})}typeof pt=="function"&&pt(qt);const nn=C(qt,[["__scopeId","data-v-cb3982fd"]]),Gt=k({__name:"ChartHolders",setup(s){const{t:e}=V(),a=new E(N()),t=U(),{loading:n,data:l,loadData:r}=F(()=>a.getLargeStableCoinHolders("ethereum").then($=>$.holders),[]);B(()=>void r());const d=D(()=>{const $=H(t.theme),m=ee(t.theme);return ae({colors:$,colorsArray:m},{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:g=>{let u=c.value[g.seriesIndex];u=u.length>10&&u.startsWith("0x")?re(u):u;const w=g.series[g.seriesIndex];return[`<div><b>${u}</b>:</div><div>${v(w)}</div>`].join("")}},labels:l.value.map(g=>g.label.length>10&&g.label.startsWith("0x")?re(g.label):g.label)})}),p=D(()=>l.value.map($=>$.value)),c=D(()=>l.value.map($=>$.label)),v=$=>`$${Z(Math.abs($),1,"dollar")}${K($,"dollar")}`;return($,m)=>(i(),b(o(te),{class:"graph",title:o(e)("title"),loading:o(n),options:d.value,series:p.value},null,8,["title","loading","options","series"]))}});function vt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest holders"])},numPos:a=>{const{normalize:t}=a;return t(["mkUSD balance:"])}}})}typeof vt=="function"&&vt(Gt);const rn=C(Gt,[["__scopeId","data-v-87a21766"]]),cn={class:"kpis"},un=k({__name:"KPIs",setup(s){const e=new E(N()),{data:a,loadData:t}=F(()=>e.getStableCoinKPI("ethereum").then(n=>n.info),null);return B(()=>void t()),(n,l)=>(i(),f("div",cn,[h(o(j),{label:"mkUSD price","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),b(o(O),{key:0,value:o(a).price,precision:4,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(j),{label:"Total supply","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),b(o(O),{key:0,value:o(a).supply,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(j),{label:"24h Volume (Curve)","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),b(o(O),{key:0,value:o(a).volume,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(j),{label:"Aggregate -2% Depth (Curve)","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),b(o(O),{key:0,value:o(a).depth,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"])]))}});const dn=C(un,[["__scopeId","data-v-b3576350"]]),jt=k({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(s){const{t:e}=V(),a=U(),t=D(()=>{const d=H(a.theme),p=ee(a.theme);return ae({colors:d,colorsArray:p},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:c=>r(c)}},yaxis:{seriesName:"amounts",labels:{formatter:c=>r(c)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:c=>r(c)}},colors:[c=>c.value===0?d.blue:d.green,c=>c.value===0?d.blue:d.red]})}),n=D(()=>{if(!s.depth)return[];const d=[...s.depth.ask.prices.map(c=>({x:c,y:0})),...s.depth.bid.prices.map((c,v)=>({x:c,y:s.depth.bid.amounts[v]}))],p=[...s.depth.ask.prices.map((c,v)=>({x:c,y:s.depth.ask.amounts[v]}))];return[{name:"Bid",data:d},{name:"Ask",data:p}]}),l=D(()=>{var p;if(!((p=s.depth)!=null&&p.tokens)||s.depth.tokens.length===0)return e("title");const d=s.depth.tokens.join(" / ");return`${e("title")} - ${d} (Curve)`}),r=d=>`$${Z(Math.abs(d),2,"dollar")}${K(d,"dollar")}`;return(d,p)=>(i(),b(o(te),{class:"chart",title:l.value,loading:d.loading,options:t.value,series:n.value},null,8,["title","loading","options","series"]))}});function mt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidity Depth"])}}})}typeof mt=="function"&&mt(jt);const _n=C(jt,[["__scopeId","data-v-defdef9f"]]),pn=k({__name:"ChartDepthContainer",setup(s){const e=new E(N()),{loading:a,data:t,loadData:n}=F(()=>e.getCurvePoolDepth("ethereum").then(l=>l.depth),[]);return B(()=>void n()),(l,r)=>(i(!0),f(Q,null,Y(o(t),d=>(i(),b(_n,{key:d.name,loading:o(a),depth:d},null,8,["loading","depth"]))),128))}});const vn=C(pn,[["__scopeId","data-v-f0b8731b"]]),mn={class:"mkusd"},hn=k({__name:"Stablecoin",setup(s){return(e,a)=>(i(),f("div",mn,[h(dn,{style:{"grid-column":"1 / -1"}}),h(ln),h(nn),h(rn),h(vn)]))}});const fn=C(hn,[["__scopeId","data-v-738142b2"]]),gn=k({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(s){const e=U(),a=D(()=>{const r=H(e.theme),d=ee(e.theme);return ae({colors:r,colorsArray:d},{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:p=>{let c=n.value[p.seriesIndex];c=c.length>10?re(c):c;const v=p.series[p.seriesIndex];return[`<div><b>${c}</b>:</div><div>${l(v)}</div>`].join("")}},labels:s.data.map(p=>p.label.length>10?re(p.label):p.label)})}),t=D(()=>s.data.map(r=>r.value)),n=D(()=>s.data.map(r=>r.label)),l=r=>`$${Z(Math.abs(r),1,"dollar")}${K(r,"dollar")}`;return(r,d)=>(i(),b(o(te),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const bn=C(gn,[["__scopeId","data-v-5e27d0e1"]]),yn={class:"actions"},Qt=k({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(s){const{t:e}=V(),a=new E(N()),t=M("collateral"),{loading:n,data:l,loadData:r}=F(()=>s.vault?a.getLargeTrovePositions("ethereum",s.vault.address,t.value).then(d=>d.positions):Promise.resolve([]),[]);return P(t,r,{immediate:!0}),P(()=>s.vault,r,{immediate:!0}),(d,p)=>(i(),b(o(X),{class:"chart-container",title:o(e)("title"),loading:o(n)},{actions:y(()=>[_("div",yn,[h(o(Ae),{value:"Coll.","model-value":t.value==="collateral",onClick:p[0]||(p[0]=c=>t.value="collateral")},null,8,["model-value"]),h(o(Ae),{value:"Debt","model-value":t.value==="debt",onClick:p[1]||(p[1]=c=>t.value="debt")},null,8,["model-value"])])]),default:y(()=>[h(bn,{data:o(l)},null,8,["data"])]),_:1},8,["title","loading"]))}});function ht(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["5 Largest Troves vs Others"])}}})}typeof ht=="function"&&ht(Qt);const $n=C(Qt,[["__scopeId","data-v-3b560130"]]),Cn=k({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(s){const e=U(),a=D(()=>{const l=H(e.theme),r=ee(e.theme);return ae({colors:l,colorsArray:r},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:n.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),t=D(()=>[{name:"# of troves",data:Object.values(s.data).map(l=>l.value)}]),n=D(()=>s.data.map(l=>l.label));return(l,r)=>(i(),b(o(te),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const wn=C(Cn,[["__scopeId","data-v-726b6957"]]),kn={class:"actions"},Jt=k({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(s){const{t:e}=V(),a=new E(N()),{loading:t,data:n,loadData:l}=F(()=>s.vault?a.getTroveDistribution("ethereum",s.vault.address,r.value).then(d=>d.distribution):Promise.resolve([]),[]),r=M("collateral");return P(r,l,{immediate:!0}),P(()=>s.vault,l,{immediate:!0}),(d,p)=>(i(),b(o(X),{class:"chart-container",title:o(e)("title"),loading:o(t)},{actions:y(()=>[_("div",kn,[h(o(Ae),{value:"Coll.","model-value":r.value==="collateral",onClick:p[0]||(p[0]=c=>r.value="collateral")},null,8,["model-value"]),h(o(Ae),{value:"Debt","model-value":r.value==="debt",onClick:p[1]||(p[1]=c=>r.value="debt")},null,8,["model-value"])])]),default:y(()=>[h(wn,{data:o(n)},null,8,["data"])]),_:1},8,["title","loading"]))}});function ft(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Troves Distribution"])}}})}typeof ft=="function"&&ft(Jt);const Sn=C(Jt,[["__scopeId","data-v-56b15476"]]),Dn={class:"kpis"},An=k({__name:"VaultKPIs",props:{vault:{default:null}},setup(s){return(e,a)=>(i(),f("div",Dn,[h(o(j),{label:"TVL","has-value":!!e.vault},{default:y(()=>[e.vault?(i(),b(o(O),{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(j),{label:"Debt / Debt Cap","has-value":!!e.vault},{default:y(()=>[e.vault?(i(),b(o(O),{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):I("",!0),q(" / "),e.vault?(i(),b(o(O),{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(j),{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:y(()=>[e.vault?(i(),b(o(O),{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):I("",!0),q(" / "),e.vault?(i(),b(o(O),{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(j),{label:"Interest rate","has-value":!!e.vault},{default:y(()=>[e.vault?(i(),b(o(O),{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(j),{label:"Troves open / total","has-value":!!e.vault},{default:y(()=>[e.vault?(i(),b(o(O),{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0),q(" / "),e.vault?(i(),b(o(O),{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(j),{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:y(()=>[e.vault?(i(),b(o(O),{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0),q(" / "),e.vault?(i(),b(o(O),{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):I("",!0)]),_:1},8,["has-value"])]))}});const In=C(An,[["__scopeId","data-v-12fbfe11"]]),Yt=k({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(s){const{t:e}=V(),a=new E(N());let t,n;const l=U(),r=M(null),{loading:d,data:p,loadData:c}=F(()=>s.vault?a.getVaultCollateralRatio("ethereum",s.vault.address,"1m").then(g=>g.ratio):Promise.resolve([]),[]);B(()=>{r.value&&(t=de(r.value,v(r.value,l.theme)),n=t.addAreaSeries($(l.theme)),m(p.value))}),P(()=>l.theme,g=>{r.value&&(t.applyOptions(v(r.value,g)),n.applyOptions($(g)))}),P(()=>s.vault,c,{immediate:!0}),P(p,g=>{m(g)});const v=(g,u)=>_e(g,u,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),$=g=>{const u=H(g);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ne.WithSteps,lineColor:u.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=g=>{if(!t||!n)return;const u=G.chain(g).map(w=>({time:w.timestamp,value:w.value*100})).uniqWith((w,S)=>w.time===S.time).orderBy(w=>w.time,"asc").value();u.length>0&&n.setData(u),t.timeScale().fitContent()};return(g,u)=>(i(),b(o(X),{class:"chart-container",title:o(e)("title"),loading:o(d)},{default:y(()=>[_("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function gt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vault collateral ratio"])}}})}typeof gt=="function"&&gt(Yt);const Tn=C(Yt,[["__scopeId","data-v-518d60f9"]]),Kt=k({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(s){const{t:e}=V(),a=new E(N());let t,n;const l=U(),r=M(null),{loading:d,data:p,loadData:c}=F(()=>s.vault?a.getVaultTroveCount("ethereum",s.vault.address,"1m").then(g=>g.count):Promise.resolve([]),[]);B(()=>{r.value&&(t=de(r.value,v(r.value,l.theme)),n=t.addAreaSeries($(l.theme)),m(p.value))}),P(()=>l.theme,g=>{r.value&&(t.applyOptions(v(r.value,g)),n.applyOptions($(g)))}),P(()=>s.vault,c,{immediate:!0}),P(p,g=>{m(g)});const v=(g,u)=>_e(g,u,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),$=g=>{const u=H(g);return{priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:ne.WithSteps,lineColor:u.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=g=>{if(!t||!n)return;const u=G.chain(g).map(w=>({time:w.timestamp,value:w.value})).uniqWith((w,S)=>w.time===S.time).orderBy(w=>w.time,"asc").value();u.length>0&&n.setData(u),t.timeScale().fitContent()};return(g,u)=>(i(),b(o(X),{class:"chart-container",title:o(e)("title"),loading:o(d)},{default:y(()=>[_("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function bt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Number of open troves"])}}})}typeof bt=="function"&&bt(Kt);const Pn=C(Kt,[["__scopeId","data-v-a04a3ea9"]]),zn={class:"vault-overview"},On=k({__name:"VaultOverview",props:{vault:{}},setup(s){return(e,a)=>(i(),f("div",zn,[h(In,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(Sn,{vault:e.vault},null,8,["vault"]),h($n,{vault:e.vault},null,8,["vault"]),h(Tn,{vault:e.vault},null,8,["vault"]),h(Pn,{vault:e.vault},null,8,["vault"])]))}});const Ln=C(On,[["__scopeId","data-v-ad4ff57f"]]),Mn={class:"actions"},Xt=k({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(s){const{t:e}=V(),a=new E(N());let t,n,l;const r=U(),d=M(null),p={oracle:[],market:[]},{loading:c,data:v,loadData:$}=F(async()=>{if(s.vault){const A=await a.getCollateralPrices("ethereum",s.vault.collateral,"7d");return m(A.oracle,A.market)}else return Promise.resolve(p)},p);B(async()=>{d.value&&(await _a(),t=de(d.value,g(d.value,r.theme)),n=t.addAreaSeries(w(r.theme)),l=t.addAreaSeries(u(r.theme)),S(v.value))}),P(()=>s.vault,$,{immediate:!0}),P(()=>r.theme,A=>{d.value&&(t.applyOptions(g(d.value,A)),n.applyOptions(w(A)),l.applyOptions(u(A)))}),P(v,A=>{S(A)});const m=(A,W)=>{const oe=Math.max(A[0].timestamp,W[0].timestamp),x=Math.min(A[A.length-1].timestamp,W[W.length-1].timestamp),J=A.filter(we=>we.timestamp>=oe&&we.timestamp<=x),pe=W.filter(we=>we.timestamp>=oe&&we.timestamp<=x);return J[J.length-1].timestamp<x&&J.push({timestamp:x,value:J[J.length-1].value}),pe[pe.length-1].timestamp<x&&pe.push({timestamp:x,value:pe[pe.length-1].value}),{oracle:J,market:pe}},g=(A,W)=>_e(A,W,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),u=A=>{const W=H(A);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ne.WithSteps,lineColor:W.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},w=A=>{const W=H(A);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ne.WithSteps,lineColor:W.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},S=A=>{if(!t||!n)return;const W=G.chain(A.oracle).map(x=>({time:x.timestamp,value:x.value})).uniqWith((x,J)=>x.time===J.time).orderBy(x=>x.time,"asc").value(),oe=G.chain(A.market).map(x=>({time:x.timestamp,value:x.value})).uniqWith((x,J)=>x.time===J.time).orderBy(x=>x.time,"asc").value();oe.length>0&&l.setData(oe),W.length>0&&n.setData(W),t.timeScale().fitContent()};return(A,W)=>(i(),b(o(X),{class:"chart-container",title:o(e)("title"),loading:o(c)},{actions:y(()=>[_("div",Mn,[h(o(io),{items:["Oracle","Market"],colors:o(ee)(o(r).theme)},null,8,["colors"])])]),default:y(()=>[_("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function yt(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Oracle & Market price"])}}})}typeof yt=="function"&&yt(Xt);const Vn=C(Xt,[["__scopeId","data-v-94a01709"]]),Zt=k({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(s){const{t:e}=V(),a=new E(N()),t=U(),{loading:n,data:l,loadData:r}=F(()=>s.vault?a.getCollateralPriceImpact("ethereum",s.vault.collateral).then(m=>m.impact):Promise.resolve([]),[]),d=D(()=>{const m=H(t.theme),g=ee(t.theme);return ae({colors:m,colorsArray:g},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:c.value,labels:{formatter:u=>v(u)}},yaxis:{seriesName:"impact",labels:{formatter:u=>$(u)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:u=>{if(!s.vault)return"";const w=c.value[u.dataPointIndex],S=v(w*s.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${v(w)} ${s.vault.name} ($${S})</div>

          <div><b>Price impact:</b>:</div>
          <div>${$(u.series[0][u.dataPointIndex])}</div>
          `}}})}),p=D(()=>[{name:e("priceImpact"),data:Object.values(l.value).map(m=>m.impact)}]),c=D(()=>l.value.map(m=>s.vault?m.amount/s.vault.price:0)),v=m=>`${Z(Math.abs(m),1,"dollar")}${K(m,"dollar")}`,$=m=>`${Z(m,2,"percentage")}${K(m,"percentage")}`;return P(()=>s.vault,r,{immediate:!0}),(m,g)=>(i(),b(o(te),{class:"chart",title:o(e)("title"),loading:o(n),options:d.value,series:p.value},null,8,["title","loading","options","series"]))}});function $t(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["On-chain Selling Price Impact"])},priceImpact:a=>{const{normalize:t}=a;return t(["Price impact"])}}})}typeof $t=="function"&&$t(Zt);const xn=C(Zt,[["__scopeId","data-v-57657d95"]]),Rn={class:"kpis"},Bn=["href"],Wn=k({__name:"CollateralKPIs",props:{vault:{default:null}},setup(s){const e=new E(N()),{data:a,loadData:t}=F(()=>s.vault?e.getCollateralInfo("ethereum",s.vault.collateral).then(n=>n.info):Promise.resolve(null),null);return P(()=>s.vault,t,{immediate:!0}),(n,l)=>(i(),f("div",Rn,[h(o(j),{label:"Oracle price","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),b(o(O),{key:0,value:o(a).price,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(j),{label:"Total supply","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),b(o(O),{key:0,value:o(a).supply,precision:2,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(j),{label:"TVL","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),b(o(O),{key:0,value:o(a).tvl,precision:1,type:"dollar"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(j),{label:"Share of the ETH LSD market","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),b(o(O),{key:0,value:o(a).share,precision:1,type:"percentage"},null,8,["value"])):I("",!0)]),_:1},8,["has-value"]),h(o(j),{label:"Full risk analysis by Prisma Risk team","has-value":!!o(a)},{default:y(()=>[o(a)?(i(),f("a",{key:0,href:o(a).risk}," Risk Report ",8,Bn)):I("",!0)]),_:1},8,["has-value"])]))}});const Fn=C(Wn,[["__scopeId","data-v-abf880e6"]]),Nn={class:"collateral"},En=k({__name:"Collateral",props:{vault:{}},setup(s){return(e,a)=>(i(),f("div",Nn,[h(Fn,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(Vn,{vault:e.vault},null,8,["vault"]),h(xn,{vault:e.vault},null,8,["vault"])]))}});const Hn=C(En,[["__scopeId","data-v-a7083765"]]);const Un={},qn={class:"liquidations"};function Gn(s,e){return i(),f("div",qn,"TODO")}const jn=C(Un,[["render",Gn],["__scopeId","data-v-5225d811"]]);const Qn={},Jn={class:"redemptions"};function Yn(s,e){return i(),f("div",Jn,"TODO")}const Kn=C(Qn,[["render",Yn],["__scopeId","data-v-f4b7711a"]]);const Xn={},Zn={class:"find-trove"};function er(s,e){return i(),f("div",Zn,"TODO")}const tr=C(Xn,[["render",er],["__scopeId","data-v-cd8992af"]]);const ar={},sr={class:"simulation"};function or(s,e){return i(),f("div",sr,"TODO")}const lr=C(ar,[["render",or],["__scopeId","data-v-a5df65ee"]]),nr={class:"vault-manager"},rr=k({__name:"VaultManager",setup(s){const e=new Vt("ethereum"),a=Ie(),t=Be(),n=Ee(),l=Rt(),r=M(0),d=D(()=>a.params.vaultAddr),p=D(()=>l.vault);return B(()=>{var v;const c=a.params.tab;c&&typeof c=="string"&&(c==="collateral"?r.value=1:c==="trove"?r.value=2:c==="liquidations"?r.value=3:c==="redemptions"?r.value=4:c==="simulation"&&(r.value=5)),n.show=!0,n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((v=p.value)==null?void 0:v.name)??"?"}`}]}),P(e.currentData,c=>{const v=c.find($=>$.address===d.value);v&&(l.vault=v)}),P(p,c=>{n.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(c==null?void 0:c.name)??"?"}`}]}),P(r,async c=>{c===0?await t.push({name:"prismavault",params:{tab:"",vaultAddr:d.value}}):c===1?await t.push({name:"prismavault",params:{tab:"collateral",vaultAddr:d.value}}):c===2?await t.push({name:"prismavault",params:{tab:"trove",vaultAddr:d.value}}):c===3?await t.push({name:"prismavault",params:{tab:"liquidations",vaultAddr:d.value}}):c===4?await t.push({name:"prismavault",params:{tab:"redemptions",vaultAddr:d.value}}):c===5&&await t.push({name:"prismavault",params:{tab:"simulation",vaultAddr:d.value}})}),(c,v)=>(i(),f("div",nr,[h(o(eo),{active:r.value,onTab:v[0]||(v[0]=$=>r.value=$.index)},{default:y(()=>[h(o(he),{header:"Overview"},{default:y(()=>[(i(),b(ve,null,[r.value===0?(i(),b(Ln,{key:0,vault:p.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(o(he),{header:"Collateral"},{default:y(()=>[(i(),b(ve,null,[r.value===1&&p.value?(i(),b(Hn,{key:0,vault:p.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(o(he),{header:"Troves",disabled:!0},{default:y(()=>[(i(),b(ve,null,[r.value===2&&p.value?(i(),b(tr,{key:0,vault:p.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(o(he),{header:"Liquidations",disabled:!0},{default:y(()=>[(i(),b(ve,null,[r.value===3&&p.value?(i(),b(jn,{key:0,vault:p.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(o(he),{header:"Redemptions",disabled:!0},{default:y(()=>[(i(),b(ve,null,[r.value===4&&p.value?(i(),b(Kn,{key:0,vault:p.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(o(he),{header:"Simulation",disabled:!0},{default:y(()=>[(i(),b(ve,null,[r.value===5&&p.value?(i(),b(lr,{key:0,vault:p.value},null,8,["vault"])):I("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const ir=C(rr,[["__scopeId","data-v-6ee67e29"]]),cr={titleRoute:"/",routes:[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:an},{path:"/mkusd",name:"mkusd",component:fn},{path:"/vaults",name:"vaults",component:Vl},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:ir}],menuItems:[{to:"/vaults",label:"Vaults"},{to:"/mkusd",label:"mkUSD"},{to:"/pool",label:"Stability pool"}]},He=pa(Yo),ur=va({legacy:!1,locale:"en",fallbackLocale:"en"});He.use(ur);const dr=ma();He.use(dr);const _r=[cr],pr=Ne();pr.pages=_r;const vr=il();He.use(vr).use(ha).use(fa).mount("#app");
