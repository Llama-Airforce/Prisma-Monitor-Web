var Yn=Object.defineProperty;var Qn=(t,e,o)=>e in t?Yn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var re=(t,e,o)=>Qn(t,typeof e!="symbol"?e+"":e,o);import{o as _,c as k,p as ie,a as ce,b as p,d as T,e as L,n as B,f as x,r as Y,g as W,t as D,w as y,h as v,T as Jn,F as Q,i as oe,j as Lt,k as Je,l as q,u as Ue,m as Ze,q as a,V as Xn,s as es,v as Be,x as Tt,y as At,D as Xe,z as It,A as w,B as J,C as ts,E as as,G as os,H as ze,I as Lo,J as fe,K as Pt,L as ns,M as ss,N as R,O as ls,P as rs,Q as is,R as X,S as To,U as cs,W as us,X as ve,Y as Ao,Z as ds,_ as ps,$ as Ye,a0 as Dt,a1 as N,a2 as O,a3 as ms,a4 as vs,a5 as jt,a6 as _s,a7 as fs,a8 as pe,a9 as se,aa as le,ab as Io,ac as hs,ad as bs,ae as gs,af as Qe,ag as ys,ah as xt,ai as Zt,aj as zt,ak as dt,al as ws,am as Ne,an as Yt,ao as $s,ap as Qt,aq as Cs,ar as ks,as as Ss,at as Ls,au as Jt,av as Ts,aw as As,ax as Is,ay as Ps,az as Ds,aA as xs,aB as Vs,aC as qs,aD as Ms,aE as Rs,aF as Fs}from"./vendor-ngDrVcqS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}})();class Bs{constructor(e){this.value=e}entries(){return Object.entries(this.value)}}Array.prototype.take=function(t){return this.slice(0,t)};Array.prototype.takeRight=function(t){return this.slice(-t)};Array.prototype.drop=function(t=1){return this.slice(Math.max(0,t))};Array.prototype.dropWhile=function(t){const e=this.findIndex((o,n,l)=>!t(o,n,l));return e===-1?[]:this.slice(e)};Array.prototype.zip=function(...t){return this.map((e,o)=>[e,...t.map(n=>n[o])])};Array.prototype.uniq=function(){return[...new Set(this)]};Array.prototype.uniqWith=function(t){return this.filter((e,o)=>this.findIndex(n=>t(e,n))===o)};Array.prototype.orderBy=function(t,e="asc"){const o=Array.isArray(t)?t:[t],n=Array.isArray(e)?e:[e];return[...this].sort((l,u)=>{for(let c=0;c<o.length;c++){const i=o[c],m=Array.isArray(e)?n[c]||"asc":e,d=i(l),f=i(u);if(d!==f)return(d>f?1:-1)*(m==="asc"?1:-1)}return 0})};Array.prototype.groupBy=function(t){const e=Object.groupBy(this,t);return new Bs(e)};Array.prototype.sumBy=function(t){return this.reduce((e,o)=>e+t(o),0)};Array.prototype.meanBy=function(t){const e=this.sumBy(t);return this.length>0?e/this.length:0};Array.prototype.maxBy=function(t){return this.reduce((e,o)=>t(o)>t(e)?o:e)};Array.prototype.difference=function(...t){const e=new Set(t.flat());return this.filter(o=>!e.has(o))};const A=(t,e)=>{const o=t.__vccOpts||t;for(const[n,l]of e)o[n]=l;return o},Us={},Po=t=>(ie("data-v-ad2adcec"),t=t(),ce(),t),Es={class:"lds-ripple"},Os=Po(()=>p("div",null,null,-1)),Ws=Po(()=>p("div",null,null,-1)),Ks=[Os,Ws];function Ns(t,e){return _(),k("div",Es,Ks)}const Do=A(Us,[["render",Ns],["__scopeId","data-v-ad2adcec"]]),Hs=["inert"],Gs={key:0,class:"title"},js=T({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:null}},setup(t){return(e,o)=>{const n=Do;return _(),k("div",{class:B(["card",{loading:e.loading}]),inert:!!e.loading},[e.loading!==null?(_(),L(n,{key:0,class:B(["loader",{loading:e.loading}])},null,8,["class"])):x("",!0),e.title||e.$slots.title||e.$slots.actions?(_(),k("div",{key:1,class:B(["card-header",{collapsible:e.collapsible}])},[Y(e.$slots,"title",{},()=>[e.title?(_(),k("div",Gs,[e.icon?(_(),k("i",{key:0,class:B(["icon",e.icon])},null,2)):x("",!0),W(" "+D(e.title),1)])):x("",!0)],!0),Y(e.$slots,"actions",{},void 0,!0)],2)):(_(),k("div",{key:2,class:B(["card-no-header",{compact:e.compact}])},null,2)),p("div",{class:B(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[Y(e.$slots,"default",{},void 0,!0)],2)],10,Hs)}}}),K=A(js,[["__scopeId","data-v-5ebbe34e"]]),Zs={key:0,class:"fas fa-chevron-right"},zs=T({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(t,{emit:e}){const o=e,n=u=>{var i;const c=t.active?t.active.id===u.id:((i=t.crumbs.filter(m=>!m.hint).at(-1))==null?void 0:i.id)===u.id;return u.hint??c},l=u=>{var c;return((c=t.crumbs.at(-1))==null?void 0:c.id)===u.id};return(u,c)=>{const i=K;return _(),L(i,null,{default:y(()=>[v(Jn,{name:"fade",tag:"ul"},{default:y(()=>[(_(!0),k(Q,null,oe(u.crumbs,m=>(_(),k("li",{key:m.id},[(_(),L(Lt(n(m)?"span":"a"),{class:B({active:n(m),hint:m.hint}),onClick:d=>o("crumb",m)},{default:y(()=>[W(D(m.label),1)]),_:2},1032,["class","onClick"])),!l(m)||u.crumbs.length===1?(_(),k("i",Zs)):x("",!0)]))),128))]),_:1})]),_:1})}}}),Ys=A(zs,[["__scopeId","data-v-1c1116d3"]]),et=Je("breadcrumbStore",()=>{const t=q([]),e=q(!1);return{crumbs:t,show:e}}),Qs=t=>(ie("data-v-a9017ae5"),t=t(),ce(),t),Js={class:"root"},Xs={class:"toolbar-container"},el=Qs(()=>p("div",{id:"toolbar",class:"toolbar-teleport"},null,-1)),tl={class:"content"},al=T({__name:"Layout",setup(t){const e=et(),o=Ue(),n=async l=>{l.pathName&&await o.push({name:l.pathName,...l.params&&{params:l.params()}})};return(l,u)=>{const c=Ze("notifications"),i=Ys,m=Ze("router-view");return _(),k("div",Js,[v(c,{width:600,duration:-1}),v(a(Xn)),Y(l.$slots,"navigation",{},void 0,!0),p("main",null,[p("div",Xs,[a(e).show?(_(),L(i,{key:0,class:"breadcrumb",crumbs:a(e).crumbs,onCrumb:n},null,8,["crumbs"])):x("",!0),el]),p("div",tl,[v(m,null,{default:y(({Component:d})=>[v(es,{name:"fade",mode:"out-in"},{default:y(()=>[(_(),L(Lt(d)))]),_:2},1024)]),_:1})])])])}}}),ol=A(al,[["__scopeId","data-v-a9017ae5"]]),nl={class:"collapsible-inside"},sl=T({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(t){return(e,o)=>(_(),k("div",{class:B(["collapsible-outside",{expanded:e.expanded}])},[p("div",nl,[Y(e.$slots,"default",{},void 0,!0)])],2))}}),tt=A(sl,[["__scopeId","data-v-25b74378"]]),ll={class:"badge"},rl={class:"label"},il=T({__name:"Badge",props:{label:{default:""}},setup(t){return(e,o)=>(_(),k("div",ll,[p("div",rl,D(e.label),1)]))}}),cl=A(il,[["__scopeId","data-v-79abf25e"]]);function pt(t){return!!t.children}function Xt(t){return!!t.to}function ul(t){return!!t.url}function dl(t){function e(s){return s<10?"0"+s.toString():s.toString()}const o=t.getTime()-new Date().getTime();if(o<=0)return"00:00:00:00";const n=1e3,l=n*60,u=l*60,c=u*24,i=Math.floor(o/c),m=Math.floor(o%c/u),d=Math.floor(o%u/l),f=Math.floor(o%l/n);return e(i)+":"+e(m)+":"+e(d)+":"+e(f)}function Pe(t,e=0,o=".",n=","){const l=isFinite(+t)?+t:0,u=isFinite(+e)?Math.abs(e):0,c=typeof n>"u"?",":n,i=typeof o>"u"?".":o,m=function(f,s){const r=Math.pow(10,s);return Math.round(f*r)/r},d=(u?m(l,u):Math.round(l)).toString().split(".");return d[0].length>3&&(d[0]=d[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,c)),(d[1]||"").length<u&&(d[1]=d[1]||"",d[1]+=new Array(u-d[1].length+1).join("0")),d.join(i)}function G(t,e){const o=Math.abs(t);return e==="percentage"?"%":e==="dollar"?o>=1*10**12?"t":o>=1*10**9?"b":o>=1*10**6?"m":o>=1*10**3?"k":"":""}function Z(t,e,o){const n=Math.abs(t);return e===1/0?t.toLocaleString():o==="percentage"?Pe(t,e):o==="dollar"?n>=1*10**12?Pe(t/10**12,e):n>=1*10**9?Pe(t/10**9,e):n>=1*10**6?Pe(t/10**6,e):n>=1*10**3?Pe(t/10**3,e):Pe(t,e):t.toString()}function Vt(t,e){const o={...t};for(const n in e)Array.isArray(e[n])?o[n]=[...e[n]]:typeof e[n]=="object"&&e[n]!==null?o[n]=Vt(o[n],e[n]):o[n]=e[n];return o}async function xe(t,e=0,o=1e3){const n=await t(e,o),l=await(n.length>=o?xe(t,e+1,o):Promise.resolve([]));return n.concat(l)}function Ct(t,e){return(Array.isArray(t)?t:[t]).some(n=>e.path.startsWith(n))}const He="0xc53baaaa8595a7a2e7fee71db7291b939f696734";class pl extends Error{constructor(e,o){super(o),this.status=e}}async function ml(t,e,o){try{const n=await fetch(t,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:o});if(n.ok)return n;throw new pl(n.status,`Fetch error ${n.status} for URL: ${t}`)}catch(n){throw n instanceof Error?n:new Error("Unknown fetch error")}}async function vl(t,e,o){return await(await ml(t,e,o)).json()}class he{async fetch(e,o,n){return vl(e,o,n)}}const _l="wss://prices.curve.fi/v1/stream/ws",ea="pool_ohlc";class _t{constructor(e,o,n){re(this,"socket");re(this,"ohlc$");this.chain=o,this.settings=n,this.socket=e,this.ohlc$=this.socket.pipe(Be(l=>l),Tt(l=>l.subscription.chain===this.chain&&l.channel===ea&&JSON.stringify(l.subscription)===JSON.stringify(n)),Be(l=>l.payload),At(1)),this.send("snapshots")}send(e){const o={action:e,channel:ea,settings:[this.settings]};this.socket.next(o)}}const ta="pool_volume";class fl{constructor(e,o,n){re(this,"socket");re(this,"volume$");this.chain=o,this.settings=n,this.socket=e,this.volume$=this.socket.pipe(Be(l=>l),Tt(l=>l.subscription.chain===this.chain&&l.channel===ta&&JSON.stringify(l.subscription)===JSON.stringify(n)),Be(l=>l.payload),At(1)),this.send("snapshots")}send(e){const o={action:e,channel:ta,settings:[this.settings]};this.socket.next(o)}}function qt(t){return t instanceof Error?t.message.includes("Exchange resulted in fewer coins than expected")||t.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":t.message.includes("HTTP request failed")&&t.message.includes("eth_call")?"The RPC returned an error, probably a rate-limit. Try again layer or try a different wallet.":t.message:JSON.stringify(t)}async function hl(t){try{return await t()}catch(e){Xe({text:qt(e),type:"error"});return}}async function aa(t,e){t.value=!0;try{return await e()}catch(o){Xe({text:qt(o),type:"error"});return}finally{t.value=!1}}const bl={key:0},gl={class:"nav-link-container"},yl={key:1},wl=["href"],$l={class:"nav-link-container"},Cl={class:"nav-link-container"},kl={class:"left"},Sl={key:0,class:"icon"},Ll={class:"right"},Tl=T({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(t,{emit:e}){const o=e,n=It(),l=q(!0),u=w(()=>Xt(t.item)?[t.item]:pt(t.item)?t.item.children:[]),c=()=>{pt(t.item)&&t.item.children.filter(f=>Ct(f.to,n)).length>0&&(l.value=!0)},i=d=>typeof d.label=="string"?d.label:d.label();J(()=>t.item,d=>{pt(d)&&(l.value=!d.initCollapsed),c()},{immediate:!0}),J(()=>n.fullPath,()=>{c()},{immediate:!0});const m=()=>{l.value=!l.value};return(d,f)=>{const s=cl,r=Ze("router-link"),g=tt;return _(),k(Q,null,[a(pt)(d.item)?(_(),k("li",bl,[p("a",{class:"nav-link node",onClick:m},[p("div",gl,[W(D(d.item.label)+" ",1),p("i",{class:B(["expander fas fa-chevron-up",{expanded:a(l)}])},null,2)])])])):x("",!0),a(ul)(d.item)?(_(),k("li",yl,[p("a",{class:"nav-link node",href:d.item.url,target:"_blank"},[p("div",$l,D(d.item.label),1)],8,wl)])):x("",!0),v(g,{class:"items",expanded:a(l)},{default:y(()=>[p("ul",null,[(_(!0),k(Q,null,oe(a(u),h=>(_(),k("li",{key:i(h)},[a(Xt)(h)?(_(),L(r,{key:0,to:h.to,class:B(["nav-link leaf",{"router-link-active":a(Ct)(h.to,a(n))}]),onClick:f[0]||(f[0]=S=>o("navigated"))},{default:y(()=>[p("div",Cl,[p("div",kl,[h.icon?(_(),k("div",Sl,[p("i",{class:B(h.icon)},null,2)])):x("",!0),W(" "+D(i(h)),1)]),p("div",Ll,[h.tag?(_(),L(s,{key:0,label:h.tag},null,8,["label"])):x("",!0)])])]),_:2},1032,["to","class"])):x("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}}),Al=A(Tl,[["__scopeId","data-v-50ebd9f4"]]),Il=T({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(t,{emit:e}){const o=e,n=It(),l=w(()=>t.pages.find(i=>Ct(i.titleRoute,n))),u=w(()=>{var i;return((i=l.value)==null?void 0:i.menuItems)??[]}),c=i=>typeof i.label=="string"?i.label:i.label();return(i,m)=>(_(),k("nav",null,[(_(!0),k(Q,null,oe(a(u),d=>(_(),k("ul",{key:c(d)},[v(Al,{item:d,onNavigated:m[0]||(m[0]=f=>o("navigated"))},null,8,["item"])]))),128))]))}}),Pl=A(Il,[["__scopeId","data-v-320414b3"]]);function at(){const{address:t,isConnected:e,chainId:o}=ts(),n=as(),l=w(()=>n.data.value&&t.value?t.value.toLocaleLowerCase():void 0),u=w(()=>{switch(o.value){case ze.id:return"ethereum";case os.id:return"base";default:return}});return{isConnected:e,network:u,address:l}}function H(t,e=6){if(!t)return"0x000...000";const o=e/2+2,n=t.length-e/2;return`${t.substring(0,o)}...${t.substring(n)}`}const Dl=T({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:e}){const o=e,{network:n}=at(),{switchChain:l}=Lo(),u=c=>{c.stopImmediatePropagation(),t.web3&&n.value!=="ethereum"&&l({chainId:ze.id}),o("click")};return(c,i)=>(_(),k("button",{class:B({primary:c.primary}),onClick:u},[Y(c.$slots,"default",{},()=>[c.icon?(_(),k("i",{key:0,class:B(["icon",[c.icon,{noValue:!!c.value}]])},null,2)):x("",!0),W(" "+D(c.value),1)],!0)],2))}}),ot=A(Dl,[["__scopeId","data-v-a01f98b9"]]),xl="/assets/prisma-B4fv490f.png",Vl="/assets/hat-D1qfnSjv.png",ql={},xo=t=>(ie("data-v-dbfe94c6"),t=t(),ce(),t),Ml={class:"logo"},Rl=xo(()=>p("div",{class:"visual"},[p("img",{src:xl}),p("img",{src:Vl})],-1)),Fl=xo(()=>p("span",null,"prisma.monitor",-1)),Bl=[Rl,Fl];function Ul(t,e){return _(),k("div",Ml,Bl)}const El=A(ql,[["render",Ul],["__scopeId","data-v-dbfe94c6"]]),Ol={class:"header"},Wl={class:"buttons"},Kl=T({__name:"Header",emits:["toggle-expansion","navigated"],setup(t,{emit:e}){const o=e;return(n,l)=>{const u=Ze("router-link"),c=ot;return _(),k("div",Ol,[v(u,{class:"logo",to:"/",onClick:l[0]||(l[0]=i=>o("navigated"))},{default:y(()=>[v(El,{class:"logo"})]),_:1}),p("div",Wl,[v(c,{icon:"fas fa-bars",onClick:l[1]||(l[1]=i=>o("toggle-expansion"))})])])}}}),Nl=A(Kl,[["__scopeId","data-v-7323f4f0"]]),Hl={key:0,class:"modal"},Gl={class:"modal-popup"},jl=T({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e}){const o=e,n=l=>{l.code==="Escape"&&o("close")};return fe(()=>{document.addEventListener("keydown",n)}),Pt(()=>{document.removeEventListener("keydown",n)}),J(()=>t.show,l=>{document.body.style.overflow=l?"hidden":""}),(l,u)=>(_(),L(ns,{to:"body"},[l.show?(_(),k("div",Hl,[p("div",{class:"modal-mask",onClick:u[0]||(u[0]=c=>o("close"))}),p("div",Gl,[Y(l.$slots,"default",{},void 0,!0)])])):x("",!0)]))}}),Le=A(jl,[["__scopeId","data-v-a3eb67e6"]]),Zl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",zl={key:1,src:Zl},Yl=T({__name:"Tooltip",props:{icon:{default:""}},emits:["show"],setup(t,{emit:e}){const o=e,n=q(!1);return J(n,l=>{o("show",l)}),(l,u)=>(_(),L(a(ss),{class:"tooltip",show:a(n)},{content:y(()=>[Y(l.$slots,"default",{},void 0,!0)]),default:y(()=>[p("div",{onMouseover:u[0]||(u[0]=c=>n.value=!0),onMouseleave:u[1]||(u[1]=c=>n.value=!1)},[Y(l.$slots,"item",{},()=>[l.icon?(_(),k("i",{key:0,class:B(l.icon)},null,2)):(_(),k("img",zl))],!0)],32)]),_:3},8,["show"]))}}),nt=A(Yl,[["__scopeId","data-v-086533d3"]]),Ql="/assets/injected-DW80ouY-.webp",Jl="/assets/rabby-CG__llS3.svg",Xl="/assets/walletconnect-BCBhrtde.webp",er="/assets/coinbase-CsqSq8Nj.webp",tr="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",ar={class:"buttons"},or={class:"connectors-body"},nr={class:"title"},sr={class:"connectors"},lr=["src"],rr={key:1,class:"empty"},ir={class:"name"},Mt=T({__name:"WalletConnectButton",setup(t){const{t:e}=R(),{connect:o}=ls(),n=rs(),l=["injected","walletConnect","coinbaseWalletSDK","safe"],u=w(()=>n.value.filter(f=>l.includes(f.id))),c=q(!1);function i(f){switch(f.id){case"injected":return Ql;case"walletConnect":return Xl;case"coinbaseWalletSDK":return er;case"safe":return tr;case"io.rabby":return Jl;default:return""}}function m(f){return f.id==="injected"?"Browser Extension":f.name}function d(f){o({connector:f}),c.value=!1}return(f,s)=>{const r=ot,g=K,h=Le;return _(),k("div",ar,[v(r,{class:"button",primary:!0,onClick:s[0]||(s[0]=S=>c.value=!0)},{default:y(()=>[W(D(a(e)("connect-your-wallet")),1)]),_:1}),x("",!0),v(h,{show:a(c),onClose:s[1]||(s[1]=S=>c.value=!1)},{default:y(()=>[v(g,null,{default:y(()=>[p("div",or,[p("div",nr,D(a(e)("connect-your-wallet")),1),p("div",sr,[(_(!0),k(Q,null,oe(a(u),S=>(_(),k("div",{key:S.id,class:"connector"},[v(r,{onClick:$=>d(S)},{default:y(()=>[i(S)?(_(),k("img",{key:0,src:i(S)},null,8,lr)):(_(),k("div",rr)),p("div",ir,D(m(S)),1)]),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1},8,["show"])])}}});function oa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"Connect Wallet"}}}})}function na(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"连接你的钱包"}}}})}typeof oa=="function"&&oa(Mt);typeof na=="function"&&na(Mt);const cr=A(Mt,[["__scopeId","data-v-3c15f258"]]),ur={class:"wallet"},dr={key:0,class:"connected"},pr={key:0,class:"unsupportedNetwork"},mr={class:"info"},vr={key:1,class:"notConnected"},_r={key:0,class:"info"},Vo=T({__name:"Wallet",props:{labelPleaseConnect:{}},setup(t){const{t:e}=R(),{disconnect:o}=is(),{isConnected:n,network:l,address:u}=at(),{switchChain:c}=Lo(),i=w(()=>l.value==="ethereum"),m=()=>c({chainId:ze.id});return(d,f)=>{const s=ot;return _(),k("div",ur,[a(n)?(_(),k("div",dr,[a(i)?x("",!0):(_(),k("div",pr,[v(s,{class:"changeNetwork",value:"Change Network",primary:!0,onClick:m}),p("span",mr,D(a(e)("incorrect-network")),1)])),v(s,{class:"disconnect",icon:"fas fa-check",value:a(H)(a(u)),onClick:a(o)},null,8,["value","onClick"])])):(_(),k("div",vr,[v(cr),d.labelPleaseConnect?(_(),k("span",_r,D(d.labelPleaseConnect),1)):x("",!0)]))])}}});function sa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"incorrect-network":{t:0,b:{t:2,i:[{t:3}],s:"You are not on the correct network; should be Ethereum"}}}})}typeof sa=="function"&&sa(Vo);const fr=A(Vo,[["__scopeId","data-v-610d17cd"]]),hr=t=>(ie("data-v-9d368235"),t=t(),ce(),t),br={class:"select"},gr={class:"item"},yr={key:0,class:"label"},wr=["onClick"],$r=hr(()=>p("div",{class:"chevrons"},[p("i",{class:"fas fa-chevron-up"}),p("i",{class:"fas fa-chevron-down"})],-1)),Cr=T({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(t,{emit:e}){const o=e;return(n,l)=>(_(),k("div",{class:"select-container",tabindex:"0",onClick:l[0]||(l[0]=X(u=>o("open"),["stop"])),onBlur:l[1]||(l[1]=u=>o("close"))},[p("div",br,[p("div",{class:B(["selected",{open:n.open}])},[Y(n.$slots,"item",{item:n.selected},()=>[p("div",gr,D(n.selected),1)],!0),n.label?(_(),k("div",yr,D(n.label),1)):x("",!0)],2),p("div",{class:B(["items",{selectHide:!n.open}])},[(_(!0),k(Q,null,oe(n.options,(u,c)=>(_(),k("div",{key:c,onClick:i=>o("input",u)},[Y(n.$slots,"item",{item:u},()=>[W(D(u),1)],!0)],8,wr))),128))],2)]),$r],32))}}),qo=A(Cr,[["__scopeId","data-v-9d368235"]]),qe={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},Me={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#794dec",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},kr=[qe.blue,qe.yellow,qe.green,qe.red,qe.purple,"#ff8f33"],Sr=[Me.purple,Me.yellow,Me.green,Me.red,Me.blue,"#ff8f33"],Re={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Fe={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#a689f2",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Lr=[Re.blue,Re.yellow,Re.green,Re.red,Re.purple],Tr=[Fe.purple,Fe.yellow,Fe.green,Fe.red,Fe.blue];function ft(t,e){switch(t){case"light":return e==="lsd"?Re:Fe;default:return e==="lsd"?qe:Me}}function Ar(t,e){switch(t){case"light":return e==="lsd"?Lr:Tr;default:return e==="lsd"?kr:Sr}}function Ir(t,e){const o=ft(t,e);return e==="lsd"?{lineColor:o.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)"}:{lineColor:o.purple,topColor:"rgb(163, 91, 251, 0.2)",bottomColor:"rgba(163, 91, 251, 0)"}}const F=Je("settingsStore",()=>{const t=q("light"),e=q("lsd"),o=w(()=>({colors:ft(t.value,e.value),colorsArray:Ar(t.value,e.value),lineChartColors:Ir(t.value,e.value)}));return{themeId:t,flavor:e,theme:o}});function ht(t){switch(t){case"lsd":return"mkUSD";case"lrt":return"ULTRA";default:return"???"}}function Te(t){switch(t){case"lsd":return"https://api.prismamonitor.com/v1";case"lrt":return"https://api.ultra.prismamonitor.com/v1";default:return""}}function la(t){switch(t){case"lsd":return"wss://api.prismamonitor.com/v1/prisma/ws";case"lrt":return"wss://api.ultra.prismamonitor.com/v1/prisma/ws";default:return""}}function Pr(t){switch(t){case"api-lsd":return la("lsd");case"api-lrt":return la("lrt");case"prices":return _l;default:throw new Error("Unknown socket type")}}function Ee(t){switch(t){case"lsd":return"api-lsd";case"lrt":return"api-lrt";default:throw new Error("Unknown flavor")}}const $e=Je("socketStore",()=>{const t=To({sockets:{"api-lsd":null,"api-lrt":null,prices:null}});return{state:t,getSocket:o=>{if(!t.sockets[o]){const n=Pr(o);t.sockets[o]=cs(n)}return t.sockets[o]}}}),Dr={class:"theme"},xr={class:"label"},Vr={class:"colors"},qr="theme",Mr=T({__name:"SelectTheme",setup(t){const e=F(),o=[{id:"dark",colors:ft("dark",e.flavor)},{id:"light",colors:ft("light",e.flavor)}],l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",u=us(qr,o.find(d=>d.id===l)??o[0],void 0,{serializer:{read:d=>o.find(f=>f.id===d)??o[0],write:d=>d.id}});fe(()=>{m(u.value)});const c=q(!1),i=()=>{c.value=!c.value},m=d=>{u.value=d,window.document.documentElement.setAttribute("data-theme",d.id),e.themeId=d.id};return(d,f)=>{const s=qo;return _(),L(s,{class:"select direction-up",options:o.map(r=>r),selected:a(u),open:a(c),onOpen:i,onClose:f[0]||(f[0]=r=>c.value=!1),onInput:m},{item:y(r=>[p("div",Dr,[p("div",xr,D(r.item.id),1),p("div",Vr,[p("div",{class:"color",style:ve({"background-color":r.item.colors.backgroundColor})},null,4),p("div",{class:"color",style:ve({"background-color":r.item.colors.level1})},null,4),p("div",{class:"color",style:ve({"background-color":r.item.colors.level2})},null,4),p("div",{class:"color",style:ve({"background-color":r.item.colors.blue})},null,4),p("div",{class:"color",style:ve({"background-color":r.item.colors.yellow})},null,4),p("div",{class:"color",style:ve({"background-color":r.item.colors.green})},null,4),p("div",{class:"color",style:ve({"background-color":r.item.colors.red})},null,4),p("div",{class:"color",style:ve({"background-color":r.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"])}}}),Rr=A(Mr,[["__scopeId","data-v-979f6df0"]]),Fr={class:"bottom"},Br={class:"buttons"},Ur={href:"https://twitter.com/0xAlunara",target:"_blank"},Er=T({__name:"Bottom",setup(t){const e=Ue();return(o,n)=>{const l=ot;return _(),k("div",Fr,[p("div",Br,[p("a",Ur,[v(l,{icon:"fab fa-twitter"})]),v(l,{icon:"fas fa-code",onClick:n[0]||(n[0]=u=>a(e).push("/code"))})]),v(Rr,{class:"themes"}),v(fr)])}}}),Or=A(Er,[["__scopeId","data-v-be93fe9f"]]),Rt=()=>Je("pageStore",()=>{const t=q([]),e=q([]);return{pages:t,routes:e}})(),Wr=T({__name:"Navigation",emits:["navigated"],setup(t,{emit:e}){const o=e,n=Rt(),l=q(!1),u=()=>{l.value=!1,o("navigated")};return(c,i)=>{const m=Pl,d=tt;return _(),k("div",{class:B(["menu-desktop",{expanded:a(l)}])},[v(Nl,{onToggleExpansion:i[0]||(i[0]=f=>l.value=!a(l)),onNavigated:u}),v(d,{class:"menu-content",expanded:a(l)},{default:y(()=>[v(m,{pages:a(n).pages,onNavigated:u},null,8,["pages"]),v(Or,{onNavigated:u})]),_:1},8,["expanded"])],2)}}}),Kr=A(Wr,[["__scopeId","data-v-680ee7de"]]),Nr=T({__name:"App",setup(t){const e=F(),o=et(),n=It();return fe(()=>{e.flavor==="lrt"&&window.document.documentElement.setAttribute("data-flavor","lrt")}),J(()=>n.fullPath,l=>{["/pool","/stable","/redemptions","/liquidation","/profile","/wrappers","/proposals","/veprisma"].some(c=>l.startsWith(c))&&(o.show=!1)}),(l,u)=>{const c=ol;return _(),L(c,null,{navigation:y(()=>[v(Kr,{class:"navigation"})]),_:1})}}}),Hr=A(Nr,[["__scopeId","data-v-895668ac"]]),Gr="/assets/404-DGbqGNxT.png",jr=t=>(ie("data-v-3987f8f8"),t=t(),ce(),t),Zr={class:"not-found"},zr={class:"not-found-container"},Yr=jr(()=>p("img",{src:Gr},null,-1)),Mo=T({__name:"NotFound.page",setup(t){const{t:e}=R();return(o,n)=>{const l=K;return _(),k("div",Zr,[p("div",zr,[v(l,null,{default:y(()=>[W(D(a(e)("404")),1)]),_:1}),Yr])])}}});function ra(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:{t:0,b:{t:2,i:[{t:3}],s:"Where are you going, pilot? Page not found, please return home fren."}}}})}typeof ra=="function"&&ra(Mo);const Qr=A(Mo,[["__scopeId","data-v-3987f8f8"]]),Ro=t=>(ie("data-v-16243365"),t=t(),ce(),t),Jr={key:0,class:"expander"},Xr=Ro(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),ei=[Xr],ti={key:1,class:"expander"},ai=Ro(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),oi=[ai],ni={class:"row-details"},si=T({__name:"TableRow",props:{data:{},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(t,{emit:e}){const o=e,n=Ao(),l=w(()=>{var i;const c=n["row-details"];if(c){const m=(i=c()[0])==null?void 0:i.children;if(m)return m.length>0}return!1}),u=()=>{o("click",t.data)};return(c,i)=>{const m=tt;return _(),k("div",{class:B(["row",{expanded:c.expanded}])},[p("div",{class:B(["row-data",{active:c.selected,expandable:a(l),"has-data":!!c.data}]),onClick:u},[c.data&&a(l)&&c.expandSide==="left"?(_(),k("div",Jr,ei)):x("",!0),Y(c.$slots,"row",{},void 0,!0),c.data&&a(l)&&c.expandSide!=="left"?(_(),k("div",ti,oi)):x("",!0)],2),c.data?(_(),L(m,{key:0,expanded:c.expanded},{default:y(()=>[p("div",ni,[Y(c.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):x("",!0)],2)}}}),li=A(si,[["__scopeId","data-v-16243365"]]),ri={class:"table"},ii=["onClick"],ci={key:1,class:"no-data"},Ft=T({__name:"Table",props:{columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{default:()=>({order:"asc"})},icon:{}},emits:["selected","sortColumn"],setup(t,{emit:e}){const{t:o}=R(),n=e,l=w(()=>{if(t.rowsMin===null)return[];const s=Math.max(0,t.rowsMin-t.rows.length);return new Array(s)}),u=w(()=>t.columns.map(s=>typeof s=="string"?{id:s,label:s}:s)),c=s=>{s&&n("selected",s)},i=s=>{const r=s+1;return!!(t.rows[s+1]&&t.rows.findIndex(S=>S===t.selectedRow)===r)},m=s=>t.sorting.column===s.id&&t.sorting.order==="asc",d=s=>t.sorting.column===s.id&&t.sorting.order==="desc",f=s=>{if(!s.sort)return;const r=s.id===t.sorting.column&&t.sorting.order==="asc"?"desc":"asc";n("sortColumn",s.id,r)};return(s,r)=>{const g=li;return _(),k("div",ri,[s.columns.length>0?(_(),L(g,{key:0,class:B({"selected-below":i(-1)})},{row:y(()=>[(_(!0),k(Q,null,oe(a(u),h=>(_(),k("div",{key:h.id,class:B(["column-header",{sortable:h.sort,sorting:h.sort&&s.sorting.column===h.id,[h.align||""]:!!h.align}]),onClick:S=>f(h)},[p("span",null,D(h.label),1),h.sort?(_(),k("i",{key:0,class:B(["sorting-arrow fa fa-caret-right",{asc:m(h),desc:d(h)}])},null,2)):x("",!0)],10,ii))),128))]),_:1},8,["class"])):x("",!0),(_(!0),k(Q,null,oe(s.rows,(h,S)=>(_(),L(g,{key:h,data:h,class:B({"selected-below":i(S)}),selected:s.selectedRow===h,expanded:s.expanded.includes(h),"expand-side":s.expandSide,onClick:c},{row:y(()=>[Y(s.$slots,"row",{item:h},void 0,!0)]),"row-details":y(()=>[Y(s.$slots,"row-details",{item:h},void 0,!0)]),_:2},1032,["data","class","selected","expanded","expand-side"]))),128)),(_(!0),k(Q,null,oe(a(l),h=>(_(),L(g,{key:h}))),128)),!s.rowsMin&&(!s.rows||s.rows.length===0)?(_(),k("div",ci,[Y(s.$slots,"no-data",{},()=>[W(D(a(o)("no-data")),1)],!0)])):x("",!0),s.$slots["row-aggregation"]&&s.rows.length>0?(_(),L(g,{key:2,class:"aggregation"},{row:y(()=>[Y(s.$slots,"row-aggregation",{},void 0,!0)]),_:3})):x("",!0)])}}});function ia(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"No data :("}}}})}function ca(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"没有数据 :("}}}})}typeof ia=="function"&&ia(Ft);typeof ca=="function"&&ca(Ft);const ae=A(Ft,[["__scopeId","data-v-2c5e2cd4"]]),ui=t=>(ie("data-v-51df68c6"),t=t(),ce(),t),di={class:"code"},pi=["href"],mi=ui(()=>p("div",{class:"notices"},[W(" TradingView Lightweight Charts™ Copyright (с) 2023 TradingView, Inc. "),p("span",null,[p("a",{href:"https://www.tradingview.com/",target:"_blank"}," https://www.tradingview.com ")])],-1)),Fo=T({__name:"Code.page",setup(t){const{t:e}=R(),o=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}];return(n,l)=>{const u=ae,c=K;return _(),k("div",di,[v(c,{title:a(e)("repositories")},{default:y(()=>[v(u,{class:"repositories-table",rows:o,columns:[a(e)("repository"),a(e)("description")]},{row:y(i=>[p("div",null,[p("a",{href:i.item.url,target:"_blank"},D(i.item.name),9,pi)]),p("div",null,D(a(e)(i.item.description)),1)]),_:1},8,["columns"])]),_:1},8,["title"]),v(c,null,{default:y(()=>[mi]),_:1})])}}});function ua(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:{t:0,b:{t:2,i:[{t:3}],s:"Repositories"}},repository:{t:0,b:{t:2,i:[{t:3}],s:"Repository"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},"repo-laf":{t:0,b:{t:2,i:[{t:3}],s:"This website's front-end, excluding the Union"}}}})}typeof ua=="function"&&ua(Fo);const vi=A(Fo,[["__scopeId","data-v-51df68c6"]]);function _i(){const t=Rt(),e=[{path:"/code",component:vi},...t.routes.flatMap(n=>n),{path:"/:pathMatch(.*)*",name:"NotFound",component:Qr}];return ds({history:ps(),routes:e})}const fi=T({__name:"ChartApex",props:{options:{},series:{}},setup(t){return(e,o)=>{const n=Ze("apexchart");return _(),L(n,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}}),Bt=A(fi,[["__scopeId","data-v-1e57adb0"]]),hi=T({__name:"CardChart",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(t){return(e,o)=>{const n=Bt,l=K;return _(),L(l,{class:"cart-chart",title:e.title,loading:e.loading},{actions:y(()=>[Y(e.$slots,"actions",{},void 0,!0)]),default:y(()=>[v(n,{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),Y(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"])}}}),ne=A(hi,[["__scopeId","data-v-51bb8302"]]),bi=T({__name:"ButtonToggle",props:Ye({icon:{default:""},value:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Ye(["change"],["update:modelValue"]),setup(t,{emit:e}){const o=Dt(t,"modelValue"),n=e,l=()=>{const u=!o.value;o.value=u,n("change",u)};return(u,c)=>(_(),k("button",{class:B({toggled:o.value}),onClick:l},[Y(u.$slots,"default",{},()=>[u.icon?(_(),k("i",{key:0,class:B(["icon",u.icon])},null,2)):x("",!0),W(" "+D(u.value),1)],!0)],2))}}),st=A(bi,[["__scopeId","data-v-293e52b8"]]),gi=t=>({chart:{id:"chart",background:"transparant",foreColor:t.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:t.colorsArray,grid:{borderColor:t.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:t.colors.level5,height:1},axisTicks:{color:t.colors.level5},title:{color:t.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:t.colors.level5},axisTicks:{color:t.colors.level5},title:{color:t.colors.level5}}});function te(t,e){const o=gi(t);return e?Vt(o,e):o}class Ut extends he{constructor(o){super();re(this,"API_URL");this.API_URL=Te(o)}async getCollateralPrices(o,n,l){return this.fetch(`${this.API_URL}/collateral/${o}/${n}/prices?period=${l}`)}async getCollateralPriceImpact(o,n){return this.fetch(`${this.API_URL}/collateral/${o}/${n}/impact`)}async getCollateralInfo(o,n){return this.fetch(`${this.API_URL}/collateral/${o}/${n}/info`)}}class Et extends he{constructor(o){super();re(this,"API_URL");this.API_URL=Te(o)}async getLiquidations(o,n){return xe(u=>this.fetch(`${this.API_URL}/liquidations/${o}/${n}?items=100&page=${u}&order_by=block_timestamp&desc=true`).then(c=>c.liquidations.map(i=>({...i,liquidator:i.liquidator.toLocaleLowerCase(),vault:i.vault.toLocaleLowerCase()}))),1,100)}async getLiquidationsForTrove(o,n){return xe(u=>this.fetch(`${this.API_URL}/liquidations/${o}?items=100&page=${u}&order_by=block_timestamp&desc=true&trove_filter=${n}`).then(c=>c.liquidations.map(i=>({...i,liquidator:i.liquidator.toLocaleLowerCase(),vault:i.vault.toLocaleLowerCase()}))),1,100)}}class Ae extends he{constructor(o){super();re(this,"API_URL");this.API_URL=Te(o)}async getHistoricalOpenTrovesOverview(o,n){return this.fetch(`${this.API_URL}/managers/${o}/open_troves?period=${n}`)}async getHistoricalCollateralRatiosOverview(o,n){return this.fetch(`${this.API_URL}/managers/${o}/collateral_ratios?period=${n}`)}async getCollateralRatioGrouped(o,n){return this.fetch(`${this.API_URL}/managers/${o}/global_collateral_ratio?period=${n}`)}async getHistoricalCollateralOverview(o,n){return this.fetch(`${this.API_URL}/managers/${o}/collateral?period=${n}`)}async getRatioDistributionGrouped(o){return this.fetch(`${this.API_URL}/managers/${o}/ratio_distribution`)}async getLargeTrovePositions(o,n,l){return this.fetch(`${this.API_URL}/managers/${o}/${n}/large_positions?unit=${l}`)}async getVaultCollateralRatio(o,n,l){return this.fetch(`${this.API_URL}/managers/${o}/${n}/collateral_ratio?period=${l}`)}async getVaultTroveCount(o,n,l){return this.fetch(`${this.API_URL}/managers/${o}/${n}/open_trove_count?period=${l}`)}async getTroveDistribution(o,n,l){return this.fetch(`${this.API_URL}/managers/${o}/${n}/histograms?unit=${l}`)}}class lt extends he{constructor(o){super();re(this,"API_URL");this.API_URL=Te(o)}async getPriceHistory(o,n){return this.fetch(`${this.API_URL}/mkusd/${o}/history?period=${n}`)}async getSupplyHistory(o){return this.fetch(`${this.API_URL}/mkusd/${o}/supply`)}async getPriceHistogram(o,n,l){return this.fetch(`${this.API_URL}/mkusd/${o}/histogram?period=${l}&bins=${n}`)}async getLargeStableCoinHolders(o){return this.fetch(`${this.API_URL}/mkusd/${o}/holders`)}async getStableCoinKPI(o){return this.fetch(`${this.API_URL}/mkusd/${o}/general`)}async getCurvePoolDepth(o){return this.fetch(`${this.API_URL}/mkusd/${o}/depth`)}}class Ot extends he{constructor(o){super();re(this,"API_URL");this.API_URL=Te(o)}async getRedemptions(o,n){return xe(u=>this.fetch(`${this.API_URL}/redemptions/${o}/${n}?items=100&page=${u}&order_by=block_timestamp&desc=true`).then(c=>c.redemptions.map(i=>({...i,redeemer:i.redeemer.toLocaleLowerCase(),vault:i.vault.toLocaleLowerCase()}))),1,100)}async getRedemptionsForTrove(o,n){return xe(u=>this.fetch(`${this.API_URL}/redemptions/${o}?items=100&page=${u}&order_by=block_timestamp&desc=true&trove_filter=${n}`).then(c=>c.redemptions.map(i=>({...i,redeemer:i.redeemer.toLocaleLowerCase(),vault:i.vault.toLocaleLowerCase()}))),1,100)}}class Bo extends he{constructor(o){super();re(this,"API_URL");this.API_URL=Te(o)}async getSnapshots(){return this.fetch(`${this.API_URL}/revenue/ethereum/snapshots?period=3m`)}async getBreakdown(){return this.fetch(`${this.API_URL}/revenue/ethereum/breakdown`)}}class Oe extends he{constructor(o){super();re(this,"API_URL");this.API_URL=Te(o)}async getPoolTvl(o,n){return this.fetch(`${this.API_URL}/pool/${o}/deposits?period=${n}`)}async getStableFlow(o,n){return this.fetch(`${this.API_URL}/pool/${o}/stable_operations?period=${n}`)}async getStableDistribution(o){return this.fetch(`${this.API_URL}/pool/${o}/histogram/deposits`)}async getCumulativeWithdrawals(o,n){return this.fetch(`${this.API_URL}/pool/${o}/cumulative_withdrawals?period=${n}`)}async getTopStableDeposits(o,n,l){return this.fetch(`${this.API_URL}/pool/${o}/top/stable_deposits?top=${n}&period=${l}`)}async getTopStableWithdrawals(o,n,l){return this.fetch(`${this.API_URL}/pool/${o}/top/stable_withdrawals?top=${n}&period=${l}`)}}class We extends he{constructor(o){super();re(this,"API_URL");this.API_URL=Te(o)}async getTroves(o,n,l){return xe(c=>this.fetch(`${this.API_URL}/trove/${o}/${n}/troves?items=100&page=${c}&order_by=last_update&desc=true${l?"&owner_filter="+l:""}`).then(i=>i.troves),1,100)}async getTroveSnapshots(o,n,l){return this.fetch(`${this.API_URL}/trove/${o}/${n}/snapshots/${l}`)}async getTroveDetail(o,n,l){return this.fetch(`${this.API_URL}/trove/${o}/${n}/${l}`)}async getTroveHistory(o,n,l){return this.fetch(`${this.API_URL}/trove/${o}/${n}/history/${l}`)}async getTroveRank(o,n,l){return this.fetch(`${this.API_URL}/trove/${o}/${n}/rank/${l}`)}}const mt="https://api.prismamonitor.com/v1";function vt(t){switch(t){case"convex":return"0x0c73f1cfd5c9dfc150c8707aa47acbd14f0be108";case"yearn":return"0x774a55c3eeb79929fd445ae97191228ab39c4d0f";default:throw new Error("Unknown contract")}}class rt extends he{async getTVL(e){return this.fetch(`${mt}/staking/${vt(e)}/tvl?period=all&groupby=day`)}async getFlow(e){return this.fetch(`${mt}/staking/${vt(e)}/flow?period=all&groupby=day`)}async getDistribution(e){return this.fetch(`${mt}/staking/${vt(e)}/distribution`)}async getSnapshots(e){return this.fetch(`${mt}/staking/${vt(e)}/snapshots?period=7d`)}}const da="troves_overview";let wt=null;class Ke{constructor(e,o){re(this,"socket");if(this.chain=o,this.socket=e,wt){this.send("snapshots");return}wt=this.socket.pipe(Be(n=>n),Tt(n=>n.subscription.chain===this.chain&&n.channel===da),Be(n=>n.payload),At(1)),this.send("subscribe"),this.send("snapshots")}get overview$(){return wt}send(e){const o={action:e,channel:da,settings:[{chain:this.chain}]};this.socket.next(o)}}const yi={class:"actions"},wi={class:"periods"},Uo=T({__name:"ChartOpenTroves",setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new Ae(n.value),u=q("1m"),{isFetching:c,data:i}=O({queryKey:["prisma-historical-open-troves",u],queryFn:({queryKey:[,g]})=>l.getHistoricalOpenTrovesOverview("ethereum",g).then(h=>h.managers),initialData:[],initialDataUpdatedAt:0}),m=w(()=>te(o.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:d.value,labels:{formatter:s,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:g,dataPointIndex:h,w:S})=>{let $=0;const b=g.map((C,I)=>{const P=C[h];return $+=P,`<div><b>${S.globals.seriesNames[I]}</b>: ${P}</div>`});return b.push(`<div><b>Total</b>: ${$}</div>`),b.join("")}}})),d=w(()=>i.value.length===0||i.value[0].data.length===0?[]:i.value[0].data.map(g=>new Date(g.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),f=w(()=>i.value.length===0?[]:i.value.map(g=>({name:g.manager,data:g.data.map(h=>h.value)}))),s=g=>g,r=g=>{u.value!==g&&(u.value=g)};return(g,h)=>{const S=st,$=ne;return _(),L($,{class:"chart",title:a(e)("title"),loading:a(c),options:a(m),series:a(f)},{actions:y(()=>[p("div",yi,[p("div",wi,[v(S,{value:"1m","model-value":a(u)==="1m",onClick:h[0]||(h[0]=b=>r("1m"))},null,8,["model-value"]),v(S,{value:"3m","model-value":a(u)==="3m",onClick:h[1]||(h[1]=b=>r("3m"))},null,8,["model-value"]),v(S,{value:"6m","model-value":a(u)==="6m",onClick:h[2]||(h[2]=b=>r("6m"))},null,8,["model-value"])])])]),_:1},8,["title","loading","options","series"])}}});function pa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Open troves"}}}})}typeof pa=="function"&&pa(Uo);const $i=A(Uo,[["__scopeId","data-v-9c406496"]]),Ci=(t,e)=>{const{colors:o}=e;return{width:t.clientWidth,height:t.clientHeight||300,rightPriceScale:{borderVisible:!1,scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},layout:{background:{type:ms.Solid,color:o.backgroundColor},textColor:o.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",attributionLogo:!1},grid:{vertLines:{visible:!1},horzLines:{color:o.level4,style:vs.SparseDotted}},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ue(t,e,o){const n=Ci(t,e);return o?Vt(n,o):n}function de(t){const{recreateChartTrigger:e,createChartOptions:o,series:n}=t,l={},u=Array.isArray(n)?n:[n],c=jt(void 0),i=jt(void 0);let m=null;fe(async()=>{if(!c.value)return;await _s();const d=fs(c.value,o(c.value));i.value=d;for(const f of u){const s=ki(d,f);l[f.name]=s}m=new ResizeObserver(f=>{const s=f[0].target;i.value&&c.value&&(i.value.applyOptions({width:s.clientWidth,height:s.clientHeight}),i.value.timeScale().fitContent())}),c.value.parentElement&&m.observe(c.value.parentElement)}),Pt(()=>{i.value&&(i.value.remove(),i.value=void 0),m&&(m.disconnect(),m=null)}),J(e,()=>{c.value&&i.value&&i.value.applyOptions(o(c.value))});for(const{name:d,options:f}of u)J(f,s=>{const r=l[d];r==null||r.applyOptions(s)});return{chart:i,chartRef:c,series:l}}function ki(t,{type:e,options:o}){return{Area:t.addAreaSeries.bind(t),Bar:t.addBarSeries.bind(t),Baseline:t.addBaselineSeries.bind(t),Line:t.addLineSeries.bind(t),Candlestick:t.addCandlestickSeries.bind(t),Histogram:t.addHistogramSeries.bind(t)}[e](o.value)}const Eo=T({__name:"ChartCollateralRatio",setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new Ae(n.value),{isFetching:u,data:c}=O({queryKey:["prisma-collateral-ratios"],queryFn:()=>l.getCollateralRatioGrouped("ethereum","all").then(s=>s.data),initialData:[],initialDataUpdatedAt:0}),{chart:i,chartRef:m,series:d}=de({recreateChartTrigger:o,createChartOptions:s=>ue(s,o.value),series:{type:"Area",name:"cr",options:w(()=>({priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}))}});pe(f);function f(){if(!i.value||!d.cr)return;const s=c.value.map(r=>({time:r.timestamp,value:r.value*100})).uniqWith((r,g)=>r.time===g.time).orderBy(r=>r.time,"asc");s.length>0&&d.cr.setData(s),i.value.timeScale().fitContent()}return(s,r)=>{const g=K;return _(),L(g,{class:"chart-container",title:a(e)("title"),loading:a(u)},{default:y(()=>[p("div",{ref_key:"chartRef",ref:m,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ma(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Global collateral ratio"}}}})}typeof ma=="function"&&ma(Eo);const Si=A(Eo,[["__scopeId","data-v-c020d174"]]),Oo=T({__name:"ChartRatioDeciles",setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new Ae(n.value),{isFetching:u,data:c}=O({queryKey:["prisma-ratio-distribution"],queryFn:()=>l.getRatioDistributionGrouped("ethereum").then(r=>r.deciles),initialData:[],initialDataUpdatedAt:0}),i=w(()=>te(o.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:m.value,labels:{formatter:f,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:s}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),m=w(()=>c.value.map(r=>r.label)),d=w(()=>[{name:e("debt"),data:Object.values(c.value).map(r=>r.data)}]),f=r=>r,s=r=>`$${Z(r,0,"dollar")}${G(r,"dollar")}`;return(r,g)=>{const h=ne;return _(),L(h,{class:"chart",title:a(e)("title"),loading:a(u),options:a(i),series:a(d)},null,8,["title","loading","options","series"])}}});function va(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Debt per Collateral Ratio Deciles"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt"}}}})}typeof va=="function"&&va(Oo);const Li=A(Oo,[["__scopeId","data-v-8f7c9e2d"]]),Ti={class:"actions"},Ai={class:"periods"},Wo=T({__name:"ChartGlobalCollateral",setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new Ae(n.value),u=q("1m"),{isFetching:c,data:i}=O({queryKey:["prisma-collateral-hist-overview",u],queryFn:({queryKey:[,h]})=>l.getHistoricalCollateralOverview("ethereum",h).then(S=>S.managers),initialData:[],initialDataUpdatedAt:0}),m=w(()=>te(o.value,{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:d.value,labels:{formatter:s,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:r}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),d=w(()=>i.value.length===0||i.value[0].data.length===0?[]:i.value[0].data.map(h=>new Date(h.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),f=w(()=>i.value.length===0?[]:i.value.map(h=>({name:h.manager,data:h.data.map(S=>S.value)}))),s=h=>h,r=h=>`$${Z(h,1,"dollar")}${G(h,"dollar")}`,g=h=>{u.value!==h&&(u.value=h)};return(h,S)=>{const $=st,b=ne;return _(),L(b,{class:"chart",title:a(e)("title"),loading:a(c),options:a(m),series:a(f)},{actions:y(()=>[p("div",Ti,[p("div",Ai,[v($,{value:"1m","model-value":a(u)==="1m",onClick:S[0]||(S[0]=C=>g("1m"))},null,8,["model-value"]),v($,{value:"3m","model-value":a(u)==="3m",onClick:S[1]||(S[1]=C=>g("3m"))},null,8,["model-value"]),v($,{value:"6m","model-value":a(u)==="6m",onClick:S[2]||(S[2]=C=>g("6m"))},null,8,["model-value"])])])]),_:1},8,["title","loading","options","series"])}}});function _a(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral value"}}}})}typeof _a=="function"&&_a(Wo);const Ii=A(Wo,[["__scopeId","data-v-333aae42"]]),Pi={key:0,class:"async-value"},Di="|/-\\",ee=T({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(t){let e=0,o=0;const n=q("|"),l=w(()=>t.value?Z(t.value,typeof t.precision=="function"?t.precision(t.value):t.precision,t.type??""):t.value===0&&t.showZero?"0":t.value===null||t.value===void 0?n.value:"?"),u=w(()=>t.precision===1/0?"":!t.value||!t.type||!isFinite(t.value)?t.showUnit&&t.type?G(0,t.type):"":G(t.value,t.type));return J(()=>t.value,c=>{if(clearInterval(o),e=0,c)return;const i=()=>{e=(e+1)%4,n.value=Di[e]};o=window.setInterval(i,250)},{immediate:!0}),(c,i)=>c.inline?(_(),k(Q,{key:1},[W(D(c.showSymbol&&c.type==="dollar"?"$":"")+D(a(l))+D(c.showUnit?a(u):""),1)],64)):(_(),k("div",Pi,D(c.showSymbol&&c.type==="dollar"?"$":"")+D(a(l))+D(c.showUnit?a(u):""),1))}}),xi=t=>(ie("data-v-ae7c4228"),t=t(),ce(),t),Vi={class:"input-text"},qi={key:0,class:"icon"},Mi=xi(()=>p("i",{class:"fas fa-search"},null,-1)),Ri=[Mi],Fi=["type","value","placeholder"],Bi=["onClick"],Ui=T({__name:"InputText",props:Ye({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:Ye(["input","select"],["update:modelValue"]),setup(t,{emit:e}){const o=Dt(t,"modelValue"),n=e,l=w(()=>{const c=t.options.filter(m=>t.filter(o.value,m));return t.sort?[...c].sort(t.sort):c}),u=c=>{const i=c.target.value;o.value=i,n("input",i)};return(c,i)=>(_(),k("div",Vi,[c.search?(_(),k("span",qi,Ri)):x("",!0),p("input",{type:c.search?"search":"text",value:o.value,placeholder:c.placeholder,onInput:X(u,["stop"]),onSelect:i[0]||(i[0]=X(()=>{},["stop"]))},null,40,Fi),c.options&&c.autoComplete?(_(),k("div",{key:1,class:B(["items",{selectHide:!c.autoComplete}])},[(_(!0),k(Q,null,oe(a(l),(m,d)=>(_(),k("div",{key:d,onClick:f=>n("select",m)},[Y(c.$slots,"item",{item:m,idx:d},()=>[W(D(m),1)],!0)],8,Bi))),128))],2)):x("",!0)]))}}),me=A(Ui,[["__scopeId","data-v-ae7c4228"]]),Ei="data:image/webp;base64,UklGRnYCAABXRUJQVlA4TGoCAAAvP8APEOfBIGDbNjJ/niWw77kxDQaNJCnq8+/wPDzD5pZm/hG0bRvr/EEdysfgQ5AAqiEKNuJMsZMp4sRB2ChMEQdh4zMQU/yOf+6TAoNJ3hdEgUEWNr6fOAWJY2NN4lwnBRtZgMAIf6BIWJCwILCg4ghXaGPAAx8QI9lWFf277u5+cTi4W/6B8Z+ce9kAIvrvwG3bSJITODv3vekXCoNmSGhSuGsAQgNH1qC18mGESFVJqIZIMzsbBGoJoSYCbYwgkNBCIAvbRGUstrab/SpGvWGnnmUxCeQw0TGhbJBZkzyf0HvJq0ZFb8c3d5GUMfkiXoMtWQtKVMhym58mFsgVXLLEJTZsvsTcs7GJnX5cEUDbW8oW9LQIy6RxwmUfSGxL2iNstrb4S44LhsPIaI+xWEgfaFKZwBJtYBi6DavRgEFdeUnlTYILkglQ4b2jqjc3NwarAHMAdDZUS0p9sHEAdHnqqiGhHkujT5D92uQIN+3ENVTTJIsLH1R5bm6cfggPP5nQM8eZeNHMTMxM/fNa7TxZJKsjdfsRHspDitPwRKgvT3cBVKkPAuKJibVUf6m/r0lBP/jxSmF1oqrq/92QnW5PEvdAXPlM3xEN9EDTJ7s0hLoSuVSlvQkM9//dNnCc48jyv7He5//W6n/8bxYjW9hynuob3imaMb8U78nGZWMy3jMtOCxR5h4br6eSOzrzfWOFPD7SK0T3PgDwwwWXn1TvDrqka/Bt/94bf+ekene8W3kPhpB7HzfZx22HLIfhuM1n3NhkaGXGjS7D7UpiswdVRBoXLlqC1rrw05BhWLhr2o3pzg1HVwA=",Oi="data:image/webp;base64,UklGRp4HAABXRUJQVlA4TJEHAAAvP8APEOZQ0LYN4/CHvYMhIibAtxpNmo50WMwCnGb75zb8Cb8Acv2/v0PAIIyhyuiS8NQj12QYVucCKILi6XiOmQPDCoZesxH0noLBytR7LIYocxAEWtTZKoofgIyfp/89vtMAAJAGq2SXE+AHewA+kQaRB1wqD+gFviW7wC0tuTJw20hRu3hMA70n0LH/T7Wk7H8Z772WcXeXdnf37mft3vHcW7erZnYwuEs8EfHoDTlvDZyX3pDJOESuUR8idyqsDUyEE5G5wwsL73xiIk6lfSZDb4Zr7gvobeBO3BHuUGHHLGB8/ljouTtkriMhDpAAACwb5Wzbtm3btm3btm3btm9n27aNr8K2bZv/L6484vbfgdu2kaRmxoG79+F29wmhSIaZYJENznjKG77yv8b7Io5YH3arMDgy2GWNE57xhb/WkvnO1ce8Ow4GjLDADi/5aRLvluvkzR9Vwh7vzYOrA+YZ8kSX7cI8yetN12spy9zl5s38clbJYJRNPlsgXHSORTDGqfS66G/4V17g6a8E5jjnn7lR9w3UvqETtVn5rFSuTan1v6/yitiYlJ8gyJpXd2G8NGmtiE9Id9pLLXXtB7CYaJQj19FOTerr/559Rl1I15ViIY5ZTywmG6etD5Z27rRl1Y8M06wF/G5UN9qy0eGpuILQuuukrcDKQlyWlGV/+FnB33i0VXlGtes+IbQWJ62+dm7FZa4ldaMZUwlxjnNBov4bsvrpNtv5JlPAoOaZkYa1gq8SZF0ZG53KWwitbDNuRMIrk+hNLbY/4pgNfBXOMxusE1pbSaO1sSsuc6+rB9OxFgTKQ93iWhGh2KRq6Ffaslu4FXwtVMbFp+oBIKtVQ7c2Cd70KgegTDkUW6oSZJ3sFpFa6xqYXGrLSnbpxXFM6WxQ64S/EYY9Mcg2klMZ5pHiTQit5V8YzvklLfsyxLHKLVrBOmCsn+C9FxvjwjGllTvCN1yp+GR/RmYdzcOUY+2IWU0OxBhj/ojryXLDdWrImCjbIdhnyB9UUrZDXSN5kE1yuwRkFkdpl2eSwZQd0Yf3LOD7wa4b5YaolBtB1pUzi6Zlh8gOgeZ0Ki7BwQ4ZbdFwr+xLZl11hzuKwbSHe8YGvd0HSnWUeWcbHME+Ld8PRVPKbFB0WIzEdNe8ACQf/53hNFeW5XSoK/k+HWlUtaMIPp9ph/BD4ZjSyhzhl7w+EVn5lDOl/yzMPUPVG2RdI8iqlGpBm+mZ9aq6hWg6iqW5e1WJGQ62j+Q4xpR7ncpr2omIC8HVekHUvFI0oZjIBFlX8sYwTecS5Wd8CQAk91DcC67Wtay6LwSIiQvelVyDaTrmKT1gymIAqLxhIkE562KAr/vy3wdlJwAAlB1zyUGSK5jmD8XbVD+gA8AtB6QWue1LME8yr2tVL/nBbYhyI/2zoOoOAaLdvaa1xjfNNO0Q3Gtc1gwA7RWXuFbJ69VbIY5xLkls+xaIDIgVfHZYkxETlaJJPSZAPLZNTER+dy6C3In+sHuDH8xbuScpx2Mt4uJerMeYH/wGK3S2HH/r+s0CxKZ7nAEAi6ufKNnDMYtJDzmI87dmibGcaPh/OW1Ww26DUWY1uDworcJ3AYAAgFvuci5gmtRMSLHknJ+LzeD7wuUvooKjps2WA6U7W4lL+e6CiUK9E9cKpvmU+UN2m+ZxSj3JeW4G3A3Frk92uF4t4Lco1Zl4o0xrUKWMrwsndIZ6J6bPZ4ewTVycpfo5vO5KHHHkMpkBEofwUH/xm02VwWWwXT5wzGEi37wfspoU4hCu8u6muInIYbfisj5cx1rU2v15A/3exCfaPo3P51P00OtUpTLcO5dhyKfDndbY9FML+AgTftEQn2Q7BB+imXXan5OxM8TkFlw5UOYQWlhHnI0wqNHaGLRwTNGhQZTK494GXG5hchPqvvlGgw3sU4M2wlM/pFf6bI4SG5spgMtNTG7XfdPw/+Jiw1rQ2mW4bo1WDU/RghFFBgZV6mnTAZPbzrixasGQAtHGUNgm3NCefkgtcZBNUeXGBd76bzDrhjNuwab9hM4CvkYCULbdbK6iaP6gNteojPDJGwKzbglx0xufmAla6cl83EBPNDnfhkblJc2AWTeFuC1mbcI0EoC0IaqdzVXo9KO5RsM88z8mNyaVkjd42/yRppXudOcxFKhvI66dz2q2Dph9g5K31H8DU6gVfE09Plixs1VyuxXmFq33V9U90KhmbI2lvEkXdw2SP211pVyTgpmQalS554myIzAeN10xb9O9Jdss25Ah+MFukGz5jB8WhDoHPeSJ6wrcvk3OG3XvXa3+iENM1oVkI006o2hKcQmWHMmQtQ4Q2H2jnrfqYkpqkbd/yAI+Y8wGswHi9/oKIY7hlEu5+TmfCey+1Zk349au0n2W9uG+r5gFfL0j3qZdN8qiHrn/1ZPuwq5Z5cgvb6//ZrEQFRfkdioyIBf15roxNxwdkmmvZ9TaMatNQQDD7ds13YBrVhW179xbdshhl1XdswN4YTHD/m4ISLeAUAYA0e+Wtuum9uq2n1nlpxt57a0bD0ehH1Pm/XVru3VzULqdVUm3/6u63eO/wfXj6H+DEAA=",Wi="/assets/reth-SHa20puJ.webp",Ki="data:image/webp;base64,UklGRrIFAABXRUJQVlA4TKYFAAAvP8APEJXQ37btbKR1OlqOsbZt27bt3Y8/2bZt27ZtdG3bGmdyH9u+6vT7A4J3tpl5m2kE1Gzb3lSAwnYmKDOECTJKcOCyQVTi43EsAC4yV0agnqqq6z/nhuBGkiIpOmuxt2+gqO8JhuBAG31EWKJEhRM+8AvKqHDts1EHfcvTKrlhYYAYOWq86iHHbj7f+dBbZMQxjTI9lKNGjjhslQzoYIYUDb5y+Dxthf4aS1NZHK9y0zLKwis8zSdHBA1Sp6IEZmCKDHdF/+vcY4gMMTw4I5zBMUot14wEO0FhhWOhXy1XB/UJ9wPLjZbjiJUK6lNE2OthNTedRxDDdpUeDMcSBl0keD7uXvV5BDkauE+Zg6RUEPRQ4GuNieJ4BD1MuyKCIioEJtjot0+0InCh6qgtE/9YzLOGg4mIYat5TjbJ5yJjDHU5gYMxIxps+Yo65mNSSD4dbTXecNt1J3A4ZaYGmyhvNRT67TkiVsnLdGMNY76lKhFFDBSlbJDg6xMi38oZcmjGqiiUbz4p8uUnIkiYYIGn1RirxYhFU8dfoMgZCiifBmhixWAstloEC5a3Y3fcRB40E9wiGXUCNwMSdRcvkupuNBXj8CY5DjtGBGCNcK84NOPsVuwRSQj62I/msIEIqrmfZp8pGP53LwSsKTDDYZWGGLYLqCKEou8DGvWpFIS5SrFkrYKDQ0YbsiIrSIrxdlOK0lIFWLjno8wvxpcruMisAJjj8osM9ArX0yhS1TS2FrBQG7VQBWmq2G28KDL8Chc7AFIN/cw4OeU+6imKjXregwqpAJpHJZOMJxOpHwzQrFWHFJDG5eGaAibrWqcMA8NAjM97SCkixUOJmJQGPsvOgPy0ISRXPIIw6ZyG3MAAtU8myReHIExm8kGNASK8PE1KvjQUup1662qrMEWxxyThH6EVdbBEWEHyx0wFCMJ/u1xzXuVNXexP+chrsJDkswJCFOVp/fGp6TfKzxHvmCKdM09bLS1QS5qJ3nSYDpT6W118+jsNJardGuNzHZ3SbHCHzqrp4GZr5RtnmFzr3a6TSEe3WqcIKCcGl8YMVDj5pOHS0z45vrZEbcZ4bzhER8ft2yZLV9NCXzjlkP64GCZO+PhOZTyqeMAzBkrSxEX+kI/9M/svl2qmun6e9IhqeFgOPvD7oTg8qqovyQBP2KkYfyHdbk8bzK6Hi/kh/Kq3ePGILvaNU0T97rTvLJeMR/lblABnr3eIuN8fcYtUAgi8keU9vCOPGPk+0JuXFHhDTuHOmcdHJ/DxaosFJglMCSwkMuq5wyE8DrsHkVpFFhLw26o6SBSoEH19KMwi/KmBAtUkQXvVCPitSNxEH9IS8WeXWktHotvgHMT9buZ+i8UQiBuRuK3qFdtciLi/jdzniEDdO+YhTRH+cI7N3pZEJG6F8kYzq5hfGirgDeYgnxjJ/FRF4BBiDfQZzXqtCeUNkbwl5WQnwFEPaoIo0MmSpCKKzD2OUKfMJKVI3iLyJt+d7qBT4fWWS8IKhTXCSt0vnh9+3iTytkh3tZ5SqsAn+otF+HEfH8inlCollpTcvE3WDS4JLpODdLa7RaWs6zYHEQeR6xqJCHh1g6xbXLscaUrpfNpp6W903s1zLVLsukXXTa5x41ZUGSKlNl23ecaNe67YdZvRNwiY5l8nsDjpHy5D7L6B2bfQdiXSdG+px2bxiLpeoSN1vUTMvkWob0rzOcpq8qjtJzR/qEdmeRWpb2WisP19k1jf1twPKJNykANIDhtBSkq/ao3Zt3H7RoYok/JSRTR+il3Dy4OU35h9o0DfytDbSJPJ3lXsDEU+RiW2LK/5RRvsvjWIvrkuV1KjnXXGG26DLhiOVg+7by6hvn22IfpbQLRvL6l9Q6LqqqlEcN8Q8n1LCPdNETuwbwr5vi3U+8aQ71tDvW/+H+7bQ/5/AwM=",Ni="/assets/weeth-Dk-qEu8x.webp",Hi="data:image/svg+xml,%3csvg%20width='48'%20height='49'%20viewBox='0%200%2048%2049'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M48%2024.4997C48%2037.755%2037.2548%2048.5005%2024%2048.5005C10.7452%2048.5005%200%2037.755%200%2024.4997C0%2011.2445%2010.7452%200.499023%2024%200.499023C37.2548%200.499023%2048%2011.2445%2048%2024.4997Z'%20fill='white'/%3e%3cpath%20d='M24.4971%208L24.2785%208.74339L24.2785%2030.3129L24.4971%2030.5312L34.4939%2024.613L24.4971%208Z'%20fill='%236B6B6B'/%3e%3cpath%20d='M24.4971%208L14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L24.4971%208Z'%20fill='%23A2A2A2'/%3e%3cpath%20d='M24.4971%2032.4269L24.3739%2032.5773L24.3739%2040.2607L24.4971%2040.6207L34.5%2026.5117L24.4971%2032.4269Z'%20fill='%234F4E4E'/%3e%3cpath%20d='M24.4971%2040.6207L24.4971%2032.4269L14.5%2026.5117L24.4971%2040.6207Z'%20fill='%23A2A2A2'/%3e%3cpath%20d='M24.4971%2030.5312L34.4939%2024.613L24.4971%2020.062L24.4971%2030.5312Z'%20fill='%23797979'/%3e%3cpath%20d='M14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L14.5%2024.613Z'%20fill='%23D4D4D4'/%3e%3cg%20style='mix-blend-mode:overlay'%3e%3cpath%20d='M24.4971%208L24.2785%208.74339L24.2785%2030.3129L24.4971%2030.5312L34.4939%2024.613L24.4971%208Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%208L14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L24.4971%208Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2032.4269L24.3739%2032.5773L24.3739%2040.2607L24.4971%2040.6207L34.5%2026.5117L24.4971%2032.4269Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2040.6207L24.4971%2032.4269L14.5%2026.5117L24.4971%2040.6207Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2030.5312L34.4939%2024.613L24.4971%2020.062L24.4971%2030.5312Z'%20fill='%23ACE730'/%3e%3cpath%20d='M14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L14.5%2024.613Z'%20fill='%23ACE730'/%3e%3c/g%3e%3c/svg%3e",Gi="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='36'%20height='36'%20rx='18'%20fill='%23BBE7E8'/%3e%3cpath%20d='M18%2030C24.6274%2030%2030%2024.6274%2030%2018C30%2011.3726%2024.6274%206%2018%206C11.3726%206%206%2011.3726%206%2018C6%2024.6274%2011.3726%2030%2018%2030Z'%20fill='%23075A5A'/%3e%3cg%20style='mix-blend-mode:screen'%20opacity='0.3'%3e%3cpath%20opacity='0.8'%20d='M17.9688%207.5V15.4406L24.6802%2018.4398L17.9688%207.5Z'%20fill='white'/%3e%3cpath%20d='M17.9626%207.5L11.25%2018.4398L17.9626%2015.4406V7.5Z'%20fill='white'/%3e%3cpath%20opacity='0.8'%20d='M17.9688%2023.5838V28.9795L24.6849%2019.6875L17.9688%2023.5838Z'%20fill='white'/%3e%3cpath%20d='M17.9626%2028.9795V23.583L11.25%2019.6875L17.9626%2028.9795Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2022.3396L24.6802%2018.4425L17.9688%2015.4453V22.3396Z'%20fill='white'/%3e%3cpath%20d='M11.25%2018.4425L17.9626%2022.3396V15.4453L11.25%2018.4425Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/g%3e%3cg%20style='mix-blend-mode:screen'%20opacity='0.3'%3e%3cpath%20opacity='0.8'%20d='M17.9688%207.89844V15.2584L24.1894%2018.0382L17.9688%207.89844Z'%20fill='white'/%3e%3cpath%20d='M17.9639%207.89844L11.7422%2018.0382L17.9639%2015.2584V7.89844Z'%20fill='white'/%3e%3cpath%20opacity='0.8'%20d='M17.9688%2023.9461V28.4046L23.5184%2020.7266L17.9688%2023.9461Z'%20fill='white'/%3e%3cpath%20d='M17.9686%2028.4046V23.9455L12.4219%2020.7266L17.9686%2028.4046Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2022.0815L24.1894%2018.4694L17.9688%2015.6914V22.0815Z'%20fill='white'/%3e%3cpath%20d='M11.7422%2018.4694L17.9639%2022.0815V15.6914L11.7422%2018.4694Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/g%3e%3cpath%20d='M17.9688%209.85547V16.0539L23.2077%2018.3951L17.9688%209.85547Z'%20fill='%23C1DCDC'/%3e%3cpath%20d='M17.9664%209.85547L12.7266%2018.3951L17.9664%2016.0539V9.85547Z'%20fill='white'/%3e%3cpath%20d='M17.9688%2022.4126V26.6244L23.2114%2019.3711L17.9688%2022.4126Z'%20fill='%23C1DCDC'/%3e%3cpath%20d='M17.9664%2026.6244V22.4119L12.7266%2019.3711L17.9664%2026.6244Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2021.4364L23.2077%2018.3943L17.9688%2016.0547V21.4364Z'%20fill='white'/%3e%3cpath%20d='M12.7266%2018.3943L17.9664%2021.4364V16.0547L12.7266%2018.3943Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/svg%3e";function ji(t){return{cbETH:Ei,wstETH:Oi,rETH:Wi,sfrxETH:Ki,weETH:Ni,ezETH:Hi,rsETH:Gi}[t]}const Zi=["0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db","0x63cc74334f4b1119276667cf0079ac0c8a96cfb2","0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6","0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f","0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0","0xe0e255fd5281bec3bb8fa1569a20097d9064e445","0xc2545c68a71f6803264bde885870fd72d361fb9e","0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483"],zi=["0x1691308554c0a5a37c87e947677a4d31b9c97da9","0xf1c45c7b1f798302d29390d90d4dac38137352b1","0x1ad10ee3284297afcf2f6a41f935300cbebcf70d","0x585d78a00d1be2e95f75b20935d4b8d3c36efef1","0x335849a1c359e83dca508101bd394a9d12e176b9","0xdb3080920ee1df720411e12c16ec3866a8c2f5c6"];function Yi(t){switch(t){case"0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db":case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH";case"0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6":case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH";case"0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0":case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH";case"0xc2545c68a71f6803264bde885870fd72d361fb9e":case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH";case"0x1691308554c0a5a37c87e947677a4d31b9c97da9":case"0xf1c45c7b1f798302d29390d90d4dac38137352b1":return"weETH";case"0x1ad10ee3284297afcf2f6a41f935300cbebcf70d":case"0x585d78a00d1be2e95f75b20935d4b8d3c36efef1":return"ezETH";case"0x335849a1c359e83dca508101bd394a9d12e176b9":case"0xdb3080920ee1df720411e12c16ec3866a8c2f5c6":return"rsETH";default:return null}}function Ve(t){const e=Yi(t);return ji(e)}function De(t){switch(t){case"0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db":return"cbETH";case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH (deprecated)";case"0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6":return"wstETH";case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH (deprecated)";case"0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0":return"rETH";case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH (deprecated)";case"0xc2545c68a71f6803264bde885870fd72d361fb9e":return"sfrxETH";case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH (deprecated)";case"0x1691308554c0a5a37c87e947677a4d31b9c97da9":return"weETH";case"0xf1c45c7b1f798302d29390d90d4dac38137352b1":return"weETH (deprecated)";case"0x1ad10ee3284297afcf2f6a41f935300cbebcf70d":return"ezETH";case"0x585d78a00d1be2e95f75b20935d4b8d3c36efef1":return"ezETH (deprecated)";case"0x335849a1c359e83dca508101bd394a9d12e176b9":return"rsETH";case"0xdb3080920ee1df720411e12c16ec3866a8c2f5c6":return"rsETH (deprecated)";default:return null}}function Ie(t){return["0x63cc74334f4b1119276667cf0079ac0c8a96cfb2","0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f","0xe0e255fd5281bec3bb8fa1569a20097d9064e445","0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483","0xf1c45c7b1f798302d29390d90d4dac38137352b1","0x585d78a00d1be2e95f75b20935d4b8d3c36efef1","0xdb3080920ee1df720411e12c16ec3866a8c2f5c6"].includes(t)}function _e(t,e){const o=q(e),n=t.subscribe({next:l=>{o.value=l},error:l=>{Xe({text:qt(l),type:"error"})}});return Pt(()=>{n&&n.unsubscribe()}),o}const it=t=>(ie("data-v-3fd78ba3"),t=t(),ce(),t),Qi=["src"],Ji=it(()=>p("div",null,null,-1)),Xi=it(()=>p("div",null,null,-1)),ec={class:"end"},tc={class:"end"},ac=it(()=>p("div",null,null,-1)),oc=it(()=>p("div",null,null,-1)),nc={class:"end"},sc=it(()=>p("div",null,null,-1)),Ko=T({__name:"TableVaults",emits:["selected"],setup(t,{emit:e}){const{t:o}=R(),n=e,l=F(),u=$e().getSocket(Ee(l.flavor)),c=new Ke(u,"ethereum"),i=q(""),m=_e(c.overview$,[]),d=w(()=>m.value.filter(s=>{const r=i.value.toLocaleLowerCase().split(" "),g=h=>r.some(S=>h.toLocaleLowerCase().includes(S));return g(s.name)||g(s.address)}).orderBy(s=>s.debt,"desc")),f=w(()=>m.value.length===0);return(s,r)=>{const g=me,h=ee,S=ae,$=K;return _(),L($,{class:"vaults-card",title:a(o)("title"),loading:a(f)},{actions:y(()=>[v(g,{modelValue:a(i),"onUpdate:modelValue":r[0]||(r[0]=b=>le(i)?i.value=b:null),search:!0,placeholder:a(o)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:y(()=>[v(S,{class:"vaults-table",rows:a(d),columns:["","Name",{label:"TVL",align:"end"},{label:"Debt",align:"end"},{label:"CR",align:"end"},{label:"MCR",align:"end"},{label:"Troves",align:"end"},{label:"Price",align:"end"}],onSelected:r[1]||(r[1]=b=>n("selected",b))},{row:y(b=>[p("img",{src:a(Ve)(b.item.address)},null,8,Qi),p("div",{class:B({deprecated:a(Ie)(b.item.address)})},D(a(De)(b.item.address)??b.item.name),3),p("div",{class:B(["end",{deprecated:a(Ie)(b.item.address)}])},[v(h,{value:b.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])],2),p("div",{class:B(["end",{deprecated:a(Ie)(b.item.address)}])},[v(h,{value:b.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])],2),p("div",{class:B(["end",{deprecated:a(Ie)(b.item.address)}])},[v(h,{value:b.item.cr*100,precision:2,type:"percentage"},null,8,["value"])],2),p("div",{class:B(["end",{deprecated:a(Ie)(b.item.address)}])},[v(h,{value:b.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])],2),p("div",{class:B(["end",{deprecated:a(Ie)(b.item.address)}])},D(b.item.open_troves),3),p("div",{class:B(["end",{deprecated:a(Ie)(b.item.address)}])},[v(h,{type:"dollar",value:Math.round(b.item.price),precision:1/0},null,8,["value"])],2)]),"row-aggregation":y(()=>[Ji,Xi,p("div",ec,[v(h,{value:a(d).reduce((b,C)=>b+C.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",tc,[v(h,{value:a(d).reduce((b,C)=>b+C.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),ac,oc,p("div",nc,[v(h,{value:a(d).reduce((b,C)=>b+C.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),sc]),"row-details":y(()=>[W("   ")]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function fa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Vaults"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof fa=="function"&&fa(Ko);const lc=A(Ko,[["__scopeId","data-v-3fd78ba3"]]),bt=Je("vaultStore",()=>{const t=q(null),e=q(null);return{vault:t,trove:e}}),rc={class:"vaults"},ic=T({__name:"Vaults.page",setup(t){const e=et(),o=bt(),n=Ue();fe(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const l=async u=>{o.vault=u,await n.push({name:"prismavault",params:{tab:"",vaultAddr:u.address}})};return(u,c)=>(_(),k("div",rc,[v(lc,{style:{"grid-column":"1 / -1"},onSelected:l}),v(Si),v(Li),v(Ii),v($i)]))}}),cc=A(ic,[["__scopeId","data-v-0e5827c8"]]),No=T({__name:"ChartPoolTvl",setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new Oe(n.value),{isFetching:u,data:c}=O({queryKey:["prisma-stable-pool-tvl"],queryFn:()=>l.getPoolTvl("ethereum","1m").then(s=>s.deposits),initialData:[],initialDataUpdatedAt:0}),{chart:i,chartRef:m,series:d}=de({recreateChartTrigger:o,createChartOptions:s=>ue(s,o.value,{localization:{priceFormatter:r=>`$${Z(r,1,"dollar")}${G(r,"dollar")}`}}),series:{type:"Area",name:"tvl",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}))}});pe(f);function f(){if(!i.value||!d.tvl)return;const s=c.value.map(r=>({time:r.timestamp,value:r.value})).uniqWith((r,g)=>r.time===g.time).orderBy(r=>r.time,"asc");s.length>0&&d.tvl.setData(s),i.value.timeScale().fitContent()}return(s,r)=>{const g=K;return _(),L(g,{class:"chart-container",title:a(e)("title"),loading:a(u)},{default:y(()=>[p("div",{ref_key:"chartRef",ref:m,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ha(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total deposits in stability pool"}}}})}typeof ha=="function"&&ha(No);const uc=A(No,[["__scopeId","data-v-5c042d33"]]),Ho=T({__name:"ChartStableFlow",setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new Oe(n.value),{isFetching:u,data:c}=O({queryKey:["prisma-stable-flow"],queryFn:()=>l.getStableFlow("ethereum","1m"),initialData:{deposits:[],withdrawals:[]},initialDataUpdatedAt:0}),i=w(()=>{const{colors:r}=o.value;return te(o.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[r.green,r.red],xaxis:{categories:m.value,labels:{formatter:f,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:s}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:g,dataPointIndex:h,w:S})=>{let $=0;const b=g.map((C,I)=>{const P=C[h];return $+=P,`<div><b>${S.globals.seriesNames[I]}</b>:	${s(P)}</div>`});return b.push(`<div><b>Total</b>:	${s($)}</div>`),b.join("")}}})}),m=w(()=>c.value.deposits.length===0?[]:c.value.deposits.map(r=>new Date(r.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),d=w(()=>[{name:e("deposits"),data:Object.values(c.value.deposits).map(r=>r.value)},{name:e("withdrawals"),data:Object.values(c.value.withdrawals).map(r=>r.value)}]),f=r=>r,s=r=>`$${Z(r,0,"dollar")}${G(r,"dollar")}`;return(r,g)=>{const h=ne;return _(),L(h,{title:a(e)("title",{stable:a(ht)(a(n))}),loading:a(u),options:a(i),series:a(d)},null,8,["title","loading","options","series"])}}});function ba(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:4,k:"stable"},{t:3,v:" deposits and withdrawals"}]}},deposits:{t:0,b:{t:2,i:[{t:3}],s:"Deposits"}},withdrawals:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawals"}}}})}typeof ba=="function"&&ba(Ho);const dc=A(Ho,[["__scopeId","data-v-d6466e54"]]),Go=T({__name:"ChartDepositDistribution",setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new Oe(n.value),{isFetching:u,data:c}=O({queryKey:["prisma-stable-distribution"],queryFn:()=>l.getStableDistribution("ethereum").then(f=>f.distribution),initialData:[],initialDataUpdatedAt:0}),i=w(()=>te(o.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:d.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),m=w(()=>[{name:e("numPos"),data:Object.values(c.value).map(f=>f.value)}]),d=w(()=>c.value.map(f=>f.label));return(f,s)=>{const r=ne;return _(),L(r,{title:a(e)("title"),loading:a(u),series:a(m),options:a(i)},null,8,["title","loading","series","options"])}}});function ga(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distribution of current user deposits"}},numPos:{t:0,b:{t:2,i:[{t:3}],s:"# of positions"}}}})}typeof ga=="function"&&ga(Go);const pc=A(Go,[["__scopeId","data-v-809abd22"]]),jo=T({__name:"ChartCumulativeWithdrawals",setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new Oe(n.value),{isFetching:u,data:c}=O({queryKey:["prisma-cum-withdrawals"],queryFn:()=>l.getCumulativeWithdrawals("ethereum","all").then(s=>s.withdrawals),initialData:[],initialDataUpdatedAt:0}),{chart:i,chartRef:m,series:d}=de({recreateChartTrigger:o,createChartOptions:s=>ue(s,o.value,{localization:{priceFormatter:r=>`$${Z(r,1,"dollar")}${G(r,"dollar")}`}}),series:{type:"Area",name:"withdrawals",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}))}});pe(f);function f(){if(!i.value||!d.withdrawals)return;const s=c.value.map(r=>({time:r.timestamp,value:r.value})).uniqWith((r,g)=>r.time===g.time).orderBy(r=>r.time,"asc");s.length>0&&d.withdrawals.setData(s),i.value.timeScale().fitContent()}return(s,r)=>{const g=K;return _(),L(g,{class:"chart-container",title:a(e)("title"),loading:a(u)},{default:y(()=>[p("div",{ref_key:"chartRef",ref:m,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ya(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Cumulative value of collaterals withdrawn"}}}})}typeof ya=="function"&&ya(jo);const mc=A(jo,[["__scopeId","data-v-22a6ab56"]]),vc={class:"address font-mono"},_c=["href"],fc={class:"end"},hc={class:"end"},bc={class:"address end font-mono"},gc=["href"],Zo=T({__name:"TableTopDeposits",setup(t){const{t:e}=R(),o=F(),n=new Oe(o.flavor),{isFetching:l,data:u}=O({queryKey:["prisma-stable-top-deposits"],queryFn:()=>n.getTopStableDeposits("ethereum",5,"7d").then(i=>i.operations),initialData:[],initialDataUpdatedAt:0}),c=w(()=>u.value.map(i=>i));return(i,m)=>{const d=ee,f=ae,s=K;return _(),L(s,{title:a(e)("title"),loading:a(l)},{default:y(()=>[v(f,{class:"deposits-table",rows:a(c),columns:["Address",{label:"Amount",align:"end"},{label:"Date",align:"end"},{label:"Tx",align:"end"}]},{row:y(r=>[p("div",vc,[p("a",{href:`https://etherscan.io/address/${r.item.user}`,target:"_blank"},D(a(H)(r.item.user,8)),9,_c)]),p("div",fc,[v(d,{value:r.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",hc,D(new Date(r.item.timestamp*1e3).toLocaleDateString()),1),p("div",bc,[p("a",{href:`https://etherscan.io/tx/${r.item.hash}`,target:"_blank"},D(a(H)(r.item.hash,8)),9,gc)])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function wa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest deposits past 7 days"}}}})}typeof wa=="function"&&wa(Zo);const yc=A(Zo,[["__scopeId","data-v-329243c6"]]),wc={class:"address font-mono"},$c=["href"],Cc={class:"end"},kc={class:"end"},Sc={class:"address end font-mono"},Lc=["href"],zo=T({__name:"TableTopWithdrawals",setup(t){const{t:e}=R(),o=F(),n=new Oe(o.flavor),l=w(()=>c.value.map(i=>i)),{isFetching:u,data:c}=O({queryKey:["prisma-stable-top-withdrawals"],queryFn:()=>n.getTopStableWithdrawals("ethereum",5,"7d").then(i=>i.operations),initialData:[],initialDataUpdatedAt:0});return(i,m)=>{const d=ee,f=ae,s=K;return _(),L(s,{title:a(e)("title"),loading:a(u)},{default:y(()=>[v(f,{class:"withdrawals-table",rows:a(l),columns:["Address",{label:"Amount",align:"end"},{label:"Date",align:"end"},{label:"Tx",align:"end"}]},{row:y(r=>[p("div",wc,[p("a",{href:`https://etherscan.io/address/${r.item.user}`,target:"_blank"},D(a(H)(r.item.user,8)),9,$c)]),p("div",Cc,[v(d,{value:r.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",kc,D(new Date(r.item.timestamp*1e3).toLocaleDateString()),1),p("div",Sc,[p("a",{href:`https://etherscan.io/tx/${r.item.hash}`,target:"_blank"},D(a(H)(r.item.hash,8)),9,Lc)])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function $a(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest withdrawals past 7 days"}}}})}typeof $a=="function"&&$a(zo);const Tc=A(zo,[["__scopeId","data-v-8bfcb86b"]]),Ac={class:"pool"},Ic=T({__name:"StabilityPool.page",setup(t){return(e,o)=>(_(),k("div",Ac,[v(uc),v(dc),v(pc),v(mc),v(yc),v(Tc)]))}}),Pc=A(Ic,[["__scopeId","data-v-207fe888"]]),Dc={key:0,class:"value"},xc={key:1,class:"value"},Vc=["innerHTML"],qc={key:0,class:"value"},Mc={key:1,class:"value"},Rc=["innerHTML"],Fc={class:"labels"},Bc={class:"label"},Uc={class:"label-second"},Ec=T({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(t){return(e,o)=>{const n=nt;return _(),k("div",{class:B(["kpi",{disabled:!e.hasValue}])},[p("div",{class:B(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[Y(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(_(),L(n,{key:0},{item:y(()=>[e.hasValue?(_(),k("span",Dc,D(e.value),1)):(_(),k("span",xc," ? "))]),default:y(()=>[Y(e.$slots,"tooltip",{},()=>[p("span",{innerHTML:e.tooltip},null,8,Vc)],!0)]),_:3})):(_(),k(Q,{key:1},[e.hasValue?(_(),k("span",qc,D(e.value),1)):(_(),k("span",Mc," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(_(),L(n,{key:0},{default:y(()=>[p("span",{innerHTML:e.tooltip},null,8,Rc)]),_:1})):x("",!0)],2),p("div",Fc,[Y(e.$slots,"label",{},()=>[p("div",Bc,D(e.label),1)],!0),Y(e.$slots,"label-second",{},()=>[p("div",Uc,D(e.labelSecond),1)],!0)])],2)}}}),Ce=A(Ec,[["__scopeId","data-v-9ca23269"]]),Oc={class:"kpis"},Wc=T({__name:"KPIs",setup(t){const e=F(),o=new lt(e.flavor),{data:n}=O({queryKey:["prisma-stable-kpi"],queryFn:()=>o.getStableCoinKPI("ethereum").then(l=>l.info)});return(l,u)=>{const c=ee,i=Ce;return _(),k("div",Oc,[v(i,{label:`${a(ht)(a(e).flavor)} price`,"has-value":!!a(n)},{default:y(()=>[a(n)?(_(),L(c,{key:0,value:a(n).price,precision:4,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["label","has-value"]),v(i,{label:"Total supply","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),L(c,{key:0,value:a(n).supply,precision:2,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),v(i,{label:"24h Volume (Curve)","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),L(c,{key:0,value:a(n).volume,precision:1,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),v(i,{label:"Aggregate -2% Depth (Curve)","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),L(c,{key:0,value:a(n).depth,precision:1,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"])])}}}),Kc=A(Wc,[["__scopeId","data-v-f727d9c2"]]),Yo=T({__name:"ChartPrice",setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=()=>{switch(n.value){case"lsd":return"0xF980B4A4194694913Af231De69AB4593f5E0fCDc";case"lrt":return"0xC03FEF1c425956A3Cd5762022E511e0d4148B3D6";default:return""}},u=()=>{switch(n.value){case"lsd":return"0x4591DBfF62656E7859Afe5e45f6f47D3669fBB28";case"lrt":return"0x35282d87011f87508D457F08252Bc5bFa52E10A0";default:return""}},c=()=>{const $=Math.floor(new Date().getTime()/1e3),b=14400,C=$-b*200,I="0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",P=l(),M=u();return{pool:P,chain:"ethereum",main_token:I,reference_token:M,interval:b,start:C,end:$}},i=$e().getSocket("prices"),m=new _t(i,"ethereum",c()),d=_e(m.ohlc$,[]),f=w(()=>d.value.length===0),s=w(()=>{switch(n.value){case"lsd":return"Price is in USDC from Curve mkUSD/USDC pool";case"lrt":return"Price is in USDC from Curve ULTRA/USDC pool";default:return"???"}}),{chart:r,chartRef:g,series:h}=de({recreateChartTrigger:o,createChartOptions:$=>ue($,o.value,{localization:{priceFormatter:b=>`$${Z(b,4,"dollar")}${G(b,"dollar")}`}}),series:{type:"Candlestick",name:"price",options:w(()=>{const{colors:$}=o.value;return{priceFormat:{type:"price",precision:6,minMove:.01},upColor:$.green,borderUpColor:$.green,wickUpColor:$.green,downColor:$.red,borderDownColor:$.red,wickDownColor:$.red,lastValueVisible:!0,priceLineVisible:!1}})}});pe(S);function S(){if(!r.value||!h.price)return;const $=d.value.map(b=>({time:b.time,open:b.open,high:b.high,low:b.low,close:b.close})).uniqWith((b,C)=>b.time===C.time).orderBy(b=>b.time,"asc");$.length>0&&h.price.setData($),r.value.timeScale().fitContent()}return($,b)=>{const C=nt,I=K;return _(),L(I,{class:"chart-container",title:a(e)("title",{stable:a(ht)(a(n))}),loading:a(f)},{actions:y(()=>[v(C,{placement:"left"},{default:y(()=>[p("div",null,D(a(s)),1)]),_:1})]),default:y(()=>[p("div",{ref_key:"chartRef",ref:g,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ca(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:4,k:"stable"},{t:3,v:" price (last 30 days)"}]}}}})}typeof Ca=="function"&&Ca(Yo);const Nc=A(Yo,[["__scopeId","data-v-88aa8739"]]),Qo=T({__name:"ChartPriceDistribution",setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new lt(n.value),{isFetching:u,data:c}=O({queryKey:["prisma-stable-price-distribution"],queryFn:()=>l.getPriceHistogram("ethereum",10,"all").then(s=>s.histogram),initialData:[],initialDataUpdatedAt:0}),i=w(()=>te(o.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:d.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),m=w(()=>[{name:e("numPos"),data:Object.values(c.value).map(s=>s.value)}]),d=w(()=>c.value.map(s=>f(s.label))),f=s=>{const r=/-?\d+(\.\d+)?/g,g=h=>parseFloat(h).toFixed(4);return s.replace(r,h=>g(h))};return(s,r)=>{const g=ne;return _(),L(g,{title:a(e)("title"),loading:a(u),series:a(m),options:a(i)},null,8,["title","loading","series","options"])}}});function ka(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price histogram"}},numPos:{t:0,b:{t:2,i:[{t:3}],s:"# of hourly price records"}}}})}typeof ka=="function"&&ka(Qo);const Hc=A(Qo,[["__scopeId","data-v-0f89ee8f"]]),Jo=T({__name:"ChartSupply",setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new lt(n.value),{isFetching:u,data:c}=O({queryKey:["prisma-stable-supply"],queryFn:()=>l.getSupplyHistory("ethereum").then(s=>s.supply),initialData:[],initialDataUpdatedAt:0}),{chart:i,chartRef:m,series:d}=de({recreateChartTrigger:o,createChartOptions:s=>ue(s,o.value,{localization:{priceFormatter:r=>`${Z(r,1,"dollar")}${G(r,"dollar")}`}}),series:{type:"Area",name:"supply",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}))}});pe(f);function f(){if(!i.value||!d.supply)return;const s=c.value.map(r=>({time:r.timestamp,value:r.value})).uniqWith((r,g)=>r.time===g.time).orderBy(r=>r.time,"asc");s.length>0&&d.supply.setData(s),i.value.timeScale().fitContent()}return(s,r)=>{const g=K;return _(),L(g,{class:"chart-container",title:a(e)("title"),loading:a(u)},{default:y(()=>[p("div",{ref_key:"chartRef",ref:m,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Sa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Supply"}}}})}typeof Sa=="function"&&Sa(Jo);const Gc=A(Jo,[["__scopeId","data-v-71fc31d3"]]),Xo=T({__name:"ChartHolders",setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new lt(n.value),{isFetching:u,data:c}=O({queryKey:["prisma-stable-holders"],queryFn:()=>l.getLargeStableCoinHolders("ethereum").then(s=>s.holders),initialData:[],initialDataUpdatedAt:0}),i=w(()=>te(o.value,{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:s=>{let r=d.value[s.seriesIndex];r=r.length>10&&r.startsWith("0x")?H(r):r;const g=s.series[s.seriesIndex];return[`<div><b>${r}</b>:</div><div>${f(g)}</div>`].join("")}},labels:c.value.map(s=>s.label.length>10&&s.label.startsWith("0x")?H(s.label):s.label)})),m=w(()=>c.value.map(s=>s.value)),d=w(()=>c.value.map(s=>s.label)),f=s=>`$${Z(Math.abs(s),1,"dollar")}${G(s,"dollar")}`;return(s,r)=>{const g=ne;return _(),L(g,{class:"graph",title:a(e)("title"),loading:a(u),options:a(i),series:a(m)},null,8,["title","loading","options","series"])}}});function La(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Largest holders"}}}})}typeof La=="function"&&La(Xo);const jc=A(Xo,[["__scopeId","data-v-89fe7cd2"]]),en=T({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(t){const{t:e}=R(),{theme:o}=N(F()),n=w(()=>{const{colors:i}=o.value;return te(o.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:m=>c(m)}},yaxis:{seriesName:"amounts",labels:{formatter:m=>c(m)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:m=>c(m)}},colors:[m=>m.value===0?i.blue:i.green,m=>m.value===0?i.blue:i.red]})}),l=w(()=>{if(!t.depth)return[];const i=[...t.depth.ask.prices.map(d=>({x:d,y:0})),...t.depth.bid.prices.map((d,f)=>({x:d,y:t.depth.bid.amounts[f]}))],m=[...t.depth.ask.prices.map((d,f)=>({x:d,y:t.depth.ask.amounts[f]}))];return[{name:"Bid",data:i},{name:"Ask",data:m}]}),u=w(()=>{var m;if(!((m=t.depth)!=null&&m.tokens)||t.depth.tokens.length===0)return e("title");const i=t.depth.tokens.join(" / ");return`${e("title")} - ${i} (Curve)`}),c=i=>`$${Z(Math.abs(i),2,"dollar")}${G(i,"dollar")}`;return(i,m)=>{const d=ne;return _(),L(d,{class:"chart",title:a(u),loading:i.loading,options:a(n),series:a(l)},null,8,["title","loading","options","series"])}}});function Ta(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidity Depth"}}}})}typeof Ta=="function"&&Ta(en);const Zc=A(en,[["__scopeId","data-v-449a99e1"]]),zc=T({__name:"ChartDepthContainer",setup(t){const e=F(),o=new lt(e.flavor),{isFetching:n,data:l}=O({queryKey:["prisma-stable-pool-depth"],queryFn:()=>o.getCurvePoolDepth("ethereum").then(u=>u.depth),initialData:[],initialDataUpdatedAt:0});return(u,c)=>(_(!0),k(Q,null,oe(a(l),i=>(_(),L(Zc,{key:i.name,loading:a(n),depth:i},null,8,["loading","depth"]))),128))}}),Yc=A(zc,[["__scopeId","data-v-bb805309"]]),Qc={class:"stable"},Jc=T({__name:"Stablecoin.page",setup(t){return(e,o)=>(_(),k("div",Qc,[v(Kc,{style:{"grid-column":"1 / -1"}}),v(Nc),v(Hc),v(Gc),v(jc),v(Yc)]))}}),Xc=A(Jc,[["__scopeId","data-v-b712cc51"]]),Wt=t=>(ie("data-v-c920758b"),t=t(),ce(),t),eu={key:0},tu=Wt(()=>p("button",null,"1",-1)),au=[tu],ou=Wt(()=>p("button",null,[p("i",{class:"fas fa-chevron-left"})],-1)),nu=[ou],su=["onClick"],lu=Wt(()=>p("button",null,[p("i",{class:"fas fa-chevron-right"})],-1)),ru=[lu],iu=T({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(t,{emit:e}){const o=e,n=w(()=>Math.ceil(t.itemsCount/t.itemsPerPage)),l=w(()=>{const s=[...Array(12).keys()].map(b=>b-6+t.page).filter(b=>b>=1&&b<=n.value),r=s.findIndex(b=>b===t.page),g=[],h=[],S=t.page!==1&&t.page!==n.value?[t.page]:[];let $=1;for(;;){const b=s[r-$];if(b&&b!==1&&g.unshift(b),g.length+h.length+S.length>=5||$>s.length)break;const C=s[r+$];if(C&&C!==n.value&&h.push(C),$++,g.length+h.length+S.length>=5||$>s.length)break}return[...g,...S,...h]});J(l,()=>{const d=u(t.page,1,n.value);t.page!==d&&o("page",d)});const u=(d,f,s)=>(s<f&&(s=f),Math.min(Math.max(d,f),s)),c=()=>o("page",u(t.page-1,1,n.value)),i=()=>o("page",u(t.page+1,1,n.value)),m=d=>o("page",u(d,1,n.value));return(d,f)=>a(n)>1?(_(),k("ul",eu,[p("li",{class:B({active:d.page===1}),onClick:f[0]||(f[0]=s=>m(1))},au,2),a(n)>2?(_(),k("li",{key:0,onClick:c},nu)):x("",!0),(_(!0),k(Q,null,oe(a(l),(s,r)=>(_(),k("li",{key:r,class:B({active:s===d.page}),onClick:g=>m(s)},[p("button",null,D(s),1)],10,su))),128)),a(n)>2?(_(),k("li",{key:1,onClick:i},ru)):x("",!0),a(n)>1?(_(),k("li",{key:2,class:B({active:d.page===a(n)}),onClick:f[1]||(f[1]=s=>m(a(n)))},[p("button",null,D(a(n)),1)],2)):x("",!0)])):x("",!0)}}),be=A(iu,[["__scopeId","data-v-c920758b"]]),cu={class:"redemption-details"},uu={class:"kpis"},du=["href"],tn=T({__name:"RedemptionDetails",props:{vaultAddr:{},redemption:{}},setup(t){const{t:e}=R(),o=q(""),n=w(()=>t.redemption.troves_affected.filter(l=>{const u=o.value.toLocaleLowerCase().split(" ");return(i=>u.some(m=>i.toLocaleLowerCase().includes(m)))(l)}));return(l,u)=>{const c=ee,i=Ce,m=me,d=ae,f=K;return _(),L(f,{title:a(e)("redemption-details")},{default:y(()=>[p("div",cu,[p("div",uu,[v(i,{label:a(e)("withdrawal")},{default:y(()=>[v(c,{value:l.redemption.attempted_debt_amount,precision:2,type:"dollar"},null,8,["value"]),W(" / "),v(c,{value:l.redemption.collateral_sent_to_redeemer_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),v(i,{label:a(e)("fee")},{default:y(()=>[v(c,{value:l.redemption.collateral_fee_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),v(f,{title:a(e)("troves-affected"),compact:!0},{actions:y(()=>[v(m,{modelValue:a(o),"onUpdate:modelValue":u[0]||(u[0]=s=>le(o)?o.value=s:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:y(()=>[v(d,{class:"troves-affected-table",rows:a(n),columns:["Trove"]},{row:y(s=>[p("div",null,[p("a",{class:"font-mono",target:"_blank",href:`#/vault/${l.vaultAddr}/trove/${s.item}`,onClick:u[1]||(u[1]=X(()=>{},["stop"]))},D(s.item),9,du)])]),_:1},8,["rows"])]),_:1},8,["title"])])]),_:1},8,["title"])}}});function Aa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":{t:0,b:{t:2,i:[{t:3}],s:"Troves affected"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"redemption-details":{t:0,b:{t:2,i:[{t:3}],s:"Redemption Details"}},withdrawal:{t:0,b:{t:2,i:[{t:3}],s:"Attempted / Received"}},fee:{t:0,b:{t:2,i:[{t:3}],s:"Fee"}}}})}typeof Aa=="function"&&Aa(tn);const Kt=A(tn,[["__scopeId","data-v-e090b539"]]),pu={key:0,class:"item"},mu=["src"],vu={key:1,class:"empty"},_u={class:"label"},fu=T({__name:"SelectVault",props:{vault:{default:null},all:{type:Boolean,default:!1}},emits:["select-vault"],setup(t,{emit:e}){const o=e,n=F(),l=q(!1),u=[...t.all?["all"]:[],...n.flavor==="lsd"?Zi:zi];fe(()=>{i(u[0])});const c=()=>{l.value=!l.value},i=m=>{o("select-vault",m)};return(m,d)=>{const f=qo;return _(),L(f,{class:"select",options:u,selected:m.vault,open:a(l),onOpen:c,onClose:d[0]||(d[0]=s=>l.value=!1),onInput:i},{item:y(s=>[s.item?(_(),k("div",pu,[s.item!=="all"?(_(),k("img",{key:0,src:a(Ve)(s.item)},null,8,mu)):(_(),k("div",vu)),p("div",_u,D(s.item==="all"?"All":a(De)(s.item)),1)])):x("",!0)]),_:1},8,["selected","open"])}}}),gt=A(fu,[["__scopeId","data-v-ba41cfbf"]]),hu=[{unit:"year",seconds:365*24*60*60},{unit:"month",seconds:30*24*60*60},{unit:"week",seconds:7*24*60*60},{unit:"day",seconds:24*60*60},{unit:"hour",seconds:60*60},{unit:"minute",seconds:60},{unit:"second",seconds:1}];function bu(t,e){const o=Math.round(t.value/1e3)-e;for(const{unit:n,seconds:l}of hu)if(o>=l){const u=Math.round(o/l);return`${u} ${u===1?n:n+"s"} ago`}return"just now"}function we(){const t=q(Date.now());return fe(()=>{setInterval(()=>{t.value=Date.now()})}),{relativeTime:o=>bu(t,o)}}function ke(t,e){const o=q(t),n=q("desc"),l=(c,i)=>{o.value=c,n.value=i},u=w(()=>({column:o.value,order:n.value}));return{sortColumn:o,sortOrder:n,sorting:u,onSort:l}}function ge(t,e){const o=q(1),n=w(()=>t.value.drop((o.value-1)*e).take(e)),l=u=>{o.value=u};return J(n,u=>{u.length===0&&(o.value=Math.max(1,Math.ceil(t.value.length/e)))}),{page:o,rowsPage:n,onPage:l}}const gu={style:{display:"flex",gap:"1rem"}},yu=["src"],wu=["href"],$u=["href"],Cu={class:"end"},ku={class:"end"},Su={class:"end"},Ia=15,an=T({__name:"TableRedemptions",props:{vaults:{default:()=>[]}},setup(t){const e=F(),o=new Ot(e.flavor),{t:n}=R(),{isFetching:l,data:u}=O({queryKey:["prisma-redemptions",w(()=>t.vaults.map(b=>b.address))],queryFn:({queryKey:[,b]})=>b.length>0?Promise.all(b.map(C=>o.getRedemptions("ethereum",C))).then(C=>C.flat()):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:c}=we(),i=q(""),m=q("all"),d=q(null),f=["",{id:"redeemer",label:"Redeemer",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:s,onSort:r}=ke("timestamp"),g=w(()=>u.value.filter(b=>{const C=i.value.toLocaleLowerCase().split(" "),I=M=>C.some(U=>M.toLocaleLowerCase().includes(U)),P=m.value==="all"?!0:b.vault===m.value;return I(b.redeemer)&&P}).orderBy(b=>{switch(s.value.column){case"redeemer":return b.redeemer;case"tx":return b.transaction;case"debt":return b.actual_debt_amount;case"numtroves":return b.troves_affected_count;case"timestamp":return b.timestamp;default:return b.timestamp}},s.value.order)),{page:h,rowsPage:S,onPage:$}=ge(g,Ia);return(b,C)=>{const I=me,P=be,M=ee,U=ae,j=K,E=Le;return _(),k(Q,null,[v(j,{class:"redemptions-card",title:a(n)("title"),loading:a(l)},{actions:y(()=>[v(gt,{vault:a(m),all:!0,onSelectVault:C[0]||(C[0]=V=>m.value=V)},null,8,["vault"]),p("div",gu,[v(I,{modelValue:a(i),"onUpdate:modelValue":C[1]||(C[1]=V=>le(i)?i.value=V:null),search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),v(P,{"items-count":a(g).length,"items-per-page":Ia,page:a(h),onPage:a($)},null,8,["items-count","page","onPage"])])]),default:y(()=>[v(U,{class:"redemptions-table",rows:a(S),columns:f,sorting:a(s),onSortColumn:a(r),onSelected:C[4]||(C[4]=V=>d.value=V)},{row:y(V=>[p("img",{src:a(Ve)(V.item.vault)},null,8,yu),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/address/${V.item.redeemer}`,target:"_blank",onClick:C[2]||(C[2]=X(()=>{},["stop"]))},D(a(H)(V.item.redeemer)),9,wu)]),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.item.transaction}`,target:"_blank",onClick:C[3]||(C[3]=X(()=>{},["stop"]))},D(a(H)(V.item.transaction)),9,$u)]),p("div",Cu,[v(M,{type:"dollar",value:Math.round(V.item.actual_debt_amount),precision:1/0},null,8,["value"])]),p("div",ku,D(V.item.troves_affected_count),1),p("div",Su,D(a(c)(V.item.timestamp)),1)]),"row-details":y(()=>[W("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),v(E,{show:!!a(d),onClose:C[5]||(C[5]=V=>d.value=null)},{default:y(()=>[a(d)?(_(),L(Kt,{key:0,redemption:a(d),"vault-addr":a(d).vault},null,8,["redemption","vault-addr"])):x("",!0)]),_:1},8,["show"])],64)}}});function Pa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Pa=="function"&&Pa(an);const Lu=A(an,[["__scopeId","data-v-2409c7bd"]]),Tu={class:"redemptions"},Au=T({__name:"Redemptions.page",setup(t){const e=F(),o=$e().getSocket(Ee(e.flavor)),n=new Ke(o,"ethereum"),l=_e(n.overview$,[]);return(u,c)=>(_(),k("div",Tu,[v(Lu,{vaults:a(l)},null,8,["vaults"])]))}}),Iu=A(Au,[["__scopeId","data-v-3c22273b"]]),Pu={class:"liquidation-details"},Du={class:"kpis"},xu=["href"],on=T({__name:"LiquidationDetails",props:{vaultAddr:{},liquidation:{}},setup(t){const{t:e}=R(),o=q(""),n=w(()=>t.liquidation.troves_affected.filter(l=>{const u=o.value.toLocaleLowerCase().split(" ");return(i=>u.some(m=>i.toLocaleLowerCase().includes(m)))(l)}));return(l,u)=>{const c=ee,i=Ce,m=me,d=ae,f=K;return _(),L(f,{title:a(e)("liquidation-details")},{default:y(()=>[p("div",Pu,[p("div",Du,[v(i,{label:a(e)("debt")},{default:y(()=>[v(c,{value:l.liquidation.liquidated_debt,precision:2,type:"dollar"},null,8,["value"]),W(" / "),v(c,{value:l.liquidation.liquidated_collateral,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),v(i,{label:a(e)("gas-compensation")},{default:y(()=>[v(c,{value:l.liquidation.collateral_gas_compensation_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),v(f,{title:a(e)("troves-affected"),compact:!0},{actions:y(()=>[v(m,{modelValue:a(o),"onUpdate:modelValue":u[0]||(u[0]=s=>le(o)?o.value=s:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:y(()=>[v(d,{class:"troves-affected-table",rows:a(n),columns:["Trove"]},{row:y(s=>[p("div",null,[p("a",{class:"font-mono",target:"_blank",href:`#/vault/${l.vaultAddr}/trove/${s.item}`,onClick:u[1]||(u[1]=X(()=>{},["stop"]))},D(s.item),9,xu)])]),_:1},8,["rows"])]),_:1},8,["title"])])]),_:1},8,["title"])}}});function Da(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":{t:0,b:{t:2,i:[{t:3}],s:"Troves affected"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"liquidation-details":{t:0,b:{t:2,i:[{t:3}],s:"Liquidation Details"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt / Collateral"}},"gas-compensation":{t:0,b:{t:2,i:[{t:3}],s:"Gas compensation"}}}})}typeof Da=="function"&&Da(on);const Nt=A(on,[["__scopeId","data-v-fdd07cce"]]),Vu={style:{display:"flex",gap:"1rem"}},qu=["src"],Mu=["href"],Ru=["href"],Fu={class:"end"},Bu={class:"end"},Uu={class:"end"},xa=15,nn=T({__name:"TableLiquidations",props:{vaults:{default:()=>[]}},setup(t){const e=F(),o=new Et(e.flavor),{t:n}=R(),{isFetching:l,data:u}=O({queryKey:["prisma-liquidations",w(()=>t.vaults.map(b=>b.address))],queryFn:({queryKey:[,b]})=>b.length>0?Promise.all(b.map(C=>o.getLiquidations("ethereum",C))).then(C=>C.flat()):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:c}=we(),i=q(""),m=q("all"),d=q(null),f=["",{id:"liquidator",label:"Liquidator",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:s,onSort:r}=ke("timestamp"),g=w(()=>u.value.filter(b=>{const C=i.value.toLocaleLowerCase().split(" "),I=M=>C.some(U=>M.toLocaleLowerCase().includes(U)),P=m.value==="all"?!0:b.vault===m.value;return I(b.liquidator)&&P}).orderBy(b=>{switch(s.value.column){case"liquidator":return b.liquidator;case"tx":return b.transaction;case"debt":return b.liquidated_collateral_usd;case"numtroves":return b.troves_affected_count;case"timestamp":return b.timestamp;default:return b.timestamp}},s.value.order)),{page:h,rowsPage:S,onPage:$}=ge(g,xa);return(b,C)=>{const I=me,P=be,M=ee,U=ae,j=K,E=Le;return _(),k(Q,null,[v(j,{class:"liquidations-card",title:a(n)("title"),loading:a(l)},{actions:y(()=>[v(gt,{class:"select-vault",vault:a(m),all:!0,onSelectVault:C[0]||(C[0]=V=>m.value=V)},null,8,["vault"]),p("div",Vu,[v(I,{modelValue:a(i),"onUpdate:modelValue":C[1]||(C[1]=V=>le(i)?i.value=V:null),class:"search",style:{"flex-grow":"1"},search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),v(P,{class:"pagination","items-count":a(g).length,"items-per-page":xa,page:a(h),onPage:a($)},null,8,["items-count","page","onPage"])])]),default:y(()=>[v(U,{class:"liquidations-table",rows:a(S),columns:f,sorting:a(s),onSortColumn:a(r),onSelected:C[4]||(C[4]=V=>d.value=V)},{row:y(V=>[p("img",{src:a(Ve)(V.item.vault)},null,8,qu),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/address/${V.item.liquidator}`,target:"_blank",onClick:C[2]||(C[2]=X(()=>{},["stop"]))},D(a(H)(V.item.liquidator)),9,Mu)]),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.item.transaction}`,target:"_blank",onClick:C[3]||(C[3]=X(()=>{},["stop"]))},D(a(H)(V.item.transaction)),9,Ru)]),p("div",Fu,[v(M,{type:"dollar",value:Math.round(V.item.liquidated_debt),precision:1/0},null,8,["value"])]),p("div",Bu,D(V.item.troves_affected_count),1),p("div",Uu,D(a(c)(V.item.timestamp)),1)]),"row-details":y(()=>[W("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),v(E,{show:!!a(d),onClose:C[5]||(C[5]=V=>d.value=null)},{default:y(()=>[a(d)?(_(),L(Nt,{key:0,liquidation:a(d),"vault-addr":a(d).vault},null,8,["liquidation","vault-addr"])):x("",!0)]),_:1},8,["show"])],64)}}});function Va(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Va=="function"&&Va(nn);const Eu=A(nn,[["__scopeId","data-v-c4f70eb4"]]),Ou={class:"liquidations"},Wu=T({__name:"Liquidations.page",setup(t){const e=F(),o=$e().getSocket(Ee(e.flavor)),n=new Ke(o,"ethereum"),l=_e(n.overview$,[]);return(u,c)=>(_(),k("div",Ou,[v(Eu,{vaults:a(l)},null,8,["vaults"])]))}}),Ku=A(Wu,[["__scopeId","data-v-39c61e01"]]),Nu=["min","max"],Hu=T({__name:"InputNumber",props:Ye({min:{default:()=>-1/0},max:{default:()=>1/0}},{modelValue:{required:!0,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=Dt(t,"modelValue");return J(e,o=>{o===""?e.value=null:typeof o=="number"&&(e.value=Math.min(Math.max(o,t.min),t.max))}),(o,n)=>Io((_(),k("input",{"onUpdate:modelValue":n[0]||(n[0]=l=>e.value=l),type:"number",min:o.min,max:o.max},null,8,Nu)),[[hs,e.value]])}}),Gu=A(Hu,[["__scopeId","data-v-299e90f1"]]),ju=T({__name:"ChartRevenueLine",props:{data:{default:()=>[]}},setup(t){const{theme:e}=N(F()),{chart:o,chartRef:n,series:l}=de({recreateChartTrigger:e,createChartOptions:i=>ue(i,e.value,{localization:{priceFormatter:m=>`$${Z(m,1,"dollar")}${G(m,"dollar")}`}}),series:{type:"Area",name:"revenue",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...e.value.lineChartColors}))}});pe(u);function u(){if(!o.value||!l.revenue)return;const i=t.data.groupBy(m=>m.timestamp).entries().map(([,m])=>({time:m[0].timestamp,value:c(m[0])})).uniqWith((m,d)=>m.time===d.time).orderBy(m=>m.time,"asc");i.length>0&&l.revenue.setData(i),o.value.timeScale().fitContent()}const c=i=>i.unlock_penalty_revenue_usd+i.borrowing_fees_revenue_usd+i.redemption_fees_revenue_usd;return(i,m)=>(_(),k("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512))}}),Zu=T({__name:"ChartRevenueBreakdown",props:{data:{default:()=>[]}},setup(t){const{theme:e}=N(F()),o=w(()=>te(e.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:n.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:u.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),n=w(()=>t.data.orderBy(s=>s.timestamp,"asc").groupBy(s=>s.timestamp).entries().map(([s])=>new Date(parseInt(s,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((s,r)=>r%8===0?s:"")),l=w(()=>Object.keys(t.data[0]).filter(s=>s!=="timestamp").map(s=>t.data.map(r=>({...r,source:s}))).flat().groupBy(s=>s.source).entries().map(([s,r])=>({name:d(s),data:r.orderBy(g=>g.timestamp,"asc").map(g=>({x:new Date(g.timestamp*1e3).toLocaleDateString(),y:g[s]}))}))),u=w(()=>Math.max(...t.data.groupBy(s=>s.timestamp).entries().map(([,s])=>s.reduce((r,g)=>r+m(g),0)))*1.1),c=s=>s,i=s=>`$${Z(s,1,"dollar")}${G(s,"dollar")}`,m=s=>s.unlock_penalty_revenue_usd+s.borrowing_fees_revenue_usd+s.redemption_fees_revenue_usd,d=s=>{switch(s){case"unlock_penalty_revenue_usd":return"Unlock penalty";case"borrowing_fees_revenue_usd":return"Borrowing fees";case"redemption_fees_revenue_usd":return"Redemption fees";default:return f(s)}},f=s=>s.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join("");return(s,r)=>{const g=Bt;return _(),L(g,{class:"chart",options:a(o),series:a(l)},null,8,["options","series"])}}}),zu=A(Zu,[["__scopeId","data-v-6f4715a1"]]),Yu=t=>(ie("data-v-0bccabd9"),t=t(),ce(),t),Qu={class:"actions"},Ju={class:"chart-input"},Xu={class:"chart-toggles"},ed=Yu(()=>p("i",{class:"fas fa-burn"},null,-1)),td={class:"chart-types"},sn=T({__name:"ChartRevenue",setup(t){const{t:e}=R(),o=F(),n=new Bo(o.flavor),l=q("line"),u=q(1699723102),c=q(!0),{isFetching:i,data:m}=O({queryKey:["prisma-revenue-snapshots"],queryFn:()=>n.getSnapshots().then(s=>s.snapshots),initialData:[],initialDataUpdatedAt:0}),d=w(()=>m.value.filter(s=>s.timestamp>u.value).map(s=>structuredClone(s)).map(s=>(c.value||(s.unlock_penalty_revenue_usd=0),s))),f=s=>{l.value!==s&&(l.value=s)};return(s,r)=>{const g=Gu,h=st,S=nt,$=K;return _(),L($,{class:"chart-container",title:a(e)("title"),loading:a(i)},{actions:y(()=>[p("div",Qu,[p("div",Ju,[v(g,{modelValue:a(u),"onUpdate:modelValue":r[0]||(r[0]=b=>le(u)?u.value=b:null),placeholder:"Timestamp cut-off",min:0,max:new Date().getTime()/1e3},null,8,["modelValue","max"])]),p("div",Xu,[v(S,null,{item:y(()=>[v(h,{modelValue:a(c),"onUpdate:modelValue":r[1]||(r[1]=b=>le(c)?c.value=b:null)},{default:y(()=>[ed]),_:1},8,["modelValue"])]),default:y(()=>[W(" "+D(a(e)("include-unlock-penalty")),1)]),_:1})]),p("div",td,[v(h,{value:"Line","model-value":a(l)==="line",onClick:r[2]||(r[2]=b=>f("line"))},null,8,["model-value"]),v(h,{value:"Breakdown","model-value":a(l)==="breakdown",onClick:r[3]||(r[3]=b=>f("breakdown"))},null,8,["model-value"])])])]),default:y(()=>[a(l)==="line"?(_(),L(ju,{key:0,data:a(d)},null,8,["data"])):(_(),L(zu,{key:1,data:a(d)},null,8,["data"]))]),_:1},8,["title","loading"])}}});function qa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"PRISMA revenue"}},"include-unlock-penalty":{t:0,b:{t:2,i:[{t:3}],s:"Include unlock penalty revenue"}}}})}typeof qa=="function"&&qa(sn);const ad=A(sn,[["__scopeId","data-v-0bccabd9"]]),ln=T({__name:"ChartBreakdown",setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new Bo(n.value),{isFetching:u,data:c}=O({queryKey:["prisma-revenue-breakdown"],queryFn:()=>l.getBreakdown(),initialData:{unlock_penalty:0,borrowing_fees:0,redemption_fees:0},initialDataUpdatedAt:0}),i=w(()=>te(o.value,{chart:{id:"breakdown",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:s=>{const r=d.value[s.seriesIndex],g=s.series[s.seriesIndex];return[`<div><b>${r}</b>:</div><div>${f(g)}</div>`].join("")}},labels:d.value})),m=w(()=>[c.value.unlock_penalty,c.value.borrowing_fees,c.value.redemption_fees]),d=w(()=>[e("unlockPenalty"),e("borrowingFees"),e("redemptionFees")]),f=s=>`$${Z(s,2,"percentage")}${G(s,"percentage")}`;return(s,r)=>{const g=ne;return _(),L(g,{class:"graph",title:a(e)("title"),options:a(i),series:a(m),loading:a(u)},null,8,["title","options","series","loading"])}}});function Ma(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Breakdown"}},unlockPenalty:{t:0,b:{t:2,i:[{t:3}],s:"Unlock penalty"}},borrowingFees:{t:0,b:{t:2,i:[{t:3}],s:"Borrowing fees"}},redemptionFees:{t:0,b:{t:2,i:[{t:3}],s:"Redemption fees"}}}})}typeof Ma=="function"&&Ma(ln);const od=A(ln,[["__scopeId","data-v-aff87e19"]]),nd={class:"revenue"},sd=T({__name:"Revenue.page",setup(t){return(e,o)=>(_(),k("div",nd,[v(ad,{style:{"grid-column":"1"}}),v(od,{style:{"grid-column":"2"}})]))}}),ld=A(sd,[["__scopeId","data-v-b2f76563"]]),rd={class:"tab-view"},id={class:"tab-headers"},cd=["onClick"],ud={class:"tabs"},dd=T({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(t,{emit:e}){const o=e,n=q(null),l=Ao(),u=w(()=>(l.default?l.default():[]).filter(m=>m.props));J(()=>t.active,i=>{n.value=i,o("tab",{tab:u.value[i],index:n.value})},{immediate:!0});const c=(i,m)=>{i.props.disabled||(n.value=m,o("tab",{tab:u.value[m],index:n.value}))};return(i,m)=>(_(),k("div",rd,[p("ul",id,[(_(!0),k(Q,null,oe(a(u),(d,f)=>(_(),k("li",{key:f,class:B(["tab-header",{active:a(n)===f,disabled:d.props.disabled}]),onClick:s=>c(d,f)},D(d.props.header),11,cd))),128))]),p("div",ud,[(_(!0),k(Q,null,oe(a(u),(d,f)=>Io((_(),k("div",{key:f,class:"tab"},[(_(),L(Lt(d)))])),[[bs,a(n)===f]])),128))])]))}}),ct=A(dd,[["__scopeId","data-v-df76a1b4"]]),ut=T({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(t){return(e,o)=>Y(e.$slots,"default")}}),pd={class:"legend"},md=["onClick"],vd={class:"label"},_d=T({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(t,{emit:e}){const o=e;return(n,l)=>(_(),k("div",pd,[(_(!0),k(Q,null,oe(n.items,u=>(_(),k("div",{key:u.id,class:B(["item",{togglable:u.togglable,disabled:n.disabled.includes(u.id)}]),onClick:c=>{u.togglable&&o("toggle",u.id)}},[p("div",{class:"color",style:ve({"background-color":u.color})},null,4),p("div",vd,D(u.label),1)],10,md))),128))]))}}),Ht=A(_d,[["__scopeId","data-v-d25d58a4"]]);function kt(t){const e=Math.floor(new Date().getTime()/1e3),o=14400,n=e-o*299;switch(t){case"convex":return{pool:"0x3b21C2868B6028CfB38Ff86127eF22E68d16d53B",chain:"ethereum",main_token:"0xdA47862a83dac0c112BA89c6abC2159b95afd71C",reference_token:"0x34635280737b5BFe6c7DC2FC3065D60d66e78185",interval:o,start:n,end:e};case"yearn":return{pool:"0x69833361991ed76f9e8DBBcdf9ea1520fEbFb4a7",chain:"ethereum",main_token:"0xdA47862a83dac0c112BA89c6abC2159b95afd71C",reference_token:"0xe3668873D944E4A949DA05fc8bDE419eFF543882",interval:o,start:n,end:e};default:throw new Error("Unknown contract")}}function fd(t){const e=Math.floor(new Date().getTime()/1e3),o="day",n=e-86400*299;switch(t){case"convex":return{pool:"0x3b21C2868B6028CfB38Ff86127eF22E68d16d53B",chain:"ethereum",interval:o,start:n,end:e};case"yearn":return{pool:"0x69833361991ed76f9e8DBBcdf9ea1520fEbFb4a7",chain:"ethereum",interval:o,start:n,end:e};default:throw new Error("Unknown contract")}}function Gt(t){const e=w(t),o=gs(To(Object.fromEntries(e.value.map(l=>[l.id,!0])))),n=w(()=>e.value.filter(l=>!o[l.id].value).map(l=>l.id));return{items:e,toggles:o,disabled:n}}const hd={class:"actions"},rn=T({__name:"ChartComparisonPrice",setup(t){const{t:e}=R(),{theme:o}=N(F()),{items:n}=Gt(()=>[{id:"cvxprisma",label:"cvxPRISMA",color:o.value.colors.blue},{id:"yprisma",label:"yPRISMA",color:o.value.colors.yellow}]),l=$e().getSocket("prices"),u=new _t(l,"ethereum",kt("convex")),c=new _t(l,"ethereum",kt("yearn")),i=_e(u.ohlc$,[]),m=_e(c.ohlc$,[]),d=w(()=>i.value.length+m.value.length===0);let f=1.1,s=0;const{chart:r,chartRef:g,series:h}=de({recreateChartTrigger:o,createChartOptions:b=>ue(b,o.value,{localization:{priceFormatter:C=>$(C)}}),series:[{type:"Line",name:"convex",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:se.WithSteps,color:o.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"yearn",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:se.WithSteps,color:o.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});J(i,b=>{S(b,"convex")}),J(m,b=>{S(b,"yearn")});function S(b,C){if(!r.value||!h.convex||!h.yearn)return;const I=b.map(P=>({time:P.time,value:P.close})).uniqWith((P,M)=>P.time===M.time).orderBy(P=>P.time,"asc");if(I.length>0){C==="convex"?h.convex.setData(I):h.yearn.setData(I);const P=[...i.value.map(M=>M.close),...m.value.map(M=>M.close)];s=Math.min(...P),f=Math.max(...P),r.value.timeScale().fitContent()}}function $(b){const C=f-s,I=C>1?C-Math.floor(C):C,P=-Math.floor(Math.log10(I)+1)+2;return`${Z(b,P,"dollar")}${G(b,"dollar")}`}return(b,C)=>{const I=Ht,P=K;return _(),L(P,{class:"chart-container",title:a(e)("title"),loading:a(d)},{actions:y(()=>[p("div",hd,[v(I,{items:a(n)},null,8,["items"])])]),default:y(()=>[p("div",{ref_key:"chartRef",ref:g,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ra(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price (peg)"}}}})}typeof Ra=="function"&&Ra(rn);const bd=A(rn,[["__scopeId","data-v-bd6d73b5"]]),gd={class:"actions"},cn=T({__name:"ChartComparisonTVL",setup(t){const{t:e}=R(),o=new rt,{theme:n}=N(F()),{items:l}=Gt(()=>[{id:"cvxprisma",label:"cvxPRISMA",color:n.value.colors.blue},{id:"yprisma",label:"yPRISMA",color:n.value.colors.yellow}]),u=w(()=>c.value||m.value),{isFetching:c,data:i}=O({queryKey:["prisma-wrapper-tvl","convex"],queryFn:()=>o.getTVL("convex").then(S=>S.tvl),initialData:[],initialDataUpdatedAt:0}),{isFetching:m,data:d}=O({queryKey:["prisma-wrapper-tvl","yearn"],queryFn:()=>o.getTVL("yearn").then(S=>S.tvl),initialData:[],initialDataUpdatedAt:0}),{chart:f,chartRef:s,series:r}=de({recreateChartTrigger:n,createChartOptions:S=>ue(S,n.value,{localization:{priceFormatter:$=>h($)}}),series:[{type:"Line",name:"convex",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:se.WithSteps,color:n.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"yearn",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:se.WithSteps,color:n.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});J([i,f],([S,$])=>{g("convex",S,$)}),J([d,f],([S,$])=>{g("yearn",S,$)});function g(S,$,b){if(!b||!r.convex||!r.yearn)return;const C=($??[]).map(I=>({time:I.timestamp,value:I.value})).uniqWith((I,P)=>I.time===P.time).orderBy(I=>I.time,"asc");C.length>0&&(S==="convex"?r.convex.setData(C):r.yearn.setData(C),b.timeScale().fitContent())}function h(S){return`$${Z(S,0,"dollar")}${G(S,"dollar")}`}return(S,$)=>{const b=Ht,C=K;return _(),L(C,{class:"chart-container",title:a(e)("title"),loading:a(u)},{actions:y(()=>[p("div",gd,[v(b,{items:a(l)},null,8,["items"])])]),default:y(()=>[p("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Fa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof Fa=="function"&&Fa(cn);const yd=A(cn,[["__scopeId","data-v-1df05fa4"]]),wd={class:"overview"},$d=T({__name:"Overview",setup(t){return(e,o)=>(_(),k("div",wd,[v(bd),v(yd)]))}}),Cd=A($d,[["__scopeId","data-v-8905db3f"]]),un=T({__name:"ChartPrice",props:{contract:{}},setup(t){const{t:e}=R(),o=kt(t.contract),n=fd(t.contract),l=$e().getSocket("prices"),u=new _t(l,"ethereum",o),c=new fl(l,"ethereum",n),i=_e(u.ohlc$,[]),m=_e(c.volume$,[]),d=w(()=>i.value.length+m.value.length===0);let f=1,s=0;const{theme:r,flavor:g}=N(F()),{chart:h,chartRef:S,series:$}=de({recreateChartTrigger:r,createChartOptions:P=>ue(P,r.value,{localization:{priceFormatter:M=>I(M)}}),series:[{type:"Candlestick",name:"price",options:w(()=>{const{colors:P}=r.value;return{priceFormat:{type:"price",precision:6,minMove:.01},upColor:P.green,borderUpColor:P.green,wickUpColor:P.green,downColor:P.red,borderDownColor:P.red,wickDownColor:P.red,lastValueVisible:!1,priceLineVisible:!1}})},{type:"Histogram",name:"volume",options:w(()=>{const{colors:P}=r.value;return{color:g.value==="lsd"?P.blue:P.purple,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}})}]});pe(b);function b(){if(!h.value||!$.price)return;const P=1,M=i.value.map(U=>({time:U.time,open:Math.pow(U.open,P),high:Math.pow(U.high,P),low:Math.pow(U.low,P),close:Math.pow(U.close,P)})).uniqWith((U,j)=>U.time===j.time).orderBy(U=>U.time,"asc");M.length>0&&($.price.setData(M),h.value.timeScale().fitContent(),s=Math.min(...M.map(U=>U.low)),f=Math.max(...M.map(U=>U.high))),h.value.timeScale().fitContent()}pe(C);function C(){if(!h.value||!$.volume)return;const P=m.value.map(M=>({time:M.timestamp,value:M.volume})).uniqWith((M,U)=>M.time===U.time).orderBy(M=>M.time,"asc");P.length>0&&$.volume.setData(P)}const I=P=>{const M=f-s,U=M>1?M-Math.floor(M):M,j=-Math.floor(Math.log10(U)+1)+2;return`${Z(P,j,"dollar")}${G(P,"dollar")}`};return(P,M)=>{const U=K;return _(),L(U,{class:"chart-container",title:a(e)("title"),loading:a(d)},{default:y(()=>[p("div",{ref_key:"chartRef",ref:S,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ba(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price (peg)"}}}})}typeof Ba=="function"&&Ba(un);const dn=A(un,[["__scopeId","data-v-8dd7744b"]]),pn=T({__name:"ChartTVL",props:{contract:{}},setup(t){const{t:e}=R(),o=new rt,{isFetching:n,data:l}=O({queryKey:["prisma-wrapper-tvl",w(()=>t.contract)],queryFn:({queryKey:[,f]})=>o.getTVL(f).then(s=>s.tvl),initialData:[],initialDataUpdatedAt:0}),{theme:u}=N(F()),{chart:c,chartRef:i,series:m}=de({recreateChartTrigger:u,createChartOptions:f=>ue(f,u.value,{localization:{priceFormatter:s=>`$${Z(s,0,"dollar")}${G(s,"dollar")}`}}),series:{type:"Area",name:"tvl",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...u.value.lineChartColors}))}});pe(d);function d(){if(!c.value||!m.tvl)return;const f=l.value.filter(s=>s.value>0).map(s=>({time:s.timestamp,value:s.value})).uniqWith((s,r)=>s.time===r.time).orderBy(s=>s.time,"asc");f.length>0&&m.tvl.setData(f),c.value.timeScale().fitContent()}return(f,s)=>{const r=K;return _(),L(r,{class:"chart-container",title:a(e)("title"),loading:a(n)},{default:y(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ua(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof Ua=="function"&&Ua(pn);const mn=A(pn,[["__scopeId","data-v-185486db"]]),vn=T({__name:"ChartFlow",props:{contract:{}},setup(t){const{t:e}=R(),o=new rt,{theme:n}=N(F()),{isFetching:l,data:u}=O({queryKey:["prisma-wrapper-flow",w(()=>t.contract)],queryFn:({queryKey:[,s]})=>o.getFlow(s),initialData:{deposits:[],withdrawals:[]},initialDataUpdatedAt:0}),c=w(()=>{const{colors:s}=n.value;return te(n.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[s.green,s.red],xaxis:{categories:i.value,labels:{formatter:d,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:f}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:r,dataPointIndex:g,w:h})=>{let S=0;const $=r.map((b,C)=>{const I=b[g];return S+=I,`<div><b>${h.globals.seriesNames[C]}</b>:	${f(I)}</div>`});return $.push(`<div><b>Total</b>:	${f(S)}</div>`),$.join("")}}})}),i=w(()=>u.value.deposits.length===0?[]:u.value.deposits.map(s=>new Date(s.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),m=w(()=>[{name:e("deposits"),data:Object.values(u.value.deposits).map(s=>s.amount_usd)},{name:e("withdrawals"),data:Object.values(u.value.withdrawals).map(s=>-s.amount_usd)}]),d=s=>s,f=s=>`$${Z(s,0,"dollar")}${G(s,"dollar")}`;return(s,r)=>{const g=ne;return _(),L(g,{title:a(e)("title"),loading:a(l),options:a(c),series:a(m)},null,8,["title","loading","options","series"])}}});function Ea(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Staking and unstaking"}},deposits:{t:0,b:{t:2,i:[{t:3}],s:"Deposits"}},withdrawals:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawals"}}}})}typeof Ea=="function"&&Ea(vn);const _n=A(vn,[["__scopeId","data-v-1a5fd5a5"]]),fn=T({__name:"ChartAPR",props:{contract:{}},setup(t){const{t:e}=R(),o=new rt,{isFetching:n,data:l}=O({queryKey:["prisma-wrapper-snapshots",w(()=>t.contract)],queryFn:({queryKey:[,s]})=>o.getSnapshots(s).then(r=>r.Snapshots),initialData:[],initialDataUpdatedAt:0}),{theme:u}=N(F()),{chart:c,chartRef:i,series:m}=de({recreateChartTrigger:u,createChartOptions:s=>ue(s,u.value,{localization:{priceFormatter:r=>f(r)}}),series:{type:"Area",name:"apr",options:w(()=>({priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...u.value.lineChartColors}))}});pe(d);function d(){if(!c.value||!m.apr)return;const s=l.value.filter(r=>r.timestamp>=1699630610).map(r=>({time:r.timestamp,value:r.total_apr*100})).uniqWith((r,g)=>r.time===g.time).orderBy(r=>r.time,"asc");s.length>0&&m.apr.setData(s),c.value.timeScale().fitContent()}const f=s=>`${Z(s,0,"percentage")}${G(s,"percentage")}`;return(s,r)=>{const g=K;return _(),L(g,{class:"chart-container",title:a(e)("title"),loading:a(n)},{default:y(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Oa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"APR"}}}})}typeof Oa=="function"&&Oa(fn);const hn=A(fn,[["__scopeId","data-v-6b7369e9"]]),bn=T({__name:"ChartDistribution",props:{contract:{}},setup(t){const{t:e}=R(),o=new rt,{theme:n}=N(F()),{isFetching:l,data:u}=O({queryKey:["prisma-wrapper-distribution",w(()=>t.contract)],queryFn:({queryKey:[,s]})=>o.getDistribution(s).then(r=>r.distribution),initialData:[],initialDataUpdatedAt:0}),c=w(()=>te(n.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:i.value,labels:{formatter:d,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:f}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),i=w(()=>u.value.map(s=>s.label)),m=w(()=>[{name:e("size"),data:Object.values(u.value).map(s=>s.value)}]),d=s=>s,f=s=>`$${Z(s,0,"dollar")}${G(s,"dollar")}`;return(s,r)=>{const g=ne;return _(),L(g,{class:"chart",title:a(e)("title"),loading:a(l),options:a(c),series:a(m)},null,8,["title","loading","options","series"])}}});function Wa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Position size"}},size:{t:0,b:{t:2,i:[{t:3}],s:"Size"}}}})}typeof Wa=="function"&&Wa(bn);const gn=A(bn,[["__scopeId","data-v-68862781"]]),kd={class:"cvxprisma"},Sd=T({__name:"CvxPrisma",setup(t){return(e,o)=>(_(),k("div",kd,[v(dn,{contract:"convex"}),v(mn,{contract:"convex"}),v(_n,{contract:"convex"}),v(hn,{contract:"convex"}),v(gn,{contract:"convex",style:{"grid-column":"1 / -1"}})]))}}),Ld=A(Sd,[["__scopeId","data-v-91ade2ce"]]),Td={class:"yprisma"},Ad=T({__name:"YPrisma",setup(t){return(e,o)=>(_(),k("div",Td,[v(dn,{contract:"yearn"}),v(mn,{contract:"yearn"}),v(_n,{contract:"yearn"}),v(hn,{contract:"yearn"}),v(gn,{contract:"yearn",style:{"grid-column":"1 / -1"}})]))}}),Id=A(Ad,[["__scopeId","data-v-dc6f0440"]]);function yn(t,e,o){const n=Ue(),l=Qe("tab",t[0]),u=q(-1);return J(l,c=>u.value=t.findIndex(i=>i===c),{immediate:!0}),J(u,async c=>{c===-1&&(c=0),await n.push({name:e,params:{tab:t[c],...(o==null?void 0:o())??{}},replace:l.value===""})},{immediate:!0}),{tabActive:l,tabActiveIndex:u}}const Pd={class:"wrappers"},Dd=T({__name:"Wrappers.page",setup(t){const{tabActive:e,tabActiveIndex:o}=yn(["overview","cvxprisma","yprisma"],"wrappers");return(n,l)=>{const u=ut,c=ct;return _(),k("div",Pd,[v(c,{active:a(o),onTab:l[0]||(l[0]=i=>o.value=i.index)},{default:y(()=>[v(u,{header:"Overview"},{default:y(()=>[a(e)==="overview"?(_(),L(Cd,{key:0})):x("",!0)]),_:1}),v(u,{header:"cvxPRISMA"},{default:y(()=>[a(e)==="cvxprisma"?(_(),L(Ld,{key:0})):x("",!0)]),_:1}),v(u,{header:"yPRISMA"},{default:y(()=>[a(e)==="yprisma"?(_(),L(Id,{key:0})):x("",!0)]),_:1})]),_:1},8,["active"])])}}}),xd=A(Dd,[["__scopeId","data-v-eb3d2ad5"]]),Vd={style:{display:"flex",gap:"1rem"}},qd=["href"],Ka=10,wn=T({__name:"TableLockers",props:{lockers:{default:()=>[]}},setup(t){const{t:e}=R(),o=q(""),n=[{id:"locker",label:"Locker",sort:!1},{id:"weight",label:"Weight",sort:!0,align:"end"},{id:"locked",label:"Locked",sort:!0,align:"end"},{id:"unlocked",label:"Unlocked",sort:!0,align:"end"},{id:"frozen",label:"Frozen",sort:!0,align:"end"}],{sorting:l,onSort:u}=ke("weight"),c=w(()=>t.lockers.filter(f=>{const s=o.value.toLocaleLowerCase().split(" ");return(g=>s.some(h=>g.toLocaleLowerCase().includes(h)))(f.id)}).orderBy(f=>{switch(l.value.column){case"weight":return f.weight;case"locked":return f.locked;case"unlocked":return f.unlocked;case"frozen":return f.frozen;default:return f.weight}},l.value.order)),{page:i,rowsPage:m,onPage:d}=ge(c,Ka);return(f,s)=>{const r=me,g=be,h=ee,S=ae,$=K;return _(),L($,{class:"lockers-card",title:a(e)("title")},{actions:y(()=>[p("div",Vd,[v(r,{modelValue:a(o),"onUpdate:modelValue":s[0]||(s[0]=b=>le(o)?o.value=b:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"]),v(g,{"items-count":a(c).length,"items-per-page":Ka,page:a(i),onPage:a(d)},null,8,["items-count","page","onPage"])])]),default:y(()=>[v(S,{class:"lockers-table",rows:a(m),columns:n,sorting:a(l),onSortColumn:a(u)},{row:y(b=>[p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/address/${b.item.id}`,target:"_blank",onClick:s[1]||(s[1]=X(()=>{},["stop"]))},D(b.item.id),9,qd)]),p("div",{class:B(["end",{zero:b.item.weight===0}])},[v(h,{type:"dollar",value:Math.round(b.item.weight),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),p("div",{class:B(["end",{zero:b.item.locked===0}])},[v(h,{type:"dollar",value:Math.round(b.item.locked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),p("div",{class:B(["end",{zero:b.item.unlocked===0}])},[v(h,{type:"dollar",value:Math.round(b.item.unlocked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),p("div",{class:B(["end",{zero:b.item.frozen===0}])},[v(h,{type:"dollar",value:Math.round(b.item.frozen),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2)]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title"])}}});function Na(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Lockers"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Na=="function"&&Na(wn);const Md=A(wn,[["__scopeId","data-v-9405001c"]]),Ha="https://api.thegraph.com/subgraphs/name/benber86/prisma";class $n extends he{async getTopLockers(){const o=await this.fetch(Ha,{query:`{
      lockers {
        totalWeight
      }
      accountDatas(first: 100 orderBy: weight orderDirection: desc) {
        id
        weight
        locked
        unlocked
        frozen
      }
    }`}),n=o.data.accountDatas.map(u=>({id:u.id,weight:parseInt(u.weight,10),locked:parseInt(u.locked,10),unlocked:parseInt(u.unlocked,10),frozen:parseInt(u.frozen,10)}));return{totalWeight:parseInt(o.data.lockers[0].totalWeight,10),accounts:n}}async getVotesIncentives(){return(await this.fetch(Ha,{query:`{
      incentiveVotes(first:100, orderBy:blockNumber, orderDirection:desc) {
        voter {
          id
        }
        votes(first: 100, orderBy:points, orderDirection:desc) {
          recipient {
            id
            address
          }
          points
        }
        isClearance
        transactionHash
        blockTimestamp
      }
    }`})).data.incentiveVotes.map(n=>n.votes.map(l=>({voter:n.voter.id,recipient:l.recipient.address,points:parseInt(l.points,10),isClearance:n.isClearance,transaction:n.transactionHash,timestamp:parseInt(n.blockTimestamp,10)}))).flat()}}const Rd=["href"],Fd=["href"],Bd={class:"end"},Ud={class:"end"},Ed=["href"],Od={class:"end"},Ga=20,Cn=T({__name:"TableVotesIncentives",setup(t){const{t:e}=R(),o=new $n,{isFetching:n,data:l}=O({queryKey:["prisma-vote-incentives"],queryFn:()=>o.getVotesIncentives(),initialData:[],initialDataUpdatedAt:0}),{relativeTime:u}=we(),c=w(()=>["Voter","Recipient",{label:"Points",align:"end"},{label:"Tx",align:"end"},{label:"Time",align:"end"}]),i=w(()=>l.value),{page:m,rowsPage:d,onPage:f}=ge(i,Ga);return(s,r)=>{const g=be,h=ee,S=ae,$=K;return _(),L($,{class:"votes-incentives-card",title:a(e)("title"),loading:a(n)},{actions:y(()=>[v(g,{"items-count":a(i).length,"items-per-page":Ga,page:a(m),onPage:a(f)},null,8,["items-count","page","onPage"])]),default:y(()=>[v(S,{class:"votes-incentives-table",rows:a(d),columns:a(c)},{row:y(b=>[p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/address/${b.item.voter}`,target:"_blank",onClick:r[0]||(r[0]=X(()=>{},["stop"]))},D(a(H)(b.item.voter)),9,Rd)]),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/tx/${b.item.recipient}`,target:"_blank",onClick:r[1]||(r[1]=X(()=>{},["stop"]))},D(a(H)(b.item.recipient)),9,Fd)]),p("div",Bd,[v(h,{type:"dollar",value:Math.round(b.item.points),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])]),p("div",Ud,[p("a",{class:"font-mono",href:`https://etherscan.io/tx/${b.item.transaction}`,target:"_blank",onClick:r[2]||(r[2]=X(()=>{},["stop"]))},D(a(H)(b.item.transaction)),9,Ed)]),p("div",Od,D(a(u)(b.item.timestamp)),1)]),_:1},8,["rows","columns"])]),_:1},8,["title","loading"])}}});function ja(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Incentive votes"}}}})}typeof ja=="function"&&ja(Cn);const Wd=A(Cn,[["__scopeId","data-v-54945c02"]]),kn=T({__name:"ChartTopLockers",props:{totalWeight:{default:0},lockers:{default:()=>[]}},setup(t){const{t:e}=R(),{theme:o}=N(F()),n=w(()=>t.lockers.slice(0,10)),l=w(()=>te(o.value,{chart:{id:"topLockers",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:d=>{const f=c.value[d.seriesIndex],s=d.series[d.seriesIndex],r=s/(t.totalWeight/100);return[`<div><b>${f}</b>:</div><div>${m(r)} - ${i(s)}</div>`].join("")}},labels:n.value.map(d=>d.id).concat(["Other⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"])})),u=w(()=>{const d=n.value.map(r=>r.weight),f=d.reduce((r,g)=>r+g,0),s=t.totalWeight-f;return[...d,s]}),c=w(()=>n.value.map(d=>d.id).concat(["Other"])),i=d=>`${Z(d,2,"dollar")}${G(d,"dollar")}`,m=d=>`${Z(d,2,"percentage")}${G(d,"percentage")}`;return(d,f)=>{const s=ne;return _(),L(s,{class:"graph",title:a(e)("title"),options:a(l),series:a(u)},null,8,["title","options","series"])}}});function Za(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top 10 largest lockers"}}}})}typeof Za=="function"&&Za(kn);const Kd=A(kn,[["__scopeId","data-v-d554d0a8"]]),Nd={class:"veprisma"},Hd=T({__name:"VePrisma.page",setup(t){const e=new $n,{isFetching:o,data:n}=O({queryKey:["prisma-top-lockers"],queryFn:()=>e.getTopLockers(),initialData:{totalWeight:0,accounts:[]},initialDataUpdatedAt:0}),l=w(()=>n.value.accounts),u=w(()=>n.value.totalWeight);return(c,i)=>(_(),k("div",Nd,[v(Md,{style:{"grid-row":"1","grid-column":"1"},loading:a(o),lockers:a(l)},null,8,["loading","lockers"]),v(Kd,{style:{"grid-row":"1","grid-column":"2"},loading:a(o),lockers:a(l),"total-weight":a(u)},null,8,["loading","lockers","total-weight"]),v(Wd,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}}),Gd=A(Hd,[["__scopeId","data-v-560cba17"]]);function ye(t){return t.status==="executed"?"executed":t.end>new Date().getTime()/1e3?"active":jd(t)?"passed":"denied"}function jd(t){return t.weightReceived>t.weightRequired}const Sn=T({__name:"Status",props:{proposal:{}},setup(t){const{t:e}=R(),o=w(()=>ye(t.proposal)==="denied"?e("no-quorum"):""),n=w(()=>{switch(ye(t.proposal)){case"active":return e("active");case"denied":return e("denied");case"passed":return e("passed");case"executed":return e("executed");default:return"Unk. Status"}});return(l,u)=>{const c=nt,i=Ce;return _(),L(i,{class:"status","tooltip-type":"underline",label:a(e)("status"),"has-value":!0,tooltip:a(o)},{default:y(()=>[a(o)?(_(),L(c,{key:0},{item:y(()=>[p("span",{class:B(["status-value",a(ye)(l.proposal)])},D(a(n)),3)]),default:y(()=>[W(" "+D(a(o)),1)]),_:1})):(_(),k("span",{key:1,class:B(["status-value",a(ye)(l.proposal)])},D(a(n)),3))]),_:1},8,["label","tooltip"])}}});function za(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{status:{t:0,b:{t:2,i:[{t:3}],s:"Status"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}},"no-quorum":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was not reached"}}}})}typeof za=="function"&&za(Sn);const Zd=A(Sn,[["__scopeId","data-v-be0ac349"]]),zd=["href"],Ln=T({__name:"Proposer",props:{proposal:{}},setup(t){const{t:e}=R();return(o,n)=>{const l=Ce;return _(),L(l,{class:"proposer",label:a(e)("proposer"),"has-value":!0},{default:y(()=>[p("a",{href:`https://etherscan.io/address/${o.proposal.proposer}`,target:"_blank"},D(a(H)(o.proposal.proposer)),9,zd)]),_:1},8,["label"])}}});function Ya(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{proposer:{t:0,b:{t:2,i:[{t:3}],s:"Proposer"}}}})}typeof Ya=="function"&&Ya(Ln);const St=T({__name:"Date",props:{proposal:{},type:{}},setup(t){const{t:e}=R();let o;const n=q(""),l=w(()=>{switch(t.type){case"start":return e("start");case"end":return e("end");default:return"Unk. Type"}}),u=w(()=>{switch(t.type){case"start":return new Date(t.proposal.start*1e3).toLocaleDateString();case"end":{const m=new Date(t.proposal.end*1e3);return m>new Date?n.value:m.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),c=w(()=>{switch(t.type){case"start":return new Date(t.proposal.start*1e3).toLocaleDateString()+" "+new Date(t.proposal.start*1e3).toTimeString();case"end":return new Date(t.proposal.end*1e3).toLocaleDateString()+" "+new Date(t.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});fe(()=>{i()});const i=()=>{const m=new Date(t.proposal.end*1e3);o&&clearInterval(o),o=setInterval(()=>{n.value=dl(m)})};return(m,d)=>{const f=Ce;return _(),L(f,{class:"date","tooltip-type":"underline",label:a(l),value:a(u),"has-value":!0,tooltip:a(c)},null,8,["label","value","tooltip"])}}});function Qa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{start:{t:0,b:{t:2,i:[{t:3}],s:"Start"}},end:{t:0,b:{t:2,i:[{t:3}],s:"End"}}}})}typeof Qa=="function"&&Qa(St);const Yd=t=>(ie("data-v-c2dcaf56"),t=t(),ce(),t),Qd={class:"id"},Jd={class:"metadata"},Xd={class:"row"},ep=Yd(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),tp=[ep],Tn=T({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(t,{emit:e}){const{t:o}=R(),n=e;return(l,u)=>{var c,i;return _(),k("div",{class:"proposal-summary",onClick:u[0]||(u[0]=m=>n("toggleExpand"))},[p("div",{class:B(["title",{"no-title":!((c=l.proposal.metadata)!=null&&c.title)}])},[p("div",Qd,D(l.proposal.id),1),p("div",Jd,D(((i=l.proposal.metadata)==null?void 0:i.title)||a(o)("no-title")),1)],2),p("div",Xd,[v(Zd,{class:"item",proposal:l.proposal},null,8,["proposal"]),v(Ln,{class:"item",proposal:l.proposal},null,8,["proposal"]),v(St,{class:"item",proposal:l.proposal,type:"start"},null,8,["proposal"]),v(St,{class:"item",proposal:l.proposal,type:"end"},null,8,["proposal"]),p("div",{class:B(["item expander",{expanded:l.expanded}])},tp,2)])])}}});function Ja(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-title":{t:0,b:{t:2,i:[{t:3}],s:"< No Title >"}}}})}typeof Ja=="function"&&Ja(Tn);const ap=A(Tn,[["__scopeId","data-v-c2dcaf56"]]),op=t=>(ie("data-v-3ae22b38"),t=t(),ce(),t),np={class:"quorum"},sp={class:"heading"},lp={class:"amount"},rp={class:"bar"},ip={class:"percentages"},cp=op(()=>p("div",{class:"zero"},"0%",-1)),up={class:"quorum"},An=T({__name:"VotingQuorum",props:{proposal:{}},setup(t){const{t:e}=R(),o=w(()=>t.proposal.weightReceived),n=w(()=>t.proposal.weightRequired),l=w(()=>o.value/n.value*100);return(u,c)=>{const i=ee;return _(),k("div",np,[p("div",sp,D(a(e)("quorum")),1),p("div",lp,[v(i,{value:a(o),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),W(" / "),v(i,{value:a(n),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),W(" vePRISMA ")]),p("div",rp,[p("div",{class:"support",style:ve({width:`${a(l)}%`})},null,4),p("div",{class:"quorum",style:ve({width:`${100-a(l)}%`})},null,4)]),p("div",ip,[cp,p("div",up,[v(i,{value:Math.min(a(l),100),precision:0,type:"percentage"},null,8,["value"])])])])}}});function Xa(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{quorum:{t:0,b:{t:2,i:[{t:3}],s:"Quorum"}}}})}typeof Xa=="function"&&Xa(An);const dp=A(An,[["__scopeId","data-v-3ae22b38"]]),pp=[{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"week",type:"uint256"}],name:"getAccountWeightAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Ge=[{inputs:[],name:"MAX_TIME_TO_EXECUTION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"executeProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenLocker",outputs:[{internalType:"contract ITokenLocker",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"weight",type:"uint256"}],name:"voteForProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"accountVoteWeights",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],mp={class:"buttons"},vp={class:"veprisma"},_p={class:"info"},fp={class:"kpis"},hp={class:"description"},bp={class:"title"},In=T({__name:"VotingButtons",props:{proposal:{}},setup(t){const{t:e}=R(),{address:o}=at(),n=q(!1),l=q(!1),u=q(!1),c=q(!1),i=q(0n),m=q(!1),d=w(()=>i.value>0n&&!c.value&&r.value&&!m.value),f=w(()=>d.value?"submit":c.value?"voting":r.value?m.value?"voted":"not-enough-voting-power":"voting-closed"),s=w(()=>Number(i.value)),r=w(()=>ye(t.proposal)==="active"),g=w(()=>ye(t.proposal)==="passed"),h=ys();async function S(){await aa(c,async()=>{if(!o.value)return;const I=await Zt(h,{abi:Ge,address:He,functionName:"voteForProposal",args:[o.value,BigInt(t.proposal.id),i.value]});await zt(h,{hash:I}),n.value=!1})}async function $(){await aa(l,async()=>{const I=await Zt(h,{abi:Ge,address:He,functionName:"executeProposal",args:[BigInt(t.proposal.id)]});await zt(h,{hash:I}),n.value=!1,u.value=await C()})}async function b(){if(!o.value)return;const I=await dt(h,{abi:Ge,address:He,functionName:"tokenLocker"});m.value=await dt(h,{abi:Ge,address:He,functionName:"accountVoteWeights",args:[o.value,BigInt(t.proposal.id)]}).then(M=>M>0n);const P=Math.floor((t.proposal.start-1691625600)/604800)-1;i.value=await dt(h,{abi:pp,address:I,functionName:"getAccountWeightAt",args:[o.value,BigInt(P)]})}xt(n,async()=>{await hl(b)});async function C(){if(!g.value)return!1;const I=await dt(h,{abi:Ge,address:He,functionName:"MAX_TIME_TO_EXECUTION"}),P=t.proposal.executeAfter!==0,M=t.proposal.executeAfter<new Date().getTime()/1e3,U=t.proposal.executeAfter+Number(I)>new Date().getTime()/1e3;return P&&M&&U}return J(o,async()=>{u.value=await C()},{immediate:!0}),(I,P)=>{const M=ot,U=ee,j=Ce,E=K,V=Le;return _(),k(Q,null,[p("div",mp,[v(M,{value:a(e)("vote"),primary:!0,onClick:P[0]||(P[0]=Se=>n.value=!0)},null,8,["value"]),a(g)?(_(),L(M,{key:0,value:a(e)(a(l)?"executing":"execute"),primary:!0,disabled:!a(u)||a(l),onClick:$},null,8,["value","disabled"])):x("",!0)]),v(V,{show:a(n),onClose:P[1]||(P[1]=Se=>n.value=!1)},{default:y(()=>[v(E,{title:a(e)("vote-with-veprisma"),class:"vote-content"},{default:y(()=>{var Se;return[p("div",vp,[p("div",_p,[p("div",fp,[v(j,{label:a(e)("voting-power"),"has-value":!0},{default:y(()=>[v(U,{value:a(s),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),W(" vePRISMA ")]),_:1},8,["label"]),v(j,{label:a(e)("block"),value:I.proposal.block,"has-value":!0},null,8,["label","value"])]),p("div",hp,[p("span",bp,D(a(e)("description"))+": ",1),p("span",null,D(((Se=I.proposal.metadata)==null?void 0:Se.description)||""),1)])]),v(M,{class:"submit",value:a(e)(a(f)),primary:!0,disabled:!a(d),web3:!0,onClick:S},null,8,["value","disabled"])])]}),_:1},8,["title"])]),_:1},8,["show"])],64)}}});function eo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{vote:{t:0,b:{t:2,i:[{t:3}],s:"Vote"}},"vote-with-veprisma":{t:0,b:{t:2,i:[{t:3}],s:"Vote with vePRISMA"}},voting:{t:0,b:{t:2,i:[{t:3}],s:"Voting..."}},"voting-closed":{t:0,b:{t:2,i:[{t:3}],s:"Voting closed"}},voted:{t:0,b:{t:2,i:[{t:3}],s:"You've already voted"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},"voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Voting power"}},block:{t:0,b:{t:2,i:[{t:3}],s:"Block"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Submit"}},"not-enough-voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Not enough vePRISMA voting power"}},execute:{t:0,b:{t:2,i:[{t:3}],s:"Execute"}},executing:{t:0,b:{t:2,i:[{t:3}],s:"Executing..."}}}})}typeof eo=="function"&&eo(In);const gp=A(In,[["__scopeId","data-v-d6b81d83"]]),yp={class:"voting"},wp=T({__name:"Voting",props:{proposal:{}},setup(t){return(e,o)=>(_(),k("div",yp,[v(dp,{proposal:e.proposal},null,8,["proposal"]),v(gp,{proposal:e.proposal},null,8,["proposal"])]))}}),$p=A(wp,[["__scopeId","data-v-e200fa8f"]]),Cp={class:"voters"},kp={class:"address"},Sp=["href"],Lp={class:"amount"},Tp={class:"percentage"},Ap=T({__name:"Voters",props:{proposal:{}},setup(t){const{address:e}=at(),o=w(()=>t.proposal.voters.orderBy(c=>c.weight,"desc")),n=c=>c==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":c==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":c==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":H(c,12),l=c=>c/t.proposal.weightReceived*100,u=c=>c===e.value;return(c,i)=>{const m=ee;return _(),k("div",Cp,[(_(!0),k(Q,null,oe(a(o),d=>(_(),k("div",{key:d.voter,class:"vote"},[p("div",kp,[p("a",{target:"_blank",href:`https://etherscan.io/address/${d.voter}`,class:B({you:u(d.voter)})},D(n(d.voter)),11,Sp)]),p("div",Lp,[v(m,{value:d.weight,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",Tp,[v(m,{value:l(d.weight),precision:0,type:"percentage"},null,8,["value"])])]))),128))])}}}),Ip=A(Ap,[["__scopeId","data-v-6368d098"]]),Pp={class:"technicals"},Dp={key:0,class:"technical"},xp={class:"heading"},Vp={class:"description"},qp=["href"],Mp={key:1,class:"technical"},Rp={class:"heading"},Fp={class:"description"},Bp=["href"],Up={key:2,class:"technical"},Ep={class:"heading"},Op={class:"description"},Wp={class:"technical"},Kp={class:"technical"},Np=["innerHTML"],Pn=T({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean}},setup(t){const{t:e}=R(),o=q(!0),n=q(t.proposal.votes>0),l=w(()=>`https://twitter.com/@${t.proposal.metadata.author}`),u=w(()=>t.proposal.voters.map(i=>i.voter).uniqWith((i,m)=>i===m).length),c=w(()=>t.proposal.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,i=>/[A-F]/g.test(i)&&ws(i)?`<a href='https://etherscan.io/address/${i}'>${i}</a>`:i));return(i,m)=>{var f,s,r,g;const d=tt;return _(),k("div",Pp,[(f=i.proposal.metadata)!=null&&f.author?(_(),k("div",Dp,[p("div",xp,D(a(e)("author")),1),p("div",Vp,[p("a",{href:a(l),target:"_blank"},D(i.proposal.metadata.author),9,qp)])])):x("",!0),(s=i.proposal.metadata)!=null&&s.link?(_(),k("div",Mp,[p("div",Rp,D(a(e)("link")),1),p("div",Fp,[p("a",{href:i.proposal.metadata.link,target:"_blank"},D(i.proposal.metadata.link),9,Bp)])])):x("",!0),(r=i.proposal.metadata)!=null&&r.description?(_(),k("div",Up,[p("div",Ep,D(a(e)("description")),1),p("div",Op,D((g=i.proposal.metadata)==null?void 0:g.description),1)])):x("",!0),p("div",Wp,[p("div",{class:"heading",onClick:m[0]||(m[0]=h=>n.value=!a(n))},[W(D(a(e)("voters"))+" ("+D(a(u)??"?")+") ",1),p("i",{class:B(["fas fa-chevron-up expander",{expandedVoters:a(n)}])},null,2)]),v(d,{expanded:a(n)},{default:y(()=>[v(Ip,{class:"voters",proposal:i.proposal},null,8,["proposal"])]),_:1},8,["expanded"])]),p("div",Kp,[p("div",{class:"heading",onClick:m[1]||(m[1]=h=>o.value=!a(o))},[W(D(a(e)("calldata"))+" ",1),p("i",{class:B(["fas fa-chevron-up expander",{expandedCallData:a(o)}])},null,2)]),v(d,{expanded:a(o)},{default:y(()=>[p("div",{class:"calldata",innerHTML:a(c)},null,8,Np)]),_:1},8,["expanded"])])])}}});function to(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},author:{t:0,b:{t:2,i:[{t:3}],s:"Author"}},link:{t:0,b:{t:2,i:[{t:3}],s:"Link"}},calldata:{t:0,b:{t:2,i:[{t:3}],s:"Calldata"}},voters:{t:0,b:{t:2,i:[{t:3}],s:"Voters"}}}})}typeof to=="function"&&to(Pn);const Hp=A(Pn,[["__scopeId","data-v-22fa5541"]]),Gp={class:"proposal-details"},jp={class:"proposal-details-container"},Zp=T({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(t){return(e,o)=>(_(),k("div",Gp,[p("div",jp,[v(Hp,{proposal:e.proposal,expanded:e.expanded},null,8,["proposal","expanded"]),v($p,{proposal:e.proposal},null,8,["proposal"])])]))}}),zp=A(Zp,[["__scopeId","data-v-c0a54f4d"]]),Yp=T({__name:"Proposal",props:{proposal:{}},setup(t){const e=q(!1);return(o,n)=>{const l=tt,u=K;return _(),L(u,{class:"proposal",compact:!0},{default:y(()=>[v(ap,{proposal:o.proposal,expanded:a(e),onToggleExpand:n[0]||(n[0]=c=>e.value=!a(e))},null,8,["proposal","expanded"]),v(l,{class:"proposal-details-collapsible",expanded:a(e)},{default:y(()=>[v(zp,{proposal:o.proposal,expanded:a(e)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),Qp=A(Yp,[["__scopeId","data-v-fba715d1"]]),Jp={class:"proposals-tab"},Xp={class:"filters"},em={style:{display:"flex",gap:"1rem","justify-content":"end"}},tm={key:1},$t=10,Dn=T({__name:"ProposalsTab",props:{proposals:{}},setup(t){const{t:e}=R(),o=q(""),n=q(e("search-placeholder")),l=w(()=>{const m=o.value.toLocaleLowerCase();return t.proposals.filter(d=>!!d.metadata&&d.metadata.title.toLocaleLowerCase().includes(m))}),{page:u,rowsPage:c,onPage:i}=ge(l,$t);return(m,d)=>{const f=me,s=be;return _(),k("div",Jp,[p("div",Xp,[v(f,{modelValue:a(o),"onUpdate:modelValue":d[0]||(d[0]=r=>le(o)?o.value=r:null),class:"search",placeholder:a(n),search:!0},null,8,["modelValue","placeholder"]),p("div",em,[a(l).length>0?(_(),L(s,{key:0,class:"pagination","items-count":a(l).length,"items-per-page":$t,page:a(u),onPage:a(i)},null,8,["items-count","page","onPage"])):x("",!0)])]),(_(!0),k(Q,null,oe(a(c),r=>(_(),L(Qp,{key:r.id,proposal:r},null,8,["proposal"]))),128)),a(l).length>0?(_(),L(s,{key:0,class:"pagination","items-count":a(l).length,"items-per-page":$t,page:a(u),onPage:a(i)},null,8,["items-count","page","onPage"])):x("",!0),a(l).length===0?(_(),k("div",tm,D(a(e)("no-proposals")),1)):x("",!0)])}}});function ao(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for Prisma proposals"}},"no-proposals":{t:0,b:{t:2,i:[{t:3}],s:"No proposals could be found."}}}})}typeof ao=="function"&&ao(Dn);const je=A(Dn,[["__scopeId","data-v-8dae07f8"]]),am="https://api.prismamonitor.com/v1",om=(t,e)=>{var C;const o=t.index,n=t.creator,l=t.creator_label,u=t.required_weight,c=t.received_weight,i=t.status,m=t.vote_count,d=t.voters.map(I=>({voter:I.voter.toLowerCase(),weight:I.weight})),f=t.transaction_hash,s=t.execution_tx,r=t.can_execute_after,g=t.block_number,h=t.block_timestamp,S=t.execution_timestamp?t.execution_timestamp:h+604800,$=t.decode_data,b=(C=e==null?void 0:e.data.proposals.find(I=>I.id===o))==null?void 0:C.metadata;return{id:o,metadata:b,proposer:n,proposerLabel:l,weightRequired:u,weightReceived:c,status:i,votes:m,voters:d,tx:f,txExecuted:s,executeAfter:r,block:g,start:h,end:S,script:$}};class nm extends he{async getProposals(){let e;try{e=await this.fetch("https://api.prismafinance.com/api/v1/proposalVotes")}catch{Xe({text:"Failed to fetch metadata for proposals",type:"error"})}return await xe(l=>this.fetch(`${am}/dao/ethereum/ownership/proposals?items=100&page=${l}&order_by=block_timestamp&desc=true`).then(u=>u.proposals.map(c=>om(c,e))),1,100)}}const sm={class:"proposals"},xn=T({__name:"Proposals.page",setup(t){const{t:e}=R(),o=new nm,n=q(0),{isFetching:l,data:u}=O({queryKey:["prisma-proposals"],queryFn:()=>o.getProposals().then(f=>f.sort((s,r)=>r.start-s.start)),initialData:[],initialDataUpdatedAt:0}),c=w(()=>u.value.filter(f=>ye(f)==="active")),i=w(()=>u.value.filter(f=>ye(f)==="passed")),m=w(()=>u.value.filter(f=>ye(f)==="denied")),d=w(()=>u.value.filter(f=>ye(f)==="executed"));return(f,s)=>{const r=ut,g=ct,h=Do;return _(),k("div",sm,[a(l)?x("",!0):(_(),L(g,{key:0,onTab:s[0]||(s[0]=S=>n.value=S.index)},{default:y(()=>[v(r,{header:a(e)("all")},{default:y(()=>[a(n)===0?(_(),L(je,{key:0,proposals:a(u)},null,8,["proposals"])):x("",!0)]),_:1},8,["header"]),v(r,{header:a(e)("active")},{default:y(()=>[a(n)===1?(_(),L(je,{key:0,proposals:a(c)},null,8,["proposals"])):x("",!0)]),_:1},8,["header"]),v(r,{header:a(e)("passed")},{default:y(()=>[a(n)===2?(_(),L(je,{key:0,proposals:a(i)},null,8,["proposals"])):x("",!0)]),_:1},8,["header"]),v(r,{header:a(e)("denied")},{default:y(()=>[a(n)===3?(_(),L(je,{key:0,proposals:a(m)},null,8,["proposals"])):x("",!0)]),_:1},8,["header"]),v(r,{header:a(e)("executed")},{default:y(()=>[a(n)===4?(_(),L(je,{key:0,proposals:a(d)},null,8,["proposals"])):x("",!0)]),_:1},8,["header"])]),_:1})),v(h,{class:B(["spinner",{loading:a(l)}])},null,8,["class"])])}}});function oo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}}}})}typeof oo=="function"&&oo(xn);const lm=A(xn,[["__scopeId","data-v-7d899a7e"]]),rm=T({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(t){const{theme:e}=N(F()),o=w(()=>te(e.value,{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:c=>{let i=l.value[c.seriesIndex];i=i.length>10?H(i):i;const m=c.series[c.seriesIndex];return[`<div><b>${i}</b>:</div><div>${u(m)}</div>`].join("")}},labels:t.data.map(c=>c.label.length>10?H(c.label):c.label)})),n=w(()=>t.data.map(c=>c.value)),l=w(()=>t.data.map(c=>c.label)),u=c=>`$${Z(Math.abs(c),1,"dollar")}${G(c,"dollar")}`;return(c,i)=>{const m=ne;return _(),L(m,{class:"graph",options:a(o),series:a(n)},null,8,["options","series"])}}}),im=A(rm,[["__scopeId","data-v-8c79c569"]]),cm={class:"actions"},Vn=T({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(t){const{t:e}=R(),o=F(),n=new Ae(o.flavor),l=q("collateral"),{isFetching:u,data:c}=O({queryKey:["prisma-large-trove-positions",w(()=>{var i;return(i=t.vault)==null?void 0:i.address}),l],queryFn:({queryKey:[,i,m]})=>i?n.getLargeTrovePositions("ethereum",i,m).then(d=>d.positions):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});return(i,m)=>{const d=st,f=K;return _(),L(f,{class:"chart-container",title:a(e)("title"),loading:a(u)},{actions:y(()=>[p("div",cm,[v(d,{value:"Coll.","model-value":a(l)==="collateral",onClick:m[0]||(m[0]=s=>l.value="collateral")},null,8,["model-value"]),v(d,{value:"Debt","model-value":a(l)==="debt",onClick:m[1]||(m[1]=s=>l.value="debt")},null,8,["model-value"])])]),default:y(()=>[v(im,{data:a(c)},null,8,["data"])]),_:1},8,["title","loading"])}}});function no(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"5 Largest Troves vs Others"}}}})}typeof no=="function"&&no(Vn);const um=A(Vn,[["__scopeId","data-v-d9411a67"]]),dm=T({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(t){const{theme:e}=N(F()),o=w(()=>te(e.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:l.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),n=w(()=>[{name:"# of troves",data:Object.values(t.data).map(u=>u.value)}]),l=w(()=>t.data.map(u=>u.label));return(u,c)=>{const i=ne;return _(),L(i,{class:"graph",options:a(o),series:a(n)},null,8,["options","series"])}}}),pm=A(dm,[["__scopeId","data-v-a3984e9c"]]),mm={class:"actions"},qn=T({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(t){const{t:e}=R(),o=F(),n=new Ae(o.flavor),l=q("collateral"),{isFetching:u,data:c}=O({queryKey:["prisma-trove-distributions",w(()=>{var i;return(i=t.vault)==null?void 0:i.address}),l],queryFn:({queryKey:[,i,m]})=>i?n.getTroveDistribution("ethereum",i,m).then(d=>d.distribution):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});return(i,m)=>{const d=st,f=K;return _(),L(f,{class:"chart-container",title:a(e)("title"),loading:a(u)},{actions:y(()=>[p("div",mm,[v(d,{value:"Coll.","model-value":a(l)==="collateral",onClick:m[0]||(m[0]=s=>l.value="collateral")},null,8,["model-value"]),v(d,{value:"Debt","model-value":a(l)==="debt",onClick:m[1]||(m[1]=s=>l.value="debt")},null,8,["model-value"])])]),default:y(()=>[v(pm,{data:a(c)},null,8,["data"])]),_:1},8,["title","loading"])}}});function so(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Troves Distribution"}}}})}typeof so=="function"&&so(qn);const vm=A(qn,[["__scopeId","data-v-73d14d5f"]]),_m={class:"kpis"},fm=T({__name:"VaultKPIs",props:{vault:{default:null}},setup(t){return(e,o)=>{const n=ee,l=Ce;return _(),k("div",_m,[v(l,{label:"TVL","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),L(n,{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),v(l,{label:"Debt / Debt Cap","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),L(n,{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):x("",!0),W(" / "),e.vault?(_(),L(n,{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),v(l,{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),L(n,{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):x("",!0),W(" / "),e.vault?(_(),L(n,{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),v(l,{label:"Interest rate","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),L(n,{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),v(l,{label:"Troves open / total","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),L(n,{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):x("",!0),W(" / "),e.vault?(_(),L(n,{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),v(l,{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),L(n,{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):x("",!0),W(" / "),e.vault?(_(),L(n,{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):x("",!0)]),_:1},8,["has-value"])])}}}),hm=A(fm,[["__scopeId","data-v-da6116fe"]]),Mn=T({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new Ae(n.value),{isFetching:u,data:c}=O({queryKey:["prisma-vault-collateral-ratio",w(()=>{var s;return(s=t.vault)==null?void 0:s.address})],queryFn:({queryKey:[,s]})=>s?l.getVaultCollateralRatio("ethereum",s,"1m").then(r=>r.ratio):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{chart:i,chartRef:m,series:d}=de({recreateChartTrigger:o,createChartOptions:s=>ue(s,o.value),series:{type:"Area",name:"cr",options:w(()=>({priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}))}});pe(f);function f(){if(!i.value||!d.cr)return;const s=c.value.map(r=>({time:r.timestamp,value:r.value*100})).uniqWith((r,g)=>r.time===g.time).orderBy(r=>r.time,"asc");s.length>0&&d.cr.setData(s),i.value.timeScale().fitContent()}return(s,r)=>{const g=K;return _(),L(g,{class:"chart-container",title:a(e)("title"),loading:a(u)},{default:y(()=>[p("div",{ref_key:"chartRef",ref:m,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function lo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Vault collateral ratio"}}}})}typeof lo=="function"&&lo(Mn);const bm=A(Mn,[["__scopeId","data-v-2e590a69"]]),Rn=T({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new Ae(n.value),{isFetching:u,data:c}=O({queryKey:["prisma-vault-trove-count",w(()=>{var s;return(s=t.vault)==null?void 0:s.address})],queryFn:({queryKey:[,s]})=>s?l.getVaultTroveCount("ethereum",s,"1m").then(r=>r.count):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{chart:i,chartRef:m,series:d}=de({recreateChartTrigger:o,createChartOptions:s=>ue(s,o.value),series:{type:"Area",name:"troves",options:w(()=>({priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}))}});pe(f);function f(){if(!i.value||!d.troves)return;const s=c.value.map(r=>({time:r.timestamp,value:r.value})).uniqWith((r,g)=>r.time===g.time).orderBy(r=>r.time,"asc");s.length>0&&d.troves.setData(s),i.value.timeScale().fitContent()}return(s,r)=>{const g=K;return _(),L(g,{class:"chart-container",title:a(e)("title"),loading:a(u)},{default:y(()=>[p("div",{ref_key:"chartRef",ref:m,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ro(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Number of open troves"}}}})}typeof ro=="function"&&ro(Rn);const gm=A(Rn,[["__scopeId","data-v-839037e9"]]),ym={class:"vault-overview"},wm=T({__name:"VaultOverview",props:{vault:{}},setup(t){return(e,o)=>(_(),k("div",ym,[v(hm,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),v(vm,{vault:e.vault},null,8,["vault"]),v(um,{vault:e.vault},null,8,["vault"]),v(bm,{vault:e.vault},null,8,["vault"]),v(gm,{vault:e.vault},null,8,["vault"])]))}}),$m=A(wm,[["__scopeId","data-v-e83c67a1"]]),Cm={class:"actions"},Fn=T({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),{items:l}=Gt(()=>[{id:"oracle",label:"Oracle",color:o.value.colorsArray[0]},{id:"market",label:"Market",color:o.value.colorsArray[1]}]),u=new Ut(n.value),c={oracle:[],market:[]},{isFetching:i,data:m}=O({queryKey:["prisma-stable-distribution",w(()=>{var h;return(h=t.vault)==null?void 0:h.collateral})],queryFn:async({queryKey:[,h]})=>{if(h){const S=await u.getCollateralPrices("ethereum",h,"7d");return d(S.oracle,S.market)}else return Promise.resolve(c)},initialData:c,initialDataUpdatedAt:0}),d=(h,S)=>{const $=Math.max(h[0].timestamp,S[0].timestamp),b=Math.min(h[h.length-1].timestamp,S[S.length-1].timestamp),C=h.filter(P=>P.timestamp>=$&&P.timestamp<=b),I=S.filter(P=>P.timestamp>=$&&P.timestamp<=b);return C[C.length-1].timestamp<b&&C.push({timestamp:b,value:C[C.length-1].value}),I[I.length-1].timestamp<b&&I.push({timestamp:b,value:I[I.length-1].value}),{oracle:C,market:I}},{chart:f,chartRef:s,series:r}=de({recreateChartTrigger:o,createChartOptions:h=>ue(h,o.value),series:[{type:"Area",name:"oracle",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:se.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...o.value.lineChartColors}))},{type:"Area",name:"market",options:w(()=>({priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:se.WithSteps,lineColor:o.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}]});pe(g);function g(){if(!f.value||!r.oracle||!r.market)return;const h=m.value.oracle.map($=>({time:$.timestamp,value:$.value})).uniqWith(($,b)=>$.time===b.time).orderBy($=>$.time,"asc"),S=m.value.market.map($=>({time:$.timestamp,value:$.value})).uniqWith(($,b)=>$.time===b.time).orderBy($=>$.time,"asc");S.length>0&&r.market.setData(S),h.length>0&&r.oracle.setData(h),f.value.timeScale().fitContent()}return(h,S)=>{const $=Ht,b=K;return _(),L(b,{class:"chart-container",title:a(e)("title"),loading:a(i)},{actions:y(()=>[p("div",Cm,[v($,{items:a(l)},null,8,["items"])])]),default:y(()=>[p("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function io(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Oracle & Market price"}}}})}typeof io=="function"&&io(Fn);const km=A(Fn,[["__scopeId","data-v-7e230200"]]),Bn=T({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new Ut(n.value),{isFetching:u,data:c}=O({queryKey:["prisma-collateral-price-impact",w(()=>{var r;return(r=t.vault)==null?void 0:r.collateral})],queryFn:({queryKey:[,r]})=>r?l.getCollateralPriceImpact("ethereum",r).then(g=>g.impact):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),i=w(()=>te(o.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:d.value,labels:{formatter:r=>f(r)}},yaxis:{seriesName:"impact",labels:{formatter:r=>s(r)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:r=>{if(!t.vault)return"";const g=d.value[r.dataPointIndex],h=f(g*t.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${f(g)} ${t.vault.name} ($${h})</div>

          <div><b>Price impact:</b>:</div>
          <div>${s(r.series[0][r.dataPointIndex])}</div>
          `}}})),m=w(()=>[{name:e("priceImpact"),data:Object.values(c.value).map(r=>r.impact)}]),d=w(()=>c.value.map(r=>t.vault?r.amount/t.vault.price:0)),f=r=>`${Z(Math.abs(r),1,"dollar")}${G(r,"dollar")}`,s=r=>`${Z(r,2,"percentage")}${G(r,"percentage")}`;return(r,g)=>{const h=ne;return _(),L(h,{class:"chart",title:a(e)("title"),loading:a(u),options:a(i),series:a(m)},null,8,["title","loading","options","series"])}}});function co(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"On-chain Selling Price Impact"}},priceImpact:{t:0,b:{t:2,i:[{t:3}],s:"Price impact"}}}})}typeof co=="function"&&co(Bn);const Sm=A(Bn,[["__scopeId","data-v-87290585"]]),Lm={class:"kpis"},Tm=["href"],Am=T({__name:"CollateralKPIs",props:{vault:{default:null}},setup(t){const e=F(),o=new Ut(e.flavor),{data:n}=O({queryKey:["prisma-collateral-info",w(()=>{var l;return(l=t.vault)==null?void 0:l.address})],queryFn:({queryKey:[,l]})=>l?o.getCollateralInfo("ethereum",l).then(u=>u.info):Promise.resolve(null),initialData:null,initialDataUpdatedAt:0});return(l,u)=>{const c=ee,i=Ce;return _(),k("div",Lm,[v(i,{label:"Oracle price","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),L(c,{key:0,value:a(n).price,precision:2,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),v(i,{label:"Total supply","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),L(c,{key:0,value:a(n).supply,precision:2,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),v(i,{label:"TVL","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),L(c,{key:0,value:a(n).tvl,precision:1,type:"dollar"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),v(i,{label:"Share of the collateral market","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),L(c,{key:0,value:a(n).share,precision:1,type:"percentage"},null,8,["value"])):x("",!0)]),_:1},8,["has-value"]),v(i,{label:"Full risk analysis by Prisma Risk team","has-value":!!a(n)},{default:y(()=>[a(n)?(_(),k("a",{key:0,href:a(n).risk}," Risk Report ",8,Tm)):x("",!0)]),_:1},8,["has-value"])])}}}),Im=A(Am,[["__scopeId","data-v-c074be01"]]),Pm={class:"collateral"},Dm=T({__name:"Collateral",props:{vault:{}},setup(t){return(e,o)=>(_(),k("div",Pm,[v(Im,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),v(km,{vault:e.vault},null,8,["vault"]),v(Sm,{vault:e.vault},null,8,["vault"])]))}}),xm=A(Dm,[["__scopeId","data-v-f2eb56c3"]]),Vm={style:{display:"flex",gap:"1rem"}},qm=["href"],Mm=["href"],Rm={class:"end"},Fm={class:"end"},Bm={class:"end"},uo=15,Un=T({__name:"TableLiquidations",props:{vault:{default:null}},setup(t){const{t:e}=R(),o=F(),n=new Et(o.flavor),{isFetching:l,data:u}=O({queryKey:["prisma-vault-liquidations",w(()=>{var $;return($=t.vault)==null?void 0:$.address})],queryFn:({queryKey:[,$]})=>$?n.getLiquidations("ethereum",$):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:c}=we(),i=q(""),m=q(null),d=[{id:"liquidator",label:"Liquidator",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:f,onSort:s}=ke("timestamp"),r=w(()=>u.value.filter($=>{const b=i.value.toLocaleLowerCase().split(" ");return(I=>b.some(P=>I.toLocaleLowerCase().includes(P)))($.liquidator)}).orderBy($=>{switch(f.value.column){case"liquidator":return $.liquidator;case"tx":return $.transaction;case"debt":return $.liquidated_collateral_usd;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},f.value.order)),{page:g,rowsPage:h,onPage:S}=ge(r,uo);return($,b)=>{const C=me,I=be,P=ee,M=ae,U=K,j=Le;return _(),k(Q,null,[v(U,{class:"liquidations-card",title:a(e)("title"),loading:a(l)},{actions:y(()=>[p("div",Vm,[v(C,{modelValue:a(i),"onUpdate:modelValue":b[0]||(b[0]=E=>le(i)?i.value=E:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"]),v(I,{"items-count":a(r).length,"items-per-page":uo,page:a(g),onPage:a(S)},null,8,["items-count","page","onPage"])])]),default:y(()=>[v(M,{class:"liquidations-table",rows:a(h),columns:d,sorting:a(f),onSortColumn:a(s),onSelected:b[3]||(b[3]=E=>m.value=E)},{row:y(E=>[p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/address/${E.item.liquidator}`,target:"_blank",onClick:b[1]||(b[1]=X(()=>{},["stop"]))},D(a(H)(E.item.liquidator)),9,qm)]),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/tx/${E.item.transaction}`,target:"_blank",onClick:b[2]||(b[2]=X(()=>{},["stop"]))},D(a(H)(E.item.transaction)),9,Mm)]),p("div",Rm,[v(P,{type:"dollar",value:Math.round(E.item.liquidated_debt),precision:1/0},null,8,["value"])]),p("div",Fm,D(E.item.troves_affected_count),1),p("div",Bm,D(a(c)(E.item.timestamp)),1)]),"row-details":y(()=>[W("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),v(j,{show:!!a(m),onClose:b[4]||(b[4]=E=>m.value=null)},{default:y(()=>{var E;return[a(m)?(_(),L(Nt,{key:0,liquidation:a(m),"vault-addr":((E=$.vault)==null?void 0:E.address)??""},null,8,["liquidation","vault-addr"])):x("",!0)]}),_:1},8,["show"])],64)}}});function po(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof po=="function"&&po(Un);const Um=A(Un,[["__scopeId","data-v-32bce2df"]]),Em={class:"liquidations"},Om=T({__name:"Liquidations",props:{vault:{}},setup(t){return(e,o)=>(_(),k("div",Em,[v(Um,{vault:e.vault},null,8,["vault"])]))}}),Wm=A(Om,[["__scopeId","data-v-d6030225"]]),Km={style:{display:"flex",gap:"1rem"}},Nm=["href"],Hm=["href"],Gm={class:"end"},jm={class:"end"},Zm={class:"end"},mo=15,En=T({__name:"TableRedemptions",props:{vault:{default:null}},setup(t){const{t:e}=R(),o=F(),n=new Ot(o.flavor),{isFetching:l,data:u}=O({queryKey:["prisma-vault-redemptions",w(()=>{var $;return($=t.vault)==null?void 0:$.address})],queryFn:({queryKey:[,$]})=>$?n.getRedemptions("ethereum",$):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:c}=we(),i=q(""),m=q(null),d=[{id:"redeemer",label:"Redeemer",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:f,onSort:s}=ke("timestamp"),r=w(()=>u.value.filter($=>{const b=i.value.toLocaleLowerCase().split(" ");return(I=>b.some(P=>I.toLocaleLowerCase().includes(P)))($.redeemer)}).orderBy($=>{switch(f.value.column){case"redeemer":return $.redeemer;case"tx":return $.transaction;case"debt":return $.actual_debt_amount;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},f.value.order)),{page:g,rowsPage:h,onPage:S}=ge(r,mo);return($,b)=>{const C=me,I=be,P=ee,M=ae,U=K,j=Le;return _(),k(Q,null,[v(U,{class:"redemptions-card",title:a(e)("title"),loading:a(l)},{actions:y(()=>[p("div",Km,[v(C,{modelValue:a(i),"onUpdate:modelValue":b[0]||(b[0]=E=>le(i)?i.value=E:null),search:!0,placeholder:a(e)("search-placeholder")},null,8,["modelValue","placeholder"]),v(I,{"items-count":a(r).length,"items-per-page":mo,page:a(g),onPage:a(S)},null,8,["items-count","page","onPage"])])]),default:y(()=>[v(M,{class:"redemptions-table",rows:a(h),columns:d,sorting:a(f),onSortColumn:a(s),onSelected:b[3]||(b[3]=E=>m.value=E)},{row:y(E=>[p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/address/${E.item.redeemer}`,target:"_blank",onClick:b[1]||(b[1]=X(()=>{},["stop"]))},D(a(H)(E.item.redeemer)),9,Nm)]),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/tx/${E.item.transaction}`,target:"_blank",onClick:b[2]||(b[2]=X(()=>{},["stop"]))},D(a(H)(E.item.transaction)),9,Hm)]),p("div",Gm,[v(P,{type:"dollar",value:Math.round(E.item.actual_debt_amount),precision:1/0},null,8,["value"])]),p("div",jm,D(E.item.troves_affected_count),1),p("div",Zm,D(a(c)(E.item.timestamp)),1)]),"row-details":y(()=>[W("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),v(j,{show:!!a(m),onClose:b[4]||(b[4]=E=>m.value=null)},{default:y(()=>{var E;return[a(m)?(_(),L(Kt,{key:0,redemption:a(m),"vault-addr":((E=$.vault)==null?void 0:E.address)??""},null,8,["redemption","vault-addr"])):x("",!0)]}),_:1},8,["show"])],64)}}});function vo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof vo=="function"&&vo(En);const zm=A(En,[["__scopeId","data-v-db043ca9"]]),Ym={class:"redemptions"},Qm=T({__name:"Redemptions",props:{vault:{}},setup(t){return(e,o)=>(_(),k("div",Ym,[v(zm,{vault:e.vault},null,8,["vault"])]))}}),Jm=A(Qm,[["__scopeId","data-v-8f90841b"]]),Xm={style:{display:"grid",gap:"1rem","grid-template-columns":"1fr 2fr auto"}},ev=["href"],tv={class:"end"},av={class:"end"},_o=15,On=T({__name:"TableTroves",props:{vault:{default:null}},emits:["selected"],setup(t,{emit:e}){const{t:o}=R(),n=e,l=F(),u=new We(l.flavor),{isFetching:c,data:i}=O({queryKey:["prisma-vault-troves",w(()=>{var I;return(I=t.vault)==null?void 0:I.address})],queryFn:({queryKey:[,I]})=>I?u.getTroves("ethereum",I):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:m}=we(),d=q(""),f=q("Open"),s=w(()=>f.value==="Open"?[{id:"owner",label:"Owner",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"coll",label:"Collateral",sort:!0,align:"end"},{id:"ratio",label:"Ratio",sort:!0,align:"end"},{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]:[{id:"owner",label:"Owner",sort:!0},"","","",{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]),{sorting:r,onSort:g}=ke("updated"),h=w(()=>i.value.filter(I=>f.value===I.status).filter(I=>{const P=d.value.toLocaleLowerCase().split(" ");return(U=>P.some(j=>U.toLocaleLowerCase().includes(j)))(I.owner)}).orderBy(I=>{switch(r.value.column){case"owner":return I.owner;case"debt":return I.debt;case"coll":return I.collateral_usd;case"ratio":return I.collateral_ratio;case"created":return I.created_at;case"updated":return I.last_update;default:return I.last_update}},r.value.order)),{page:S,rowsPage:$,onPage:b}=ge(h,_o),C=I=>{I===0?f.value="Open":I===1?f.value="Closed":f.value="Open"};return(I,P)=>{const M=ut,U=ct,j=me,E=be,V=ee,Se=ae,yt=K;return _(),L(yt,{class:"troves-card",loading:a(c)},{actions:y(()=>[p("div",Xm,[v(U,{class:"types",onTab:P[0]||(P[0]=z=>C(z.index))},{default:y(()=>[v(M,{header:"Open"}),v(M,{header:"Closed"})]),_:1}),v(j,{modelValue:a(d),"onUpdate:modelValue":P[1]||(P[1]=z=>le(d)?d.value=z:null),search:!0,placeholder:a(o)("search-placeholder")},null,8,["modelValue","placeholder"]),v(E,{"items-count":a(h).length,"items-per-page":_o,page:a(S),onPage:a(b)},null,8,["items-count","page","onPage"])])]),default:y(()=>[v(Se,{class:"troves-table",rows:a($),columns:a(s),sorting:a(r),onSortColumn:a(g),onSelected:P[3]||(P[3]=z=>n("selected",z))},{row:y(z=>[p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/address/${z.item.owner}`,target:"_blank",onClick:P[2]||(P[2]=X(()=>{},["stop"]))},D(a(H)(z.item.owner)),9,ev)]),p("div",{class:B(["end",{hide:a(f)==="Closed"}])},[v(V,{type:"dollar",value:Math.round(z.item.debt),precision:1/0},null,8,["value"])],2),p("div",{class:B(["end",{hide:a(f)==="Closed"}])},[v(V,{type:"dollar",value:Math.round(z.item.collateral_usd),precision:1/0},null,8,["value"])],2),p("div",{class:B(["end",{hide:a(f)==="Closed"}])},[v(V,{value:z.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),p("div",tv,D(a(m)(z.item.created_at)),1),p("div",av,D(a(m)(z.item.last_update)),1)]),"row-details":y(()=>[W("   ")]),_:1},8,["rows","columns","sorting","onSortColumn"])]),_:1},8,["loading"])}}});function fo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof fo=="function"&&fo(On);const ov=A(On,[["__scopeId","data-v-fded8e45"]]),nv={class:"troves"},sv=T({__name:"Troves",props:{vault:{}},setup(t){const e=bt(),o=Ue(),n=async l=>{e.trove=l,t.vault&&await o.push({name:"prismatrove",params:{troveAddr:l.owner,vaultAddr:t.vault.address}})};return(l,u)=>(_(),k("div",nv,[v(ov,{vault:l.vault,onSelected:n},null,8,["vault"])]))}}),lv=A(sv,[["__scopeId","data-v-5138a005"]]),rv={class:"vault-manager"},iv=T({__name:"VaultManager.page",setup(t){const e=F(),o=et(),n=bt(),l=$e().getSocket(Ee(e.flavor)),u=new Ke(l,"ethereum"),c=_e(u.overview$,[]),i=Qe("vaultAddr"),m=w(()=>n.vault);fe(()=>{var r,g;const s=De((r=m.value)==null?void 0:r.address)??((g=m.value)==null?void 0:g.name)??"?";o.show=!0,o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${s}`}]}),J(c,s=>{const r=s.find(g=>g.address===i.value);r&&(n.vault=r)}),J(m,s=>{const r=De(s==null?void 0:s.address)??(s==null?void 0:s.name)??"?";o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${r}`}]});const{tabActive:d,tabActiveIndex:f}=yn(["overview","collateral","trove","liquidations","redemptions"],"prismavault",()=>({vaultAddr:i.value}));return(s,r)=>{const g=ut,h=ct;return _(),k("div",rv,[v(h,{active:a(f),onTab:r[0]||(r[0]=S=>f.value=S.index)},{default:y(()=>[v(g,{header:"Overview"},{default:y(()=>[(_(),L(Ne,null,[a(d)==="overview"?(_(),L($m,{key:0,vault:a(m)},null,8,["vault"])):x("",!0)],1024))]),_:1}),v(g,{header:"Collateral"},{default:y(()=>[(_(),L(Ne,null,[a(d)==="collateral"&&a(m)?(_(),L(xm,{key:0,vault:a(m)},null,8,["vault"])):x("",!0)],1024))]),_:1}),v(g,{header:"Troves"},{default:y(()=>[(_(),L(Ne,null,[a(d)==="trove"&&a(m)?(_(),L(lv,{key:0,vault:a(m)},null,8,["vault"])):x("",!0)],1024))]),_:1}),v(g,{header:"Liquidations"},{default:y(()=>[(_(),L(Ne,null,[a(d)==="liquidations"&&a(m)?(_(),L(Wm,{key:0,vault:a(m)},null,8,["vault"])):x("",!0)],1024))]),_:1}),v(g,{header:"Redemptions"},{default:y(()=>[(_(),L(Ne,null,[a(d)==="redemptions"&&a(m)?(_(),L(Jm,{key:0,vault:a(m)},null,8,["vault"])):x("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),cv=A(iv,[["__scopeId","data-v-5628ae97"]]),uv=t=>(ie("data-v-8e4c9559"),t=t(),ce(),t),dv=uv(()=>p("div",null,[W(" This chart displays that amount of collateral available below different collateral ratios. "),p("br"),W(" It also displays the position of the trove relative to other troves in this vault. "),p("br"),p("br"),W(" This information is useful to estimate a trove's risk of redemption. "),p("br"),W(" Even if the trove's collateral ratio is high in the absolute, a lower ratio relative "),p("br"),W(" to other troves means a higher risk of redemption."),p("br"),p("br"),W(` As such, the lower the "risk rank" displayed, the higher the trove's risk of being redeemed. `)],-1)),Wn=T({__name:"ChartTroveRank",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new We(n.value),u=q("Trove Relative Position"),c={rank:null,total_positions:0,ratio:null,positions:[]},{isFetching:i,data:m}=O({queryKey:["prisma-trove-rank",w(()=>{var h;return(h=t.vault)==null?void 0:h.address}),w(()=>{var h;return(h=t.trove)==null?void 0:h.owner})],queryFn:async({queryKey:[,h,S]})=>h&&S?await l.getTroveRank("ethereum",h,S):Promise.resolve(c),initialData:c,initialDataUpdatedAt:0}),d=w(()=>{const{colors:h}=o.value,S={x:m.value.ratio??0,borderColor:h.yellow,strokeDashArray:2,label:{borderColor:h.yellow,style:{background:h.yellow,color:"rgb(34, 34, 34)"},position:"top",offsetX:15,text:`This trove: ${g(m.value.ratio??0,1)}`}};return te(o.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!0}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},annotations:{xaxis:m.value.ratio?[S]:[]},toolbar:{show:!1},xaxis:{type:"numeric",categories:s.value,labels:{formatter:$=>g($)}},yaxis:{seriesName:"impact",labels:{formatter:$=>r($)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:$=>{if(!t.vault)return"";const b=s.value[$.dataPointIndex];return`
          <div><b>Collateral ratio:</b>:</div>
          <div>${$.dataPointIndex===s.value.length-1?"Over 250%":g(b)}</div>

          <div><b>Troves with lower or equal ratio:</b>:</div>
          <div>${m.value.positions[$.dataPointIndex].trove_count}</div>

          <div><b>Collateral value at lower or equal ratio:</b>:</div>
          <div>$${r($.series[0][$.dataPointIndex])}</div>
          `}}})}),f=w(()=>[{name:e("rank"),data:Object.values(m.value.positions).map(h=>h.collateral_usd)}]),s=w(()=>m.value.positions.map(h=>h.ratio)),r=h=>`${Z(Math.abs(h),1,"dollar")}${G(h,"dollar")}`,g=(h,S=0)=>`${Z(h,S,"percentage")}${G(h,"percentage")}`;return xt(m,h=>{typeof h.rank=="number"&&(u.value=e("title",{rank:h.rank,total_positions:h.total_positions}))},{immediate:!0}),(h,S)=>{const $=nt,b=Bt,C=K;return _(),L(C,{class:"chart-container",title:a(u),loading:a(i)},{actions:y(()=>[v($,null,{default:y(()=>[dv]),_:1})]),default:y(()=>[v(b,{class:"chart",options:a(d),series:a(f)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function ho(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3,v:"Trove Relative Position (Risk rank: "},{t:4,k:"rank"},{t:3,v:" / "},{t:4,k:"total_positions"},{t:3,v:")"}]}}}})}typeof ho=="function"&&ho(Wn);const pv=A(Wn,[["__scopeId","data-v-8e4c9559"]]),Kn=T({__name:"ChartTroveHealth",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=R(),{theme:o,flavor:n}=N(F()),l=new We(n.value),{isFetching:u,data:c}=O({queryKey:["prisma-trove-snapshots",w(()=>{var s;return(s=t.vault)==null?void 0:s.address}),w(()=>{var s;return(s=t.trove)==null?void 0:s.owner})],queryFn:({queryKey:[,s,r]})=>s&&r?l.getTroveSnapshots("ethereum",s,r).then(g=>g.snapshots):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),i=w(()=>te(o.value,{chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"collateralUsd",tickAmount:4,opposite:!0,labels:{formatter:s=>d(s)},min:0,max:Math.max(...c.value.map(s=>s.collateral_usd))},{seriesName:"ratio",tickAmount:4,labels:{formatter:s=>f(s)},min:0,max:Math.max(...c.value.map(s=>s.cr??0))}],dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:s=>{const r=s.w.globals.initialSeries[0].data[s.dataPointIndex].y,g=s.w.globals.initialSeries[1].data[s.dataPointIndex]?s.w.globals.initialSeries[1].data[s.dataPointIndex].y:0;return[`<div><b>${e("ratio")}</b>:</div><div>${f(g)}</div>`,`<div><b>${e("collateralUsd")}</b>:</div><div>${d(r)}</div>`].join("")}}})),m=w(()=>[{name:e("collateralUsd"),type:"line",data:c.value.map(s=>({x:s.timestamp*1e3,y:s.collateral_usd}))},{name:e("ratio"),type:"line",data:c.value.map(s=>({x:s.timestamp*1e3,y:s.cr??0}))}]),d=s=>`$${Z(s,1,"dollar")}${G(s,"dollar")}`,f=s=>`${Pe(s*100,2)}%`;return(s,r)=>{const g=ne;return _(),L(g,{class:"health",title:a(e)("title"),options:a(i),series:a(m),loading:a(u)},null,8,["title","options","series","loading"])}}});function bo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Health"}},collateralUsd:{t:0,b:{t:2,i:[{t:3}],s:"Collateral ($)"}},ratio:{t:0,b:{t:2,i:[{t:3}],s:"Ratio"}}}})}typeof bo=="function"&&bo(Kn);const mv=A(Kn,[["__scopeId","data-v-a0024c37"]]),vv={class:"end"},_v={class:"end"},fv={class:"end"},hv={class:"end"},bv={class:"end"},gv=["href"],yv={class:"end"},Nn=T({__name:"TableTroveOps",props:{vault:{default:null},trove:{default:null}},setup(t){const{t:e}=R(),o=F(),n=new We(o.flavor),{relativeTime:l}=we(),u=w(()=>i.value.orderBy(d=>d.timestamp,"desc")),{isFetching:c,data:i}=O({queryKey:["prisma-trove-snapshots",w(()=>{var d;return(d=t.vault)==null?void 0:d.address}),w(()=>{var d;return(d=t.trove)==null?void 0:d.owner})],queryFn:({queryKey:[,d,f]})=>d&&f?n.getTroveSnapshots("ethereum",d,f).then(s=>s.snapshots):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),m=d=>d.replace(/^_*(.)|_+(.)/g,(f,s,r)=>s?s.toUpperCase():" "+r.toUpperCase());return(d,f)=>{const s=ee,r=ae,g=K;return _(),L(g,{title:a(e)("title"),loading:a(c)},{default:y(()=>[v(r,{class:"trove-ops-table",rows:a(u),columns:["Operation",{label:"Collateral",align:"end"},{label:"Debt",align:"end"},{label:"Ratio",align:"end"},{label:"Stake",align:"end"},{label:"Tx",align:"end"},{label:"Time",align:"end"}]},{row:y(h=>[p("div",null,D(m(h.item.operation)),1),p("div",vv,[h.item.collateral?(_(),L(s,{key:0,value:h.item.collateral,precision:3,"show-symbol":!1,type:"dollar"},null,8,["value"])):x("",!0)]),p("div",_v,[v(s,{type:"dollar",value:Math.round(h.item.debt),precision:1/0},null,8,["value"])]),p("div",fv,[h.item.cr?(_(),L(s,{key:0,value:h.item.cr*100,precision:2,type:"percentage"},null,8,["value"])):x("",!0)]),p("div",hv,[h.item.stake?(_(),L(s,{key:0,value:h.item.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])):x("",!0)]),p("div",bv,[p("a",{class:"font-mono",href:`https://etherscan.io/tx/${h.item.hash}`,target:"_blank",onClick:f[0]||(f[0]=X(()=>{},["stop"]))},D(a(H)(h.item.hash)),9,gv)]),p("div",yv,D(a(l)(h.item.timestamp)),1)]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function go(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Operations"}}}})}typeof go=="function"&&go(Nn);const wv=A(Nn,[["__scopeId","data-v-66c418a3"]]),$v={class:"trove"},Cv=T({__name:"Trove.page",setup(t){const e=F(),o=et(),n=bt(),l=new We(e.flavor),u=$e().getSocket(Ee(e.flavor)),c=new Ke(u,"ethereum"),i=_e(c.overview$,[]),m=Qe("vaultAddr"),d=Qe("troveAddr"),f=w(()=>n.vault),s=w(()=>n.trove);return fe(async()=>{var h,S,$;const r=await l.getTroveDetail("ethereum",m.value,d.value);r&&(n.trove=r);const g=De((h=f.value)==null?void 0:h.address)??((S=f.value)==null?void 0:S.name)??"?";o.show=!0,o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${g}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(($=s.value)==null?void 0:$.owner)??"?"}`}]}),J(i,r=>{const g=r.find(h=>h.address===m.value);g&&(n.vault=g)}),J(f,r=>{var h;const g=De(r==null?void 0:r.address)??(r==null?void 0:r.name)??"?";o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${g}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((h=s.value)==null?void 0:h.owner)??"?"}`}]}),J(s,r=>{var h,S;const g=De((h=f.value)==null?void 0:h.address)??((S=f.value)==null?void 0:S.name)??"?";o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${g}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(r==null?void 0:r.owner)??"?"}`}]}),(r,g)=>(_(),k("div",$v,[v(pv,{class:"graph-rank",vault:a(f),trove:a(s)},null,8,["vault","trove"]),v(mv,{class:"graph-health",vault:a(f),trove:a(s)},null,8,["vault","trove"]),v(wv,{class:"table-ops",vault:a(f),trove:a(s)},null,8,["vault","trove"])]))}}),kv=A(Cv,[["__scopeId","data-v-2fac6aca"]]),Sv={style:{display:"flex",gap:"1rem"}},Lv=["src"],Tv=["href"],Av=["href"],Iv={class:"end"},Pv={class:"end"},Dv={class:"end"},yo=15,Hn=T({__name:"TableRedemptions",props:{troves:{default:()=>[]}},setup(t){const e=F(),o=new Ot(e.flavor),{t:n}=R(),{isFetching:l,data:u}=O({queryKey:["prisma-redemptions",w(()=>t.troves)],queryFn:({queryKey:[,b]})=>Promise.all(b.uniq().map(C=>o.getRedemptionsForTrove("ethereum",C))).then(C=>C.flat()),initialData:[],initialDataUpdatedAt:0}),{relativeTime:c}=we(),i=q(""),m=q("all"),d=q(null),f=["",{id:"redeemer",label:"Redeemer",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:s,onSort:r}=ke("timestamp"),g=w(()=>u.value.filter(b=>{const C=i.value.toLocaleLowerCase().split(" "),I=M=>C.some(U=>M.toLocaleLowerCase().includes(U)),P=m.value==="all"?!0:b.vault===m.value;return I(b.redeemer)&&P}).orderBy(b=>{switch(s.value.column){case"redeemer":return b.redeemer;case"tx":return b.transaction;case"debt":return b.actual_debt_amount;case"numtroves":return b.troves_affected_count;case"timestamp":return b.timestamp;default:return b.timestamp}},s.value.order)),{page:h,rowsPage:S,onPage:$}=ge(g,yo);return(b,C)=>{const I=me,P=be,M=ee,U=ae,j=K,E=Le;return _(),k(Q,null,[v(j,{class:"redemptions-card",title:a(n)("title"),loading:a(l)||b.troves.length===0},{actions:y(()=>[v(gt,{vault:a(m),all:!0,onSelectVault:C[0]||(C[0]=V=>m.value=V)},null,8,["vault"]),p("div",Sv,[v(I,{modelValue:a(i),"onUpdate:modelValue":C[1]||(C[1]=V=>le(i)?i.value=V:null),search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),v(P,{"items-count":a(g).length,"items-per-page":yo,page:a(h),onPage:a($)},null,8,["items-count","page","onPage"])])]),default:y(()=>[v(U,{class:"redemptions-table",rows:a(S),columns:f,sorting:a(s),onSortColumn:a(r),onSelected:C[4]||(C[4]=V=>d.value=V)},{row:y(V=>[p("img",{src:a(Ve)(V.item.vault)},null,8,Lv),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/address/${V.item.redeemer}`,target:"_blank",onClick:C[2]||(C[2]=X(()=>{},["stop"]))},D(a(H)(V.item.redeemer)),9,Tv)]),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.item.transaction}`,target:"_blank",onClick:C[3]||(C[3]=X(()=>{},["stop"]))},D(a(H)(V.item.transaction)),9,Av)]),p("div",Iv,[v(M,{type:"dollar",value:Math.round(V.item.actual_debt_amount),precision:1/0},null,8,["value"])]),p("div",Pv,D(V.item.troves_affected_count),1),p("div",Dv,D(a(c)(V.item.timestamp)),1)]),"row-details":y(()=>[W("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),v(E,{show:!!a(d),onClose:C[5]||(C[5]=V=>d.value=null)},{default:y(()=>[a(d)?(_(),L(Kt,{key:0,redemption:a(d),"vault-addr":a(d).vault},null,8,["redemption","vault-addr"])):x("",!0)]),_:1},8,["show"])],64)}}});function wo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Redemptions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof wo=="function"&&wo(Hn);const xv=A(Hn,[["__scopeId","data-v-a54a8bc0"]]),Vv={style:{display:"flex",gap:"1rem"}},qv=["src"],Mv=["href"],Rv=["href"],Fv={class:"end"},Bv={class:"end"},Uv={class:"end"},$o=15,Gn=T({__name:"TableLiquidations",props:{troves:{default:()=>[]}},setup(t){const e=F(),o=new Et(e.flavor),{t:n}=R(),{isFetching:l,data:u}=O({queryKey:["prisma-liquidations-troves",w(()=>t.troves)],queryFn:({queryKey:[,b]})=>Promise.all(b.uniq().map(C=>o.getLiquidationsForTrove("ethereum",C))).then(C=>C.flat()),initialData:[],initialDataUpdatedAt:0}),{relativeTime:c}=we(),i=q(""),m=q("all"),d=q(null),f=["",{id:"liquidator",label:"Liquidator",sort:!0},{id:"tx",label:"Transaction",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"numtroves",label:"# Troves",sort:!0,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:s,onSort:r}=ke("timestamp"),g=w(()=>u.value.filter(b=>{const C=i.value.toLocaleLowerCase().split(" "),I=M=>C.some(U=>M.toLocaleLowerCase().includes(U)),P=m.value==="all"?!0:b.vault===m.value;return I(b.liquidator)&&P}).orderBy(b=>{switch(s.value.column){case"liquidator":return b.liquidator;case"tx":return b.transaction;case"debt":return b.liquidated_collateral_usd;case"numtroves":return b.troves_affected_count;case"timestamp":return b.timestamp;default:return b.timestamp}},s.value.order)),{page:h,rowsPage:S,onPage:$}=ge(g,$o);return(b,C)=>{const I=me,P=be,M=ee,U=ae,j=K,E=Le;return _(),k(Q,null,[v(j,{class:"liquidations-card",title:a(n)("title"),loading:a(l)||b.troves.length===0},{actions:y(()=>[v(gt,{vault:a(m),all:!0,onSelectVault:C[0]||(C[0]=V=>m.value=V)},null,8,["vault"]),p("div",Vv,[v(I,{modelValue:a(i),"onUpdate:modelValue":C[1]||(C[1]=V=>le(i)?i.value=V:null),search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),v(P,{"items-count":a(g).length,"items-per-page":$o,page:a(h),onPage:a($)},null,8,["items-count","page","onPage"])])]),default:y(()=>[v(U,{class:"liquidations-table",rows:a(S),columns:f,sorting:a(s),onSortColumn:a(r),onSelected:C[4]||(C[4]=V=>d.value=V)},{row:y(V=>[p("img",{src:a(Ve)(V.item.vault)},null,8,qv),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/address/${V.item.liquidator}`,target:"_blank",onClick:C[2]||(C[2]=X(()=>{},["stop"]))},D(a(H)(V.item.liquidator)),9,Mv)]),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/tx/${V.item.transaction}`,target:"_blank",onClick:C[3]||(C[3]=X(()=>{},["stop"]))},D(a(H)(V.item.transaction)),9,Rv)]),p("div",Fv,[v(M,{type:"dollar",value:Math.round(V.item.liquidated_debt),precision:1/0},null,8,["value"])]),p("div",Bv,D(V.item.troves_affected_count),1),p("div",Uv,D(a(c)(V.item.timestamp)),1)]),"row-details":y(()=>[W("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title","loading"]),v(E,{show:!!a(d),onClose:C[5]||(C[5]=V=>d.value=null)},{default:y(()=>[a(d)?(_(),L(Nt,{key:0,liquidation:a(d),"vault-addr":a(d).vault},null,8,["liquidation","vault-addr"])):x("",!0)]),_:1},8,["show"])],64)}}});function Co(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidations"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Co=="function"&&Co(Gn);const Ev=A(Gn,[["__scopeId","data-v-fe752060"]]),Ov={style:{display:"grid",gap:"1rem","grid-template-columns":"minmax(14rem, 1fr) 1fr auto"}},Wv=["src"],Kv=["href"],Nv={class:"end"},Hv={class:"end"},ko=15,jn=T({__name:"TableTroves",props:{vaults:{default:()=>[]},user:{}},emits:["troves"],setup(t,{emit:e}){const{t:o}=R(),n=F(),l=new We(n.flavor),u=e,{isFetching:c,data:i}=O({queryKey:["prisma-troves",Yt(()=>t.vaults),Yt(()=>t.user)],queryFn:async({queryKey:[,I,P]})=>{if(I.length>0&&P){const M=await Promise.all(I.map(U=>l.getTroves("ethereum",U.address,P).then(j=>j.map(E=>({...E,vault:U.address}))))).then(U=>U.flat());return u("troves",M),M}else return Promise.resolve([])},initialData:[],initialDataUpdatedAt:0}),{relativeTime:m}=we(),d=q(""),f=q("Open"),s=w(()=>f.value==="Open"?["",{id:"owner",label:"Owner",sort:!0},{id:"debt",label:"Debt",sort:!0,align:"end"},{id:"coll",label:"Collateral",sort:!0,align:"end"},{id:"ratio",label:"Ratio",sort:!0,align:"end"},{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]:["",{id:"owner",label:"Owner",sort:!0},"","","",{id:"created",label:"Created At",sort:!0,align:"end"},{id:"updated",label:"Last Updated",sort:!0,align:"end"}]),{sorting:r,onSort:g}=ke("updated"),h=w(()=>i.value.filter(I=>f.value===I.status).filter(I=>{const P=d.value.toLocaleLowerCase().split(" ");return(U=>P.some(j=>U.toLocaleLowerCase().includes(j)))(I.owner)}).orderBy(I=>{switch(r.value.column){case"owner":return I.owner;case"debt":return I.debt;case"coll":return I.collateral_usd;case"ratio":return I.collateral_ratio;case"created":return I.created_at;case"updated":return I.last_update;default:return I.last_update}},r.value.order)),{page:S,rowsPage:$,onPage:b}=ge(h,ko),C=I=>{I===0?f.value="Open":I===1?f.value="Closed":f.value="Open"};return(I,P)=>{const M=ut,U=ct,j=me,E=be,V=ee,Se=ae,yt=K;return _(),L(yt,{class:"troves-card",title:a(o)("title"),loading:a(c)},{actions:y(()=>[p("div",Ov,[v(U,{class:"types",onTab:P[0]||(P[0]=z=>C(z.index))},{default:y(()=>[v(M,{header:"Open"}),v(M,{header:"Closed"})]),_:1}),v(j,{modelValue:a(d),"onUpdate:modelValue":P[1]||(P[1]=z=>le(d)?d.value=z:null),class:"search",search:!0,placeholder:a(o)("search-placeholder")},null,8,["modelValue","placeholder"]),v(E,{class:"pagination","items-count":a(h).length,"items-per-page":ko,page:a(S),onPage:a(b)},null,8,["items-count","page","onPage"])])]),default:y(()=>[v(Se,{class:"troves-table",rows:a($),columns:a(s),sorting:a(r),onSortColumn:a(g)},{row:y(z=>[p("img",{src:a(Ve)(z.item.vault)},null,8,Wv),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/address/${z.item.owner}`,target:"_blank",onClick:P[2]||(P[2]=X(()=>{},["stop"]))},D(a(H)(z.item.owner)),9,Kv)]),p("div",{class:B(["end",{hide:a(f)==="Closed"}])},[v(V,{type:"dollar",value:Math.round(z.item.debt),precision:1/0},null,8,["value"])],2),p("div",{class:B(["end",{hide:a(f)==="Closed"}])},[v(V,{type:"dollar",value:Math.round(z.item.collateral_usd),precision:1/0},null,8,["value"])],2),p("div",{class:B(["end",{hide:a(f)==="Closed"}])},[v(V,{value:z.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),p("div",Nv,D(a(m)(z.item.created_at)),1),p("div",Hv,D(a(m)(z.item.last_update)),1)]),"row-details":y(()=>[W("   ")]),_:1},8,["rows","columns","sorting","onSortColumn"])]),_:1},8,["title","loading"])}}});function So(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Troves"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof So=="function"&&So(jn);const Gv=A(jn,[["__scopeId","data-v-783b5e11"]]),jv={class:"profile"},Zv={style:{"grid-column":"1 / -1","margin-bottom":"-0.5rem"}},zv=T({__name:"Profile.page",setup(t){const e=F(),o=Ue(),{address:n}=at(),l=$e().getSocket(Ee(e.flavor)),u=new Ke(l,"ethereum"),c=_e(u.overview$,[]),i=Qe("addr"),m=q(void 0),d=q([]),f=w(()=>d.value.filter(r=>m.value?r.owner.toLocaleLowerCase()===m.value.toLocaleLowerCase():!1).map(r=>r.owner));fe(()=>{i.value&&(m.value=i.value)});const s=r=>{d.value=r};return J(n,async()=>{!i.value&&!m.value&&n.value&&await o.push({name:"profile",params:{addr:n.value}})},{immediate:!0}),xt(i,r=>{m.value=r}),(r,g)=>(_(),k("div",jv,[p("h2",Zv," Profile: "+D(a(m)??"?"),1),v(Gv,{style:{"z-index":"2"},vaults:a(c),user:a(m),onTroves:s},null,8,["vaults","user"]),v(xv,{troves:a(f)},null,8,["troves"]),v(Ev,{troves:a(f)},null,8,["troves"])]))}}),Yv=A(zv,[["__scopeId","data-v-fd3efff3"]]),Qv=[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:Pc},{path:"/stable",name:"stable",component:Xc},{path:"/redemptions",name:"redemptions",component:Iu},{path:"/liquidations",name:"liquidations",component:Ku},{path:"/revenue",name:"revenue",component:ld},{path:"/vaults",name:"vaults",component:cc},{path:"/wrappers/:tab?",name:"wrappers",component:xd},{path:"/veprisma",name:"veprisma",component:Gd},{path:"/proposals",name:"proposals",component:lm},{path:"/profile/:addr?",name:"profile",component:Yv},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:cv},{path:"/vault/:vaultAddr/trove/:troveAddr",name:"prismatrove",component:kv}],Jv={titleRoute:"/",menuItems:[{to:"/vaults",label:"Vaults",icon:"fas fa-piggy-bank"},{to:"/stable",label:()=>{const t=F();return ht(t.flavor)},icon:"fas fa-dollar-sign"},{to:"/pool",label:"Stability pool",icon:"fas fa-balance-scale"},{to:"/redemptions",label:"Redemptions",icon:"fas fa-bible"},{to:"/liquidations",label:"Liquidations",icon:"fas fa-book-dead"},{to:"/veprisma",label:"vePRISMA",icon:"fas fa-lock"},{to:"/proposals",label:"Proposals",icon:"fas fa-landmark"},{to:"/wrappers",label:"ve Wrappers",icon:"fas fa-tint"},{to:"/profile",label:"Profile",icon:"fas fa-user"}]};let Zn="http://localhost:8545";Zn=void 0;const Xv=$s({chains:[ze],connectors:[Qt(),Cs({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",showQrModal:!0,qrModalOptions:{themeMode:"dark"}}),ks(),Ss()],transports:{[ze.id]:Ls([Jt(Zn,{batch:{wait:100}}),Ts(Qt),Jt("https://eth.llamarpc.com",{batch:{wait:200}})])}});function e_(t){const e=As(t),o=Is({legacy:!1,locale:"en",fallbackLocale:"en"});e.use(o);const n=Ps();e.use(n);const l=new Ds({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:xs}},queryCache:new Vs({onError:(u,c)=>{u.message.includes("Connector not connected")||u.message.includes("connector2.getAccounts is not a function")||u.message.includes("getAccounts is not a function")||Xe({text:`Failed querying ${c.queryHash} >>> ${u.message}`,type:"error"})}})});return e.use(qs).use(Ms,{queryClient:l}).use(Rs).use(Fs,{config:Xv}),{app:e,pinia:n}}const{app:t_}=e_(Hr),a_=[Jv],o_=[Qv],zn=Rt();zn.pages=a_;zn.routes=o_;const n_=_i();t_.use(n_).mount("#app");
