import{L as Go,d as T,r as A,c as w,w as R,t as k,l as N,o as v,a as S,b as y,e as h,f as C,g as ce,h as vt,n as B,i as U,j as V,F as Z,T as Jo,u as n,k as Ke,m as Qo,p as Yo,q as Ko,W as Xo,s as Zo,v as en,x as H,y as u,z as tn,A as W,B as pe,C as Ua,D as me,E as ve,G as We,H as K,I as X,J as an,K as on,M as nn,N as sn,O as Ee,P as Xe,Q as Lt,R as ln,S as rn,U as cn,V as un,X as Se,Y as fe,Z as dn,_ as He,$ as _n,a0 as mn,a1 as vn,a2 as pn,a3 as hn}from"./vendor-54b60f3b.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();function De(o,e=0,a=".",t=","){const s=isFinite(+o)?+o:0,l=isFinite(+e)?Math.abs(e):0,r=typeof t>"u"?",":t,p=typeof a>"u"?".":a,_=function(d,c){const b=Math.pow(10,c);return Math.round(d*b)/b},i=(l?_(s,l):Math.round(s)).toString().split(".");return i[0].length>3&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(i[1]||"").length<l&&(i[1]=i[1]||"",i[1]+=new Array(l-i[1].length+1).join("0")),i.join(p)}function ee(o,e){const a=Math.abs(o);return e==="percentage"?"%":e==="dollar"?a>=1*10**12?"t":a>=1*10**9?"b":a>=1*10**6?"m":a>=1*10**3?"k":"":""}function ae(o,e,a){const t=Math.abs(o);return e===1/0?o.toLocaleString():a==="percentage"?De(o,e):a==="dollar"?t>=1*10**12?De(o/10**12,e):t>=1*10**9?De(o/10**9,e):t>=1*10**6?De(o/10**6,e):t>=1*10**3?De(o/10**3,e):De(o,e):o.toString()}async function Be(o,e=0,a=1e3){const t=await o(e,a),s=await(t.length>=a?Be(o,e+1,a):Promise.resolve([]));return t.concat(s)}function dt(o,e){return(Array.isArray(o)?o:[o]).some(t=>e.path.startsWith(t))}const fn="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",gn="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",bn="0x657ce046d98d163ef4f846210f25919fa7b31944",yn="https://api.llama.airforce/";async function $n(o,e,a){return await fetch(o,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:a}).then(t=>{if(t.ok)return t;throw new Error(`Fetch error ${t.status} for URL: ${o}`)})}async function wn(o,e,a){return await(await $n(o,e,a)).json()}class Te{constructor(e){this.host=e}async fetch(e,a,t){return wn(e,a,t)}}async function Cn(o){try{return await o()}catch(e){e instanceof Error&&Go({text:e.message,type:"error"});return}}const kn="|/-\\",M=T({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(o){let e=0,a=0;const t=A("|"),s=w(()=>o.value?ae(o.value,typeof o.precision=="function"?o.precision(o.value):o.precision,o.type??""):o.value===0&&o.showZero?"0":o.value===null||o.value===void 0?t.value:"?"),l=w(()=>o.precision===1/0?"":!o.value||!o.type||!N.isFinite(o.value)?o.showUnit&&o.type?ee(0,o.type):"":ee(o.value,o.type));return R(()=>o.value,r=>{if(clearInterval(a),e=0,r)return;const p=()=>{e=(e+1)%4,t.value=kn[e]};a=window.setInterval(p,250)},{immediate:!0}),(r,p)=>k(r.showSymbol&&r.type==="dollar"?"$":"")+k(s.value)+k(r.showUnit?l.value:"")}}),Sn={key:0,class:"fas fa-chevron-right"},Tn=T({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(o,{emit:e}){const a=e,t=l=>{var r;return o.active?o.active.id===l.id:((r=o.crumbs.at(-1))==null?void 0:r.id)===l.id},s=l=>{var r;return((r=o.crumbs.at(-1))==null?void 0:r.id)===l.id};return(l,r)=>(v(),S(n(se),null,{default:y(()=>[h(Jo,{name:"fade",tag:"ul"},{default:y(()=>[(v(!0),C(Z,null,ce(l.crumbs,p=>(v(),C("li",{key:p.id},[(v(),S(vt(t(p)?"span":"a"),{class:B({active:t(p)}),onClick:_=>a("crumb",p)},{default:y(()=>[U(k(p.label),1)]),_:2},1032,["class","onClick"])),!s(p)||l.crumbs.length===1?(v(),C("i",Sn)):V("",!0)]))),128))]),_:1})]),_:1}))}});const z=(o,e)=>{const a=o.__vccOpts||o;for(const[t,s]of e)a[t]=s;return a},Pn=z(Tn,[["__scopeId","data-v-997741c8"]]);function zn(){return!1}const pt=Ke({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(o){this.address=o==null?void 0:o.toLocaleLowerCase()}}}),Ln=Qo(),In=Yo({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"}),Dn=Zo({darkMode:!0}),xn=en();let he=null;function An(){const o=Ko({wallets:[Ln,In,Dn,xn],chains:[{id:"0x1",token:"ETH",label:"Ethereum Mainnet",rpcUrl:"https://mainnet.infura.io/v3/878382a352b14db1b7ad52a89a886207"}],appMetadata:{name:"Llama Airforce",icon:"/wallet-icon.png",description:"Airdropping knowledge bombs about the Curve ecosystem"},theme:"dark"});return o.state.actions.updateAccountCenter({enabled:!1}),o}let _t=null;async function Na(o=!1){he||(he=An());let[e]=he.state.get().wallets;if(!e){const a=window.localStorage.getItem("connectedWallet");a?[e]=await he.connectWallet({autoSelect:{label:a,disableModals:!0}}):o&&([e]=await(he==null?void 0:he.connectWallet())??[null],e&&window.localStorage.setItem("connectedWallet",e.label))}_t=e||null}function Qe(){return _t?new Xo(_t.provider):void 0}async function On(){if(!he)return;const[o]=he.state.get().wallets;await he.disconnectWallet({label:o.label}),window.localStorage.removeItem("connectedWallet")}async function Ha(o){if(!o)return!1;try{const a=await o.getSigner().getAddress();return!0}catch{return!1}}async function ja(o){if(!o)return!1;try{const{name:e,chainId:a}=await o.getNetwork();return e==="homestead"&&a===1}catch{return!1}}async function Vn(o){return await o.getSigner().getAddress()}function j(o,e=6){if(!o)return"0x000...000";const a=e/2+2,t=o.length-e/2;return`${o.substring(0,a)}...${o.substring(t)}`}const Rn=T({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const a=e,t=async s=>{if(s.stopImmediatePropagation(),o.web3&&zn()){const l=Qe();if(!l)return;await ja(l)||(await l.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())}a("click")};return(s,l)=>(v(),C("button",{class:B({primary:s.primary}),onClick:t},[H(s.$slots,"default",{},()=>[s.icon?(v(),C("i",{key:0,class:B(["icon",[s.icon,{noValue:!!s.value}]])},null,2)):V("",!0),U(" "+k(s.value),1)],!0)],2))}});const _e=z(Rn,[["__scopeId","data-v-b051a687"]]),Mn=T({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(o,{emit:e}){const a=e,t=()=>{a("update:modelValue",!o.modelValue)};return(s,l)=>(v(),C("button",{class:B({toggled:s.modelValue}),onClick:t},[H(s.$slots,"default",{},()=>[s.icon?(v(),C("i",{key:0,class:B(["icon",s.icon])},null,2)):V("",!0),U(" "+k(s.value),1)],!0)],2))}});const ot=z(Mn,[["__scopeId","data-v-a2cabc6a"]]),qn=["inert"],Wn={class:"text"},Bn=T({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(o){return(e,a)=>(v(),C("div",{class:"card",inert:e.loading},[e.loading?(v(),S(n(Ya),{key:0,class:"loader"})):V("",!0),u("div",{class:B(["card-container",{loading:e.loading}])},[e.title?(v(),C("div",{key:0,class:B(["card-header",{collapsible:e.collapsible}])},[u("div",Wn,[e.icon?(v(),C("i",{key:0,class:B(["icon",e.icon])},null,2)):V("",!0),U(" "+k(e.title),1)]),H(e.$slots,"actions",{},void 0,!0)],2)):(v(),C("div",{key:1,class:B(["card-no-header",{compact:e.compact}])},null,2)),u("div",{class:B(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[H(e.$slots,"default",{},void 0,!0)],2)],2)],8,qn))}});const se=z(Bn,[["__scopeId","data-v-6ad9ed79"]]),En=T({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(o){return(e,a)=>(v(),S(n(se),{class:"card-graph",title:e.title,loading:e.loading},{default:y(()=>[h(n(Ga),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),H(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const ie=z(En,[["__scopeId","data-v-4e0fd9b7"]]),Fn={class:"chip"},Un={class:"label"},Nn=T({__name:"Chip",props:{label:{default:""}},setup(o){return(e,a)=>(v(),C("div",Fn,[u("div",Un,k(e.label),1)]))}});const Hn=z(Nn,[["__scopeId","data-v-1eb2caf8"]]);const jn={class:"collapsible-inside"},Gn=T({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(o){return(e,a)=>(v(),C("div",{class:B(["collapsible-outside",{expanded:e.expanded}])},[u("div",jn,[H(e.$slots,"default",{},void 0,!0)])],2))}});const ht=z(Gn,[["__scopeId","data-v-25b74378"]]),Jn=["inert"],Qn={key:0,class:"header"},Yn={key:0,class:"header-icon"},Kn={class:"header-actions"},Xn={class:"list"},Zn=["onClick"],es={key:0,class:"sorting-arrows"},ts={key:0,class:"sorting-arrow fa fa-caret-up"},as={key:1,class:"sorting-arrow fa fa-caret-down"},os={key:2,class:"sorting-arrow"},ns={class:"rows"},ss={key:1,class:"no-data"},ft=T({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(o,{emit:e}){const a=e,t=A(""),s=A(te.Ascending),l=w(()=>`grid-template-columns: ${o.columnsHeader}`),r=w(()=>{if(o.rowsMin===null)return[];const f=Math.max(0,o.rowsMin-o.rows.length);return new Array(f)});tn(()=>{o.sortingDefaultColumn&&(t.value=o.sortingDefaultColumn),o.sortingDefaultDir&&(s.value=o.sortingDefaultDir===te.Ascending?te.Ascending:te.Descending)});const p=f=>{a("selected",f)},{t:_}=W(),i=f=>{const x=f+1;return!!(o.rows[f+1]&&o.rows.findIndex(O=>O===o.selectedRow)===x)},d=f=>o.expanded.includes(f),c=f=>{const x=o.sortingColumns[f];return o.sortingColumnsEnabled.includes(x)},b=f=>t.value===o.sortingColumns[f]&&s.value===te.Ascending,m=f=>t.value===o.sortingColumns[f]&&s.value===te.Descending,g=f=>{if(!o.sorting||!o.sortingColumns||!c(f))return;const x=o.sortingColumns[f];x===t.value?s.value=s.value===te.Ascending?te.Descending:te.Ascending:s.value=te.Ascending,t.value=x,a("sortColumn",t.value,s.value)};return(f,x)=>(v(),C("div",{class:B(["datatable",{loading:f.loading}]),inert:f.loading},[f.header?(v(),C("div",Qn,[f.icon?(v(),C("div",Yn,[u("i",{class:B(f.icon)},null,2)])):V("",!0),u("div",{class:"header-title",style:pe(l.value)},[H(f.$slots,"header-title",{},void 0,!0)],4),u("div",Kn,[H(f.$slots,"header-actions",{},void 0,!0)])])):V("",!0),u("div",Xn,[u("div",{class:B(["row-data",[f.columnsData,{"selected-below":i(-1)}]])},[H(f.$slots,"column-headers",{},()=>[(v(!0),C(Z,null,ce(f.columns,(I,q)=>(v(),C("div",{key:I,class:B(["column-header",{"sortable-header":f.sorting&&c(q),"current-sort":t.value==f.sortingColumns[q]}]),onClick:O=>g(q)},[U(k(I)+" ",1),f.sorting&&c(q)?(v(),C("div",es,[b(q)?(v(),C("i",ts)):m(q)?(v(),C("i",as)):(v(),C("span",os," — "))])):V("",!0)],10,Zn))),128))],!0)],2),u("div",ns,[f.loading?(v(),S(n(Ya),{key:0,class:"loader"})):V("",!0),(v(!0),C(Z,null,ce(f.rows,(I,q)=>(v(),S(n(rt),{key:I,data:I,class:B({"selected-below":i(q)}),columns:f.columnsData,selected:f.selectedRow===I,expanded:d(I),onClick:p},{row:y(()=>[H(f.$slots,"row",{item:I},void 0,!0)]),"row-details":y(()=>[H(f.$slots,"row-details",{item:I},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(v(!0),C(Z,null,ce(r.value,I=>(v(),S(n(rt),{key:I}))),128)),!f.rowsMin&&(!f.rows||f.rows.length===0)&&!f.loading?(v(),C("div",ss,[H(f.$slots,"no-data",{},()=>[U(k(n(_)("no-data")),1)],!0)])):V("",!0),f.$slots["row-aggregation"]&&f.rows.length>0?(v(),S(n(rt),{key:2,class:"aggregation",columns:f.columnsData},{row:y(()=>[H(f.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):V("",!0)])])],10,Jn))}});function It(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":a=>{const{normalize:t}=a;return t(["No data :("])}}})}function Dt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":a=>{const{normalize:t}=a;return t(["没有数据 :("])}}})}typeof It=="function"&&It(ft);typeof Dt=="function"&&Dt(ft);const ne=z(ft,[["__scopeId","data-v-414389d7"]]),ls=o=>(me("data-v-45ff862c"),o=o(),ve(),o),rs=ls(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),is=[rs],cs={class:"row-details"},us=T({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const a=e,t=Ua(),s=w(()=>{var p;const r=t["row-details"];if(r){const _=(p=r()[0])==null?void 0:p.children;if(_)return _.length>0}return!1}),l=()=>{a("click",o.data)};return(r,p)=>(v(),C("div",{class:B(["row",{expanded:r.expanded}])},[u("div",{class:B(["row-data item",[r.columns,{active:r.selected,expandable:s.value}]]),onClick:l},[H(r.$slots,"row",{},void 0,!0),s.value?(v(),C("div",{key:0,class:B(["expander",{expanded:r.expanded}])},is,2)):V("",!0)],2),h(n(ht),{expanded:r.expanded},{default:y(()=>[u("div",cs,[H(r.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const rt=z(us,[["__scopeId","data-v-45ff862c"]]),ds=T({__name:"GraphApex",props:{options:{},series:{}},setup(o){return(e,a)=>{const t=We("apexchart");return v(),S(t,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const Ga=z(ds,[["__scopeId","data-v-3e2879ed"]]);const _s=o=>(me("data-v-a7ae5e73"),o=o(),ve(),o),ms={class:"input-text"},vs={key:0,class:"icon"},ps=_s(()=>u("i",{class:"fas fa-search"},null,-1)),hs=[ps],fs=["type","value","placeholder","onInput"],gs=["onClick"],bs=T({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(o,{emit:e}){const a=e,t=w(()=>{const l=o.options.filter(p=>o.filter(o.modelValue,p));return o.sort?[...l].sort(o.sort):l}),s=l=>{const r=l.target.value;a("update:modelValue",r),a("input",r)};return(l,r)=>(v(),C("div",ms,[l.search?(v(),C("span",vs,hs)):V("",!0),u("input",{type:l.search?"search":"text",value:l.modelValue,placeholder:l.placeholder,onInput:K(s,["stop"]),onSelect:r[0]||(r[0]=K(()=>{},["stop"]))},null,40,fs),l.options&&l.autoComplete?(v(),C("div",{key:1,class:B(["items",{selectHide:!l.autoComplete}])},[(v(!0),C(Z,null,ce(t.value,(p,_)=>(v(),C("div",{key:_,onClick:i=>a("select",p)},[H(l.$slots,"item",{item:p,idx:_},()=>[U(k(p),1)],!0)],8,gs))),128))],2)):V("",!0)]))}});const ue=z(bs,[["__scopeId","data-v-a7ae5e73"]]),ys={key:0,class:"value"},$s={key:1,class:"value"},ws=["innerHTML"],Cs={key:0,class:"value"},ks={key:1,class:"value"},Ss=["innerHTML"],Ts={class:"labels"},Ps={class:"label"},zs={class:"label-second"},Ls=T({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(o){return(e,a)=>(v(),C("div",{class:B(["kpi",{disabled:!e.hasValue}])},[u("div",{class:B(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[H(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(v(),S(n(Ye),{key:0},{item:y(()=>[e.hasValue?(v(),C("span",ys,k(e.value),1)):(v(),C("span",$s," ? "))]),default:y(()=>[H(e.$slots,"tooltip",{},()=>[u("span",{innerHTML:e.tooltip},null,8,ws)],!0)]),_:3})):(v(),C(Z,{key:1},[e.hasValue?(v(),C("span",Cs,k(e.value),1)):(v(),C("span",ks," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(v(),S(n(Ye),{key:0},{default:y(()=>[u("span",{innerHTML:e.tooltip},null,8,Ss)]),_:1})):V("",!0)],2),u("div",Ts,[H(e.$slots,"label",{},()=>[u("div",Ps,k(e.label),1)],!0),H(e.$slots,"label-second",{},()=>[u("div",zs,k(e.labelSecond),1)],!0)])],2))}});const oe=z(Ls,[["__scopeId","data-v-0123c061"]]),Is={key:0,class:"modal"},Ds={class:"modal-popup"},xs=T({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(o,{emit:e}){const a=e,t=s=>{s.code==="Escape"&&a("close")};return X(()=>{document.addEventListener("keydown",t)}),an(()=>{document.removeEventListener("keydown",t)}),R(()=>o.show,s=>{document.body.style.overflow=s?"hidden":""}),(s,l)=>s.show?(v(),C("div",Is,[u("div",{class:"modal-mask",onClick:l[0]||(l[0]=r=>a("close"))}),u("div",Ds,[H(s.$slots,"default",{},void 0,!0)])])):V("",!0)}});const xe=z(xs,[["__scopeId","data-v-8f349360"]]),As={class:"buttons"},Os={key:1,class:"not-ready"},Ja=T({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(o,{emit:e}){const a=e,{t}=W();return(s,l)=>(v(),S(n(xe),{show:s.show},{default:y(()=>[h(n(se),{title:s.title},{default:y(()=>[H(s.$slots,"default",{},void 0,!0),u("div",As,[h(n(_e),{class:"no",value:n(t)("no"),onClick:l[0]||(l[0]=r=>a("no"))},null,8,["value"]),s.ready?(v(),S(n(_e),{key:0,class:"yes",value:n(t)("yes"),onClick:l[1]||(l[1]=r=>a("yes"))},null,8,["value"])):(v(),C("div",Os,k(s.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function xt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:a=>{const{normalize:t}=a;return t(["Yes"])},no:a=>{const{normalize:t}=a;return t(["No"])}}})}function At(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:a=>{const{normalize:t}=a;return t(["是的"])},no:a=>{const{normalize:t}=a;return t(["不是"])}}})}typeof xt=="function"&&xt(Ja);typeof At=="function"&&At(Ja);const gt=o=>(me("data-v-6ab859e6"),o=o(),ve(),o),Vs=gt(()=>u("button",null,"1",-1)),Rs=[Vs],Ms=gt(()=>u("button",null,[u("i",{class:"fas fa-chevron-left"})],-1)),qs=[Ms],Ws=["onClick"],Bs=gt(()=>u("button",null,[u("i",{class:"fas fa-chevron-right"})],-1)),Es=[Bs],Fs=T({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(o,{emit:e}){const a=e,t=w(()=>Math.ceil(o.itemsCount/o.itemsPerPage)),s=w(()=>{const c=[...Array(12).keys()].map(I=>I-6+o.page).filter(I=>I>=1&&I<=t.value),b=c.findIndex(I=>I===o.page),m=[],g=[],f=o.page!==1&&o.page!==t.value?[o.page]:[];let x=1;for(;;){const I=c[b-x];if(I&&I!==1&&m.unshift(I),m.length+g.length+f.length>=5||x>c.length)break;const q=c[b+x];if(q&&q!==t.value&&g.push(q),x++,m.length+g.length+f.length>=5||x>c.length)break}return[...m,...f,...g]}),l=(i,d,c)=>Math.min(Math.max(i,d),c),r=()=>a("page",l(o.page-1,1,t.value)),p=()=>a("page",l(o.page+1,1,t.value)),_=i=>a("page",l(i,1,t.value));return(i,d)=>(v(),C("ul",null,[u("li",{class:B({active:i.page===1}),onClick:d[0]||(d[0]=c=>_(1))},Rs,2),t.value>2?(v(),C("li",{key:0,onClick:r},qs)):V("",!0),(v(!0),C(Z,null,ce(s.value,c=>(v(),C("li",{key:c,class:B({active:c===i.page}),onClick:b=>_(c)},[u("button",null,k(c),1)],10,Ws))),128)),t.value>2?(v(),C("li",{key:1,onClick:p},Es)):V("",!0),t.value>1?(v(),C("li",{key:2,class:B({active:i.page===t.value}),onClick:d[1]||(d[1]=c=>_(t.value))},[u("button",null,k(t.value),1)],2)):V("",!0)]))}});const ge=z(Fs,[["__scopeId","data-v-6ab859e6"]]),Us=o=>(me("data-v-8e55132f"),o=o(),ve(),o),Ns={class:"select"},Hs={class:"item"},js={key:0,class:"label"},Gs=["onClick"],Js=Us(()=>u("div",{class:"chevrons"},[u("i",{class:"fas fa-chevron-up"}),u("i",{class:"fas fa-chevron-down"})],-1)),Qs=T({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(o,{emit:e}){const a=e;return(t,s)=>(v(),C("div",{class:"select-container",tabindex:"0",onClick:s[0]||(s[0]=K(l=>a("open"),["stop"])),onBlur:s[1]||(s[1]=l=>a("close"))},[u("div",Ns,[u("div",{class:B(["selected",{open:t.open}])},[H(t.$slots,"item",{item:t.selected},()=>[u("div",Hs,k(t.selected),1)],!0),t.label?(v(),C("div",js,k(t.label),1)):V("",!0)],2),u("div",{class:B(["items",{selectHide:!t.open}])},[(v(!0),C(Z,null,ce(t.options,(l,r)=>(v(),C("div",{key:r,onClick:p=>a("input",l)},[H(t.$slots,"item",{item:l},()=>[U(k(l),1)],!0)],8,Gs))),128))],2)]),Js],32))}});const bt=z(Qs,[["__scopeId","data-v-8e55132f"]]),Ys={class:"item"},Ks={class:"label"},Ot="locale",Xs=T({__name:"SelectLanguage",props:{locales:{default:()=>Zs},direction:{default:"up"}},setup(o){const{t:e}=W(),{locale:a}=W({useScope:"global"}),t=A("en"),s=A(!1);X(()=>{const p=localStorage.getItem(Ot);p&&o.locales.some(_=>_===p)&&r(p)});const l=()=>{s.value=!s.value},r=p=>{t.value=p,a.value=t.value,localStorage.setItem(Ot,t.value)};return(p,_)=>(v(),S(n(bt),{class:B(["select",{"direction-up":p.direction==="up"}]),options:p.locales.map(i=>i),selected:t.value,open:s.value,onOpen:l,onClose:_[0]||(_[0]=i=>s.value=!1),onInput:r},{item:y(i=>[u("div",Ys,[u("div",Ks,k(n(e)(i.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function Vt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:a=>{const{normalize:t}=a;return t(["English"])},zh:a=>{const{normalize:t}=a;return t(["中文"])},fr:a=>{const{normalize:t}=a;return t(["Français"])}}})}typeof Vt=="function"&&Vt(Xs);const Zs=["en","zh","fr"];var te=(o=>(o.Ascending="Ascending",o.Descending="Descending",o))(te||{});const el={},Qa=o=>(me("data-v-ad2adcec"),o=o(),ve(),o),tl={class:"lds-ripple"},al=Qa(()=>u("div",null,null,-1)),ol=Qa(()=>u("div",null,null,-1)),nl=[al,ol];function sl(o,e){return v(),C("div",tl,nl)}const Ya=z(el,[["render",sl],["__scopeId","data-v-ad2adcec"]]),Ce=T({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(o){return(e,a)=>H(e.$slots,"default")}}),ll={class:"tab-view"},rl={class:"tab-headers"},il=["onClick"],cl={class:"tabs"},ul=T({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(o,{emit:e}){const a=e,t=A(null),s=Ua(),l=w(()=>s!=null&&s.default?s.default():[]);R(()=>o.active,p=>{t.value=p,a("tab",{tab:l.value[p],index:t.value})},{immediate:!0});const r=(p,_)=>{p.props.disabled||(t.value=_,a("tab",{tab:l.value[_],index:t.value}))};return(p,_)=>(v(),C("div",ll,[u("ul",rl,[(v(!0),C(Z,null,ce(l.value,(i,d)=>(v(),C("li",{key:d,class:B(["tab-header",{active:t.value===d,disabled:i.props.disabled}]),onClick:c=>r(i,d)},k(i.props.header),11,il))),128))]),u("div",cl,[(v(!0),C(Z,null,ce(l.value,(i,d)=>on((v(),C("div",{key:d,class:"tab"},[(v(),S(vt(i)))])),[[nn,t.value===d]])),128))])]))}});const yt=z(ul,[["__scopeId","data-v-4a99a489"]]),dl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",_l={key:1,src:dl},ml=T({__name:"Tooltip",props:{icon:{default:""}},setup(o){const e=A(!1);return(a,t)=>(v(),S(n(sn),{class:"tooltip",show:e.value},{content:y(()=>[H(a.$slots,"default",{},void 0,!0)]),default:y(()=>[u("div",{onMouseover:t[0]||(t[0]=s=>e.value=!0),onMouseleave:t[1]||(t[1]=s=>e.value=!1)},[H(a.$slots,"item",{},()=>[a.icon?(v(),C("i",{key:0,class:B(a.icon)},null,2)):(v(),C("img",_l))],!0)],32)]),_:3},8,["show"]))}});const Ye=z(ml,[["__scopeId","data-v-2158cb4b"]]);function F(o,e){const a=A(!1),t=A(e);let s=0;const l=()=>(s++,a.value=!0,Cn(async()=>{t.value=await o(),s--,a.value=s!==0}));return X(()=>void l()),{loading:a,data:t,loadData:l}}function vl(o,e){const t=Math.round(o.value/1e3)-e;return t<60?`${Math.round(t)} seconds ago`:t<60*60?`${Math.round(t/60)} minutes ago`:t<60*60*24?`${Math.round(t/(60*60))} hours ago`:`${Math.round(t/(60*60*24))} days ago`}function be(){const o=A(Date.now());return X(()=>{setInterval(()=>{o.value=Date.now()})}),{relativeTime:a=>vl(o,a)}}function Pe(o,e){const a=A(o),t=A(e??te.Descending);return{sortColumn:a,sortOrder:t,onSort:(l,r)=>{a.value=l,t.value=r}}}function ye(o,e){const a=A(1),t=w(()=>N.chain(o.value).drop((a.value-1)*e).take(e).value()),s=l=>{a.value=l};return R(t,l=>{l.length===0&&(a.value=Math.max(1,Math.ceil(o.value.length/e)))}),{page:a,rowsPage:t,onPage:s}}const pl={class:"legend"},hl=["onClick"],fl={class:"label"},gl=T({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(o,{emit:e}){const a=e,t=s=>o.colors[s];return(s,l)=>(v(),C("div",pl,[(v(!0),C(Z,null,ce(s.items,(r,p)=>(v(),C("div",{key:r,class:B(["item",{clickable:s.clickable,disabled:s.disabled.includes(r)}]),onClick:_=>{s.clickable&&a("click",r)}},[u("div",{class:"color",style:pe({"background-color":t(p)})},null,4),u("div",fl,k(r),1)],10,hl))),128))]))}});const bl=z(gl,[["__scopeId","data-v-b0a9ca48"]]);function it(o){return(o==null?void 0:o.children)!==void 0}function Rt(o){return(o==null?void 0:o.to)!==void 0}const yl={key:0},$l={class:"nav-link-container"},wl={class:"nav-link-container"},Cl={class:"left"},kl={class:"right"},Sl=T({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(o,{emit:e}){const a=e,t=Ee(),s=A(!0),l=w(()=>Rt(o.item)?[o.item]:it(o.item)?o.item.children:[]),r=()=>{it(o.item)&&o.item.children.filter(i=>dt(i.to,t)).length>0&&(s.value=!0)};R(()=>o.item,()=>{r()},{immediate:!0}),R(()=>t.fullPath,()=>{r()},{immediate:!0});const p=()=>{s.value=!s.value};return(_,i)=>{const d=We("router-link");return v(),C(Z,null,[n(it)(_.item)?(v(),C("li",yl,[u("a",{class:"nav-link node",onClick:p},[u("div",$l,[U(k(_.item.label)+" ",1),u("i",{class:B(["expander fas fa-chevron-up",{expanded:s.value}])},null,2)])])])):V("",!0),h(n(ht),{class:"items",expanded:s.value},{default:y(()=>[u("ul",null,[(v(!0),C(Z,null,ce(l.value,c=>(v(),C("li",{key:c.label},[n(Rt)(c)?(v(),S(d,{key:0,to:c.to,class:B(["nav-link leaf",{"router-link-active":n(dt)(c.to,n(t))}]),onClick:i[0]||(i[0]=b=>a("navigated"))},{default:y(()=>[u("div",wl,[u("div",Cl,k(c.label),1),u("div",kl,[c.tag==="beta"?(v(),S(n(Hn),{key:0,label:"BETA"})):V("",!0)])])]),_:2},1032,["to","class"])):V("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const Tl=z(Sl,[["__scopeId","data-v-d8ba8816"]]),Pl=T({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(o,{emit:e}){const a=e,t=Ee(),s=w(()=>o.pages.find(r=>dt(r.titleRoute,t))),l=w(()=>{var r;return((r=s.value)==null?void 0:r.menuItems)??[]});return(r,p)=>(v(),C("nav",null,[(v(!0),C(Z,null,ce(l.value,_=>(v(),C("ul",{key:_.label},[h(Tl,{item:_,onNavigated:p[0]||(p[0]=i=>a("navigated"))},null,8,["item"])]))),128))]))}});const zl=z(Pl,[["__scopeId","data-v-59493144"]]),Ll="/assets/prisma-b38af1f3.png",Il="/assets/hat-80c6c9b1.png";const Dl={},Ka=o=>(me("data-v-f01d266e"),o=o(),ve(),o),xl={class:"logo"},Al=Ka(()=>u("div",{class:"visual"},[u("img",{src:Ll}),u("img",{src:Il})],-1)),Ol=Ka(()=>u("span",null,"prisma.monitor",-1)),Vl=[Al,Ol];function Rl(o,e){return v(),C("div",xl,Vl)}const Ml=z(Dl,[["render",Rl],["__scopeId","data-v-f01d266e"]]),ql={class:"header"},Wl={class:"buttons"},Bl=T({__name:"Header",emits:["toggle-expansion","navigated"],setup(o,{emit:e}){const a=e;return(t,s)=>{const l=We("router-link");return v(),C("div",ql,[h(l,{class:"logo",to:"/",onClick:s[0]||(s[0]=r=>a("navigated"))},{default:y(()=>[h(Ml,{class:"logo"})]),_:1}),u("div",Wl,[h(n(_e),{icon:"fas fa-bars",onClick:s[1]||(s[1]=r=>a("toggle-expansion"))})])])}}});const El=z(Bl,[["__scopeId","data-v-a5771fce"]]),Fl=o=>(me("data-v-2a3f89a0"),o=o(),ve(),o),Ul={class:"buttons"},Nl=Fl(()=>u("i",{class:"fas fa-trash"},null,-1)),Hl=["innerHTML"],$t=T({__name:"WalletConnectButton",emits:["connected"],setup(o,{emit:e}){const{t:a}=W(),t=e,s=pt(),l=async()=>{await Na(!0);const p=Qe(),_=await Ha(p);s.connected=_,_&&t("connected")},r=()=>{window.localStorage.removeItem("connectedWallet")};return(p,_)=>(v(),C("div",Ul,[h(n(_e),{class:"button",primary:!0,onClick:l},{default:y(()=>[U(k(n(a)("connect-your-wallet")),1)]),_:1}),h(n(Ye),{class:"tooltip"},{item:y(()=>[h(n(_e),{class:"button clear",onClick:r},{default:y(()=>[Nl]),_:1})]),default:y(()=>[u("div",{class:"ping",innerHTML:n(a)("clear-cache")},null,8,Hl)]),_:1})]))}});function Mt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"connect-your-wallet":a=>{const{normalize:t}=a;return t(["Connect Wallet"])},"clear-cache":a=>{const{normalize:t}=a;return t(["<b>Clear Cache</b><br /> Press this button to possibly solve the issue of a non-working connect button.<br /> This problem often occurs when you switch between wallet extensions in your browser.<br /> Try to connect again after pressing this button."])}}})}function qt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"connect-your-wallet":a=>{const{normalize:t}=a;return t(["连接你的钱包"])},"clear-cache":a=>{const{normalize:t}=a;return t(["<b>清除缓存</b><br /> 按下这个按钮，可能会解决连接按钮不工作的问题.<br /> 这个问题经常发生在你在浏览器中切换钱包扩展时.<br /> 按下这个按钮后，尝试再次连接."])}}})}typeof Mt=="function"&&Mt($t);typeof qt=="function"&&qt($t);const jl=z($t,[["__scopeId","data-v-2a3f89a0"]]),Gl={class:"wallet"},Jl={key:0,class:"connected"},Ql={key:0,class:"incorrectNetwork"},Yl={class:"info"},Kl={key:1,class:"notConnected"},Xl={key:0,class:"info"},Xa=T({__name:"Wallet",props:{labelPleaseConnect:{}},setup(o){const{t:e}=W(),a=pt(),t=w(()=>a.connected),s=w(()=>a.correctNetwork),l=w(()=>j(a.address));X(async()=>{await Na();const _=Qe(),i=await Ha(_);a.connected=i;const d=await ja(_);a.correctNetwork=d}),R(()=>a.connected,async _=>{const i=Qe(),d=i&&_?await Vn(i):void 0;a.setAddress(d)},{immediate:!0});const r=async()=>{const _=Qe();_&&(await _.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())},p=async()=>{await On(),a.connected=!1};return(_,i)=>(v(),C("div",Gl,[t.value?(v(),C("div",Jl,[s.value?V("",!0):(v(),C("div",Ql,[h(n(_e),{class:"changeNetwork",value:"Change Network",primary:!0,onClick:r}),u("span",Yl,k(n(e)("incorrect-network")),1)])),h(n(_e),{class:"disconnect",icon:"fas fa-check",value:l.value,onClick:p},null,8,["value"])])):(v(),C("div",Kl,[h(jl),_.labelPleaseConnect?(v(),C("span",Xl,k(_.labelPleaseConnect),1)):V("",!0)]))]))}});function Wt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"incorrect-network":a=>{const{normalize:t}=a;return t(["You are not on the correct network; should be Ethereum"])}}})}typeof Wt=="function"&&Wt(Xa);const Zl=z(Xa,[["__scopeId","data-v-7d2ec4f7"]]),Oe={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"};Oe.blue,Oe.yellow,Oe.green,Oe.red,Oe.purple;const Ve={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"};Ve.blue,Ve.yellow,Ve.green,Ve.red,Ve.purple;const Re={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"};Re.blue,Re.yellow,Re.green,Re.red,Re.purple;function Bt(o){return o==="chad"?Re:o==="light"?Ve:Oe}const Y=Ke({id:"settingsStore",state:()=>({theme:"light"})}),er={class:"theme"},tr={class:"label"},ar={class:"colors"},or=T({__name:"SelectTheme",setup(o){const e=[{id:"dark",colors:Bt("dark")},{id:"light",colors:Bt("light")}],a=Y(),t=A(e[0]),s=A(!1);X(()=>{const p=window.matchMedia("(prefers-color-scheme: dark)").matches,_=localStorage.getItem("theme");if(!_&&p)r(e.find(i=>i.id==="dark"));else{const i=e.find(d=>d.id===_)??e.find(d=>d.id==="light")??e[0];r(i)}});const l=()=>{s.value=!s.value},r=p=>{t.value=p,window.document.documentElement.setAttribute("data-theme",t.value.id),a.theme=t.value.id,localStorage.setItem("theme",t.value.id)};return(p,_)=>(v(),S(n(bt),{class:"select direction-up",options:e.map(i=>i),selected:t.value,open:s.value,onOpen:l,onClose:_[0]||(_[0]=i=>s.value=!1),onInput:r},{item:y(i=>[u("div",er,[u("div",tr,k(i.item.id),1),u("div",ar,[u("div",{class:"color",style:pe({"background-color":i.item.colors.backgroundColor})},null,4),u("div",{class:"color",style:pe({"background-color":i.item.colors.level1})},null,4),u("div",{class:"color",style:pe({"background-color":i.item.colors.level2})},null,4),u("div",{class:"color",style:pe({"background-color":i.item.colors.blue})},null,4),u("div",{class:"color",style:pe({"background-color":i.item.colors.yellow})},null,4),u("div",{class:"color",style:pe({"background-color":i.item.colors.green})},null,4),u("div",{class:"color",style:pe({"background-color":i.item.colors.red})},null,4),u("div",{class:"color",style:pe({"background-color":i.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const nr=z(or,[["__scopeId","data-v-12a81df3"]]),sr={class:"bottom"},lr={class:"buttons"},rr={href:"https://twitter.com/0xAlunara",target:"_blank"},ir={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},cr={class:"selectors"},ur=T({__name:"Bottom",emits:["navigated"],setup(o,{emit:e}){const a=e,t=async()=>{await navigator.clipboard.writeText(window.location.href)};return(s,l)=>{const r=We("router-link");return v(),C("div",sr,[u("div",lr,[h(n(_e),{class:"copy",icon:"fas fa-link",onClick:t}),u("a",rr,[h(n(_e),{icon:"fab fa-twitter"})]),u("a",ir,[h(n(_e),{icon:"fab fa-github"})]),h(r,{to:"/code"},{default:y(()=>[h(n(_e),{icon:"fas fa-code",onClick:l[0]||(l[0]=p=>a("navigated"))})]),_:1})]),u("div",cr,[h(nr,{class:"themes"})]),h(Zl)])}}});const dr=z(ur,[["__scopeId","data-v-0cf9bbd9"]]),wt=Ke({id:"pageStore",state:()=>({pages:[]})}),_r=T({__name:"Navigation",emits:["navigated"],setup(o,{emit:e}){const a=e,t=wt(),s=A(!1),l=()=>{s.value=!1,a("navigated")};return(r,p)=>(v(),C("div",{class:B(["menu-desktop",{expanded:s.value}])},[h(El,{onToggleExpansion:p[0]||(p[0]=_=>s.value=!s.value),onNavigated:l}),h(n(ht),{class:"menu-content",expanded:s.value},{default:y(()=>[h(n(zl),{pages:n(t).pages,onNavigated:l},null,8,["pages"]),h(dr,{onNavigated:l})]),_:1},8,["expanded"])],2))}});const mr=z(_r,[["__scopeId","data-v-07323d4e"]]),nt=Ke({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),vr={class:"root"},pr={class:"main"},hr={class:"content"},fr=T({__name:"App",setup(o){const e=nt(),a=Ee(),t=Xe();R(()=>a.fullPath,l=>{["/pool","/mkusd","/redemptions","/liquidation","/profile","/cvxprisma","/veprisma"].some(p=>l.startsWith(p))&&(e.show=!1)});const s=async l=>{l.pathName&&await t.push({name:l.pathName})};return(l,r)=>{const p=We("notifications"),_=We("router-view");return v(),C("div",vr,[h(p,{width:600,duration:-1}),h(mr,{class:"navigation"}),u("main",pr,[h(Lt,{name:"fade",mode:"out-in"},{default:y(()=>[n(e).show?(v(),S(n(Pn),{key:0,class:"breadcrumb",crumbs:n(e).crumbs,onCrumb:s},null,8,["crumbs"])):V("",!0)]),_:1}),u("div",hr,[h(_,null,{default:y(({Component:i})=>[h(Lt,{name:"fade",mode:"out-in"},{default:y(()=>[(v(),S(vt(i)))]),_:2},1024)]),_:1})])])])}}});const gr=z(fr,[["__scopeId","data-v-a9268efe"]]),br="/assets/404-3a4df870.png",yr=o=>(me("data-v-c157f3ee"),o=o(),ve(),o),$r={class:"not-found"},wr={class:"not-found-container"},Cr=yr(()=>u("img",{src:br},null,-1)),Za=T({__name:"NotFound",setup(o){const{t:e}=W();return(a,t)=>(v(),C("div",$r,[u("div",wr,[h(n(se),null,{default:y(()=>[U(k(n(e)("404")),1)]),_:1}),Cr])]))}});function Et(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:a=>{const{normalize:t}=a;return t(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof Et=="function"&&Et(Za);const kr=z(Za,[["__scopeId","data-v-c157f3ee"]]),Sr={class:"contracts"},Tr={class:"row"},Pr=["href"],zr=["href"],eo=T({__name:"Code",setup(o){const{t:e}=W(),t=[{name:"Llama Airforce",contracts:[{contract:fn,description:"multisig",gnosis:!0},{contract:gn,description:"treasury",gnosis:!0},{contract:bn,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]}],s=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}],l=r=>{switch(r.network){case"arbitrum":return r.gnosis?`https://app.safe.global/arb1:${r.contract}`:`https://arbiscan.io/address/${r.contract}`;case"ethereum":default:return r.gnosis?`https://app.safe.global/eth:${r.contract}`:`https://etherscan.io/address/${r.contract}`}};return(r,p)=>(v(),C("div",Sr,[u("div",Tr,[h(n(ne),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:s,columns:[n(e)("repository"),n(e)("description")]},{"header-title":y(()=>[u("div",null,k(n(e)("repositories")),1)]),row:y(_=>[u("div",null,[u("a",{href:_.item.url,target:"_blank"},k(_.item.name),9,Pr)]),u("div",null,k(n(e)(_.item.description)),1)]),_:1},8,["columns"])]),(v(),C(Z,null,ce(t,(_,i)=>h(n(ne),{key:i,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:_.contracts,columns:[n(e)("contract"),n(e)("description")]},{"header-title":y(()=>[u("div",null,k(n(e)(_.name)),1)]),row:y(d=>[u("div",null,[u("a",{href:l(d.item),target:"_blank"},k(d.item.contract),9,zr)]),u("div",null,k(n(e)(d.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function Ft(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:a=>{const{normalize:t}=a;return t(["Repositories"])},repository:a=>{const{normalize:t}=a;return t(["Repository"])},description:a=>{const{normalize:t}=a;return t(["Description"])},contract:a=>{const{normalize:t}=a;return t(["Contract"])},other:a=>{const{normalize:t}=a;return t(["Other"])},"repo-laf":a=>{const{normalize:t}=a;return t(["This website's front-end, excluding the Union"])},multisig:a=>{const{normalize:t}=a;return t(["Multisig"])},treasury:a=>{const{normalize:t}=a;return t(["Treasury"])},"treasury-arbitrum":a=>{const{normalize:t}=a;return t(["Treasury Arbitrum"])}}})}typeof Ft=="function"&&Ft(eo);const Lr=z(eo,[["__scopeId","data-v-ed0a11dc"]]);function Ir(){const o=wt(),e=[{path:"/code",component:Lr},...o.pages.flatMap(t=>t.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:kr}];return ln({history:rn(),routes:e})}const Dr=o=>({chart:{id:"chart",background:"transparant",foreColor:o.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:o.colorsArray,grid:{borderColor:o.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:o.colors.level5,height:1},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:o.colors.level5},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}}});function re(o,e){const a=Dr(o),t=(s,l)=>{if(typeof l=="object"){N.mergeWith(s,l,t);return}else return s||l};return N.mergeWith(e,a,t)}const Me={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},xr=[Me.blue,Me.yellow,Me.green,Me.red,Me.purple,"#ff8f33"],qe={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Ar=[qe.blue,qe.yellow,qe.green,qe.red,qe.purple];function G(o){return o==="light"?qe:Me}function le(o){return o==="light"?Ar:xr}function E(){return yn}const we="https://api.prismamonitor.com/v1";class Ie extends Te{async getHistoricalOpenTrovesOverview(e,a){return this.fetch(`${we}/managers/${e}/open_troves?period=${a}`)}async getHistoricalCollateralRatiosOverview(e,a){return this.fetch(`${we}/managers/${e}/collateral_ratios?period=${a}`)}async getCollateralRatioGrouped(e,a){return this.fetch(`${we}/managers/${e}/global_collateral_ratio?period=${a}`)}async getHistoricalCollateralOverview(e,a){return this.fetch(`${we}/managers/${e}/collateral?period=${a}`)}async getRatioDistributionGrouped(e){return this.fetch(`${we}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,a,t){return this.fetch(`${we}/managers/${e}/${a}/large_positions?unit=${t}`)}async getVaultCollateralRatio(e,a,t){return this.fetch(`${we}/managers/${e}/${a}/collateral_ratio?period=${t}`)}async getVaultTroveCount(e,a,t){return this.fetch(`${we}/managers/${e}/${a}/open_trove_count?period=${t}`)}async getTroveDistribution(e,a,t){return this.fetch(`${we}/managers/${e}/${a}/histograms?unit=${t}`)}}const to=T({__name:"ChartOpenTroves",setup(o){const{t:e}=W(),a=new Ie(E()),t=Y(),{loading:s,data:l}=F(()=>a.getHistoricalOpenTrovesOverview("ethereum","6m").then(d=>d.managers),[]),r=w(()=>{const d=G(t.theme),c=le(t.theme);return re({colors:d,colorsArray:c},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:i,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:b,dataPointIndex:m,w:g})=>{let f=0;const x=b.map((I,q)=>{const O=I[m];return f+=O,`<div><b>${g.globals.seriesNames[q]}</b>: ${O}</div>`});return x.push(`<div><b>Total</b>: ${f}</div>`),x.join("")}}})}),p=w(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(d=>new Date(d.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),_=w(()=>l.value.length===0?[]:l.value.map(d=>({name:d.manager,data:d.data.map(c=>c.value)}))),i=d=>d;return(d,c)=>(v(),S(n(ie),{class:"chart",title:n(e)("title"),loading:n(s),options:r.value,series:_.value},null,8,["title","loading","options","series"]))}});function Ut(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Open troves"])}}})}typeof Ut=="function"&&Ut(to);const Or=z(to,[["__scopeId","data-v-48da36a5"]]),Vr=(o,e)=>{const a=G(e);return{width:o.clientWidth,height:o.clientHeight,layout:{background:{type:cn.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:un.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ze(o,e,a){const t=Vr(o,e),s=(l,r)=>{if(typeof r=="object"){N.mergeWith(l,r,s);return}else return l||r};return N.mergeWith(a,t,s)}const ao=T({__name:"ChartCollateralRatio",setup(o){const{t:e}=W(),a=new Ie(E());let t,s;const l=Y(),r=A(null),{loading:p,data:_}=F(()=>a.getCollateralRatioGrouped("ethereum","all").then(b=>b.data),[]);X(()=>{r.value&&(t=Se(r.value,i(r.value,l.theme)),s=t.addAreaSeries(d(l.theme)),c(_.value))}),R(()=>l.theme,b=>{r.value&&(t.applyOptions(i(r.value,b)),s.applyOptions(d(b)))}),R(_,b=>{c(b)});const i=(b,m)=>ze(b,m,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),d=b=>{const m=G(b);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:fe.WithSteps,lineColor:m.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},c=b=>{if(!t||!s)return;const m=N.chain(b).map(g=>({time:g.timestamp,value:g.value*100})).uniqWith((g,f)=>g.time===f.time).orderBy(g=>g.time,"asc").value();m.length>0&&s.setData(m),t.timeScale().fitContent()};return(b,m)=>(v(),S(n(se),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Nt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Global collateral ratio"])}}})}typeof Nt=="function"&&Nt(ao);const Rr=z(ao,[["__scopeId","data-v-5440c7ee"]]),oo=T({__name:"ChartRatioDeciles",setup(o){const{t:e}=W(),a=new Ie(E()),t=Y(),{loading:s,data:l}=F(()=>a.getRatioDistributionGrouped("ethereum").then(c=>c.deciles),[]),r=w(()=>{const c=G(t.theme),b=le(t.theme);return re({colors:c,colorsArray:b},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:i,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:d}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),p=w(()=>l.value.map(c=>c.label)),_=w(()=>[{name:e("debt"),data:Object.values(l.value).map(c=>c.data)}]),i=c=>c,d=c=>`$${ae(c,0,"dollar")}${ee(c,"dollar")}`;return(c,b)=>(v(),S(n(ie),{class:"chart",title:n(e)("title"),loading:n(s),options:r.value,series:_.value},null,8,["title","loading","options","series"]))}});function Ht(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Debt per Collateral Ratio Deciles"])},debt:a=>{const{normalize:t}=a;return t(["Debt"])}}})}typeof Ht=="function"&&Ht(oo);const Mr=z(oo,[["__scopeId","data-v-87b5d9f2"]]),no=T({__name:"ChartGlobalCollateral",setup(o){const{t:e}=W(),a=new Ie(E()),t=Y(),{loading:s,data:l}=F(()=>a.getHistoricalCollateralOverview("ethereum","6m").then(c=>c.managers),[]),r=w(()=>{const c=G(t.theme),b=le(t.theme);return re({colors:c,colorsArray:b},{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:i,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:d}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),p=w(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(c=>new Date(c.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),_=w(()=>l.value.length===0?[]:l.value.map(c=>({name:c.manager,data:c.data.map(b=>b.value)}))),i=c=>c,d=c=>`$${ae(c,1,"dollar")}${ee(c,"dollar")}`;return(c,b)=>(v(),S(n(ie),{class:"chart",title:n(e)("title"),loading:n(s),options:r.value,series:_.value},null,8,["title","loading","options","series"]))}});function jt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Collateral value"])}}})}typeof jt=="function"&&jt(no);const qr=z(no,[["__scopeId","data-v-72280bde"]]);function ke(o){switch(o.toLocaleLowerCase()){case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH";case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH";case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH";case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH";default:throw new Error(`Unknown collateral for ${o}`)}}function Le(o){return o==="all"?"":`icons/tokens/${(a=>{switch(a){case"cbETH":return"cbeth.webp";case"wstETH":return"steth.webp";case"rETH":return"reth.webp";case"sfrxETH":return"frxeth.webp";default:return""}})(o)}`}const so=class Je{constructor(e){this.url=e,this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={},this.channelSubscriptionParsers={},this.reconnectDelay=1e3,this.maxReconnectDelay=3e4,this.reconnectMultiplier=2,this.connect()}static getInstance(e){return Je.instances[e]||(Je.instances[e]=new Je(e)),Je.instances[e]}connect(){this.ws||(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.processMessageQueue(),this.reconnectDelay=1e3},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>{this.connect(),this.reconnectDelay*=this.reconnectMultiplier,this.reconnectDelay>this.maxReconnectDelay&&(this.reconnectDelay=this.maxReconnectDelay)},this.reconnectDelay)},this.ws.onmessage=e=>{var r;const a=JSON.parse(e.data),t=this.channelSubscriptionParsers[a.channel],s=t?t(e.data):"",l=(r=this.listeners[a.channel])==null?void 0:r[s];l==null||l(e.data)})}registerListener(e,a,t,s){this.listeners[e]||(this.listeners[e]={}),this.listeners[e][a]=s,this.channelSubscriptionParsers[e]=t;const l=this.messageQueue.filter(r=>JSON.parse(r).channel===e);l.forEach(s),this.messageQueue=this.messageQueue.filter(r=>!l.includes(r))}send(e){var a;((a=this.ws)==null?void 0:a.readyState)===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length;)this.send(this.messageQueue.shift()??"")}closeConnection(){var e;this.shouldReconnect=!1,(e=this.ws)==null||e.close()}getConnection(){return this.ws}};so.instances={};let Wr=so;var mt=(o=>(o.subscribe="subscribe",o.unsubscribe="unsubscribe",o.snapshots="snapshots",o))(mt||{});const Br="wss://api.prismamonitor.com/v1/prisma/ws",ct="troves_overview";class Fe{constructor(e){this.chain=e,this.currentData=A([]),this.parseSubscriptionFromMessage=a=>JSON.parse(a).subscription.chain,this.wsManager=Wr.getInstance(Br),this.wsManager.registerListener(ct,e,this.parseSubscriptionFromMessage,a=>{try{const t=JSON.parse(a);t.subscription.chain===this.chain&&(this.currentData.value=t.payload)}catch(t){console.error("Error parsing WebSocket message:",t,"Raw data:",a)}}),this.requestSnapshots(),this.subscribeToUpdates()}getCurrentData(){return this.currentData.value}requestSnapshots(){const e={action:mt.snapshots,channel:ct,settings:[{chain:this.chain}]};this.send(e)}subscribeToUpdates(){const e={action:mt.subscribe,channel:ct,settings:[{chain:this.chain}]};this.send(e)}send(e){this.wsManager.send(JSON.stringify(e))}}const Ze=o=>(me("data-v-6259437b"),o=o(),ve(),o),Er=["src"],Fr={class:"number"},Ur={class:"number"},Nr={class:"number"},Hr={class:"number"},jr={class:"number"},Gr={class:"number"},Jr=Ze(()=>u("div",null,null,-1)),Qr=Ze(()=>u("div",null,null,-1)),Yr={class:"number"},Kr={class:"number"},Xr=Ze(()=>u("div",null,null,-1)),Zr=Ze(()=>u("div",null,null,-1)),ei={class:"number"},ti=Ze(()=>u("div",null,null,-1)),lo=T({__name:"TableVaults",setup(o){const{t:e}=W(),a=new Fe("ethereum"),t=A(!0),s=A(""),l=A([]),r=w(()=>N.chain(l.value).filter(p=>{const _=s.value.toLocaleLowerCase().split(" "),i=d=>_.some(c=>d.toLocaleLowerCase().includes(c));return i(p.name)||i(p.address)}).value());return R(a.currentData,p=>{t.value=!0,l.value=p,t.value=!1}),X(()=>{t.value=!0,l.value=a.currentData.value,t.value=!1}),(p,_)=>(v(),S(n(ne),{class:"datatable-vaults","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"vaults-columns-data",loading:t.value,rows:r.value,columns:["","Name","TVL","Debt","CR","MCR","Troves","Price"]},{"header-title":y(()=>[u("div",null,k(n(e)("title")),1),h(n(ue),{modelValue:s.value,"onUpdate:modelValue":_[0]||(_[0]=i=>s.value=i),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(i=>[u("img",{src:n(Le)(i.item.name)},null,8,Er),u("div",null,k(i.item.name),1),u("div",Fr,[h(n(M),{value:i.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",Ur,[h(n(M),{value:i.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",Nr,[h(n(M),{value:i.item.cr*100,precision:2,type:"percentage"},null,8,["value"])]),u("div",Hr,[h(n(M),{value:i.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])]),u("div",jr,k(i.item.open_troves),1),u("div",Gr,[h(n(M),{type:"dollar",value:Math.round(i.item.price),precision:1/0},null,8,["value"])])]),"row-aggregation":y(()=>[Jr,Qr,u("div",Yr,[h(n(M),{value:r.value.reduce((i,d)=>i+d.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",Kr,[h(n(M),{value:r.value.reduce((i,d)=>i+d.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),Xr,Zr,u("div",ei,[h(n(M),{value:r.value.reduce((i,d)=>i+d.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),ti]),"row-details":y(()=>[U("   ")]),_:1},8,["loading","rows"]))}});function Gt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vaults"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Gt=="function"&&Gt(lo);const ai=z(lo,[["__scopeId","data-v-6259437b"]]),st=Ke({id:"vaultStore",state:()=>({vault:null,trove:null})}),oi={class:"vaults"},ni=T({__name:"Vaults",setup(o){const e=nt(),a=st(),t=Xe();X(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const s=async l=>{a.vault=l,await t.push({name:"prismavault",params:{tab:"",vaultAddr:l.address}})};return(l,r)=>(v(),C("div",oi,[h(ai,{style:{"grid-column":"1 / -1"},onSelected:s}),h(Rr),h(Mr),h(qr),h(Or)]))}});const si=z(ni,[["__scopeId","data-v-47785ba8"]]),Ae="https://api.prismamonitor.com/v1";class Ue extends Te{async getPoolTvl(e,a){return this.fetch(`${Ae}/pool/${e}/deposits?period=${a}`)}async getStableFlow(e,a){return this.fetch(`${Ae}/pool/${e}/stable_operations?period=${a}`)}async getStableDistribution(e){return this.fetch(`${Ae}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,a){return this.fetch(`${Ae}/pool/${e}/cumulative_withdrawals?period=${a}`)}async getTopStableDeposits(e,a,t){return this.fetch(`${Ae}/pool/${e}/top/stable_deposits?top=${a}&period=${t}`)}async getTopStableWithdrawals(e,a,t){return this.fetch(`${Ae}/pool/${e}/top/stable_withdrawals?top=${a}&period=${t}`)}}const ro=T({__name:"ChartPoolTvl",setup(o){const{t:e}=W(),a=new Ue(E());let t,s;const l=Y(),r=A(null),{loading:p,data:_}=F(()=>a.getPoolTvl("ethereum","1m").then(m=>m.deposits),[]);X(()=>{r.value&&(t=Se(r.value,i(r.value,l.theme)),s=t.addAreaSeries(d(l.theme)),c(_.value))}),R(()=>l.theme,m=>{r.value&&(t.applyOptions(i(r.value,m)),s.applyOptions(d(m)))}),R(_,m=>{c(m)});const i=(m,g)=>ze(m,g,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>b(f)}}),d=m=>{const g=G(m);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:fe.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},c=m=>{if(!t||!s)return;const g=N.chain(m).map(f=>({time:f.timestamp,value:f.value})).uniqWith((f,x)=>f.time===x.time).orderBy(f=>f.time,"asc").value();g.length>0&&s.setData(g),t.timeScale().fitContent()},b=m=>`$${ae(m,1,"dollar")}${ee(m,"dollar")}`;return(m,g)=>(v(),S(n(se),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Jt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Total deposits in stability pool"])}}})}typeof Jt=="function"&&Jt(ro);const li=z(ro,[["__scopeId","data-v-9b8fa1dc"]]),io=T({__name:"ChartStableFlow",setup(o){const{t:e}=W(),a=new Ue(E()),t=Y(),{loading:s,data:l}=F(()=>a.getStableFlow("ethereum","1m"),{deposits:[],withdrawals:[]}),r=w(()=>{const c=G(t.theme),b=le(t.theme);return re({colors:c,colorsArray:b},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[c.green,c.red],xaxis:{categories:p.value,labels:{formatter:i,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:d}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:m,dataPointIndex:g,w:f})=>{let x=0;const I=m.map((q,O)=>{const D=q[g];return x+=D,`<div><b>${f.globals.seriesNames[O]}</b>:	${d(D)}</div>`});return I.push(`<div><b>Total</b>:	${d(x)}</div>`),I.join("")}}})}),p=w(()=>l.value.deposits.length===0?[]:l.value.deposits.map(c=>new Date(c.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),_=w(()=>[{name:e("deposits"),data:Object.values(l.value.deposits).map(c=>c.value)},{name:e("withdrawals"),data:Object.values(l.value.withdrawals).map(c=>c.value)}]),i=c=>c,d=c=>`$${ae(c,0,"dollar")}${ee(c,"dollar")}`;return(c,b)=>(v(),S(n(ie),{title:n(e)("title"),loading:n(s),options:r.value,series:_.value},null,8,["title","loading","options","series"]))}});function Qt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD deposits and withdrawals"])},deposits:a=>{const{normalize:t}=a;return t(["Deposits"])},withdrawals:a=>{const{normalize:t}=a;return t(["Withdrawals"])}}})}typeof Qt=="function"&&Qt(io);const ri=z(io,[["__scopeId","data-v-0ed0b217"]]),co=T({__name:"ChartDepositDistribution",setup(o){const{t:e}=W(),a=new Ue(E()),t=Y(),{loading:s,data:l}=F(()=>a.getStableDistribution("ethereum").then(i=>i.distribution),[]),r=w(()=>{const i=G(t.theme),d=le(t.theme);return re({colors:i,colorsArray:d},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),p=w(()=>[{name:e("numPos"),data:Object.values(l.value).map(i=>i.value)}]),_=w(()=>l.value.map(i=>i.label));return(i,d)=>(v(),S(n(ie),{title:n(e)("title"),loading:n(s),series:p.value,options:r.value},null,8,["title","loading","series","options"]))}});function Yt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Distribution of current user deposits"])},numPos:a=>{const{normalize:t}=a;return t(["# of positions"])}}})}typeof Yt=="function"&&Yt(co);const ii=z(co,[["__scopeId","data-v-69dfbb07"]]),uo=T({__name:"ChartCumulativeWithdrawals",setup(o){const{t:e}=W(),a=new Ue(E());let t,s;const l=Y(),r=A(null),{loading:p,data:_}=F(()=>a.getCumulativeWithdrawals("ethereum","all").then(m=>m.withdrawals),[]);X(()=>{r.value&&(t=Se(r.value,i(r.value,l.theme)),s=t.addAreaSeries(d(l.theme)),c(_.value))}),R(()=>l.theme,m=>{r.value&&(t.applyOptions(i(r.value,m)),s.applyOptions(d(m)))}),R(_,m=>{c(m)});const i=(m,g)=>ze(m,g,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>b(f)}}),d=m=>{const g=G(m);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:fe.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},c=m=>{if(!t||!s)return;const g=N.chain(m).map(f=>({time:f.timestamp,value:f.value})).uniqWith((f,x)=>f.time===x.time).orderBy(f=>f.time,"asc").value();g.length>0&&s.setData(g),t.timeScale().fitContent()},b=m=>`$${ae(m,1,"dollar")}${ee(m,"dollar")}`;return(m,g)=>(v(),S(n(se),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Kt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Cumulative value of collaterals withdrawn"])}}})}typeof Kt=="function"&&Kt(uo);const ci=z(uo,[["__scopeId","data-v-3df9e794"]]),ui={class:"address"},di=["href"],_i={class:"number"},mi={class:"number"},vi={class:"address"},pi=["href"],_o=T({__name:"TableTopDeposits",setup(o){const{t:e}=W(),a=new Ue(E()),{loading:t,data:s}=F(()=>a.getTopStableDeposits("ethereum",5,"7d").then(r=>r.operations),[]),l=w(()=>N.chain(s.value).map(r=>r).value());return(r,p)=>(v(),S(n(ne),{class:"datatable-deposits","columns-header":"1fr","columns-data":"deposits-columns-data",loading:n(t),rows:l.value,columns:["Address","Amount","Date","Tx"]},{"header-title":y(()=>[u("div",null,k(n(e)("title")),1)]),row:y(_=>[u("div",ui,[u("a",{href:`https://etherscan.io/address/${_.item.user}`,target:"_blank"},k(n(j)(_.item.user,8)),9,di)]),u("div",_i,[h(n(M),{value:_.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",mi,k(new Date(_.item.timestamp*1e3).toLocaleDateString()),1),u("div",vi,[u("a",{href:`https://etherscan.io/tx/${_.item.hash}`,target:"_blank"},k(n(j)(_.item.hash,8)),9,pi)])]),_:1},8,["loading","rows"]))}});function Xt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest deposits past 7 days"])}}})}typeof Xt=="function"&&Xt(_o);const hi=z(_o,[["__scopeId","data-v-5d722180"]]),fi={class:"address"},gi=["href"],bi={class:"number"},yi={class:"number"},$i={class:"address"},wi=["href"],mo=T({__name:"TableTopWithdrawals",setup(o){const{t:e}=W(),a=new Ue(E()),t=w(()=>N.chain(l.value).map(r=>r).value()),{loading:s,data:l}=F(()=>a.getTopStableWithdrawals("ethereum",5,"7d").then(r=>r.operations),[]);return(r,p)=>(v(),S(n(ne),{class:"datatable-withdrawals","columns-header":"1fr","columns-data":"withdrawals-columns-data",loading:n(s),rows:t.value,columns:["Address","Amount","Date","Tx"]},{"header-title":y(()=>[u("div",null,k(n(e)("title")),1)]),row:y(_=>[u("div",fi,[u("a",{href:`https://etherscan.io/address/${_.item.user}`,target:"_blank"},k(n(j)(_.item.user,8)),9,gi)]),u("div",bi,[h(n(M),{value:_.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",yi,k(new Date(_.item.timestamp*1e3).toLocaleDateString()),1),u("div",$i,[u("a",{href:`https://etherscan.io/tx/${_.item.hash}`,target:"_blank"},k(n(j)(_.item.hash,8)),9,wi)])]),_:1},8,["loading","rows"]))}});function Zt(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest withdrawals past 7 days"])}}})}typeof Zt=="function"&&Zt(mo);const Ci=z(mo,[["__scopeId","data-v-93b1bb99"]]),ki={class:"pool"},Si=T({__name:"StabilityPool",setup(o){return(e,a)=>(v(),C("div",ki,[h(li),h(ri),h(ii),h(ci),h(hi),h(Ci)]))}});const Ti=z(Si,[["__scopeId","data-v-c433301c"]]),je="https://api.prismamonitor.com/v1";class et extends Te{async getPriceHistory(e,a){return this.fetch(`${je}/mkusd/${e}/history?period=${a}`)}async getPriceHistogram(e,a,t){return this.fetch(`${je}/mkusd/${e}/histogram?period=${t}&bins=${a}`)}async getLargeStableCoinHolders(e){return this.fetch(`${je}/mkusd/${e}/holders`)}async getStableCoinKPI(e){return this.fetch(`${je}/mkusd/${e}/general`)}async getCurvePoolDepth(e){return this.fetch(`${je}/mkusd/${e}/depth`)}}const Pi=o=>(me("data-v-91c52764"),o=o(),ve(),o),zi=Pi(()=>u("div",null,"Price data is sourced from Curve pools only.",-1)),vo=T({__name:"ChartPrice",setup(o){const{t:e}=W(),a=new et(E());let t,s;const l=Y(),r=A(null),{loading:p,data:_}=F(()=>a.getPriceHistory("ethereum","1m").then(m=>m.prices),[]);X(()=>{r.value&&(t=Se(r.value,i(r.value,l.theme)),s=t.addAreaSeries(d(l.theme)),c(_.value))}),R(()=>l.theme,m=>{r.value&&(t.applyOptions(i(r.value,m)),s.applyOptions(d(m)))}),R(_,m=>{c(m)});const i=(m,g)=>ze(m,g,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>b(f)}}),d=m=>{const g=G(m);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:fe.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},c=m=>{if(!t||!s)return;const g=N.chain(m).map(f=>({time:f.timestamp,value:f.value})).uniqWith((f,x)=>f.time===x.time).orderBy(f=>f.time,"asc").value();g.length>0&&s.setData(g),t.timeScale().fitContent()},b=m=>`$${ae(m,2,"dollar")}${ee(m,"dollar")}`;return(m,g)=>(v(),S(n(se),{class:"chart-container",title:n(e)("title"),loading:n(p)},{actions:y(()=>[h(n(Ye),null,{default:y(()=>[zi]),_:1})]),default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ea(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["mkUSD price (last 30 days)"])}}})}typeof ea=="function"&&ea(vo);const Li=z(vo,[["__scopeId","data-v-91c52764"]]),po=T({__name:"ChartPriceDistribution",setup(o){const{t:e}=W(),a=new et(E()),t=Y(),{loading:s,data:l}=F(()=>a.getPriceHistogram("ethereum",10,"all").then(i=>i.histogram),[]),r=w(()=>{const i=G(t.theme),d=le(t.theme);return re({colors:i,colorsArray:d},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),p=w(()=>[{name:e("numPos"),data:Object.values(l.value).map(i=>i.value)}]),_=w(()=>l.value.map(i=>i.label));return(i,d)=>(v(),S(n(ie),{title:n(e)("title"),loading:n(s),series:p.value,options:r.value},null,8,["title","loading","series","options"]))}});function ta(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Price histogram"])},numPos:a=>{const{normalize:t}=a;return t(["# of hourly price records"])}}})}typeof ta=="function"&&ta(po);const Ii=z(po,[["__scopeId","data-v-c1b612eb"]]),ho=T({__name:"ChartHolders",setup(o){const{t:e}=W(),a=new et(E()),t=Y(),{loading:s,data:l}=F(()=>a.getLargeStableCoinHolders("ethereum").then(d=>d.holders),[]),r=w(()=>{const d=G(t.theme),c=le(t.theme);return re({colors:d,colorsArray:c},{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:b=>{let m=_.value[b.seriesIndex];m=m.length>10&&m.startsWith("0x")?j(m):m;const g=b.series[b.seriesIndex];return[`<div><b>${m}</b>:</div><div>${i(g)}</div>`].join("")}},labels:l.value.map(b=>b.label.length>10&&b.label.startsWith("0x")?j(b.label):b.label)})}),p=w(()=>l.value.map(d=>d.value)),_=w(()=>l.value.map(d=>d.label)),i=d=>`$${ae(Math.abs(d),1,"dollar")}${ee(d,"dollar")}`;return(d,c)=>(v(),S(n(ie),{class:"graph",title:n(e)("title"),loading:n(s),options:r.value,series:p.value},null,8,["title","loading","options","series"]))}});function aa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest holders"])},numPos:a=>{const{normalize:t}=a;return t(["mkUSD balance:"])}}})}typeof aa=="function"&&aa(ho);const Di=z(ho,[["__scopeId","data-v-f8eafb64"]]),xi={class:"kpis"},Ai=T({__name:"KPIs",setup(o){const e=new et(E()),{data:a}=F(()=>e.getStableCoinKPI("ethereum").then(t=>t.info),null);return(t,s)=>(v(),C("div",xi,[h(n(oe),{label:"mkUSD price","has-value":!!n(a)},{default:y(()=>[n(a)?(v(),S(n(M),{key:0,value:n(a).price,precision:4,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(oe),{label:"Total supply","has-value":!!n(a)},{default:y(()=>[n(a)?(v(),S(n(M),{key:0,value:n(a).supply,precision:2,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(oe),{label:"24h Volume (Curve)","has-value":!!n(a)},{default:y(()=>[n(a)?(v(),S(n(M),{key:0,value:n(a).volume,precision:1,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(oe),{label:"Aggregate -2% Depth (Curve)","has-value":!!n(a)},{default:y(()=>[n(a)?(v(),S(n(M),{key:0,value:n(a).depth,precision:1,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"])]))}});const Oi=z(Ai,[["__scopeId","data-v-914288d8"]]),fo=T({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(o){const{t:e}=W(),a=Y(),t=w(()=>{const p=G(a.theme),_=le(a.theme);return re({colors:p,colorsArray:_},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:i=>r(i)}},yaxis:{seriesName:"amounts",labels:{formatter:i=>r(i)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:i=>r(i)}},colors:[i=>i.value===0?p.blue:p.green,i=>i.value===0?p.blue:p.red]})}),s=w(()=>{if(!o.depth)return[];const p=[...o.depth.ask.prices.map(i=>({x:i,y:0})),...o.depth.bid.prices.map((i,d)=>({x:i,y:o.depth.bid.amounts[d]}))],_=[...o.depth.ask.prices.map((i,d)=>({x:i,y:o.depth.ask.amounts[d]}))];return[{name:"Bid",data:p},{name:"Ask",data:_}]}),l=w(()=>{var _;if(!((_=o.depth)!=null&&_.tokens)||o.depth.tokens.length===0)return e("title");const p=o.depth.tokens.join(" / ");return`${e("title")} - ${p} (Curve)`}),r=p=>`$${ae(Math.abs(p),2,"dollar")}${ee(p,"dollar")}`;return(p,_)=>(v(),S(n(ie),{class:"chart",title:l.value,loading:p.loading,options:t.value,series:s.value},null,8,["title","loading","options","series"]))}});function oa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidity Depth"])}}})}typeof oa=="function"&&oa(fo);const Vi=z(fo,[["__scopeId","data-v-69d5ffa2"]]),Ri=T({__name:"ChartDepthContainer",setup(o){const e=new et(E()),{loading:a,data:t}=F(()=>e.getCurvePoolDepth("ethereum").then(s=>s.depth),[]);return(s,l)=>(v(!0),C(Z,null,ce(n(t),r=>(v(),S(Vi,{key:r.name,loading:n(a),depth:r},null,8,["loading","depth"]))),128))}});const Mi=z(Ri,[["__scopeId","data-v-b7f96344"]]),qi={class:"mkusd"},Wi=T({__name:"Stablecoin",setup(o){return(e,a)=>(v(),C("div",qi,[h(Oi,{style:{"grid-column":"1 / -1"}}),h(Li),h(Ii),h(Di),h(Mi)]))}});const Bi=z(Wi,[["__scopeId","data-v-738142b2"]]),Ei={class:"redemption-details"},Fi={class:"kpis"},Ui={class:"title"},Ni=["href"],go=T({__name:"RedemptionDetails",props:{vaultAddr:{},redemption:{}},setup(o){const{t:e}=W(),a=A(""),t=w(()=>N.chain(o.redemption.troves_affected).filter(s=>{const l=a.value.toLocaleLowerCase().split(" ");return(p=>l.some(_=>p.toLocaleLowerCase().includes(_)))(s)}).value());return(s,l)=>(v(),S(n(se),{title:n(e)("redemption-details")},{default:y(()=>[u("div",Ei,[u("div",Fi,[h(n(oe),{label:n(e)("withdrawal")},{default:y(()=>[h(n(M),{value:s.redemption.attempted_debt_amount,precision:2,type:"dollar"},null,8,["value"]),U(" / "),h(n(M),{value:s.redemption.collateral_sent_to_redeemer_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),h(n(oe),{label:n(e)("fee")},{default:y(()=>[h(n(M),{value:s.redemption.collateral_fee_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),h(n(ne),{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:t.value,columns:["Trove"]},{"header-title":y(()=>[u("div",Ui,k(n(e)("troves-affected")),1),h(n(ue),{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value=r),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(r=>[u("div",{onClick:l[1]||(l[1]=K(()=>{},["stop"]))},[u("a",{style:{"font-family":"monospace"},target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${r.item}`},k(r.item),9,Ni)])]),_:1},8,["rows"])])]),_:1},8,["title"]))}});function na(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":a=>{const{normalize:t}=a;return t(["Troves affected"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])},"redemption-details":a=>{const{normalize:t}=a;return t(["Redemption Details"])},withdrawal:a=>{const{normalize:t}=a;return t(["Attempted / Received"])},fee:a=>{const{normalize:t}=a;return t(["Fee"])}}})}typeof na=="function"&&na(go);const Ct=z(go,[["__scopeId","data-v-6ebcc893"]]),Hi={key:0,class:"item"},ji=["src"],Gi={key:1,class:"empty"},Ji={class:"label"},Qi=T({__name:"SelectCollateral",props:{collateral:{default:null},all:{type:Boolean,default:!1}},emits:["select-collateral"],setup(o,{emit:e}){const a=e,t=A(!1),s=[...o.all?[{collateral:"all",label:"All"}]:[],{collateral:"cbETH",label:"cbETH"},{collateral:"wstETH",label:"wstETH"},{collateral:"rETH",label:"rETH"},{collateral:"sfrxETH",label:"sfrxETH"}],l=w(()=>s.find(i=>i.collateral===o.collateral)??null);X(()=>{_(s[0])});const r=i=>i.label,p=()=>{t.value=!t.value},_=i=>{const{collateral:d}=i;a("select-collateral",d)};return(i,d)=>(v(),S(n(bt),{class:"select",options:s,selected:l.value,open:t.value,onOpen:p,onClose:d[0]||(d[0]=c=>t.value=!1),onInput:_},{item:y(c=>[c.item?(v(),C("div",Hi,[n(Le)(c.item.collateral)?(v(),C("img",{key:0,src:n(Le)(c.item.collateral)},null,8,ji)):(v(),C("div",Gi)),u("div",Ji,k(r(c.item)),1)])):V("",!0)]),_:1},8,["selected","open"]))}});const tt=z(Qi,[["__scopeId","data-v-2bf0e714"]]),sa="https://api.prismamonitor.com/v1";class kt extends Te{async getRedemptions(e,a){return Be(s=>this.fetch(`${sa}/redemptions/${e}/${a}?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(l=>l.redemptions),1,100)}async getRedemptionsForTrove(e,a){return Be(s=>this.fetch(`${sa}/redemptions/${e}?items=100&page=${s}&order_by=block_timestamp&desc=true&trove_filter=${a}`).then(l=>l.redemptions),1,100)}}const Yi=["src"],Ki=["href"],Xi=["href"],Zi={class:"number"},ec={class:"number"},tc={class:"number"},la=15,bo=T({__name:"TableRedemptions",props:{vaults:{default:()=>[]}},setup(o){const e=new kt(E()),{t:a}=W(),{loading:t,data:s,loadData:l}=F(()=>o.vaults.length>0?Promise.all(o.vaults.map($=>e.getRedemptions("ethereum",$.address))).then($=>$.flat()):Promise.resolve([]),[]),{relativeTime:r}=be(),{sortColumn:p,sortOrder:_,onSort:i}=Pe("timestamp"),d=A(""),c=A("all"),b=A(null),m=w(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),g=w(()=>["icon","redeemer","tx","debt","numtroves","timestamp"]),f=w(()=>["redeemer","tx","debt","numtroves","timestamp"]),x=w(()=>N.chain(s.value).filter($=>{const L=d.value.toLocaleLowerCase().split(" "),P=de=>L.some($e=>de.toLocaleLowerCase().includes($e)),J=ke($.vault),Q=c.value==="all"?!0:c.value===J;return P($.redeemer)&&Q}).orderBy($=>{switch(p.value){case"redeemer":return $.redeemer;case"tx":return $.transaction;case"debt":return $.actual_debt_amount;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},_.value===te.Descending?"desc":"asc").value()),{page:I,rowsPage:q,onPage:O}=ye(x,la),D=$=>{b.value=$};return R(()=>o.vaults,l),($,L)=>(v(),C(Z,null,[h(n(ne),{class:"datatable-redemptions","columns-header":"1fr 12rem minmax(auto, 25rem) auto","columns-data":"redemptions-columns-data",loading:n(t),rows:n(q),columns:m.value,sorting:!0,"sorting-columns":g.value,"sorting-columns-enabled":f.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:n(i),onSelected:D},{"header-title":y(()=>[u("div",null,k(n(a)("title")),1),h(tt,{class:"select-collateral",collateral:c.value,all:!0,onSelectCollateral:L[0]||(L[0]=P=>c.value=P)},null,8,["collateral"]),h(n(ue),{modelValue:d.value,"onUpdate:modelValue":L[1]||(L[1]=P=>d.value=P),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(n(ge),{class:"pagination","items-count":x.value.length,"items-per-page":la,page:n(I),onPage:n(O)},null,8,["items-count","page","onPage"])]),row:y(P=>[u("img",{src:n(Le)(n(ke)(P.item.vault))},null,8,Yi),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${P.item.redeemer}`,target:"_blank",onClick:L[2]||(L[2]=K(()=>{},["stop"]))},k(n(j)(P.item.redeemer)),9,Ki)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${P.item.transaction}`,target:"_blank",onClick:L[3]||(L[3]=K(()=>{},["stop"]))},k(n(j)(P.item.transaction)),9,Xi)]),u("div",Zi,[h(n(M),{type:"dollar",value:Math.round(P.item.actual_debt_amount),precision:1/0},null,8,["value"])]),u("div",ec,k(P.item.troves_affected_count),1),u("div",tc,k(n(r)(P.item.timestamp)),1)]),"row-details":y(()=>[U("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(n(xe),{show:!!b.value,onClose:L[4]||(L[4]=P=>b.value=null)},{default:y(()=>[b.value?(v(),S(Ct,{key:0,redemption:b.value,"vault-addr":b.value.vault},null,8,["redemption","vault-addr"])):V("",!0)]),_:1},8,["show"])],64))}});function ra(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Redemptions"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof ra=="function"&&ra(bo);const ac=z(bo,[["__scopeId","data-v-26a169e1"]]),oc={class:"redemptions"},nc=T({__name:"Redemptions",setup(o){const e=new Fe("ethereum"),a=A([]);return R(e.currentData,t=>{a.value=t}),X(()=>{a.value=e.currentData.value}),(t,s)=>(v(),C("div",oc,[h(ac,{vaults:a.value},null,8,["vaults"])]))}});const sc=z(nc,[["__scopeId","data-v-1202cb43"]]),lc={class:"liquidation-details"},rc={class:"kpis"},ic={class:"title"},cc=["href"],yo=T({__name:"LiquidationDetails",props:{vaultAddr:{},liquidation:{}},setup(o){const{t:e}=W(),a=A(""),t=w(()=>N.chain(o.liquidation.troves_affected).filter(s=>{const l=a.value.toLocaleLowerCase().split(" ");return(p=>l.some(_=>p.toLocaleLowerCase().includes(_)))(s)}).value());return(s,l)=>(v(),S(n(se),{title:n(e)("liquidation-details")},{default:y(()=>[u("div",lc,[u("div",rc,[h(n(oe),{label:n(e)("debt")},{default:y(()=>[h(n(M),{value:s.liquidation.liquidated_debt,precision:2,type:"dollar"},null,8,["value"]),U(" / "),h(n(M),{value:s.liquidation.liquidated_collateral,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),h(n(oe),{label:n(e)("gas-compensation")},{default:y(()=>[h(n(M),{value:s.liquidation.collateral_gas_compensation_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),h(n(ne),{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:t.value,columns:["Trove"]},{"header-title":y(()=>[u("div",ic,k(n(e)("troves-affected")),1),h(n(ue),{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value=r),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(r=>[u("div",{onClick:l[1]||(l[1]=K(()=>{},["stop"]))},[u("a",{style:{"font-family":"monospace"},target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${r.item}`},k(r.item),9,cc)])]),_:1},8,["rows"])])]),_:1},8,["title"]))}});function ia(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":a=>{const{normalize:t}=a;return t(["Troves affected"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])},"liquidation-details":a=>{const{normalize:t}=a;return t(["Liquidation Details"])},debt:a=>{const{normalize:t}=a;return t(["Debt / Collateral"])},"gas-compensation":a=>{const{normalize:t}=a;return t(["Gas compensation"])}}})}typeof ia=="function"&&ia(yo);const St=z(yo,[["__scopeId","data-v-cc55d3fa"]]),ca="https://api.prismamonitor.com/v1";class Tt extends Te{async getLiquidations(e,a){return Be(s=>this.fetch(`${ca}/liquidations/${e}/${a}?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(l=>l.liquidations),1,100)}async getLiquidationsForTrove(e,a){return Be(s=>this.fetch(`${ca}/liquidations/${e}?items=100&page=${s}&order_by=block_timestamp&desc=true&trove_filter=${a}`).then(l=>l.liquidations),1,100)}}const uc=["src"],dc=["href"],_c=["href"],mc={class:"number"},vc={class:"number"},pc={class:"number"},ua=15,$o=T({__name:"TableLiquidations",props:{vaults:{default:()=>[]}},setup(o){const e=new Tt(E()),{t:a}=W(),{loading:t,data:s,loadData:l}=F(()=>o.vaults.length>0?Promise.all(o.vaults.map($=>e.getLiquidations("ethereum",$.address))).then($=>$.flat()):Promise.resolve([]),[]),{relativeTime:r}=be(),{sortColumn:p,sortOrder:_,onSort:i}=Pe("timestamp"),d=A(""),c=A("all"),b=A(null),m=w(()=>["","Liquidator","Transaction","Debt","# Troves","Time"]),g=w(()=>["icon","liquidator","tx","debt","numtroves","timestamp"]),f=w(()=>["liquidator","tx","debt","numtroves","timestamp"]),x=w(()=>N.chain(s.value).filter($=>{const L=d.value.toLocaleLowerCase().split(" "),P=de=>L.some($e=>de.toLocaleLowerCase().includes($e)),J=ke($.vault),Q=c.value==="all"?!0:c.value===J;return P($.liquidator)&&Q}).orderBy($=>{switch(p.value){case"liquidator":return $.liquidator;case"tx":return $.transaction;case"debt":return $.liquidated_collateral_usd;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},_.value===te.Descending?"desc":"asc").value()),{page:I,rowsPage:q,onPage:O}=ye(x,ua),D=$=>{b.value=$};return R(()=>o.vaults,l),($,L)=>(v(),C(Z,null,[h(n(ne),{class:"datatable-liquidations","columns-header":"1fr 12rem minmax(auto, 25rem) auto","columns-data":"liquidations-columns-data",loading:n(t),rows:n(q),columns:m.value,sorting:!0,"sorting-columns":g.value,"sorting-columns-enabled":f.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:n(i),onSelected:D},{"header-title":y(()=>[u("div",null,k(n(a)("title")),1),h(tt,{class:"select-collateral",collateral:c.value,all:!0,onSelectCollateral:L[0]||(L[0]=P=>c.value=P)},null,8,["collateral"]),h(n(ue),{modelValue:d.value,"onUpdate:modelValue":L[1]||(L[1]=P=>d.value=P),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(n(ge),{class:"pagination","items-count":x.value.length,"items-per-page":ua,page:n(I),onPage:n(O)},null,8,["items-count","page","onPage"])]),row:y(P=>[u("img",{src:n(Le)(n(ke)(P.item.vault))},null,8,uc),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${P.item.liquidator}`,target:"_blank",onClick:L[2]||(L[2]=K(()=>{},["stop"]))},k(n(j)(P.item.liquidator)),9,dc)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${P.item.transaction}`,target:"_blank",onClick:L[3]||(L[3]=K(()=>{},["stop"]))},k(n(j)(P.item.transaction)),9,_c)]),u("div",mc,[h(n(M),{type:"dollar",value:Math.round(P.item.liquidated_debt),precision:1/0},null,8,["value"])]),u("div",vc,k(P.item.troves_affected_count),1),u("div",pc,k(n(r)(P.item.timestamp)),1)]),"row-details":y(()=>[U("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(n(xe),{show:!!b.value,onClose:L[4]||(L[4]=P=>b.value=null)},{default:y(()=>[b.value?(v(),S(St,{key:0,liquidation:b.value,"vault-addr":b.value.vault},null,8,["liquidation","vault-addr"])):V("",!0)]),_:1},8,["show"])],64))}});function da(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidations"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof da=="function"&&da($o);const hc=z($o,[["__scopeId","data-v-e9fed8aa"]]),fc={class:"liquidations"},gc=T({__name:"Liquidations",setup(o){const e=new Fe("ethereum"),a=A([]);return R(e.currentData,t=>{a.value=t}),X(()=>{a.value=e.currentData.value}),(t,s)=>(v(),C("div",fc,[h(hc,{vaults:a.value},null,8,["vaults"])]))}});const bc=z(gc,[["__scopeId","data-v-04c3c454"]]),at="https://api.prismamonitor.com/v1";class lt extends Te{async getTVL(){return this.fetch(`${at}/staking/tvl?period=all&groupby=day`)}async getFlow(){return this.fetch(`${at}/staking/flow?period=all&groupby=day`)}async getDistribution(){return this.fetch(`${at}/staking/distribution`)}async getSnapshots(){return this.fetch(`${at}/staking/snapshots?period=7d`)}}const wo=T({__name:"ChartTVL",setup(o){const{t:e}=W(),a=new lt(E());let t,s;const l=Y(),r=A(null),{loading:p,data:_}=F(()=>a.getTVL().then(m=>m.tvl),[]);X(()=>{r.value&&(t=Se(r.value,i(r.value,l.theme)),s=t.addAreaSeries(d(l.theme)),c(_.value))}),R(()=>l.theme,m=>{r.value&&(t.applyOptions(i(r.value,m)),s.applyOptions(d(m)))}),R(_,m=>{c(m)});const i=(m,g)=>ze(m,g,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>b(f)}}),d=m=>{const g=G(m);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:fe.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},c=m=>{if(!t||!s)return;const g=N.chain(m).map(f=>({time:f.timestamp,value:f.value})).uniqWith((f,x)=>f.time===x.time).orderBy(f=>f.time,"asc").value();g.length>0&&s.setData(g),t.timeScale().fitContent()},b=m=>`$${ae(m,0,"dollar")}${ee(m,"dollar")}`;return(m,g)=>(v(),S(n(se),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function _a(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Convex Prisma TVL"])}}})}typeof _a=="function"&&_a(wo);const yc=z(wo,[["__scopeId","data-v-ec66a09d"]]),Co=T({__name:"ChartFlow",setup(o){const{t:e}=W(),a=new lt(E()),t=Y(),{loading:s,data:l}=F(()=>a.getFlow(),{deposits:[],withdrawals:[]}),r=w(()=>{const c=G(t.theme),b=le(t.theme);return re({colors:c,colorsArray:b},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[c.green,c.red],xaxis:{categories:p.value,labels:{formatter:i,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:d}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:m,dataPointIndex:g,w:f})=>{let x=0;const I=m.map((q,O)=>{const D=q[g];return x+=D,`<div><b>${f.globals.seriesNames[O]}</b>:	${d(D)}</div>`});return I.push(`<div><b>Total</b>:	${d(x)}</div>`),I.join("")}}})}),p=w(()=>l.value.deposits.length===0?[]:l.value.deposits.map(c=>new Date(c.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),_=w(()=>[{name:e("deposits"),data:Object.values(l.value.deposits).map(c=>c.amount_usd)},{name:e("withdrawals"),data:Object.values(l.value.withdrawals).map(c=>-c.amount_usd)}]),i=c=>c,d=c=>`$${ae(c,0,"dollar")}${ee(c,"dollar")}`;return(c,b)=>(v(),S(n(ie),{title:n(e)("title"),loading:n(s),options:r.value,series:_.value},null,8,["title","loading","options","series"]))}});function ma(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["cvxPRISMA staking and unstaking"])},deposits:a=>{const{normalize:t}=a;return t(["Deposits"])},withdrawals:a=>{const{normalize:t}=a;return t(["Withdrawals"])}}})}typeof ma=="function"&&ma(Co);const $c=z(Co,[["__scopeId","data-v-03749ebb"]]),ko=T({__name:"ChartAPR",setup(o){const{t:e}=W(),a=new lt(E());let t,s;const l=Y(),r=A(null),{loading:p,data:_}=F(()=>a.getSnapshots().then(m=>m.Snapshots),[]);X(()=>{r.value&&(t=Se(r.value,i(r.value,l.theme)),s=t.addAreaSeries(d(l.theme)),c(_.value))}),R(()=>l.theme,m=>{r.value&&(t.applyOptions(i(r.value,m)),s.applyOptions(d(m)))}),R(_,m=>{c(m)});const i=(m,g)=>ze(m,g,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>b(f)}}),d=m=>{const g=G(m);return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:fe.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},c=m=>{if(!t||!s)return;const g=N.chain(m).filter(f=>f.timestamp>=1698943010).map(f=>({time:f.timestamp,value:f.total_apr*100})).uniqWith((f,x)=>f.time===x.time).orderBy(f=>f.time,"asc").value();g.length>0&&s.setData(g),t.timeScale().fitContent()},b=m=>`${ae(m,0,"percentage")}${ee(m,"percentage")}`;return(m,g)=>(v(),S(n(se),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function va(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["cvxPRISMA APR"])}}})}typeof va=="function"&&va(ko);const wc=z(ko,[["__scopeId","data-v-0432646a"]]),So=T({__name:"ChartDistribution",setup(o){const{t:e}=W(),a=new lt(E()),t=Y(),{loading:s,data:l}=F(()=>a.getDistribution().then(c=>c.distribution),[]),r=w(()=>{const c=G(t.theme),b=le(t.theme);return re({colors:c,colorsArray:b},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:i,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:d}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),p=w(()=>l.value.map(c=>c.label)),_=w(()=>[{name:e("size"),data:Object.values(l.value).map(c=>c.value)}]),i=c=>c,d=c=>`$${ae(c,0,"dollar")}${ee(c,"dollar")}`;return(c,b)=>(v(),S(n(ie),{class:"chart",title:n(e)("title"),loading:n(s),options:r.value,series:_.value},null,8,["title","loading","options","series"]))}});function pa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["cvxPRISMA position size"])},size:a=>{const{normalize:t}=a;return t(["Size"])}}})}typeof pa=="function"&&pa(So);const Cc=z(So,[["__scopeId","data-v-69934cf1"]]),kc={class:"cvxprisma"},Sc=T({__name:"CvxPrisma",setup(o){return(e,a)=>(v(),C("div",kc,[h(yc),h($c),h(wc),h(Cc)]))}});const Tc=z(Sc,[["__scopeId","data-v-ba246a2e"]]),Pc=["href"],ha=10,To=T({__name:"TableLockers",props:{lockers:{default:()=>[]}},setup(o){const{t:e}=W(),{sortColumn:a,sortOrder:t,onSort:s}=Pe("weight"),l=A(""),r=w(()=>["Locker","Weight","Locked","Unlocked","Frozen"]),p=w(()=>["locker","weight","locked","unlocked","frozen"]),_=w(()=>["weight","locked","unlocked","frozen"]),i=w(()=>N.chain(o.lockers).filter(m=>{const g=l.value.toLocaleLowerCase().split(" ");return(x=>g.some(I=>x.toLocaleLowerCase().includes(I)))(m.id)}).orderBy(m=>{switch(a.value){case"weight":return m.weight;case"locked":return m.locked;case"unlocked":return m.unlocked;case"frozen":return m.frozen;default:return m.weight}},t.value===te.Descending?"desc":"asc").value()),{page:d,rowsPage:c,onPage:b}=ye(i,ha);return(m,g)=>(v(),S(n(ne),{class:"datatable-lockers","columns-header":"1fr minmax(auto, 25rem)","columns-data":"lockers-columns-data",rows:n(c),columns:r.value,sorting:!0,"sorting-columns":p.value,"sorting-columns-enabled":_.value,"sorting-default-column":"weight","sorting-default-dir":"Descending",onSortColumn:n(s)},{"header-title":y(()=>[u("div",null,k(n(e)("title")),1),h(n(ue),{modelValue:l.value,"onUpdate:modelValue":g[0]||(g[0]=f=>l.value=f),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(n(ge),{class:"pagination","items-count":i.value.length,"items-per-page":ha,page:n(d),onPage:n(b)},null,8,["items-count","page","onPage"])]),row:y(f=>[u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${f.item.id}`,target:"_blank",onClick:g[1]||(g[1]=K(()=>{},["stop"]))},k(f.item.id),9,Pc)]),u("div",{class:B(["number",{zero:f.item.weight===0}])},[h(n(M),{type:"dollar",value:Math.round(f.item.weight),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),u("div",{class:B(["number",{zero:f.item.locked===0}])},[h(n(M),{type:"dollar",value:Math.round(f.item.locked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),u("div",{class:B(["number",{zero:f.item.unlocked===0}])},[h(n(M),{type:"dollar",value:Math.round(f.item.unlocked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),u("div",{class:B(["number",{zero:f.item.frozen===0}])},[h(n(M),{type:"dollar",value:Math.round(f.item.frozen),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2)]),_:1},8,["rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]))}});function fa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Lockers"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof fa=="function"&&fa(To);const zc=z(To,[["__scopeId","data-v-a096bca1"]]),ga="https://api.thegraph.com/subgraphs/name/benber86/prisma-test";class Po extends Te{async getTopLockers(){const e=`{
      lockers {
        totalWeight
      }
      accountDatas(first: 100 orderBy: weight orderDirection: desc) {
        id
        weight
        locked
        unlocked
        frozen
      }
    }`,a=await this.fetch(ga,{query:e}),t=a.data.accountDatas.map(l=>({id:l.id,weight:parseInt(l.weight,10),locked:parseInt(l.locked,10),unlocked:parseInt(l.unlocked,10),frozen:parseInt(l.frozen,10)}));return{totalWeight:parseInt(a.data.lockers[0].totalWeight,10),accounts:t}}async getVotesIncentives(){const e=`{
      incentiveVotes(first:100, orderBy:blockNumber, orderDirection:desc) {
        voter {
          id
        }
        votes(first: 100, orderBy:weight, orderDirection:desc) {
          recipient {
            id
            address
          }
          weight
        }
        isClearance
        transactionHash
        blockTimestamp
      }
    }`;return(await this.fetch(ga,{query:e})).data.incentiveVotes.map(t=>t.votes.map(s=>({voter:t.voter.id,recipient:s.recipient.address,weight:parseInt(s.weight,10),isClearance:t.isClearance,transaction:t.transactionHash,timestamp:parseInt(t.blockTimestamp,10)}))).flat()}}const Lc=["href"],Ic=["href"],Dc={class:"number"},xc={class:"number"},Ac=["href"],Oc={class:"number"},ba=20,zo=T({__name:"TableVotesIncentives",setup(o){const{t:e}=W(),a=new Po(E()),{loading:t,data:s}=F(()=>a.getVotesIncentives(),[]),{relativeTime:l}=be(),r=w(()=>["Voter","Recipient","Weight","Tx","Time"]),p=w(()=>s.value),{page:_,rowsPage:i,onPage:d}=ye(p,ba);return(c,b)=>(v(),S(n(ne),{class:"datatable-votes-incentives","columns-header":"1fr minmax(auto, 25rem)","columns-data":"votes-incentives-columns-data",loading:n(t),rows:n(i),columns:r.value},{"header-title":y(()=>[u("div",null,k(n(e)("title")),1)]),"header-actions":y(()=>[h(n(ge),{class:"pagination","items-count":p.value.length,"items-per-page":ba,page:n(_),onPage:n(d)},null,8,["items-count","page","onPage"])]),row:y(m=>[u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${m.item.voter}`,target:"_blank",onClick:b[0]||(b[0]=K(()=>{},["stop"]))},k(n(j)(m.item.voter)),9,Lc)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${m.item.recipient}`,target:"_blank",onClick:b[1]||(b[1]=K(()=>{},["stop"]))},k(n(j)(m.item.recipient)),9,Ic)]),u("div",Dc,[h(n(M),{type:"dollar",value:Math.round(m.item.weight),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])]),u("div",xc,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${m.item.transaction}`,target:"_blank",onClick:b[2]||(b[2]=K(()=>{},["stop"]))},k(n(j)(m.item.transaction)),9,Ac)]),u("div",Oc,k(n(l)(m.item.timestamp)),1)]),_:1},8,["loading","rows","columns"]))}});function ya(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Incentive votes"])}}})}typeof ya=="function"&&ya(zo);const Vc=z(zo,[["__scopeId","data-v-79b0cd08"]]),Lo=T({__name:"ChartTopLockers",props:{totalWeight:{default:0},lockers:{default:()=>[]}},setup(o){const{t:e}=W(),a=Y(),t=w(()=>o.lockers.slice(0,10)),s=w(()=>{const i=G(a.theme),d=le(a.theme);return re({colors:i,colorsArray:d},{chart:{id:"topLockers",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:c=>{const b=r.value[c.seriesIndex],m=c.series[c.seriesIndex],g=m/(o.totalWeight/100);return[`<div><b>${b}</b>:</div><div>${_(g)} - ${p(m)}</div>`].join("")}},labels:t.value.map(c=>c.id).concat(["Other⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"])})}),l=w(()=>{const i=t.value.map(b=>b.weight),d=i.reduce((b,m)=>b+m,0),c=o.totalWeight-d;return[...i,c]}),r=w(()=>t.value.map(i=>i.id).concat(["Other"])),p=i=>`${ae(i,2,"dollar")}${ee(i,"dollar")}`,_=i=>`${ae(i,2,"percentage")}${ee(i,"percentage")}`;return(i,d)=>(v(),S(n(ie),{class:"graph",title:n(e)("title"),options:s.value,series:l.value},null,8,["title","options","series"]))}});function $a(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Top 10 largest lockers"])},numPos:a=>{const{normalize:t}=a;return t(["mkUSD balance:"])}}})}typeof $a=="function"&&$a(Lo);const Rc=z(Lo,[["__scopeId","data-v-468ddfdb"]]),Mc={class:"veprisma"},qc=T({__name:"VePrisma",setup(o){const e=new Po(E()),{loading:a,data:t}=F(()=>e.getTopLockers(),{totalWeight:0,accounts:[]}),s=w(()=>t.value.accounts),l=w(()=>t.value.totalWeight);return(r,p)=>(v(),C("div",Mc,[h(zc,{style:{"grid-row":"1","grid-column":"1"},loading:n(a),lockers:s.value},null,8,["loading","lockers"]),h(Rc,{style:{"grid-row":"1","grid-column":"2"},loading:n(a),lockers:s.value,"total-weight":l.value},null,8,["loading","lockers","total-weight"]),h(Vc,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}});const Wc=z(qc,[["__scopeId","data-v-2d1a1b50"]]),Bc=T({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(o){const e=Y(),a=w(()=>{const r=G(e.theme),p=le(e.theme);return re({colors:r,colorsArray:p},{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:_=>{let i=s.value[_.seriesIndex];i=i.length>10?j(i):i;const d=_.series[_.seriesIndex];return[`<div><b>${i}</b>:</div><div>${l(d)}</div>`].join("")}},labels:o.data.map(_=>_.label.length>10?j(_.label):_.label)})}),t=w(()=>o.data.map(r=>r.value)),s=w(()=>o.data.map(r=>r.label)),l=r=>`$${ae(Math.abs(r),1,"dollar")}${ee(r,"dollar")}`;return(r,p)=>(v(),S(n(ie),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const Ec=z(Bc,[["__scopeId","data-v-efd10802"]]),Fc={class:"actions"},Io=T({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Ie(E()),t=A("collateral"),{loading:s,data:l,loadData:r}=F(()=>o.vault?a.getLargeTrovePositions("ethereum",o.vault.address,t.value).then(p=>p.positions):Promise.resolve([]),[]);return R([t,()=>o.vault],r),(p,_)=>(v(),S(n(se),{class:"chart-container",title:n(e)("title"),loading:n(s)},{actions:y(()=>[u("div",Fc,[h(n(ot),{value:"Coll.","model-value":t.value==="collateral",onClick:_[0]||(_[0]=i=>t.value="collateral")},null,8,["model-value"]),h(n(ot),{value:"Debt","model-value":t.value==="debt",onClick:_[1]||(_[1]=i=>t.value="debt")},null,8,["model-value"])])]),default:y(()=>[h(Ec,{data:n(l)},null,8,["data"])]),_:1},8,["title","loading"]))}});function wa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["5 Largest Troves vs Others"])}}})}typeof wa=="function"&&wa(Io);const Uc=z(Io,[["__scopeId","data-v-da3dfcd3"]]),Nc=T({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(o){const e=Y(),a=w(()=>{const l=G(e.theme),r=le(e.theme);return re({colors:l,colorsArray:r},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:s.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),t=w(()=>[{name:"# of troves",data:Object.values(o.data).map(l=>l.value)}]),s=w(()=>o.data.map(l=>l.label));return(l,r)=>(v(),S(n(ie),{class:"graph",options:a.value,series:t.value},null,8,["options","series"]))}});const Hc=z(Nc,[["__scopeId","data-v-b58532a3"]]),jc={class:"actions"},Do=T({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Ie(E()),{loading:t,data:s,loadData:l}=F(()=>o.vault?a.getTroveDistribution("ethereum",o.vault.address,r.value).then(p=>p.distribution):Promise.resolve([]),[]),r=A("collateral");return R([r,()=>o.vault],l),(p,_)=>(v(),S(n(se),{class:"chart-container",title:n(e)("title"),loading:n(t)},{actions:y(()=>[u("div",jc,[h(n(ot),{value:"Coll.","model-value":r.value==="collateral",onClick:_[0]||(_[0]=i=>r.value="collateral")},null,8,["model-value"]),h(n(ot),{value:"Debt","model-value":r.value==="debt",onClick:_[1]||(_[1]=i=>r.value="debt")},null,8,["model-value"])])]),default:y(()=>[h(Hc,{data:n(s)},null,8,["data"])]),_:1},8,["title","loading"]))}});function Ca(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Troves Distribution"])}}})}typeof Ca=="function"&&Ca(Do);const Gc=z(Do,[["__scopeId","data-v-40240406"]]),Jc={class:"kpis"},Qc=T({__name:"VaultKPIs",props:{vault:{default:null}},setup(o){return(e,a)=>(v(),C("div",Jc,[h(n(oe),{label:"TVL","has-value":!!e.vault},{default:y(()=>[e.vault?(v(),S(n(M),{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(oe),{label:"Debt / Debt Cap","has-value":!!e.vault},{default:y(()=>[e.vault?(v(),S(n(M),{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):V("",!0),U(" / "),e.vault?(v(),S(n(M),{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(oe),{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:y(()=>[e.vault?(v(),S(n(M),{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):V("",!0),U(" / "),e.vault?(v(),S(n(M),{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(oe),{label:"Interest rate","has-value":!!e.vault},{default:y(()=>[e.vault?(v(),S(n(M),{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(oe),{label:"Troves open / total","has-value":!!e.vault},{default:y(()=>[e.vault?(v(),S(n(M),{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):V("",!0),U(" / "),e.vault?(v(),S(n(M),{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(oe),{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:y(()=>[e.vault?(v(),S(n(M),{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):V("",!0),U(" / "),e.vault?(v(),S(n(M),{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):V("",!0)]),_:1},8,["has-value"])]))}});const Yc=z(Qc,[["__scopeId","data-v-12fbfe11"]]),xo=T({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Ie(E());let t,s;const l=Y(),r=A(null),{loading:p,data:_,loadData:i}=F(()=>o.vault?a.getVaultCollateralRatio("ethereum",o.vault.address,"1m").then(m=>m.ratio):Promise.resolve([]),[]);X(()=>{r.value&&(t=Se(r.value,d(r.value,l.theme)),s=t.addAreaSeries(c(l.theme)),b(_.value))}),R(()=>l.theme,m=>{r.value&&(t.applyOptions(d(r.value,m)),s.applyOptions(c(m)))}),R(()=>o.vault,i),R(_,m=>{b(m)});const d=(m,g)=>ze(m,g,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),c=m=>{const g=G(m);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:fe.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},b=m=>{if(!t||!s)return;const g=N.chain(m).map(f=>({time:f.timestamp,value:f.value*100})).uniqWith((f,x)=>f.time===x.time).orderBy(f=>f.time,"asc").value();g.length>0&&s.setData(g),t.timeScale().fitContent()};return(m,g)=>(v(),S(n(se),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ka(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vault collateral ratio"])}}})}typeof ka=="function"&&ka(xo);const Kc=z(xo,[["__scopeId","data-v-8e2f37cf"]]),Ao=T({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Ie(E());let t,s;const l=Y(),r=A(null),{loading:p,data:_,loadData:i}=F(()=>o.vault?a.getVaultTroveCount("ethereum",o.vault.address,"1m").then(m=>m.count):Promise.resolve([]),[]);X(()=>{r.value&&(t=Se(r.value,d(r.value,l.theme)),s=t.addAreaSeries(c(l.theme)),b(_.value))}),R(()=>l.theme,m=>{r.value&&(t.applyOptions(d(r.value,m)),s.applyOptions(c(m)))}),R(()=>o.vault,i),R(_,m=>{b(m)});const d=(m,g)=>ze(m,g,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),c=m=>{const g=G(m);return{priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:fe.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},b=m=>{if(!t||!s)return;const g=N.chain(m).map(f=>({time:f.timestamp,value:f.value})).uniqWith((f,x)=>f.time===x.time).orderBy(f=>f.time,"asc").value();g.length>0&&s.setData(g),t.timeScale().fitContent()};return(m,g)=>(v(),S(n(se),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Sa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Number of open troves"])}}})}typeof Sa=="function"&&Sa(Ao);const Xc=z(Ao,[["__scopeId","data-v-598abfc0"]]),Zc={class:"vault-overview"},eu=T({__name:"VaultOverview",props:{vault:{}},setup(o){return(e,a)=>(v(),C("div",Zc,[h(Yc,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(Gc,{vault:e.vault},null,8,["vault"]),h(Uc,{vault:e.vault},null,8,["vault"]),h(Kc,{vault:e.vault},null,8,["vault"]),h(Xc,{vault:e.vault},null,8,["vault"])]))}});const tu=z(eu,[["__scopeId","data-v-ad4ff57f"]]),ut="https://api.prismamonitor.com/v1";class Pt extends Te{async getCollateralPrices(e,a,t){return this.fetch(`${ut}/collateral/${e}/${a}/prices?period=${t}`)}async getCollateralPriceImpact(e,a){return this.fetch(`${ut}/collateral/${e}/${a}/impact`)}async getCollateralInfo(e,a){return this.fetch(`${ut}/collateral/${e}/${a}/info`)}}const au={class:"actions"},Oo=T({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Pt(E());let t,s,l;const r=Y(),p=A(null),_={oracle:[],market:[]},{loading:i,data:d,loadData:c}=F(async()=>{if(o.vault){const I=await a.getCollateralPrices("ethereum",o.vault.collateral,"7d");return b(I.oracle,I.market)}else return Promise.resolve(_)},_);X(async()=>{p.value&&(await dn(),t=Se(p.value,m(p.value,r.theme)),s=t.addAreaSeries(f(r.theme)),l=t.addAreaSeries(g(r.theme)),x(d.value))}),R(()=>o.vault,c),R(()=>r.theme,I=>{p.value&&(t.applyOptions(m(p.value,I)),s.applyOptions(f(I)),l.applyOptions(g(I)))}),R(d,I=>{x(I)});const b=(I,q)=>{const O=Math.max(I[0].timestamp,q[0].timestamp),D=Math.min(I[I.length-1].timestamp,q[q.length-1].timestamp),$=I.filter(P=>P.timestamp>=O&&P.timestamp<=D),L=q.filter(P=>P.timestamp>=O&&P.timestamp<=D);return $[$.length-1].timestamp<D&&$.push({timestamp:D,value:$[$.length-1].value}),L[L.length-1].timestamp<D&&L.push({timestamp:D,value:L[L.length-1].value}),{oracle:$,market:L}},m=(I,q)=>ze(I,q,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),g=I=>{const q=G(I);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:fe.WithSteps,lineColor:q.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},f=I=>{const q=G(I);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:fe.WithSteps,lineColor:q.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},x=I=>{if(!t||!s)return;const q=N.chain(I.oracle).map(D=>({time:D.timestamp,value:D.value})).uniqWith((D,$)=>D.time===$.time).orderBy(D=>D.time,"asc").value(),O=N.chain(I.market).map(D=>({time:D.timestamp,value:D.value})).uniqWith((D,$)=>D.time===$.time).orderBy(D=>D.time,"asc").value();O.length>0&&l.setData(O),q.length>0&&s.setData(q),t.timeScale().fitContent()};return(I,q)=>(v(),S(n(se),{class:"chart-container",title:n(e)("title"),loading:n(i)},{actions:y(()=>[u("div",au,[h(n(bl),{items:["Oracle","Market"],colors:n(le)(n(r).theme)},null,8,["colors"])])]),default:y(()=>[u("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ta(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Oracle & Market price"])}}})}typeof Ta=="function"&&Ta(Oo);const ou=z(Oo,[["__scopeId","data-v-c7da1b3d"]]),Vo=T({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Pt(E()),t=Y(),{loading:s,data:l,loadData:r}=F(()=>o.vault?a.getCollateralPriceImpact("ethereum",o.vault.collateral).then(b=>b.impact):Promise.resolve([]),[]),p=w(()=>{const b=G(t.theme),m=le(t.theme);return re({colors:b,colorsArray:m},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:i.value,labels:{formatter:g=>d(g)}},yaxis:{seriesName:"impact",labels:{formatter:g=>c(g)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:g=>{if(!o.vault)return"";const f=i.value[g.dataPointIndex],x=d(f*o.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${d(f)} ${o.vault.name} ($${x})</div>

          <div><b>Price impact:</b>:</div>
          <div>${c(g.series[0][g.dataPointIndex])}</div>
          `}}})}),_=w(()=>[{name:e("priceImpact"),data:Object.values(l.value).map(b=>b.impact)}]),i=w(()=>l.value.map(b=>o.vault?b.amount/o.vault.price:0)),d=b=>`${ae(Math.abs(b),1,"dollar")}${ee(b,"dollar")}`,c=b=>`${ae(b,2,"percentage")}${ee(b,"percentage")}`;return R(()=>o.vault,r),(b,m)=>(v(),S(n(ie),{class:"chart",title:n(e)("title"),loading:n(s),options:p.value,series:_.value},null,8,["title","loading","options","series"]))}});function Pa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["On-chain Selling Price Impact"])},priceImpact:a=>{const{normalize:t}=a;return t(["Price impact"])}}})}typeof Pa=="function"&&Pa(Vo);const nu=z(Vo,[["__scopeId","data-v-fc29c798"]]),su={class:"kpis"},lu=["href"],ru=T({__name:"CollateralKPIs",props:{vault:{default:null}},setup(o){const e=new Pt(E()),{data:a,loadData:t}=F(()=>o.vault?e.getCollateralInfo("ethereum",o.vault.collateral).then(s=>s.info):Promise.resolve(null),null);return R(()=>o.vault,t),(s,l)=>(v(),C("div",su,[h(n(oe),{label:"Oracle price","has-value":!!n(a)},{default:y(()=>[n(a)?(v(),S(n(M),{key:0,value:n(a).price,precision:2,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(oe),{label:"Total supply","has-value":!!n(a)},{default:y(()=>[n(a)?(v(),S(n(M),{key:0,value:n(a).supply,precision:2,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(oe),{label:"TVL","has-value":!!n(a)},{default:y(()=>[n(a)?(v(),S(n(M),{key:0,value:n(a).tvl,precision:1,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(oe),{label:"Share of the ETH LSD market","has-value":!!n(a)},{default:y(()=>[n(a)?(v(),S(n(M),{key:0,value:n(a).share,precision:1,type:"percentage"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(n(oe),{label:"Full risk analysis by Prisma Risk team","has-value":!!n(a)},{default:y(()=>[n(a)?(v(),C("a",{key:0,href:n(a).risk}," Risk Report ",8,lu)):V("",!0)]),_:1},8,["has-value"])]))}});const iu=z(ru,[["__scopeId","data-v-91346ad8"]]),cu={class:"collateral"},uu=T({__name:"Collateral",props:{vault:{}},setup(o){return(e,a)=>(v(),C("div",cu,[h(iu,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(ou,{vault:e.vault},null,8,["vault"]),h(nu,{vault:e.vault},null,8,["vault"])]))}});const du=z(uu,[["__scopeId","data-v-a7083765"]]),_u=["href"],mu=["href"],vu={class:"number"},pu={class:"number"},hu={class:"number"},za=15,Ro=T({__name:"TableLiquidations",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Tt(E()),{loading:t,data:s,loadData:l}=F(()=>o.vault?a.getLiquidations("ethereum",o.vault.address):Promise.resolve([]),[]),{relativeTime:r}=be(),{sortColumn:p,sortOrder:_,onSort:i}=Pe("timestamp"),d=A(""),c=A(null),b=w(()=>["Liquidator","Transaction","Debt","# Troves","Time"]),m=w(()=>["liquidator","tx","debt","numtroves","timestamp"]),g=w(()=>N.chain(s.value).filter(O=>{const D=d.value.toLocaleLowerCase().split(" ");return(L=>D.some(P=>L.toLocaleLowerCase().includes(P)))(O.liquidator)}).orderBy(O=>{switch(p.value){case"liquidator":return O.liquidator;case"tx":return O.transaction;case"debt":return O.liquidated_collateral_usd;case"numtroves":return O.troves_affected_count;case"timestamp":return O.timestamp;default:return O.timestamp}},_.value===te.Descending?"desc":"asc").value()),{page:f,rowsPage:x,onPage:I}=ye(g,za),q=O=>{c.value=O};return R(()=>o.vault,l),(O,D)=>(v(),C(Z,null,[h(n(ne),{class:"datatable-liquidations","columns-header":"1fr 1fr auto","columns-data":"liquidations-columns-data",loading:n(t),rows:n(x),columns:b.value,sorting:!0,"sorting-columns":m.value,"sorting-columns-enabled":m.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:n(i),onSelected:q},{"header-title":y(()=>[u("div",null,k(n(e)("title")),1),h(n(ue),{modelValue:d.value,"onUpdate:modelValue":D[0]||(D[0]=$=>d.value=$),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(n(ge),{class:"pagination","items-count":g.value.length,"items-per-page":za,page:n(f),onPage:n(I)},null,8,["items-count","page","onPage"])]),row:y($=>[u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${$.item.liquidator}`,target:"_blank",onClick:D[1]||(D[1]=K(()=>{},["stop"]))},k(n(j)($.item.liquidator)),9,_u)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${$.item.transaction}`,target:"_blank",onClick:D[2]||(D[2]=K(()=>{},["stop"]))},k(n(j)($.item.transaction)),9,mu)]),u("div",vu,[h(n(M),{type:"dollar",value:Math.round($.item.liquidated_debt),precision:1/0},null,8,["value"])]),u("div",pu,k($.item.troves_affected_count),1),u("div",hu,k(n(r)($.item.timestamp)),1)]),"row-details":y(()=>[U("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(n(xe),{show:!!c.value,onClose:D[3]||(D[3]=$=>c.value=null)},{default:y(()=>{var $;return[c.value?(v(),S(St,{key:0,liquidation:c.value,"vault-addr":(($=O.vault)==null?void 0:$.address)??""},null,8,["liquidation","vault-addr"])):V("",!0)]}),_:1},8,["show"])],64))}});function La(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidations"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof La=="function"&&La(Ro);const fu=z(Ro,[["__scopeId","data-v-4cb846bb"]]),gu={class:"liquidations"},bu=T({__name:"Liquidations",props:{vault:{}},setup(o){return(e,a)=>(v(),C("div",gu,[h(fu,{vault:e.vault},null,8,["vault"])]))}});const yu=z(bu,[["__scopeId","data-v-3b2484a7"]]),$u=["href"],wu=["href"],Cu={class:"number"},ku={class:"number"},Su={class:"number"},Ia=15,Mo=T({__name:"TableRedemptions",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new kt(E()),{loading:t,data:s,loadData:l}=F(()=>o.vault?a.getRedemptions("ethereum",o.vault.address):Promise.resolve([]),[]),{relativeTime:r}=be(),{sortColumn:p,sortOrder:_,onSort:i}=Pe("timestamp"),d=A(""),c=A(null),b=w(()=>["Redeemer","Transaction","Debt","# Troves","Time"]),m=w(()=>["redeemer","tx","debt","numtroves","timestamp"]),g=w(()=>N.chain(s.value).filter(O=>{const D=d.value.toLocaleLowerCase().split(" ");return(L=>D.some(P=>L.toLocaleLowerCase().includes(P)))(O.redeemer)}).orderBy(O=>{switch(p.value){case"redeemer":return O.redeemer;case"tx":return O.transaction;case"debt":return O.actual_debt_amount;case"numtroves":return O.troves_affected_count;case"timestamp":return O.timestamp;default:return O.timestamp}},_.value===te.Descending?"desc":"asc").value()),{page:f,rowsPage:x,onPage:I}=ye(g,Ia),q=O=>{c.value=O};return R(()=>o.vault,l),(O,D)=>(v(),C(Z,null,[h(n(ne),{class:"datatable-redemptions","columns-header":"1fr 1fr auto","columns-data":"redemptions-columns-data",loading:n(t),rows:n(x),columns:b.value,sorting:!0,"sorting-columns":m.value,"sorting-columns-enabled":m.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:n(i),onSelected:q},{"header-title":y(()=>[u("div",null,k(n(e)("title")),1),h(n(ue),{modelValue:d.value,"onUpdate:modelValue":D[0]||(D[0]=$=>d.value=$),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(n(ge),{class:"pagination","items-count":g.value.length,"items-per-page":Ia,page:n(f),onPage:n(I)},null,8,["items-count","page","onPage"])]),row:y($=>[u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${$.item.redeemer}`,target:"_blank",onClick:D[1]||(D[1]=K(()=>{},["stop"]))},k(n(j)($.item.redeemer)),9,$u)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${$.item.transaction}`,target:"_blank",onClick:D[2]||(D[2]=K(()=>{},["stop"]))},k(n(j)($.item.transaction)),9,wu)]),u("div",Cu,[h(n(M),{type:"dollar",value:Math.round($.item.actual_debt_amount),precision:1/0},null,8,["value"])]),u("div",ku,k($.item.troves_affected_count),1),u("div",Su,k(n(r)($.item.timestamp)),1)]),"row-details":y(()=>[U("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(n(xe),{show:!!c.value,onClose:D[3]||(D[3]=$=>c.value=null)},{default:y(()=>{var $;return[c.value?(v(),S(Ct,{key:0,redemption:c.value,"vault-addr":(($=O.vault)==null?void 0:$.address)??""},null,8,["redemption","vault-addr"])):V("",!0)]}),_:1},8,["show"])],64))}});function Da(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Redemptions"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Da=="function"&&Da(Mo);const Tu=z(Mo,[["__scopeId","data-v-2bfbcafd"]]),Pu={class:"redemptions"},zu=T({__name:"Redemptions",props:{vault:{}},setup(o){return(e,a)=>(v(),C("div",Pu,[h(Tu,{vault:e.vault},null,8,["vault"])]))}});const Lu=z(zu,[["__scopeId","data-v-ff43effe"]]),Ge="https://api.prismamonitor.com/v1";class Ne extends Te{async getTroves(e,a,t){return Be(l=>this.fetch(`${Ge}/trove/${e}/${a}/troves?items=100&page=${l}&order_by=last_update&desc=true${t?"&owner_filter="+t:""}`).then(r=>r.troves),1,100)}async getTroveSnapshots(e,a,t){return this.fetch(`${Ge}/trove/${e}/${a}/snapshots/${t}`)}async getTroveDetail(e,a,t){return this.fetch(`${Ge}/trove/${e}/${a}/${t}`)}async getTroveHistory(e,a,t){return this.fetch(`${Ge}/trove/${e}/${a}/history/${t}`)}async getTroveRank(e,a,t){return this.fetch(`${Ge}/trove/${e}/${a}/rank/${t}`)}}const Iu=["href"],Du={class:"number"},xu={class:"number"},xa=15,qo=T({__name:"TableTroves",props:{vault:{default:null}},setup(o){const{t:e}=W(),a=new Ne(E()),{loading:t,data:s,loadData:l}=F(()=>o.vault?a.getTroves("ethereum",o.vault.address):Promise.resolve([]),[]),{relativeTime:r}=be(),{sortColumn:p,sortOrder:_,onSort:i}=Pe("updated"),d=A(""),c=A("Open"),b=w(()=>c.value==="Open"?["Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["Owner","","","","Created At","Last Updated"]),m=w(()=>c.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","","","","created","updated"]),g=w(()=>c.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),f=w(()=>N.chain(s.value).filter(D=>c.value===D.status).filter(D=>{const $=d.value.toLocaleLowerCase().split(" ");return(P=>$.some(J=>P.toLocaleLowerCase().includes(J)))(D.owner)}).orderBy(D=>{switch(p.value){case"owner":return D.owner;case"debt":return D.debt;case"coll":return D.collateral_usd;case"ratio":return D.collateral_ratio;case"created":return D.created_at;case"updated":return D.last_update;default:return D.last_update}},_.value===te.Descending?"desc":"asc").value()),{page:x,rowsPage:I,onPage:q}=ye(f,xa),O=D=>{D===0?c.value="Open":D===1?c.value="Closed":c.value="Open"};return R(()=>o.vault,l),(D,$)=>(v(),S(n(ne),{class:"datatable-troves","columns-header":"1fr 1fr","columns-data":"troves-columns-data",loading:n(t),rows:n(I),columns:b.value,sorting:!0,"sorting-columns":m.value,"sorting-columns-enabled":g.value,"sorting-default-column":"updated","sorting-default-dir":"Descending",onSortColumn:n(i)},{"header-title":y(()=>[h(n(yt),{class:"types",onTab:$[0]||($[0]=L=>O(L.index))},{default:y(()=>[h(n(Ce),{header:"Open"}),h(n(Ce),{header:"Closed"})]),_:1}),h(n(ue),{modelValue:d.value,"onUpdate:modelValue":$[1]||($[1]=L=>d.value=L),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(n(ge),{class:"pagination","items-count":f.value.length,"items-per-page":xa,page:n(x),onPage:n(q)},null,8,["items-count","page","onPage"])]),row:y(L=>[u("div",{onClick:$[2]||($[2]=K(()=>{},["stop"]))},[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${L.item.owner}`,target:"_blank"},k(n(j)(L.item.owner)),9,Iu)]),u("div",{class:B(["number",{hide:c.value==="Closed"}])},[h(n(M),{type:"dollar",value:Math.round(L.item.debt),precision:1/0},null,8,["value"])],2),u("div",{class:B(["number",{hide:c.value==="Closed"}])},[h(n(M),{type:"dollar",value:Math.round(L.item.collateral_usd),precision:1/0},null,8,["value"])],2),u("div",{class:B(["number",{hide:c.value==="Closed"}])},[h(n(M),{value:L.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",Du,k(n(r)(L.item.created_at)),1),u("div",xu,k(n(r)(L.item.last_update)),1)]),"row-details":y(()=>[U("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]))}});function Aa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Aa=="function"&&Aa(qo);const Au=z(qo,[["__scopeId","data-v-2a50d72c"]]),Ou={class:"troves"},Vu=T({__name:"Troves",props:{vault:{}},setup(o){const e=st(),a=Xe(),t=async s=>{e.trove=s,o.vault&&await a.push({name:"prismatrove",params:{troveAddr:s.owner,vaultAddr:o.vault.address}})};return(s,l)=>(v(),C("div",Ou,[h(Au,{vault:s.vault,onSelected:t},null,8,["vault"])]))}});const Ru=z(Vu,[["__scopeId","data-v-a25b939f"]]),Mu={class:"vault-manager"},qu=T({__name:"VaultManager",setup(o){const e=new Fe("ethereum"),a=Ee(),t=Xe(),s=nt(),l=st(),r=A(0),p=w(()=>a.params.vaultAddr),_=w(()=>l.vault);return X(()=>{var d;const i=a.params.tab;i&&typeof i=="string"&&(i==="collateral"?r.value=1:i==="trove"?r.value=2:i==="liquidations"?r.value=3:i==="redemptions"&&(r.value=4)),s.show=!0,s.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((d=_.value)==null?void 0:d.name)??"?"}`}]}),R(e.currentData,i=>{const d=i.find(c=>c.address===p.value);d&&(l.vault=d)}),R(_,i=>{s.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(i==null?void 0:i.name)??"?"}`}]}),R(r,async i=>{i===0?await t.push({name:"prismavault",params:{tab:"",vaultAddr:p.value}}):i===1?await t.push({name:"prismavault",params:{tab:"collateral",vaultAddr:p.value}}):i===2?await t.push({name:"prismavault",params:{tab:"trove",vaultAddr:p.value}}):i===3?await t.push({name:"prismavault",params:{tab:"liquidations",vaultAddr:p.value}}):i===4&&await t.push({name:"prismavault",params:{tab:"redemptions",vaultAddr:p.value}})}),(i,d)=>(v(),C("div",Mu,[h(n(yt),{active:r.value,onTab:d[0]||(d[0]=c=>r.value=c.index)},{default:y(()=>[h(n(Ce),{header:"Overview"},{default:y(()=>[(v(),S(He,null,[r.value===0?(v(),S(tu,{key:0,vault:_.value},null,8,["vault"])):V("",!0)],1024))]),_:1}),h(n(Ce),{header:"Collateral"},{default:y(()=>[(v(),S(He,null,[r.value===1&&_.value?(v(),S(du,{key:0,vault:_.value},null,8,["vault"])):V("",!0)],1024))]),_:1}),h(n(Ce),{header:"Troves"},{default:y(()=>[(v(),S(He,null,[r.value===2&&_.value?(v(),S(Ru,{key:0,vault:_.value},null,8,["vault"])):V("",!0)],1024))]),_:1}),h(n(Ce),{header:"Liquidations"},{default:y(()=>[(v(),S(He,null,[r.value===3&&_.value?(v(),S(yu,{key:0,vault:_.value},null,8,["vault"])):V("",!0)],1024))]),_:1}),h(n(Ce),{header:"Redemptions"},{default:y(()=>[(v(),S(He,null,[r.value===4&&_.value?(v(),S(Lu,{key:0,vault:_.value},null,8,["vault"])):V("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const Wu=z(qu,[["__scopeId","data-v-2d7b2517"]]),Bu=o=>(me("data-v-18bb3033"),o=o(),ve(),o),Eu=Bu(()=>u("div",null,[U(" This chart displays that amount of collateral available below different collateral ratios. "),u("br"),U(" It also displays the position of the trove relative to other troves in this vault. "),u("br"),u("br"),U(" This information is useful to estimate a trove's risk of redemption. "),u("br"),U(" Even if the trove's collateral ratio is high in the absolute, a lower ratio relative "),u("br"),U(" to other troves means a higher risk of redemption."),u("br"),u("br"),U(` As such, the lower the "risk rank" displayed, the higher the trove's risk of being redeemed. `)],-1)),Wo=T({__name:"ChartTroveRank",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=W(),a=new Ne(E()),t=Y(),s=A("Trove Relative Position"),l={rank:null,total_positions:0,ratio:null,positions:[]},{loading:r,data:p,loadData:_}=F(async()=>o.vault&&o.trove?await a.getTroveRank("ethereum",o.vault.address,o.trove.owner):Promise.resolve(l),l),i=w(()=>{var I,q;const g=G(t.theme),f=le(t.theme),x={x:((I=p.value)==null?void 0:I.ratio)??0,borderColor:g.yellow,strokeDashArray:2,label:{borderColor:g.yellow,style:{background:g.yellow,color:"rgb(34, 34, 34)"},position:"top",offsetX:15,text:`This trove: ${m(((q=p.value)==null?void 0:q.ratio)??0,1)}`}};return re({colors:g,colorsArray:f},{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!0}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},annotations:{xaxis:p.value.ratio?[x]:[]},toolbar:{show:!1},xaxis:{type:"numeric",categories:c.value,labels:{formatter:O=>m(O)}},yaxis:{seriesName:"impact",labels:{formatter:O=>b(O)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:O=>{if(!o.vault)return"";const D=c.value[O.dataPointIndex];return`
          <div><b>Collateral ratio:</b>:</div>
          <div>${O.dataPointIndex===c.value.length-1?"Over 250%":m(D)}</div>

          <div><b>Troves with lower or equal ratio:</b>:</div>
          <div>${p.value.positions[O.dataPointIndex].trove_count}</div>

          <div><b>Collateral value at lower or equal ratio:</b>:</div>
          <div>$${b(O.series[0][O.dataPointIndex])}</div>
          `}}})}),d=w(()=>[{name:e("rank"),data:Object.values(p.value.positions).map(g=>g.collateral_usd)}]),c=w(()=>p.value.positions.map(g=>g.ratio)),b=g=>`${ae(Math.abs(g),1,"dollar")}${ee(g,"dollar")}`,m=(g,f=0)=>`${ae(g,f,"percentage")}${ee(g,"percentage")}`;return R(()=>o.vault,_),R(p,g=>{g&&typeof g.rank=="number"&&(s.value=e("title",{rank:g.rank,total_positions:g.total_positions}))},{immediate:!0}),(g,f)=>(v(),S(n(se),{class:"chart-container",title:s.value,loading:n(r)},{actions:y(()=>[h(n(Ye),null,{default:y(()=>[Eu]),_:1})]),default:y(()=>[h(n(Ga),{class:"chart",options:i.value,series:d.value},null,8,["options","series"])]),_:1},8,["title","loading"]))}});function Oa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t,interpolate:s,named:l}=a;return t(["Trove Relative Position (Risk rank: ",s(l("rank"))," / ",s(l("total_positions")),")"])}}})}typeof Oa=="function"&&Oa(Wo);const Fu=z(Wo,[["__scopeId","data-v-18bb3033"]]),Bo=T({__name:"ChartTroveHealth",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=W(),a=new Ne(E()),t=Y(),{loading:s,data:l,loadData:r}=F(async()=>o.vault&&o.trove?await a.getTroveSnapshots("ethereum",o.vault.address,o.trove.owner).then(b=>b.snapshots):Promise.resolve([]),[]),p=w(()=>{const c=G(t.theme),b=le(t.theme);return re({colors:c,colorsArray:b},{chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"collateralUsd",tickAmount:4,opposite:!0,labels:{formatter:m=>i(m)},min:0,max:Math.max(...l.value.map(m=>m.collateral_usd))},{seriesName:"ratio",tickAmount:4,labels:{formatter:m=>d(m)},min:0,max:Math.max(...l.value.map(m=>m.cr??0))}],dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:m=>{const g=m.w.globals.initialSeries[0].data[m.dataPointIndex].y,f=m.w.globals.initialSeries[1].data[m.dataPointIndex]?m.w.globals.initialSeries[1].data[m.dataPointIndex].y:0;return[`<div><b>${e("ratio")}</b>:</div><div>${d(f)}</div>`,`<div><b>${e("collateralUsd")}</b>:</div><div>${i(g)}</div>`].join("")}}})}),_=w(()=>[{name:e("collateralUsd"),type:"line",data:l.value.map(c=>({x:c.timestamp*1e3,y:c.collateral_usd}))},{name:e("ratio"),type:"line",data:l.value.map(c=>({x:c.timestamp*1e3,y:c.cr??0}))}]),i=c=>`$${ae(c,1,"dollar")}${ee(c,"dollar")}`,d=c=>`${De(c*100,2)}%`;return R(()=>o.vault,r),(c,b)=>(v(),S(n(ie),{class:"health",title:n(e)("title"),options:p.value,series:_.value,loading:n(s)},null,8,["title","options","series","loading"]))}});function Va(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Health"])},collateralUsd:a=>{const{normalize:t}=a;return t(["Collateral ($)"])},ratio:a=>{const{normalize:t}=a;return t(["Ratio"])}}})}typeof Va=="function"&&Va(Bo);const Uu=z(Bo,[["__scopeId","data-v-a729f106"]]),Nu={class:"number"},Hu={class:"number"},ju={class:"number"},Gu={class:"number"},Ju={class:"number"},Qu=["href"],Yu={class:"number"},Eo=T({__name:"TableTroveOps",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=W(),a=new Ne(E()),{relativeTime:t}=be(),s=w(()=>N.orderBy(r.value,i=>i.timestamp,"desc")),{loading:l,data:r,loadData:p}=F(()=>o.vault&&o.trove?a.getTroveSnapshots("ethereum",o.vault.address,o.trove.owner).then(i=>i.snapshots):Promise.resolve([]),[]),_=i=>i.replace(/^_*(.)|_+(.)/g,(d,c,b)=>c?c.toUpperCase():" "+b.toUpperCase());return R(()=>o.vault,p),(i,d)=>(v(),S(n(ne),{class:"datatable-trove-ops","columns-header":"1fr 1fr auto","columns-data":"trove-ops-columns-data",loading:n(l),rows:s.value,columns:["Operation","Collateral","Debt","Ratio","Stake","Tx","Time"]},{"header-title":y(()=>[u("div",null,k(n(e)("title")),1)]),row:y(c=>[u("div",null,k(_(c.item.operation)),1),u("div",Nu,[c.item.collateral?(v(),S(n(M),{key:0,value:c.item.collateral,precision:3,"show-symbol":!1,type:"dollar"},null,8,["value"])):V("",!0)]),u("div",Hu,[h(n(M),{type:"dollar",value:Math.round(c.item.debt),precision:1/0},null,8,["value"])]),u("div",ju,[c.item.cr?(v(),S(n(M),{key:0,value:c.item.cr*100,precision:2,type:"percentage"},null,8,["value"])):V("",!0)]),u("div",Gu,[c.item.stake?(v(),S(n(M),{key:0,value:c.item.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])):V("",!0)]),u("div",Ju,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${c.item.hash}`,target:"_blank",onClick:d[0]||(d[0]=K(()=>{},["stop"]))},k(n(j)(c.item.hash)),9,Qu)]),u("div",Yu,k(n(t)(c.item.timestamp)),1)]),_:1},8,["loading","rows"]))}});function Ra(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Operations"])}}})}typeof Ra=="function"&&Ra(Eo);const Ku=z(Eo,[["__scopeId","data-v-2fc28f36"]]),Xu={class:"trove"},Zu=T({__name:"Trove",setup(o){const e=new Ne(E()),a=new Fe("ethereum"),t=nt(),s=st(),l=Ee(),r=w(()=>l.params.vaultAddr),p=w(()=>s.vault),_=w(()=>s.trove);return X(async()=>{var d,c;const i=await e.getTroveDetail("ethereum",l.params.vaultAddr,l.params.troveAddr);i&&(s.trove=i),t.show=!0,t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((d=p.value)==null?void 0:d.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((c=_.value)==null?void 0:c.owner)??"?"}`}]}),R(a.currentData,i=>{const d=i.find(c=>c.address===r.value);d&&(s.vault=d)}),R(p,i=>{var d;t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(i==null?void 0:i.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((d=_.value)==null?void 0:d.owner)??"?"}`}]}),R(_,i=>{var d;t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((d=p.value)==null?void 0:d.name)??"?"}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(i==null?void 0:i.owner)??"?"}`}]}),(i,d)=>(v(),C("div",Xu,[h(Fu,{class:"graph-rank",vault:p.value,trove:_.value},null,8,["vault","trove"]),h(Uu,{class:"graph-health",vault:p.value,trove:_.value},null,8,["vault","trove"]),h(Ku,{class:"table-ops",vault:p.value,trove:_.value},null,8,["vault","trove"])]))}});const ed=z(Zu,[["__scopeId","data-v-2d719a0f"]]),td=["src"],ad=["href"],od=["href"],nd={class:"number"},sd={class:"number"},ld={class:"number"},Ma=15,Fo=T({__name:"TableRedemptions",props:{troves:{default:()=>[]}},setup(o){const e=new kt(E()),{t:a}=W(),{loading:t,data:s,loadData:l}=F(()=>Promise.all(o.troves.map($=>e.getRedemptionsForTrove("ethereum",$))).then($=>$.flat()),[]),{relativeTime:r}=be(),{sortColumn:p,sortOrder:_,onSort:i}=Pe("timestamp"),d=A(""),c=A("all"),b=A(null),m=w(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),g=w(()=>["icon","redeemer","tx","debt","numtroves","timestamp"]),f=w(()=>["redeemer","tx","debt","numtroves","timestamp"]),x=w(()=>N.chain(s.value).filter($=>{const L=d.value.toLocaleLowerCase().split(" "),P=de=>L.some($e=>de.toLocaleLowerCase().includes($e)),J=ke($.vault),Q=c.value==="all"?!0:c.value===J;return P($.redeemer)&&Q}).orderBy($=>{switch(p.value){case"redeemer":return $.redeemer;case"tx":return $.transaction;case"debt":return $.actual_debt_amount;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},_.value===te.Descending?"desc":"asc").value()),{page:I,rowsPage:q,onPage:O}=ye(x,Ma),D=$=>{b.value=$};return R(()=>o.troves,l),($,L)=>(v(),C(Z,null,[h(n(ne),{class:"datatable-redemptions","columns-header":"1fr 12rem minmax(auto, 25rem) auto","columns-data":"redemptions-columns-data",loading:n(t)||$.troves.length===0,rows:n(q),columns:m.value,sorting:!0,"sorting-columns":g.value,"sorting-columns-enabled":f.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:n(i),onSelected:D},{"header-title":y(()=>[u("div",null,k(n(a)("title")),1),h(tt,{class:"select-collateral",collateral:c.value,all:!0,onSelectCollateral:L[0]||(L[0]=P=>c.value=P)},null,8,["collateral"]),h(n(ue),{modelValue:d.value,"onUpdate:modelValue":L[1]||(L[1]=P=>d.value=P),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(n(ge),{class:"pagination","items-count":x.value.length,"items-per-page":Ma,page:n(I),onPage:n(O)},null,8,["items-count","page","onPage"])]),row:y(P=>[u("img",{src:n(Le)(n(ke)(P.item.vault))},null,8,td),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${P.item.redeemer}`,target:"_blank",onClick:L[2]||(L[2]=K(()=>{},["stop"]))},k(n(j)(P.item.redeemer)),9,ad)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${P.item.transaction}`,target:"_blank",onClick:L[3]||(L[3]=K(()=>{},["stop"]))},k(n(j)(P.item.transaction)),9,od)]),u("div",nd,[h(n(M),{type:"dollar",value:Math.round(P.item.actual_debt_amount),precision:1/0},null,8,["value"])]),u("div",sd,k(P.item.troves_affected_count),1),u("div",ld,k(n(r)(P.item.timestamp)),1)]),"row-details":y(()=>[U("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(n(xe),{show:!!b.value,onClose:L[4]||(L[4]=P=>b.value=null)},{default:y(()=>[b.value?(v(),S(Ct,{key:0,redemption:b.value,"vault-addr":b.value.vault},null,8,["redemption","vault-addr"])):V("",!0)]),_:1},8,["show"])],64))}});function qa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Redemptions"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof qa=="function"&&qa(Fo);const rd=z(Fo,[["__scopeId","data-v-b0525899"]]),id=["src"],cd=["href"],ud=["href"],dd={class:"number"},_d={class:"number"},md={class:"number"},Wa=15,Uo=T({__name:"TableLiquidations",props:{troves:{default:()=>[]}},setup(o){const e=new Tt(E()),{t:a}=W(),{loading:t,data:s,loadData:l}=F(()=>Promise.all(o.troves.map($=>e.getLiquidationsForTrove("ethereum",$))).then($=>$.flat()),[]),{relativeTime:r}=be(),{sortColumn:p,sortOrder:_,onSort:i}=Pe("timestamp"),d=A(""),c=A("all"),b=A(null),m=w(()=>["","Liquidator","Transaction","Debt","# Troves","Time"]),g=w(()=>["icon","liquidator","tx","debt","numtroves","timestamp"]),f=w(()=>["liquidator","tx","debt","numtroves","timestamp"]),x=w(()=>N.chain(s.value).filter($=>{const L=d.value.toLocaleLowerCase().split(" "),P=de=>L.some($e=>de.toLocaleLowerCase().includes($e)),J=ke($.vault),Q=c.value==="all"?!0:c.value===J;return P($.liquidator)&&Q}).orderBy($=>{switch(p.value){case"liquidator":return $.liquidator;case"tx":return $.transaction;case"debt":return $.liquidated_collateral_usd;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},_.value===te.Descending?"desc":"asc").value()),{page:I,rowsPage:q,onPage:O}=ye(x,Wa),D=$=>{b.value=$};return R(()=>o.troves,l),($,L)=>(v(),C(Z,null,[h(n(ne),{class:"datatable-liquidations","columns-header":"1fr 12rem minmax(auto, 25rem) auto","columns-data":"liquidations-columns-data",loading:n(t)||$.troves.length===0,rows:n(q),columns:m.value,sorting:!0,"sorting-columns":g.value,"sorting-columns-enabled":f.value,"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:n(i),onSelected:D},{"header-title":y(()=>[u("div",null,k(n(a)("title")),1),h(tt,{class:"select-collateral",collateral:c.value,all:!0,onSelectCollateral:L[0]||(L[0]=P=>c.value=P)},null,8,["collateral"]),h(n(ue),{modelValue:d.value,"onUpdate:modelValue":L[1]||(L[1]=P=>d.value=P),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(n(ge),{class:"pagination","items-count":x.value.length,"items-per-page":Wa,page:n(I),onPage:n(O)},null,8,["items-count","page","onPage"])]),row:y(P=>[u("img",{src:n(Le)(n(ke)(P.item.vault))},null,8,id),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${P.item.liquidator}`,target:"_blank",onClick:L[2]||(L[2]=K(()=>{},["stop"]))},k(n(j)(P.item.liquidator)),9,cd)]),u("div",null,[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/tx/${P.item.transaction}`,target:"_blank",onClick:L[3]||(L[3]=K(()=>{},["stop"]))},k(n(j)(P.item.transaction)),9,ud)]),u("div",dd,[h(n(M),{type:"dollar",value:Math.round(P.item.liquidated_debt),precision:1/0},null,8,["value"])]),u("div",_d,k(P.item.troves_affected_count),1),u("div",md,k(n(r)(P.item.timestamp)),1)]),"row-details":y(()=>[U("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(n(xe),{show:!!b.value,onClose:L[4]||(L[4]=P=>b.value=null)},{default:y(()=>[b.value?(v(),S(St,{key:0,liquidation:b.value,"vault-addr":b.value.vault},null,8,["liquidation","vault-addr"])):V("",!0)]),_:1},8,["show"])],64))}});function Ba(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidations"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Ba=="function"&&Ba(Uo);const vd=z(Uo,[["__scopeId","data-v-18995d92"]]),pd=["src"],hd=["href"],fd={class:"number"},gd={class:"number"},Ea=15,No=T({__name:"TableTroves",props:{vaults:{default:()=>[]},user:{}},emits:["troves"],setup(o,{emit:e}){const{t:a}=W(),t=new Ne(E()),s=e,{loading:l,data:r,loadData:p}=F(async()=>{if(o.vaults.length>0&&o.user){const P=await Promise.all(o.vaults.map(J=>t.getTroves("ethereum",J.address,o.user).then(Q=>Q.map(de=>({...de,vault:{name:J.name,address:J.address}}))))).then(J=>J.flat());return s("troves",P),P}else return Promise.resolve([])},[]),{relativeTime:_}=be(),{sortColumn:i,sortOrder:d,onSort:c}=Pe("updated"),b=A(""),m=A("all"),g=A("Open"),f=w(()=>g.value==="Open"?["","Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["","Owner","","","","Created At","Last Updated"]),x=w(()=>g.value==="Open"?["","owner","debt","coll","ratio","created","updated"]:["","owner","","","","created","updated"]),I=w(()=>g.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),q=w(()=>N.chain(r.value).filter(P=>g.value===P.status).filter(P=>{const J=b.value.toLocaleLowerCase().split(" "),Q=Ho=>J.some(jo=>Ho.toLocaleLowerCase().includes(jo)),de=ke(P.vault.address),$e=m.value==="all"?!0:m.value===de;return Q(P.owner)&&$e}).orderBy(P=>{switch(i.value){case"owner":return P.owner;case"debt":return P.debt;case"coll":return P.collateral_usd;case"ratio":return P.collateral_ratio;case"created":return P.created_at;case"updated":return P.last_update;default:return P.last_update}},d.value===te.Descending?"desc":"asc").value()),{page:O,rowsPage:D,onPage:$}=ye(q,Ea),L=P=>{P===0?g.value="Open":P===1?g.value="Closed":g.value="Open"};return R(()=>o.vaults,p),(P,J)=>(v(),S(n(ne),{class:"datatable-troves","columns-header":"auto 1fr 12rem minmax(auto, 25rem)","columns-data":"troves-columns-data",loading:n(l),rows:n(D),columns:f.value,sorting:!0,"sorting-columns":x.value,"sorting-columns-enabled":I.value,"sorting-default-column":"updated","sorting-default-dir":"Descending",onSortColumn:n(c)},{"header-title":y(()=>[u("div",null,k(n(a)("title")),1),h(n(yt),{class:"types",onTab:J[0]||(J[0]=Q=>L(Q.index))},{default:y(()=>[h(n(Ce),{header:"Open"}),h(n(Ce),{header:"Closed"})]),_:1}),h(tt,{class:"select-collateral",collateral:m.value,all:!0,onSelectCollateral:J[1]||(J[1]=Q=>m.value=Q)},null,8,["collateral"]),h(n(ue),{modelValue:b.value,"onUpdate:modelValue":J[2]||(J[2]=Q=>b.value=Q),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"])]),"header-actions":y(()=>[h(n(ge),{class:"pagination","items-count":q.value.length,"items-per-page":Ea,page:n(O),onPage:n($)},null,8,["items-count","page","onPage"])]),row:y(Q=>[u("img",{src:n(Le)(Q.item.vault.name)},null,8,pd),u("div",{onClick:J[3]||(J[3]=K(()=>{},["stop"]))},[u("a",{style:{"font-family":"monospace"},href:`https://etherscan.io/address/${Q.item.owner}`,target:"_blank"},k(n(j)(Q.item.owner)),9,hd)]),u("div",{class:B(["number",{hide:g.value==="Closed"}])},[h(n(M),{type:"dollar",value:Math.round(Q.item.debt),precision:1/0},null,8,["value"])],2),u("div",{class:B(["number",{hide:g.value==="Closed"}])},[h(n(M),{type:"dollar",value:Math.round(Q.item.collateral_usd),precision:1/0},null,8,["value"])],2),u("div",{class:B(["number",{hide:g.value==="Closed"}])},[h(n(M),{value:Q.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",fd,k(n(_)(Q.item.created_at)),1),u("div",gd,k(n(_)(Q.item.last_update)),1)]),"row-details":y(()=>[U("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]))}});function Fa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Troves"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Fa=="function"&&Fa(No);const bd=z(No,[["__scopeId","data-v-ca9c21ad"]]),yd={class:"profile"},$d={style:{"grid-column":"1 / -1","margin-bottom":"-0.5rem"}},wd=T({__name:"Profile",setup(o){const e=new Fe("ethereum"),a=Ee(),t=Xe(),s=pt(),l=A(void 0),r=A([]),p=A([]),_=w(()=>p.value.filter(d=>l.value?d.owner.toLocaleLowerCase()===l.value.toLocaleLowerCase():!1).map(d=>d.owner));R(e.currentData,d=>{r.value=d}),X(()=>{r.value=e.currentData.value;const d=a.params.addr;d&&typeof d=="string"&&(l.value=d)});const i=d=>{p.value=d};return R(()=>s.address,async()=>{!a.params.addr&&!l.value&&s.address&&await t.push({name:"profile",params:{addr:s.address}})},{immediate:!0}),R(()=>a.params,()=>{const d=a.params.addr;d&&typeof d=="string"&&(l.value=d)}),(d,c)=>(v(),C("div",yd,[u("h2",$d," Profile: "+k(l.value??"?"),1),h(bd,{style:{"z-index":"2"},vaults:r.value,user:l.value,onTroves:i},null,8,["vaults","user"]),h(rd,{troves:_.value},null,8,["troves"]),h(vd,{troves:_.value},null,8,["troves"])]))}});const Cd=z(wd,[["__scopeId","data-v-7d20c777"]]),kd={titleRoute:"/",routes:[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:Ti},{path:"/mkusd",name:"mkusd",component:Bi},{path:"/redemptions",name:"redemptions",component:sc},{path:"/liquidations",name:"liquidations",component:bc},{path:"/vaults",name:"vaults",component:si},{path:"/cvxprisma",name:"cvxprisma",component:Tc},{path:"/veprisma",name:"veprisma",component:Wc},{path:"/profile/:addr?",name:"profile",component:Cd},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:Wu},{path:"/vault/:vaultAddr/trove/:troveAddr",name:"prismatrove",component:ed}],menuItems:[{to:"/vaults",label:"Vaults"},{to:"/mkusd",label:"mkUSD"},{to:"/pool",label:"Stability pool"},{to:"/redemptions",label:"Redemptions"},{to:"/liquidations",label:"Liquidations"},{to:"/cvxprisma",label:"cvxPRISMA"},{to:"/veprisma",label:"vePRISMA"},{to:"/profile",label:"Profile"}]},zt=_n(gr),Sd=mn({legacy:!1,locale:"en",fallbackLocale:"en"});zt.use(Sd);const Td=vn();zt.use(Td);const Pd=[kd],zd=wt();zd.pages=Pd;const Ld=Ir();zt.use(Ld).use(pn).use(hn).mount("#app");
