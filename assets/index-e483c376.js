import{d as $,r as C,c as x,w as A,t as D,l as W,o as c,a as k,b as w,e as h,f,g as j,h as Ae,n as T,i as q,j as I,F as N,T as Bt,u as d,k as ye,m as Rt,p as Vt,q as L,s as u,v as Nt,x as P,y as U,z as dt,A as te,B as ae,C as _e,D as ze,E as B,G as Wt,H as Ft,I as we,J as Le,K as Ne,L as Et,M as Gt,N as Ht,O as jt,Y as Ce,P as ge,Q as qt,R as me,S as Ut,U as Qt,V as Yt,W as Jt,X as Kt}from"./vendor-34f3062c.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();function le(a,e=0,s=".",t=","){const o=isFinite(+a)?+a:0,l=isFinite(+e)?Math.abs(e):0,n=typeof t>"u"?",":t,_=typeof s>"u"?".":s,i=function(p,m){const z=Math.pow(10,m);return Math.round(p*z)/z},r=(l?i(o,l):Math.round(o)).toString().split(".");return r[0].length>3&&(r[0]=r[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,n)),(r[1]||"").length<l&&(r[1]=r[1]||"",r[1]+=new Array(l-r[1].length+1).join("0")),r.join(_)}function X(a,e){const s=Math.abs(a);return e==="percentage"?"%":e==="dollar"?s>=1*10**12?"t":s>=1*10**9?"b":s>=1*10**6?"m":s>=1*10**3?"k":"":""}function se(a,e,s){const t=Math.abs(a);return s==="percentage"?le(a,e):s==="dollar"?t>=1*10**12?le(a/10**12,e):t>=1*10**9?le(a/10**9,e):t>=1*10**6?le(a/10**6,e):t>=1*10**3?le(a/10**3,e):le(a,e):a.toString()}function Oe(a,e){return(Array.isArray(a)?a:[a]).some(t=>e.path.indexOf(t)===0)}const Xt="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",Zt="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",ea="0x657ce046d98d163ef4f846210f25919fa7b31944",ta="https://api.llama.airforce/";async function aa(a,e,s){return await fetch(a,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:s})}async function sa(a,e,s){return await(await aa(a,e,s)).json()}class oa{constructor(e){this.host=e}async fetch(e,s,t){return sa(e,s,t)}}const na="|/-\\",K=$({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(a){let e=0,s=0;const t=C("|"),o=x(()=>a.value?se(a.value,a.precision,a.type??""):a.value===0&&a.showZero?"0":a.value===null||a.value===void 0?t.value:"?"),l=x(()=>!a.value||!a.type||!W.isFinite(a.value)?a.showUnit&&a.type?X(0,a.type):"":X(a.value,a.type));return A(()=>a.value,n=>{if(clearInterval(s),e=0,n)return;const _=()=>{e=(e+1)%4,t.value=na[e]};s=window.setInterval(_,250)},{immediate:!0}),(n,_)=>D(n.showSymbol&&n.type==="dollar"?"$":"")+D(o.value)+D(n.showUnit?l.value:"")}}),la={key:0,class:"fas fa-chevron-right"},ra=$({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(a,{emit:e}){const s=o=>{var l;return a.active?a.active.id===o.id:((l=a.crumbs.at(-1))==null?void 0:l.id)===o.id},t=o=>{var l;return((l=a.crumbs.at(-1))==null?void 0:l.id)===o.id};return(o,l)=>(c(),k(d(Q),null,{default:w(()=>[h(Bt,{name:"fade",tag:"ul"},{default:w(()=>[(c(!0),f(N,null,j(o.crumbs,n=>(c(),f("li",{key:n.id},[(c(),k(Ae(s(n)?"span":"a"),{class:T({active:s(n)}),onClick:_=>e("crumb",n)},{default:w(()=>[q(D(n.label),1)]),_:2},1032,["class","onClick"])),!t(n)||o.crumbs.length===1?(c(),f("i",la)):I("",!0)]))),128))]),_:1})]),_:1}))}});const y=(a,e)=>{const s=a.__vccOpts||a;for(const[t,o]of e)s[t]=o;return s},ia=y(ra,[["__scopeId","data-v-997741c8"]]);function ca(){return!1}ye({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(a){this.address=a==null?void 0:a.toLocaleLowerCase()}}});Rt();Vt({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"});function pe(a,e=6){if(!a)return"0x000...000";const s=e/2+2,t=a.length-e/2;return`${a.substring(0,s)}...${a.substring(t)}`}const ua=$({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(a,{emit:e}){const s=async t=>{t.stopImmediatePropagation(),!(a.web3&&ca())&&e("click")};return(t,o)=>(c(),f("button",{class:T({primary:t.primary}),onClick:s},[L(t.$slots,"default",{},()=>[t.icon?(c(),f("i",{key:0,class:T(["icon",[t.icon,{noValue:!!t.value}]])},null,2)):I("",!0),q(" "+D(t.value),1)],!0)],2))}});const ee=y(ua,[["__scopeId","data-v-71e224f0"]]),da=$({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(a,{emit:e}){const s=()=>{e("update:modelValue",!a.modelValue)};return(t,o)=>(c(),f("button",{class:T({toggled:t.modelValue}),onClick:s},[L(t.$slots,"default",{},()=>[t.icon?(c(),f("i",{key:0,class:T(["icon",t.icon])},null,2)):I("",!0),q(" "+D(t.value),1)],!0)],2))}});const $e=y(da,[["__scopeId","data-v-38d61379"]]),_a={class:"card"},pa={class:"text"},va=$({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(a){return(e,s)=>(c(),f("div",_a,[e.loading?(c(),k(d(mt),{key:0,class:"loader"})):I("",!0),u("div",{class:T(["card-container",{loading:e.loading}])},[e.title?(c(),f("div",{key:0,class:T(["card-header",{collapsible:e.collapsible}])},[u("div",pa,[e.icon?(c(),f("i",{key:0,class:T(["icon",e.icon])},null,2)):I("",!0),q(" "+D(e.title),1)]),L(e.$slots,"actions",{},void 0,!0)],2)):(c(),f("div",{key:1,class:T(["card-no-header",{compact:e.compact}])},null,2)),u("div",{class:T(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[L(e.$slots,"default",{},void 0,!0)],2)],2)]))}});const Q=y(va,[["__scopeId","data-v-317ddfe2"]]),ma=$({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(a){return(e,s)=>(c(),k(d(Q),{class:"card-graph",title:e.title,loading:e.loading},{default:w(()=>[h(d(Va),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),L(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const oe=y(ma,[["__scopeId","data-v-4e0fd9b7"]]),fa={class:"chip"},ha={class:"label"},ga=$({__name:"Chip",props:{label:{default:""}},setup(a){return(e,s)=>(c(),f("div",fa,[u("div",ha,D(e.label),1)]))}});const We=y(ga,[["__scopeId","data-v-1eb2caf8"]]);const ba={class:"collapsible-inside"},ya=$({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(a){return(e,s)=>(c(),f("div",{class:T(["collapsible-outside",{expanded:e.expanded}])},[u("div",ba,[L(e.$slots,"default",{},void 0,!0)])],2))}});const Me=y(ya,[["__scopeId","data-v-25b74378"]]),$a={key:1,class:"header"},wa={key:0,class:"header-icon"},Ca={class:"header-actions"},ka={key:2,class:"list"},Sa=["onClick"],Da={key:0,class:"sorting-arrows"},xa={key:0,class:"sorting-arrow fa fa-caret-up"},Ta={key:1,class:"sorting-arrow fa fa-caret-down"},za={key:2,class:"sorting-arrow"},Oa={class:"rows"},Ia={key:3,class:"no-data"},Pe=$({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(a,{emit:e}){const s=C(""),t=C(J.Ascending),o=x(()=>`grid-template-columns: ${a.columnsHeader}`),l=x(()=>{if(a.rowsMin===null)return[];const v=Math.max(0,a.rowsMin-a.rows.length);return new Array(v)});Nt(()=>{a.sortingDefaultColumn&&(s.value=a.sortingDefaultColumn),a.sortingDefaultDir&&(t.value=a.sortingDefaultDir===J.Ascending?J.Ascending:J.Descending)});const n=v=>{e("selected",v)},{t:_}=P(),i=v=>{const g=v+1;return!!(a.rows[v+1]&&a.rows.findIndex(O=>O===a.selectedRow)===g)},r=v=>a.expanded.includes(v),p=v=>{const g=a.sortingColumns[v];return a.sortingColumnsEnabled.includes(g)},m=v=>s.value===a.sortingColumns[v]&&t.value==="Ascending",z=v=>s.value===a.sortingColumns[v]&&t.value==="Descending",b=v=>{if(!a.sorting||!a.sortingColumns||!p(v))return;const g=a.sortingColumns[v];g===s.value?t.value=t.value===J.Ascending?J.Descending:J.Ascending:t.value=J.Ascending,s.value=g,e("sortColumn",s.value,t.value)};return(v,g)=>(c(),f("div",{class:T(["datatable",{loading:v.loading}])},[v.loading?(c(),k(d(mt),{key:0,class:"loader"})):I("",!0),v.header?(c(),f("div",$a,[v.icon?(c(),f("div",wa,[u("i",{class:T(v.icon)},null,2)])):I("",!0),u("div",{class:"header-title",style:U(o.value)},[L(v.$slots,"header-title",{},void 0,!0)],4),u("div",Ca,[L(v.$slots,"header-actions",{},void 0,!0)])])):I("",!0),v.rowsMin||v.rows&&v.rows.length>0?(c(),f("div",ka,[u("div",{class:T(["row-data",[v.columnsData,{"selected-below":i(-1)}]])},[L(v.$slots,"column-headers",{},()=>[(c(!0),f(N,null,j(v.columns,(S,M)=>(c(),f("div",{key:S,class:T(["column-header",{"sortable-header":v.sorting&&p(M),"current-sort":s.value==v.sortingColumns[M]}]),onClick:O=>b(M)},[q(D(S)+" ",1),v.sorting&&p(M)?(c(),f("div",Da,[m(M)?(c(),f("i",xa)):z(M)?(c(),f("i",Ta)):(c(),f("span",za," — "))])):I("",!0)],10,Sa))),128))],!0)],2),u("div",Oa,[(c(!0),f(N,null,j(v.rows,(S,M)=>(c(),k(d(De),{key:S,data:S,class:T({"selected-below":i(M)}),columns:v.columnsData,selected:v.selectedRow===S,expanded:r(S),onClick:n},{row:w(()=>[L(v.$slots,"row",{item:S},void 0,!0)]),"row-details":w(()=>[L(v.$slots,"row-details",{item:S},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(c(!0),f(N,null,j(l.value,S=>(c(),k(d(De),{key:S}))),128)),v.$slots["row-aggregation"]?(c(),k(d(De),{key:0,class:"aggregation",columns:v.columnsData},{row:w(()=>[L(v.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):I("",!0)])])):!v.rowsMin&&!v.loading?(c(),f("div",Ia,[L(v.$slots,"no-data",{},()=>[q(D(d(_)("no-data")),1)],!0)])):I("",!0)],2))}});function Fe(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":s=>{const{normalize:t}=s;return t(["No data :("])}}})}function Ee(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":s=>{const{normalize:t}=s;return t(["没有数据 :("])}}})}typeof Fe=="function"&&Fe(Pe);typeof Ee=="function"&&Ee(Pe);const be=y(Pe,[["__scopeId","data-v-50e85b9c"]]),Aa=a=>(te("data-v-45ff862c"),a=a(),ae(),a),La=Aa(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),Ma=[La],Pa={class:"row-details"},Ba=$({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(a,{emit:e}){const s=dt(),t=x(()=>{var n;const l=s["row-details"];if(l){const _=(n=l()[0])==null?void 0:n.children;if(_)return _.length>0}return!1}),o=()=>{e("click",a.data)};return(l,n)=>(c(),f("div",{class:T(["row",{expanded:l.expanded}])},[u("div",{class:T(["row-data item",[l.columns,{active:l.selected,expandable:t.value}]]),onClick:o},[L(l.$slots,"row",{},void 0,!0),t.value?(c(),f("div",{key:0,class:T(["expander",{expanded:l.expanded}])},Ma,2)):I("",!0)],2),h(d(Me),{expanded:l.expanded},{default:w(()=>[u("div",Pa,[L(l.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const De=y(Ba,[["__scopeId","data-v-45ff862c"]]),Ra=$({__name:"GraphApex",props:{options:{},series:{}},setup(a){return(e,s)=>{const t=_e("apexchart");return c(),k(t,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const Va=y(Ra,[["__scopeId","data-v-3e2879ed"]]);const Na=a=>(te("data-v-e9d8f446"),a=a(),ae(),a),Wa={class:"input-text"},Fa={key:0,class:"icon"},Ea=Na(()=>u("i",{class:"fas fa-search"},null,-1)),Ga=[Ea],Ha=["type","value","placeholder","onInput"],ja=["onClick"],qa=$({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(a,{emit:e}){const s=x(()=>{const o=a.options.filter(n=>a.filter(a.modelValue,n));return a.sort?[...o].sort(a.sort):o}),t=o=>{const l=o.target.value;e("update:modelValue",l),e("input",l)};return(o,l)=>(c(),f("div",Wa,[o.search?(c(),f("span",Fa,Ga)):I("",!0),u("input",{type:o.search?"search":"text",value:o.modelValue,placeholder:o.placeholder,onInput:ze(t,["stop"]),onSelect:l[0]||(l[0]=ze(()=>{},["stop"]))},null,40,Ha),o.options&&o.autoComplete?(c(),f("div",{key:1,class:T(["items",{selectHide:!o.autoComplete}])},[(c(!0),f(N,null,j(s.value,(n,_)=>(c(),f("div",{key:_,onClick:i=>e("select",n)},[L(o.$slots,"item",{item:n,idx:_},()=>[q(D(n),1)],!0)],8,ja))),128))],2)):I("",!0)]))}});const Ua=y(qa,[["__scopeId","data-v-e9d8f446"]]);const Qa={key:0,class:"modal"},Ya={class:"modal-popup"},Ja=$({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(a,{emit:e}){return A(()=>a.show,s=>{document.body.style.overflow=s?"hidden":""}),(s,t)=>s.show?(c(),f("div",Qa,[u("div",{class:"modal-mask",onClick:t[0]||(t[0]=o=>e("close"))}),u("div",Ya,[L(s.$slots,"default",{},void 0,!0)])])):I("",!0)}});const Ka=y(Ja,[["__scopeId","data-v-49c4143d"]]),Xa={class:"buttons"},Za={key:1,class:"not-ready"},_t=$({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(a,{emit:e}){const{t:s}=P();return(t,o)=>(c(),k(d(Ka),{show:t.show},{default:w(()=>[h(d(Q),{title:t.title},{default:w(()=>[L(t.$slots,"default",{},void 0,!0),u("div",Xa,[h(d(ee),{class:"no",value:d(s)("no"),onClick:o[0]||(o[0]=l=>e("no"))},null,8,["value"]),t.ready?(c(),k(d(ee),{key:0,class:"yes",value:d(s)("yes"),onClick:o[1]||(o[1]=l=>e("yes"))},null,8,["value"])):(c(),f("div",Za,D(t.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function Ge(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:s=>{const{normalize:t}=s;return t(["Yes"])},no:s=>{const{normalize:t}=s;return t(["No"])}}})}function He(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:s=>{const{normalize:t}=s;return t(["是的"])},no:s=>{const{normalize:t}=s;return t(["不是"])}}})}typeof Ge=="function"&&Ge(_t);typeof He=="function"&&He(_t);const es=a=>(te("data-v-18a4b249"),a=a(),ae(),a),ts={class:"select"},as={class:"item"},ss={key:0,class:"label"},os=["onClick"],ns=es(()=>u("div",{class:"chevrons"},[u("i",{class:"fas fa-chevron-up"}),u("i",{class:"fas fa-chevron-down"})],-1)),ls=$({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(a,{emit:e}){return(s,t)=>(c(),f("div",{class:"select-container",tabindex:"0",onClick:t[0]||(t[0]=ze(o=>e("open"),["stop"])),onBlur:t[1]||(t[1]=o=>e("close"))},[u("div",ts,[u("div",{class:T(["selected",{open:s.open}])},[L(s.$slots,"item",{item:s.selected},()=>[u("div",as,D(s.selected),1)],!0),s.label?(c(),f("div",ss,D(s.label),1)):I("",!0)],2),u("div",{class:T(["items",{selectHide:!s.open}])},[(c(!0),f(N,null,j(s.options,(o,l)=>(c(),f("div",{key:l,onClick:n=>e("input",o)},[L(s.$slots,"item",{item:o},()=>[q(D(o),1)],!0)],8,os))),128))],2)]),ns],32))}});const pt=y(ls,[["__scopeId","data-v-18a4b249"]]),rs={class:"item"},is={class:"label"},je="locale",cs=$({__name:"SelectLanguage",props:{locales:{default:()=>us},direction:{default:"up"}},setup(a){const{t:e}=P(),{locale:s}=P({useScope:"global"}),t=C("en"),o=C(!1);B(()=>{const _=localStorage.getItem(je);_&&a.locales.some(i=>i===_)&&n(_)});const l=()=>{o.value=!o.value},n=_=>{t.value=_,s.value=t.value,localStorage.setItem(je,t.value)};return(_,i)=>(c(),k(d(pt),{class:T(["select",{"direction-up":_.direction==="up"}]),options:_.locales.map(r=>r),selected:t.value,open:o.value,onOpen:l,onClose:i[0]||(i[0]=r=>o.value=!1),onInput:n},{item:w(r=>[u("div",rs,[u("div",is,D(d(e)(r.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function qe(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:s=>{const{normalize:t}=s;return t(["English"])},zh:s=>{const{normalize:t}=s;return t(["中文"])},fr:s=>{const{normalize:t}=s;return t(["Français"])}}})}typeof qe=="function"&&qe(cs);const us=["en","zh","fr"];var J=(a=>(a.Ascending="Ascending",a.Descending="Descending",a))(J||{});const ds={},vt=a=>(te("data-v-ad2adcec"),a=a(),ae(),a),_s={class:"lds-ripple"},ps=vt(()=>u("div",null,null,-1)),vs=vt(()=>u("div",null,null,-1)),ms=[ps,vs];function fs(a,e){return c(),f("div",_s,ms)}const mt=y(ds,[["render",fs],["__scopeId","data-v-ad2adcec"]]),fe=$({__name:"TabItem",props:{header:{default:""}},setup(a){return(e,s)=>L(e.$slots,"default")}}),hs={class:"tab-view"},gs={class:"tab-headers"},bs=["onClick"],ys={class:"tabs"},$s=$({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(a,{emit:e}){const s=C(null),t=dt(),o=x(()=>t!=null&&t.default?t.default():[]);A(()=>a.active,n=>{s.value=n,e("tab",{tab:o.value[n],index:s.value})},{immediate:!0});const l=(n,_)=>{s.value=_,e("tab",{tab:o.value[_],index:s.value})};return(n,_)=>(c(),f("div",hs,[u("ul",gs,[(c(!0),f(N,null,j(o.value,(i,r)=>(c(),f("li",{key:r,class:T(["tab-header",{active:s.value===r}]),onClick:p=>l(i,r)},D(i.props.header),11,bs))),128))]),u("div",ys,[(c(!0),f(N,null,j(o.value,(i,r)=>Wt((c(),f("div",{key:r,class:"tab"},[(c(),k(Ae(i)))])),[[Ft,s.value===r]])),128))])]))}});const ws=y($s,[["__scopeId","data-v-9a567442"]]);const Cs="/assets/prisma-b38af1f3.png",ks="/assets/hat-80c6c9b1.png";const Ss={},ft=a=>(te("data-v-f01d266e"),a=a(),ae(),a),Ds={class:"logo"},xs=ft(()=>u("div",{class:"visual"},[u("img",{src:Cs}),u("img",{src:ks})],-1)),Ts=ft(()=>u("span",null,"prisma.monitor",-1)),zs=[xs,Ts];function Os(a,e){return c(),f("div",Ds,zs)}const Is=y(Ss,[["render",Os],["__scopeId","data-v-f01d266e"]]),As={class:"header"},Ls={class:"buttons"},Ms=$({__name:"Header",emits:["toggle-expansion","navigated"],setup(a,{emit:e}){return(s,t)=>{const o=_e("router-link");return c(),f("div",As,[h(o,{class:"logo",to:"/",onClick:t[0]||(t[0]=l=>e("navigated"))},{default:w(()=>[h(Is,{class:"logo"})]),_:1}),u("div",Ls,[h(d(ee),{icon:"fas fa-bars",onClick:t[1]||(t[1]=l=>e("toggle-expansion"))})])])}}});const Ps=y(Ms,[["__scopeId","data-v-a5771fce"]]);function xe(a){return(a==null?void 0:a.children)!==void 0}function Ue(a){return(a==null?void 0:a.to)!==void 0}const Bs={key:0},Rs={class:"nav-link-container"},Vs={class:"nav-link-container"},Ns={class:"left"},Ws={class:"right"},Fs=$({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(a,{emit:e}){const s=we(),t=C(!0),o=x(()=>Ue(a.item)?[a.item]:xe(a.item)?a.item.children:[]),l=()=>{xe(a.item)&&a.item.children.filter(i=>Oe(i.to,s)).length>0&&(t.value=!0)};A(()=>a.item,()=>{l()},{immediate:!0}),A(()=>s.fullPath,()=>{l()},{immediate:!0});const n=()=>{t.value=!t.value};return(_,i)=>{const r=_e("router-link");return c(),f(N,null,[d(xe)(_.item)?(c(),f("li",Bs,[u("a",{class:"nav-link node",onClick:n},[u("div",Rs,[q(D(_.item.label)+" ",1),u("i",{class:T(["expander fas fa-chevron-up",{expanded:t.value}])},null,2)])])])):I("",!0),h(d(Me),{class:"items",expanded:t.value},{default:w(()=>[u("ul",null,[(c(!0),f(N,null,j(o.value,p=>(c(),f("li",{key:p.label},[d(Ue)(p)?(c(),k(r,{key:0,to:p.to,class:T(["nav-link leaf",{"router-link-active":d(Oe)(p.to,d(s))}]),onClick:i[0]||(i[0]=m=>e("navigated"))},{default:w(()=>[u("div",Vs,[u("div",Ns,D(p.label),1),u("div",Ws,[p.tag==="beta"?(c(),k(d(We),{key:0,label:"BETA"})):p.tag==="alpha"?(c(),k(d(We),{key:1,label:"ALPHA"})):I("",!0)])])]),_:2},1032,["to","class"])):I("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const Es=y(Fs,[["__scopeId","data-v-d625f200"]]),Be=ye({id:"pageStore",state:()=>({pages:[]})}),Gs=$({__name:"Menu",emits:["navigated"],setup(a,{emit:e}){const s=Be(),t=we(),o=x(()=>s.pages.find(n=>Oe(n.titleRoute,t))),l=x(()=>{var n;return((n=o.value)==null?void 0:n.menuItems)??[]});return(n,_)=>(c(),f("nav",null,[(c(!0),f(N,null,j(l.value,i=>(c(),f("ul",{key:i.label},[h(Es,{item:i,onNavigated:_[0]||(_[0]=r=>e("navigated"))},null,8,["item"])]))),128))]))}});const Hs=y(Gs,[["__scopeId","data-v-e0f9ea59"]]),re={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"};re.blue,re.yellow,re.green,re.red,re.purple;const ie={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"};ie.blue,ie.yellow,ie.green,ie.red,ie.purple;const ce={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"};ce.blue,ce.yellow,ce.green,ce.red,ce.purple;function Qe(a){return a==="chad"?ce:a==="light"?ie:re}const E=ye({id:"settingsStore",state:()=>({theme:"light"})}),js={class:"theme"},qs={class:"label"},Us={class:"colors"},Qs=$({__name:"SelectTheme",setup(a){const e=[{id:"dark",colors:Qe("dark")},{id:"light",colors:Qe("light")}],s=E(),t=C(e[0]),o=C(!1);B(()=>{const _=window.matchMedia("(prefers-color-scheme: dark)").matches,i=localStorage.getItem("theme");if(!i&&_)n(e.find(r=>r.id==="dark"));else{const r=e.find(p=>p.id===i)??e.find(p=>p.id==="light")??e[0];n(r)}});const l=()=>{o.value=!o.value},n=_=>{t.value=_,window.document.documentElement.setAttribute("data-theme",t.value.id),s.theme=t.value.id,localStorage.setItem("theme",t.value.id)};return(_,i)=>(c(),k(d(pt),{class:"select direction-up",options:e.map(r=>r),selected:t.value,open:o.value,onOpen:l,onClose:i[0]||(i[0]=r=>o.value=!1),onInput:n},{item:w(r=>[u("div",js,[u("div",qs,D(r.item.id),1),u("div",Us,[u("div",{class:"color",style:U({"background-color":r.item.colors.backgroundColor})},null,4),u("div",{class:"color",style:U({"background-color":r.item.colors.level1})},null,4),u("div",{class:"color",style:U({"background-color":r.item.colors.level2})},null,4),u("div",{class:"color",style:U({"background-color":r.item.colors.blue})},null,4),u("div",{class:"color",style:U({"background-color":r.item.colors.yellow})},null,4),u("div",{class:"color",style:U({"background-color":r.item.colors.green})},null,4),u("div",{class:"color",style:U({"background-color":r.item.colors.red})},null,4),u("div",{class:"color",style:U({"background-color":r.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const Ys=y(Qs,[["__scopeId","data-v-12a81df3"]]),Js={class:"bottom"},Ks={class:"buttons"},Xs={href:"https://twitter.com/0xAlunara",target:"_blank"},Zs={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},eo={class:"selectors"},to=$({__name:"Bottom",emits:["navigated"],setup(a,{emit:e}){const s=async()=>{await navigator.clipboard.writeText(window.location.href)};return(t,o)=>{const l=_e("router-link");return c(),f("div",Js,[u("div",Ks,[h(d(ee),{class:"copy",icon:"fas fa-link",onClick:s}),u("a",Xs,[h(d(ee),{icon:"fab fa-twitter"})]),u("a",Zs,[h(d(ee),{icon:"fab fa-github"})]),h(l,{to:"/code"},{default:w(()=>[h(d(ee),{icon:"fas fa-code",onClick:o[0]||(o[0]=n=>e("navigated"))})]),_:1})]),u("div",eo,[h(Ys,{class:"themes"})])])}}});const ao=y(to,[["__scopeId","data-v-949dc793"]]),so=$({__name:"Navigation",emits:["navigated"],setup(a,{emit:e}){const s=C(!1),t=()=>{s.value=!1,e("navigated")};return(o,l)=>(c(),f("div",{class:T(["menu-desktop",{expanded:s.value}])},[h(Ps,{onToggleExpansion:l[0]||(l[0]=n=>s.value=!s.value),onNavigated:t}),h(d(Me),{class:"menu-content",expanded:s.value},{default:w(()=>[h(Hs,{onNavigated:t}),h(ao,{onNavigated:t})]),_:1},8,["expanded"])],2))}});const oo=y(so,[["__scopeId","data-v-407c8701"]]),Re=ye({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),no={class:"root"},lo={class:"main"},ro={class:"content"},io=$({__name:"App",setup(a){const e=Re(),s=we(),t=Le();A(()=>s.fullPath,l=>{l.includes("pool")&&(e.show=!1)});const o=async l=>{l.pathName&&await t.push({name:l.pathName})};return(l,n)=>{const _=_e("notifications"),i=_e("router-view");return c(),f("div",no,[h(_,{width:600,duration:-1}),h(oo,{class:"navigation"}),u("main",lo,[h(Ne,{name:"fade",mode:"out-in"},{default:w(()=>[d(e).show?(c(),k(d(ia),{key:0,class:"breadcrumb",crumbs:d(e).crumbs,onCrumb:o},null,8,["crumbs"])):I("",!0)]),_:1}),u("div",ro,[h(i,null,{default:w(({Component:r})=>[h(Ne,{name:"fade",mode:"out-in"},{default:w(()=>[(c(),k(Ae(r)))]),_:2},1024)]),_:1})])])])}}});const co=y(io,[["__scopeId","data-v-65bc32d3"]]),uo="/assets/404-3a4df870.png",_o=a=>(te("data-v-c157f3ee"),a=a(),ae(),a),po={class:"not-found"},vo={class:"not-found-container"},mo=_o(()=>u("img",{src:uo},null,-1)),ht=$({__name:"NotFound",setup(a){const{t:e}=P();return(s,t)=>(c(),f("div",po,[u("div",vo,[h(d(Q),null,{default:w(()=>[q(D(d(e)("404")),1)]),_:1}),mo])]))}});function Ye(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:s=>{const{normalize:t}=s;return t(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof Ye=="function"&&Ye(ht);const fo=y(ht,[["__scopeId","data-v-c157f3ee"]]),ho={class:"contracts"},go={class:"row"},bo=["href"],yo=["href"],gt=$({__name:"Code",setup(a){const{t:e}=P(),t=[{name:"Llama Airforce",contracts:[{contract:Xt,description:"multisig",gnosis:!0},{contract:Zt,description:"treasury",gnosis:!0},{contract:ea,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]}],o=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}],l=n=>{switch(n.network){case"arbitrum":return n.gnosis?`https://app.safe.global/arb1:${n.contract}`:`https://arbiscan.io/address/${n.contract}`;case"ethereum":default:return n.gnosis?`https://app.safe.global/eth:${n.contract}`:`https://etherscan.io/address/${n.contract}`}};return(n,_)=>(c(),f("div",ho,[u("div",go,[h(d(be),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:o,columns:[d(e)("repository"),d(e)("description")]},{"header-title":w(()=>[u("div",null,D(d(e)("repositories")),1)]),row:w(i=>[u("div",null,[u("a",{href:i.item.url,target:"_blank"},D(i.item.name),9,bo)]),u("div",null,D(d(e)(i.item.description)),1)]),_:1},8,["columns"])]),(c(),f(N,null,j(t,(i,r)=>h(d(be),{key:r,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:i.contracts,columns:[d(e)("contract"),d(e)("description")]},{"header-title":w(()=>[u("div",null,D(d(e)(i.name)),1)]),row:w(p=>[u("div",null,[u("a",{href:l(p.item),target:"_blank"},D(p.item.contract),9,yo)]),u("div",null,D(d(e)(p.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function Je(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:s=>{const{normalize:t}=s;return t(["Repositories"])},repository:s=>{const{normalize:t}=s;return t(["Repository"])},description:s=>{const{normalize:t}=s;return t(["Description"])},contract:s=>{const{normalize:t}=s;return t(["Contract"])},other:s=>{const{normalize:t}=s;return t(["Other"])},"repo-laf":s=>{const{normalize:t}=s;return t(["This website's front-end, excluding the Union"])},multisig:s=>{const{normalize:t}=s;return t(["Multisig"])},treasury:s=>{const{normalize:t}=s;return t(["Treasury"])},"treasury-arbitrum":s=>{const{normalize:t}=s;return t(["Treasury Arbitrum"])}}})}typeof Je=="function"&&Je(gt);const $o=y(gt,[["__scopeId","data-v-ed0a11dc"]]);function wo(){const a=Be(),e=[{path:"/code",component:$o},...a.pages.flatMap(t=>t.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:fo}];return Et({history:Gt(),routes:e})}const Co=a=>({chart:{id:"chart",background:"transparant",foreColor:a.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:a.colorsArray,grid:{borderColor:a.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:a.colors.level5,height:1},axisTicks:{color:a.colors.level5},title:{color:a.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:a.colors.level5},axisTicks:{color:a.colors.level5},title:{color:a.colors.level5}}});function ne(a,e){const s=Co(a),t=(o,l)=>{if(typeof l=="object"){W.mergeWith(o,l,t);return}else return o||l};return W.mergeWith(e,s,t)}const ue={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},ko=[ue.blue,ue.yellow,ue.green,ue.red,ue.purple,"#ff8f33"],de={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},So=[de.blue,de.yellow,de.green,de.red,de.purple];function F(a){return a==="light"?de:ue}function Z(a){return a==="light"?So:ko}function G(){return ta}const V="https://api.prismamonitor.com/v1";class H extends oa{async getHistoricalOpenTrovesOverview(e,s){return this.fetch(`${V}/managers/${e}/open_troves?period=${s}`)}async getHistoricalCollateralRatiosOverview(e,s){return this.fetch(`${V}/managers/${e}/collateral_ratios?period=${s}`)}async getCollateralRatioGrouped(e,s){return this.fetch(`${V}/managers/${e}/global_collateral_ratio?period=${s}`)}async getHistoricalCollateralOverview(e,s){return this.fetch(`${V}/managers/${e}/collateral?period=${s}`)}async getRatioDistributionGrouped(e){return this.fetch(`${V}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,s,t){return this.fetch(`${V}/managers/${e}/${s}/large_positions?unit=${t}`)}async getTroveDistribution(e,s,t){return this.fetch(`${V}/managers/${e}/${s}/histograms?unit=${t}`)}async getCollateralPrices(e,s,t){return this.fetch(`${V}/collateral/${e}/${s}/prices?period=${t}`)}async getPoolTvl(e,s){return this.fetch(`${V}/pool/${e}/deposits?period=${s}`)}async getStableFlow(e,s){return this.fetch(`${V}/pool/${e}/stable_operations?period=${s}`)}async getStableDistribution(e){return this.fetch(`${V}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,s){return this.fetch(`${V}/pool/${e}/cumulative_withdrawals?period=${s}`)}async getTopStableDeposits(e,s,t){return this.fetch(`${V}/pool/${e}/top/stable_deposits?top=${s}&period=${t}`)}async getTopStableWithdrawals(e,s,t){return this.fetch(`${V}/pool/${e}/top/stable_withdrawals?top=${s}&period=${t}`)}}const bt=$({__name:"ChartOpenTroves",setup(a){const{t:e}=P(),s=new H(G()),t=E(),o=C(!0),l=C([]);B(async()=>{o.value=!0,l.value=await s.getHistoricalOpenTrovesOverview("ethereum","6m").then(p=>p.managers),o.value=!1});const n=x(()=>{const p=F(t.theme),m=Z(t.theme);return ne({colors:p,colorsArray:m},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:z,dataPointIndex:b,w:v})=>{let g=0;const S=z.map((M,O)=>{const R=M[b];return g+=R,`<div><b>${v.globals.seriesNames[O]}</b>: ${R}</div>`});return S.push(`<div><b>Total</b>: ${g}</div>`),S.join("")}}})}),_=x(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(p=>new Date(p.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),i=x(()=>l.value.length===0?[]:l.value.map(p=>({name:p.manager,data:p.data.map(m=>m.value)}))),r=p=>p;return(p,m)=>(c(),k(d(oe),{class:"chart",title:d(e)("title"),loading:o.value,options:n.value,series:i.value},null,8,["title","loading","options","series"]))}});function Ke(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:s=>{const{normalize:t}=s;return t(["Open troves"])}}})}typeof Ke=="function"&&Ke(bt);const Do=y(bt,[["__scopeId","data-v-f0279ef3"]]),xo=(a,e)=>{const s=F(e);return{width:a.clientWidth,height:a.clientHeight,layout:{background:{type:Ht.Solid,color:s.backgroundColor},textColor:s.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:s.level4,style:jt.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ke(a,e,s){const t=xo(a,e),o=(l,n)=>{if(typeof n=="object"){W.mergeWith(l,n,o);return}else return l||n};return W.mergeWith(s,t,o)}const yt=$({__name:"ChartCollateralRatio",setup(a){const{t:e}=P(),s=new H(G());let t,o;const l=E(),n=C(null),_=C([]),i=C(!1),r=async()=>{i.value=!0,_.value=await s.getCollateralRatioGrouped("ethereum","all").then(b=>b.data),i.value=!1};B(async()=>{await r(),n.value&&(t=Ce(n.value,p(n.value,l.theme)),o=t.addAreaSeries(m(l.theme)),z(_.value))}),A(()=>l.theme,b=>{n.value&&(t.applyOptions(p(n.value,b)),o.applyOptions(m(b)))}),A(_,b=>{z(b)});const p=(b,v)=>ke(b,v,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),m=b=>{const v=F(b);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ge.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},z=b=>{if(!t||!o)return;const v=W.chain(b).map(g=>({time:g.timestamp,value:g.value*100})).uniqWith((g,S)=>g.time===S.time).orderBy(g=>g.time,"asc").value();v.length>0&&o.setData(v),t.timeScale().fitContent()};return(b,v)=>(c(),k(d(Q),{class:"chart-container",title:d(e)("title"),loading:i.value},{default:w(()=>[u("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Xe(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:s=>{const{normalize:t}=s;return t(["Global collateral ratio"])}}})}typeof Xe=="function"&&Xe(yt);const To=y(yt,[["__scopeId","data-v-a444f59a"]]),$t=$({__name:"ChartRatioDeciles",setup(a){const{t:e}=P(),s=new H(G()),t=E(),o=C(!0),l=C([]);B(async()=>{o.value=!0,l.value=await s.getRatioDistributionGrouped("ethereum").then(m=>m.deciles),o.value=!1});const n=x(()=>{const m=F(t.theme),z=Z(t.theme);return ne({colors:m,colorsArray:z},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:p}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=x(()=>l.value.map(m=>m.label)),i=x(()=>[{name:e("debt"),data:Object.values(l.value).map(m=>m.data)}]),r=m=>m,p=m=>`$${se(m,0,"dollar")}${X(m,"dollar")}`;return(m,z)=>(c(),k(d(oe),{class:"chart",title:d(e)("title"),loading:o.value,options:n.value,series:i.value},null,8,["title","loading","options","series"]))}});function Ze(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:s=>{const{normalize:t}=s;return t(["Debt per Collateral Ratio Deciles"])},debt:s=>{const{normalize:t}=s;return t(["Debt"])}}})}typeof Ze=="function"&&Ze($t);const zo=y($t,[["__scopeId","data-v-42965e77"]]),wt=$({__name:"ChartGlobalCollateral",setup(a){const{t:e}=P(),s=new H(G()),t=E(),o=C(!0),l=C([]);B(async()=>{o.value=!0,l.value=await s.getHistoricalCollateralOverview("ethereum","6m").then(m=>m.managers),o.value=!1});const n=x(()=>{const m=F(t.theme),z=Z(t.theme);return ne({colors:m,colorsArray:z},{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:p}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),_=x(()=>l.value.length===0||l.value[0].data.length===0?[]:l.value[0].data.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),i=x(()=>l.value.length===0?[]:l.value.map(m=>({name:m.manager,data:m.data.map(z=>z.value)}))),r=m=>m,p=m=>`$${se(m,1,"dollar")}${X(m,"dollar")}`;return(m,z)=>(c(),k(d(oe),{class:"chart",title:d(e)("title"),loading:o.value,options:n.value,series:i.value},null,8,["title","loading","options","series"]))}});function et(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:s=>{const{normalize:t}=s;return t(["Collateral value"])}}})}typeof et=="function"&&et(wt);const Oo=y(wt,[["__scopeId","data-v-1ac4a007"]]),Ct=class he{constructor(e){this.url=e,this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={},this.channelSubscriptionParsers={},this.reconnectDelay=1e3,this.maxReconnectDelay=3e4,this.reconnectMultiplier=2,this.connect()}static getInstance(e){return he.instances[e]||(he.instances[e]=new he(e)),he.instances[e]}connect(){this.ws||(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.processMessageQueue(),this.reconnectDelay=1e3},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>{this.connect(),this.reconnectDelay*=this.reconnectMultiplier,this.reconnectDelay>this.maxReconnectDelay&&(this.reconnectDelay=this.maxReconnectDelay)},this.reconnectDelay)},this.ws.onmessage=e=>{var n;const s=JSON.parse(e.data),t=this.channelSubscriptionParsers[s.channel],o=t?t(e.data):"",l=(n=this.listeners[s.channel])==null?void 0:n[o];l==null||l(e.data)})}registerListener(e,s,t,o){this.listeners[e]||(this.listeners[e]={}),this.listeners[e][s]=o,this.channelSubscriptionParsers[e]=t;const l=this.messageQueue.filter(n=>JSON.parse(n).channel===e);l.forEach(o),this.messageQueue=this.messageQueue.filter(n=>!l.includes(n))}send(e){var s;((s=this.ws)==null?void 0:s.readyState)===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length;)this.send(this.messageQueue.shift()??"")}closeConnection(){var e;this.shouldReconnect=!1,(e=this.ws)==null||e.close()}getConnection(){return this.ws}};Ct.instances={};let Io=Ct;var Ie=(a=>(a.subscribe="subscribe",a.unsubscribe="unsubscribe",a.snapshots="snapshots",a))(Ie||{});const Ao="wss://api.prismamonitor.com/v1/prisma/ws",Te="troves_overview";class kt{constructor(e){this.chain=e,this.currentData=C([]),this.parseSubscriptionFromMessage=s=>JSON.parse(s).subscription.chain,this.wsManager=Io.getInstance(Ao),this.wsManager.registerListener(Te,e,this.parseSubscriptionFromMessage,s=>{try{const t=JSON.parse(s);t.subscription.chain===this.chain&&(this.currentData.value=t.payload)}catch(t){console.error("Error parsing WebSocket message:",t,"Raw data:",s)}}),this.requestSnapshots(),this.subscribeToUpdates()}getCurrentData(){return this.currentData.value}requestSnapshots(){const e={action:Ie.snapshots,channel:Te,settings:[{chain:this.chain}]};this.send(e)}subscribeToUpdates(){const e={action:Ie.subscribe,channel:Te,settings:[{chain:this.chain}]};this.send(e)}send(e){this.wsManager.send(JSON.stringify(e))}}const Se=a=>(te("data-v-81576177"),a=a(),ae(),a),Lo={class:"number"},Mo={class:"number"},Po={class:"number"},Bo={class:"number"},Ro={class:"number"},Vo={class:"number"},No=Se(()=>u("div",null,null,-1)),Wo={class:"number"},Fo={class:"number"},Eo=Se(()=>u("div",null,null,-1)),Go=Se(()=>u("div",null,null,-1)),Ho={class:"number"},jo=Se(()=>u("div",null,null,-1)),St=$({__name:"TableVaults",setup(a){const{t:e}=P(),s=new kt("ethereum"),t=C(!0),o=C(""),l=C([]),n=x(()=>W.chain(l.value).filter(_=>{const i=o.value.toLocaleLowerCase().split(" "),r=p=>i.some(m=>p.toLocaleLowerCase().includes(m));return r(_.name)||r(_.address)}).value());return A(s.currentData,_=>{t.value=!0,l.value=_,t.value=!1}),B(()=>{t.value=!0,l.value=s.currentData.value,t.value=!1}),(_,i)=>(c(),k(d(be),{class:"datatable-vaults","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"troves-columns-data",loading:t.value,rows:n.value,columns:["Name","TVL","Debt","CR","MCR","Troves","Price"]},{"header-title":w(()=>[u("div",null,D(d(e)("title")),1),h(d(Ua),{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=r=>o.value=r),class:"search",search:!0,placeholder:d(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:w(r=>[u("div",null,D(r.item.name),1),u("div",Lo,[h(d(K),{value:r.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",Mo,[h(d(K),{value:r.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",Po,[h(d(K),{value:r.item.cr*100,precision:2,type:"percentage"},null,8,["value"])]),u("div",Bo,[h(d(K),{value:r.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])]),u("div",Ro,D(r.item.open_troves),1),u("div",Vo,"$"+D(Math.round(r.item.price)),1)]),"row-aggregation":w(()=>[No,u("div",Wo,[h(d(K),{value:n.value.reduce((r,p)=>r+p.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",Fo,[h(d(K),{value:n.value.reduce((r,p)=>r+p.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),Eo,Go,u("div",Ho,[h(d(K),{value:n.value.reduce((r,p)=>r+p.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),jo]),"row-details":w(()=>[q("   ")]),_:1},8,["loading","rows"]))}});function tt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:s=>{const{normalize:t}=s;return t(["Vaults"])},"search-placeholder":s=>{const{normalize:t}=s;return t(["Search for..."])}}})}typeof tt=="function"&&tt(St);const qo=y(St,[["__scopeId","data-v-81576177"]]),Dt=ye({id:"vaultStore",state:()=>({vault:null})}),Uo={class:"vaults"},Qo=$({__name:"Vaults",setup(a){const e=Re(),s=Dt(),t=Le();B(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const o=async l=>{s.vault=l,await t.push({name:"prismavault",params:{tab:"",vaultAddr:l.address}})};return(l,n)=>(c(),f("div",Uo,[h(qo,{style:{"grid-column":"1 / -1"},onSelected:o}),h(To),h(zo),h(Oo),h(Do)]))}});const Yo=y(Qo,[["__scopeId","data-v-47785ba8"]]),xt=$({__name:"ChartPoolTvl",setup(a){const{t:e}=P(),s=new H(G());let t,o;const l=E(),n=C(null),_=C([]),i=C(!1);B(()=>{n.value&&(t=Ce(n.value,r(n.value,l.theme)),o=t.addAreaSeries(p(l.theme)),m(_.value))}),B(async()=>{i.value=!0,_.value=await s.getPoolTvl("ethereum","1m").then(b=>b.deposits),i.value=!1}),A(()=>l.theme,b=>{n.value&&(t.applyOptions(r(n.value,b)),o.applyOptions(p(b)))}),A(_,b=>{m(b)});const r=(b,v)=>ke(b,v,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:g=>z(g)}}),p=b=>{const v=F(b);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ge.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=b=>{if(!t||!o)return;const v=W.chain(b).map(g=>({time:g.timestamp,value:g.value})).uniqWith((g,S)=>g.time===S.time).orderBy(g=>g.time,"asc").value();v.length>0&&o.setData(v),t.timeScale().fitContent()},z=b=>`$${se(b,1,"dollar")}${X(b,"dollar")}`;return(b,v)=>(c(),k(d(Q),{class:"chart-container",title:d(e)("title"),loading:i.value},{default:w(()=>[u("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function at(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:s=>{const{normalize:t}=s;return t(["Total deposits in stability pool"])}}})}typeof at=="function"&&at(xt);const Jo=y(xt,[["__scopeId","data-v-b29756a6"]]),Tt=$({__name:"ChartStableFlow",setup(a){const{t:e}=P(),s=new H(G()),t=E(),o=C(!0),l=C({deposits:[],withdrawals:[]});B(async()=>{o.value=!0,l.value=await s.getStableFlow("ethereum","1m"),o.value=!1});const n=x(()=>{const m=F(t.theme),z=Z(t.theme);return ne({colors:m,colorsArray:z},{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[m.green,m.red],xaxis:{categories:_.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:p}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:b,dataPointIndex:v,w:g})=>{let S=0;const M=b.map((O,R)=>{const Y=O[v];return S+=Y,`<div><b>${g.globals.seriesNames[R]}</b>:	${p(Y)}</div>`});return M.push(`<div><b>Total</b>:	${p(S)}</div>`),M.join("")}}})}),_=x(()=>l.value.deposits.length===0?[]:l.value.deposits.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),i=x(()=>[{name:e("deposits"),data:Object.values(l.value.deposits).map(m=>m.value)},{name:e("withdrawals"),data:Object.values(l.value.withdrawals).map(m=>m.value)}]),r=m=>m,p=m=>`$${se(m,0,"dollar")}${X(m,"dollar")}`;return(m,z)=>(c(),k(d(oe),{title:d(e)("title"),loading:o.value,options:n.value,series:i.value},null,8,["title","loading","options","series"]))}});function st(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:s=>{const{normalize:t}=s;return t(["mkUSD deposits and withdrawals"])},deposits:s=>{const{normalize:t}=s;return t(["Deposits"])},withdrawals:s=>{const{normalize:t}=s;return t(["Withdrawals"])}}})}typeof st=="function"&&st(Tt);const Ko=y(Tt,[["__scopeId","data-v-5eeab674"]]),zt=$({__name:"ChartDepositDistribution",setup(a){const{t:e}=P(),s=new H(G()),t=E(),o=C(!0),l=C([]);B(async()=>{o.value=!0,l.value=await s.getStableDistribution("ethereum").then(r=>r.distribution),o.value=!1});const n=x(()=>{const r=F(t.theme),p=Z(t.theme);return ne({colors:r,colorsArray:p},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:i.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),_=x(()=>[{name:e("numPos"),data:Object.values(l.value).map(r=>r.value)}]),i=x(()=>l.value.map(r=>r.label));return(r,p)=>(c(),k(d(oe),{title:d(e)("title"),loading:o.value,series:_.value,options:n.value},null,8,["title","loading","series","options"]))}});function ot(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:s=>{const{normalize:t}=s;return t(["Distribution of current user deposits"])},numPos:s=>{const{normalize:t}=s;return t(["# of positions"])}}})}typeof ot=="function"&&ot(zt);const Xo=y(zt,[["__scopeId","data-v-c9dcdeeb"]]),Ot=$({__name:"ChartCumulativeWithdrawals",setup(a){const{t:e}=P(),s=new H(G());let t,o;const l=E(),n=C(null),_=C([]),i=C(!1);B(()=>{n.value&&(t=Ce(n.value,r(n.value,l.theme)),o=t.addAreaSeries(p(l.theme)),m(_.value))}),B(async()=>{i.value=!0,_.value=await s.getCumulativeWithdrawals("ethereum","all").then(b=>b.withdrawals),i.value=!1}),A(()=>l.theme,b=>{n.value&&(t.applyOptions(r(n.value,b)),o.applyOptions(p(b)))}),A(_,b=>{m(b)});const r=(b,v)=>ke(b,v,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:g=>z(g)}}),p=b=>{const v=F(b);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ge.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=b=>{if(!t||!o)return;const v=W.chain(b).map(g=>({time:g.timestamp,value:g.value})).uniqWith((g,S)=>g.time===S.time).orderBy(g=>g.time,"asc").value();v.length>0&&o.setData(v),t.timeScale().fitContent()},z=b=>`$${se(b,1,"dollar")}${X(b,"dollar")}`;return(b,v)=>(c(),k(d(Q),{class:"chart-container",title:d(e)("title"),loading:i.value},{default:w(()=>[u("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function nt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:s=>{const{normalize:t}=s;return t(["Cumulative value of collaterals withdrawn"])}}})}typeof nt=="function"&&nt(Ot);const Zo=y(Ot,[["__scopeId","data-v-c8aeb6c2"]]),en={class:"address"},tn=["href"],an={class:"number"},sn={class:"number"},on={class:"address"},nn=["href"],It=$({__name:"TableTopDeposits",setup(a){const{t:e}=P(),s=new H(G()),t=C(!0),o=C([]),l=x(()=>W.chain(o.value).map(n=>n).value());return B(async()=>{t.value=!0,o.value=await s.getTopStableDeposits("ethereum",5,"7d").then(n=>n.operations),t.value=!1}),(n,_)=>(c(),k(d(be),{class:"datatable-deposits","columns-header":"1fr","columns-data":"deposits-columns-data",loading:t.value,rows:l.value,columns:["Address","Amount","Date","Tx"]},{"header-title":w(()=>[u("div",null,D(d(e)("title")),1)]),row:w(i=>[u("div",en,[u("a",{href:`https://etherscan.io/address/${i.item.user}`,target:"_blank"},D(d(pe)(i.item.user,8)),9,tn)]),u("div",an,[h(d(K),{value:i.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",sn,D(new Date(i.item.timestamp*1e3).toLocaleDateString()),1),u("div",on,[u("a",{href:`https://etherscan.io/tx/${i.item.hash}`,target:"_blank"},D(d(pe)(i.item.hash,8)),9,nn)])]),_:1},8,["loading","rows"]))}});function lt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:s=>{const{normalize:t}=s;return t(["Largest deposits past 7 days"])}}})}typeof lt=="function"&&lt(It);const ln=y(It,[["__scopeId","data-v-dcc50675"]]),rn={class:"address"},cn=["href"],un={class:"number"},dn={class:"number"},_n={class:"address"},pn=["href"],At=$({__name:"TableTopWithdrawals",setup(a){const{t:e}=P(),s=new H(G()),t=C(!0),o=C([]),l=x(()=>W.chain(o.value).map(n=>n).value());return B(async()=>{t.value=!0,o.value=await s.getTopStableWithdrawals("ethereum",5,"7d").then(n=>n.operations),t.value=!1}),(n,_)=>(c(),k(d(be),{class:"datatable-withdrawals","columns-header":"1fr","columns-data":"withdrawals-columns-data",loading:t.value,rows:l.value,columns:["Address","Amount","Date","Tx"]},{"header-title":w(()=>[u("div",null,D(d(e)("title")),1)]),row:w(i=>[u("div",rn,[u("a",{href:`https://etherscan.io/address/${i.item.user}`,target:"_blank"},D(d(pe)(i.item.user,8)),9,cn)]),u("div",un,[h(d(K),{value:i.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",dn,D(new Date(i.item.timestamp*1e3).toLocaleDateString()),1),u("div",_n,[u("a",{href:`https://etherscan.io/tx/${i.item.hash}`,target:"_blank"},D(d(pe)(i.item.hash,8)),9,pn)])]),_:1},8,["loading","rows"]))}});function rt(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:s=>{const{normalize:t}=s;return t(["Largest withdrawals past 7 days"])}}})}typeof rt=="function"&&rt(At);const vn=y(At,[["__scopeId","data-v-b7406841"]]),mn={class:"pool"},fn=$({__name:"StabilityPool",setup(a){return(e,s)=>(c(),f("div",mn,[h(Jo),h(Ko),h(Xo),h(Zo),h(ln),h(vn)]))}});const hn=y(fn,[["__scopeId","data-v-c433301c"]]),gn=$({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(a){const e=E(),s=x(()=>{const n=F(e.theme),_=Z(e.theme);return ne({colors:n,colorsArray:_},{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:i=>{let r=o.value[i.seriesIndex];r=r.length>10?pe(r):r;const p=i.series[i.seriesIndex];return[`<div><b>${r}</b>:</div><div>${l(p)}</div>`].join("")}},labels:a.data.map(i=>i.label.length>10?pe(i.label):i.label)})}),t=x(()=>a.data.map(n=>n.value)),o=x(()=>a.data.map(n=>n.label)),l=n=>`$${se(Math.abs(n),1,"dollar")}${X(n,"dollar")}`;return(n,_)=>(c(),k(d(oe),{class:"graph",options:s.value,series:t.value},null,8,["options","series"]))}});const bn=y(gn,[["__scopeId","data-v-5e27d0e1"]]),yn={class:"actions"},Lt=$({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(a){const{t:e}=P(),s=new H(G()),t=C("collateral"),o=C(!0),l=C([]),n=async()=>{o.value=!0,a.vault&&(l.value=await s.getLargeTrovePositions("ethereum",a.vault.address,t.value).then(i=>i.positions),o.value=!1)};A(()=>t.value,()=>{n().catch(i=>{console.error("Error fetching data:",i)})},{immediate:!0}),A(()=>a.vault,async(i,r)=>{i!==r&&await n()},{immediate:!0});const _=async i=>{t.value!==i&&(t.value=i,await n())};return(i,r)=>(c(),k(d(Q),{class:"chart-container",title:d(e)("title"),loading:o.value},{actions:w(()=>[u("div",yn,[h(d($e),{value:"Coll.","model-value":t.value==="collateral",onClick:r[0]||(r[0]=p=>_("collateral"))},null,8,["model-value"]),h(d($e),{value:"Debt","model-value":t.value==="debt",onClick:r[1]||(r[1]=p=>_("debt"))},null,8,["model-value"])])]),default:w(()=>[h(bn,{data:l.value},null,8,["data"])]),_:1},8,["title","loading"]))}});function it(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:s=>{const{normalize:t}=s;return t(["5 Largest Troves vs Others"])}}})}typeof it=="function"&&it(Lt);const $n=y(Lt,[["__scopeId","data-v-5e490920"]]),wn=$({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(a){const e=E(),s=x(()=>{const l=F(e.theme),n=Z(e.theme);return ne({colors:l,colorsArray:n},{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:o.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})}),t=x(()=>[{name:"# of troves",data:Object.values(a.data).map(l=>l.value)}]),o=x(()=>a.data.map(l=>l.label));return(l,n)=>(c(),k(d(oe),{class:"graph",options:s.value,series:t.value},null,8,["options","series"]))}});const Cn=y(wn,[["__scopeId","data-v-726b6957"]]),kn={class:"actions"},Mt=$({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(a){const{t:e}=P(),s=new H(G()),t=C("collateral"),o=C(!0),l=C([]),n=async()=>{o.value=!0,a.vault&&(l.value=await s.getTroveDistribution("ethereum",a.vault.address,t.value).then(i=>i.distribution),o.value=!1)};A(()=>t.value,()=>{n().catch(i=>{console.error("Error fetching data:",i)})},{immediate:!0}),A(()=>a.vault,async(i,r)=>{i!==r&&await n()},{immediate:!0});const _=async i=>{t.value!==i&&(t.value=i,await n())};return(i,r)=>(c(),k(d(Q),{class:"chart-container",title:d(e)("title"),loading:o.value},{actions:w(()=>[u("div",kn,[h(d($e),{value:"Coll.","model-value":t.value==="collateral",onClick:r[0]||(r[0]=p=>_("collateral"))},null,8,["model-value"]),h(d($e),{value:"Debt","model-value":t.value==="debt",onClick:r[1]||(r[1]=p=>_("debt"))},null,8,["model-value"])])]),default:w(()=>[h(Cn,{data:l.value},null,8,["data"])]),_:1},8,["title","loading"]))}});function ct(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:s=>{const{normalize:t}=s;return t(["Troves Distribution"])}}})}typeof ct=="function"&&ct(Mt);const Sn=y(Mt,[["__scopeId","data-v-329e4729"]]),Dn={class:"vault-overview"},xn=$({__name:"VaultOverview",props:{vault:{}},setup(a){return(e,s)=>(c(),f("div",Dn,[h(Sn,{vault:e.vault},null,8,["vault"]),h($n,{vault:e.vault},null,8,["vault"])]))}});const Tn=y(xn,[["__scopeId","data-v-04b6e7b2"]]),zn={class:"legend"},On=["onClick"],In={class:"label"},An=$({__name:"Legend",props:{items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(a,{emit:e}){const s=E(),t=o=>Z(s.theme)[o];return(o,l)=>(c(),f("div",zn,[(c(!0),f(N,null,j(o.items,(n,_)=>(c(),f("div",{key:n,class:T(["item",{clickable:o.clickable,disabled:o.disabled.includes(n)}]),onClick:i=>{o.clickable&&e("click",n)}},[u("div",{class:"color",style:U({"background-color":t(_)})},null,4),u("div",In,D(n),1)],10,On))),128))]))}});const Ln=y(An,[["__scopeId","data-v-6bff291a"]]),Mn={class:"actions"},Pt=$({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(a){const{t:e}=P(),s=new H(G());let t,o,l;const n=E(),_=C(null),i=C({oracle:[],market:[]}),r=C(!1);B(async()=>{_.value&&(await qt(),t=Ce(_.value,m(_.value,n.theme)),o=t.addAreaSeries(b(n.theme)),l=t.addAreaSeries(z(n.theme)),v(i.value))}),A(()=>a.vault,async g=>{if(r.value=!0,!g)return;const S=await s.getCollateralPrices("ethereum",g.collateral,"7d");i.value=p(S.oracle,S.market),r.value=!1},{immediate:!0}),A(()=>n.theme,g=>{_.value&&(t.applyOptions(m(_.value,g)),o.applyOptions(b(g)),l.applyOptions(z(g)))}),A(i,g=>{v(g)});const p=(g,S)=>{const M=Math.max(g[0].timestamp,S[0].timestamp),O=Math.min(g[g.length-1].timestamp,S[S.length-1].timestamp),R=g.filter(ve=>ve.timestamp>=M&&ve.timestamp<=O),Y=S.filter(ve=>ve.timestamp>=M&&ve.timestamp<=O);return R[R.length-1].timestamp<O&&R.push({timestamp:O,value:R[R.length-1].value}),Y[Y.length-1].timestamp<O&&Y.push({timestamp:O,value:Y[Y.length-1].value}),{oracle:R,market:Y}},m=(g,S)=>ke(g,S,{leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),z=g=>{const S=F(g);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ge.WithSteps,lineColor:S.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},b=g=>{const S=F(g);return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:ge.WithSteps,lineColor:S.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},v=g=>{if(!t||!o)return;const S=W.chain(g.oracle).map(O=>({time:O.timestamp,value:O.value})).uniqWith((O,R)=>O.time===R.time).orderBy(O=>O.time,"asc").value(),M=W.chain(g.market).map(O=>({time:O.timestamp,value:O.value})).uniqWith((O,R)=>O.time===R.time).orderBy(O=>O.time,"asc").value();M.length>0&&l.setData(M),S.length>0&&o.setData(S),t.timeScale().fitContent()};return(g,S)=>(c(),k(d(Q),{class:"chart-container",title:d(e)("title"),loading:r.value},{actions:w(()=>[u("div",Mn,[h(Ln,{items:["Oracle","Market"]})])]),default:w(()=>[u("div",{ref_key:"chartRef",ref:_,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ut(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:s=>{const{normalize:t}=s;return t(["Oracle & Market price"])}}})}typeof ut=="function"&&ut(Pt);const Pn=y(Pt,[["__scopeId","data-v-2fdad7e6"]]),Bn={class:"collateral"},Rn=$({__name:"Collateral",props:{vault:{}},setup(a){return(e,s)=>(c(),f("div",Bn,[h(Pn,{vault:e.vault},null,8,["vault"])]))}});const Vn=y(Rn,[["__scopeId","data-v-f65be798"]]);const Nn={},Wn={class:"liquidations"};function Fn(a,e){return c(),f("div",Wn,"TODO")}const En=y(Nn,[["render",Fn],["__scopeId","data-v-5225d811"]]);const Gn={},Hn={class:"find-trove"};function jn(a,e){return c(),f("div",Hn,"TODO")}const qn=y(Gn,[["render",jn],["__scopeId","data-v-cd8992af"]]);const Un={},Qn={class:"simulation"};function Yn(a,e){return c(),f("div",Qn,"TODO")}const Jn=y(Un,[["render",Yn],["__scopeId","data-v-a5df65ee"]]),Kn={class:"vault-manager"},Xn=$({__name:"VaultManager",setup(a){const e=new kt("ethereum"),s=we(),t=Le(),o=Re(),l=Dt(),n=C(0),_=x(()=>s.params.vaultAddr),i=x(()=>l.vault);return B(()=>{var p;const r=s.params.tab;r&&typeof r=="string"&&(r==="collateral"?n.value=1:r==="liquidations"?n.value=2:r==="trove"?n.value=3:r==="simulation"&&(n.value=4)),o.show=!0,o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${((p=i.value)==null?void 0:p.name)??"?"}`}]}),A(e.currentData,r=>{const p=r.find(m=>m.address===_.value);p&&(l.vault=p)}),A(i,r=>{o.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${(r==null?void 0:r.name)??"?"}`}]}),A(n,async r=>{r===0?await t.push({name:"prismavault",params:{tab:"",vaultAddr:_.value}}):r===1?await t.push({name:"prismavault",params:{tab:"collateral",vaultAddr:_.value}}):r===2?await t.push({name:"prismavault",params:{tab:"liquidations",vaultAddr:_.value}}):r===3?await t.push({name:"prismavault",params:{tab:"trove",vaultAddr:_.value}}):r===4&&await t.push({name:"prismavault",params:{tab:"simulation",vaultAddr:_.value}})}),(r,p)=>(c(),f("div",Kn,[h(d(ws),{active:n.value,onTab:p[0]||(p[0]=m=>n.value=m.index)},{default:w(()=>[h(d(fe),{header:"Overview"},{default:w(()=>[(c(),k(me,null,[n.value===0?(c(),k(Tn,{key:0,vault:i.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(d(fe),{header:"Collateral"},{default:w(()=>[(c(),k(me,null,[n.value===1&&i.value?(c(),k(Vn,{key:0,vault:i.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(d(fe),{header:"Liquidations"},{default:w(()=>[(c(),k(me,null,[n.value===2&&i.value?(c(),k(En,{key:0,vault:i.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(d(fe),{header:"Find Trove"},{default:w(()=>[(c(),k(me,null,[n.value===3&&i.value?(c(),k(qn,{key:0,vault:i.value},null,8,["vault"])):I("",!0)],1024))]),_:1}),h(d(fe),{header:"Simulation"},{default:w(()=>[(c(),k(me,null,[n.value===4&&i.value?(c(),k(Jn,{key:0,vault:i.value},null,8,["vault"])):I("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const Zn=y(Xn,[["__scopeId","data-v-7e3cb21d"]]),el={titleRoute:"/",routes:[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:hn},{path:"/vaults",name:"vaults",component:Yo},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:Zn}],menuItems:[{to:"/vaults",label:"Vaults"},{to:"/mkusd",label:"mkUSD"},{to:"/pool",label:"Stability pool"},{to:"/dao",label:"DAO"}]},Ve=Ut(co),tl=Qt({legacy:!1,locale:"en",fallbackLocale:"en"});Ve.use(tl);const al=Yt();Ve.use(al);const sl=[el],ol=Be();ol.pages=sl;const nl=wo();Ve.use(nl).use(Jt).use(Kt).mount("#app");
