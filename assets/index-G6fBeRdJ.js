import{o as y,c as S,p as me,a as ye,b as u,d as P,e as A,n as F,f as z,g as G,t as x,r as ee,w,h,i as ce,j as Zt,F as te,T as Bi,I as oe,C as re,m as He,k as jt,s as Jt,D as st,u as Yt,l as V,q as g,v as N,x as Ke,y as s,z as Xe,A as Ni,B as Hi,W as Ki,E as Xi,G as Gi,H as Zi,J as ji,K as U,L as we,M as ne,N as Ji,O as Yi,P as ge,Q as it,V as Qi,R as eo,S as Ts,U as to,X as no,Y as ao,Z as H,_ as j,$ as K,a0 as so,a1 as io,a2 as oo,a3 as ro,a4 as Qt,a5 as _e,a6 as de,a7 as lo,a8 as uo,a9 as at,aa as co,ab as et,ac as Dn,ad as po,ae as mo,af as yo,ag as fo,ah as vo,ai as _o,aj as ho,ak as bo}from"./vendor-C54j3EYj.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();const I=(a,e)=>{const t=a.__vccOpts||a;for(const[n,i]of e)t[n]=i;return t},go={},ks=a=>(me("data-v-ad2adcec"),a=a(),ye(),a),wo={class:"lds-ripple"},To=ks(()=>u("div",null,null,-1)),ko=ks(()=>u("div",null,null,-1)),$o=[To,ko];function Co(a,e){return y(),S("div",wo,$o)}const en=I(go,[["render",Co],["__scopeId","data-v-ad2adcec"]]),Mo=["inert"],So={class:"text"},xo=P({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:null}},setup(a){return(e,t)=>{const n=en;return y(),S("div",{class:"card",inert:!!e.loading},[e.loading!==null?(y(),A(n,{key:0,class:F(["loader",{loading:e.loading}])},null,8,["class"])):z("",!0),u("div",{class:F(["card-container",{loading:e.loading}])},[e.title?(y(),S("div",{key:0,class:F(["card-header",{collapsible:e.collapsible}])},[u("div",So,[e.icon?(y(),S("i",{key:0,class:F(["icon",e.icon])},null,2)):z("",!0),G(" "+x(e.title),1)]),ee(e.$slots,"actions",{},void 0,!0)],2)):(y(),S("div",{key:1,class:F(["card-no-header",{compact:e.compact}])},null,2)),u("div",{class:F(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[ee(e.$slots,"default",{},void 0,!0)],2)],2)],8,Mo)}}}),ae=I(xo,[["__scopeId","data-v-67011bf6"]]),Ao={key:0,class:"fas fa-chevron-right"},Po=P({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(a,{emit:e}){const t=e,n=r=>{var p;const l=a.active?a.active.id===r.id:((p=a.crumbs.filter(_=>!_.hint).at(-1))==null?void 0:p.id)===r.id;return r.hint??l},i=r=>{var l;return((l=a.crumbs.at(-1))==null?void 0:l.id)===r.id};return(r,l)=>{const p=ae;return y(),A(p,null,{default:w(()=>[h(Bi,{name:"fade",tag:"ul"},{default:w(()=>[(y(!0),S(te,null,ce(r.crumbs,_=>(y(),S("li",{key:_.id},[(y(),A(Zt(n(_)?"span":"a"),{class:F({active:n(_),hint:_.hint}),onClick:f=>t("crumb",_)},{default:w(()=>[G(x(_.label),1)]),_:2},1032,["class","onClick"])),!i(_)||r.crumbs.length===1?(y(),S("i",Ao)):z("",!0)]))),128))]),_:1})]),_:1})}}}),Lo=I(Po,[["__scopeId","data-v-1c1116d3"]]),Io={class:"collapsible-inside"},Do=P({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(a){return(e,t)=>(y(),S("div",{class:F(["collapsible-outside",{expanded:e.expanded}])},[u("div",Io,[ee(e.$slots,"default",{},void 0,!0)])],2))}}),ot=I(Do,[["__scopeId","data-v-25b74378"]]),zo={class:"chip"},Oo={class:"label"},Ro=P({__name:"Chip",props:{label:{default:""}},setup(a){return(e,t)=>(y(),S("div",zo,[u("div",Oo,x(e.label),1)]))}}),Vo=I(Ro,[["__scopeId","data-v-1eb2caf8"]]);function yt(a){return(a==null?void 0:a.children)!==void 0}function zn(a){return(a==null?void 0:a.to)!==void 0}function Eo(a){function e(o){return o<10?"0"+o.toString():o.toString()}const t=a.getTime()-new Date().getTime();if(t<=0)return"00:00:00:00";const n=1e3,i=n*60,r=i*60,l=r*24,p=Math.floor(t/l),_=Math.floor(t%l/r),f=Math.floor(t%r/i),v=Math.floor(t%i/n);return e(p)+":"+e(_)+":"+e(f)+":"+e(v)}function Oe(a,e=0,t=".",n=","){const i=isFinite(+a)?+a:0,r=isFinite(+e)?Math.abs(e):0,l=typeof n>"u"?",":n,p=typeof t>"u"?".":t,_=function(v,o){const c=Math.pow(10,o);return Math.round(v*c)/c},f=(r?_(i,r):Math.round(i)).toString().split(".");return f[0].length>3&&(f[0]=f[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,l)),(f[1]||"").length<r&&(f[1]=f[1]||"",f[1]+=new Array(r-f[1].length+1).join("0")),f.join(p)}function Y(a,e){const t=Math.abs(a);return e==="percentage"?"%":e==="dollar"?t>=1*10**12?"t":t>=1*10**9?"b":t>=1*10**6?"m":t>=1*10**3?"k":"":""}function Q(a,e,t){const n=Math.abs(a);return e===1/0?a.toLocaleString():t==="percentage"?Oe(a,e):t==="dollar"?n>=1*10**12?Oe(a/10**12,e):n>=1*10**9?Oe(a/10**9,e):n>=1*10**6?Oe(a/10**6,e):n>=1*10**3?Oe(a/10**3,e):Oe(a,e):a.toString()}async function Ve(a,e=0,t=1e3){const n=await a(e,t),i=await(n.length>=t?Ve(a,e+1,t):Promise.resolve([]));return n.concat(i)}function Nt(a,e){return(Array.isArray(a)?a:[a]).some(n=>e.path.startsWith(n))}const qo="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",Fo="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",Uo="0x657ce046d98d163ef4f846210f25919fa7b31944",ft="0xc53baaaa8595a7a2e7fee71db7291b939f696734",$t=[{inputs:[{internalType:"address",name:"_stkcvxcrv",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountExtraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"},{internalType:"uint256",name:"_priceOfReward",type:"uint256"},{internalType:"uint256",name:"_priceOfDeposit",type:"uint256"}],name:"apr",outputs:[{internalType:"uint256",name:"_apr",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"convexProxy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"crv",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"cvx",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"cvxCrvStaking",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"cvxMining",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"externalRewardContracts",outputs:[{internalType:"address[]",name:"rewardContracts",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"extraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"mainRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_rewardContract",type:"address"}],name:"singleRewardRate",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"rate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"stkcvxcrv",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],fn=class fn{static createInterface(){return new oe($t)}static connect(e,t){return new re(e,$t,t)}};fn.abi=$t;let On=fn;const Ct=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_token",type:"address"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"Recovered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_token",type:"address"},{indexed:!1,internalType:"uint256",name:"_reward",type:"uint256"}],name:"RewardAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_reward",type:"address"},{indexed:!0,internalType:"address",name:"_distributor",type:"address"}],name:"RewardAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_reward",type:"address"},{indexed:!0,internalType:"address",name:"_distributor",type:"address"}],name:"RewardDistributorApproved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_user",type:"address"},{indexed:!0,internalType:"address",name:"_rewardsToken",type:"address"},{indexed:!1,internalType:"uint256",name:"_reward",type:"uint256"}],name:"RewardPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"},{indexed:!1,internalType:"address",name:"_forward",type:"address"}],name:"RewardRedirected",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_user",type:"address"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"Staked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_user",type:"address"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{internalType:"address",name:"_rewardsToken",type:"address"},{internalType:"address",name:"_distributor",type:"address"}],name:"addReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_rewardsToken",type:"address"},{internalType:"address",name:"_distributor",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"approveRewardDistributor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"claimableRewards",outputs:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct cvxFxsStaking.EarnedData[]",name:"userRewards",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"cvxfxs",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bool",name:"_lock",type:"bool"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"fxs",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"fxsDepositor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"},{internalType:"address",name:"_forwardTo",type:"address"}],name:"getReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_rewardsToken",type:"address"}],name:"getRewardForDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_rewardsToken",type:"address"}],name:"lastTimeRewardApplicable",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_rewardsToken",type:"address"},{internalType:"uint256",name:"_reward",type:"uint256"}],name:"notifyRewardAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenAddress",type:"address"},{internalType:"uint256",name:"_tokenAmount",type:"uint256"}],name:"recoverERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewardData",outputs:[{internalType:"uint256",name:"periodFinish",type:"uint256"},{internalType:"uint256",name:"rewardRate",type:"uint256"},{internalType:"uint256",name:"lastUpdateTime",type:"uint256"},{internalType:"uint256",name:"rewardPerTokenStored",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"rewardDistributors",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_rewardsToken",type:"address"}],name:"rewardPerToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewardRedirect",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardTokenLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"rewardTokens",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardsDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"setRewardRedirect",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakeAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_for",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"stakeFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"userRewardPerTokenPaid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"vefxsProxy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],vn=class vn{static createInterface(){return new oe(Ct)}static connect(e,t){return new re(e,Ct,t)}};vn.abi=Ct;let Rn=vn;const Mt=[{stateMutability:"view",type:"function",name:"get_dy",inputs:[{name:"i",type:"int128"},{name:"j",type:"int128"},{name:"dx",type:"uint256"}],outputs:[{name:"",type:"uint256"}]}],_n=class _n{static createInterface(){return new oe(Mt)}static connect(e,t){return new re(e,Mt,t)}};_n.abi=Mt;let Vn=_n;const St=[{name:"TokenExchange",inputs:[{name:"buyer",type:"address",indexed:!0},{name:"sold_id",type:"uint256",indexed:!1},{name:"tokens_sold",type:"uint256",indexed:!1},{name:"bought_id",type:"uint256",indexed:!1},{name:"tokens_bought",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"AddLiquidity",inputs:[{name:"provider",type:"address",indexed:!0},{name:"token_amounts",type:"uint256[2]",indexed:!1},{name:"fee",type:"uint256",indexed:!1},{name:"token_supply",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"RemoveLiquidity",inputs:[{name:"provider",type:"address",indexed:!0},{name:"token_amounts",type:"uint256[2]",indexed:!1},{name:"token_supply",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"RemoveLiquidityOne",inputs:[{name:"provider",type:"address",indexed:!0},{name:"token_amount",type:"uint256",indexed:!1},{name:"coin_index",type:"uint256",indexed:!1},{name:"coin_amount",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"CommitNewParameters",inputs:[{name:"deadline",type:"uint256",indexed:!0},{name:"admin_fee",type:"uint256",indexed:!1},{name:"mid_fee",type:"uint256",indexed:!1},{name:"out_fee",type:"uint256",indexed:!1},{name:"fee_gamma",type:"uint256",indexed:!1},{name:"allowed_extra_profit",type:"uint256",indexed:!1},{name:"adjustment_step",type:"uint256",indexed:!1},{name:"ma_half_time",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"NewParameters",inputs:[{name:"admin_fee",type:"uint256",indexed:!1},{name:"mid_fee",type:"uint256",indexed:!1},{name:"out_fee",type:"uint256",indexed:!1},{name:"fee_gamma",type:"uint256",indexed:!1},{name:"allowed_extra_profit",type:"uint256",indexed:!1},{name:"adjustment_step",type:"uint256",indexed:!1},{name:"ma_half_time",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"RampAgamma",inputs:[{name:"initial_A",type:"uint256",indexed:!1},{name:"future_A",type:"uint256",indexed:!1},{name:"initial_gamma",type:"uint256",indexed:!1},{name:"future_gamma",type:"uint256",indexed:!1},{name:"initial_time",type:"uint256",indexed:!1},{name:"future_time",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"StopRampA",inputs:[{name:"current_A",type:"uint256",indexed:!1},{name:"current_gamma",type:"uint256",indexed:!1},{name:"time",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"ClaimAdminFee",inputs:[{name:"admin",type:"address",indexed:!0},{name:"tokens",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"_weth",type:"address"}],outputs:[]},{stateMutability:"payable",type:"fallback"},{stateMutability:"payable",type:"function",name:"exchange",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"},{name:"use_eth",type:"bool"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"},{name:"use_eth",type:"bool"},{name:"receiver",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange_underlying",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange_underlying",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"},{name:"receiver",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange_extended",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"},{name:"use_eth",type:"bool"},{name:"sender",type:"address"},{name:"receiver",type:"address"},{name:"cb",type:"bytes32"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"add_liquidity",inputs:[{name:"amounts",type:"uint256[2]"},{name:"min_mint_amount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"add_liquidity",inputs:[{name:"amounts",type:"uint256[2]"},{name:"min_mint_amount",type:"uint256"},{name:"use_eth",type:"bool"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"add_liquidity",inputs:[{name:"amounts",type:"uint256[2]"},{name:"min_mint_amount",type:"uint256"},{name:"use_eth",type:"bool"},{name:"receiver",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity",inputs:[{name:"_amount",type:"uint256"},{name:"min_amounts",type:"uint256[2]"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity",inputs:[{name:"_amount",type:"uint256"},{name:"min_amounts",type:"uint256[2]"},{name:"use_eth",type:"bool"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity",inputs:[{name:"_amount",type:"uint256"},{name:"min_amounts",type:"uint256[2]"},{name:"use_eth",type:"bool"},{name:"receiver",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity_one_coin",inputs:[{name:"token_amount",type:"uint256"},{name:"i",type:"uint256"},{name:"min_amount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity_one_coin",inputs:[{name:"token_amount",type:"uint256"},{name:"i",type:"uint256"},{name:"min_amount",type:"uint256"},{name:"use_eth",type:"bool"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity_one_coin",inputs:[{name:"token_amount",type:"uint256"},{name:"i",type:"uint256"},{name:"min_amount",type:"uint256"},{name:"use_eth",type:"bool"},{name:"receiver",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"claim_admin_fees",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"ramp_A_gamma",inputs:[{name:"future_A",type:"uint256"},{name:"future_gamma",type:"uint256"},{name:"future_time",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"stop_ramp_A_gamma",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"commit_new_parameters",inputs:[{name:"_new_mid_fee",type:"uint256"},{name:"_new_out_fee",type:"uint256"},{name:"_new_admin_fee",type:"uint256"},{name:"_new_fee_gamma",type:"uint256"},{name:"_new_allowed_extra_profit",type:"uint256"},{name:"_new_adjustment_step",type:"uint256"},{name:"_new_ma_half_time",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"apply_new_parameters",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"revert_new_parameters",inputs:[],outputs:[]},{stateMutability:"view",type:"function",name:"get_dy",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"calc_token_amount",inputs:[{name:"amounts",type:"uint256[2]"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"calc_withdraw_one_coin",inputs:[{name:"token_amount",type:"uint256"},{name:"i",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"lp_price",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"A",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"get_virtual_price",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"price_oracle",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"initialize",inputs:[{name:"A",type:"uint256"},{name:"gamma",type:"uint256"},{name:"mid_fee",type:"uint256"},{name:"out_fee",type:"uint256"},{name:"allowed_extra_profit",type:"uint256"},{name:"fee_gamma",type:"uint256"},{name:"adjustment_step",type:"uint256"},{name:"admin_fee",type:"uint256"},{name:"ma_half_time",type:"uint256"},{name:"initial_price",type:"uint256"},{name:"_token",type:"address"},{name:"_coins",type:"address[2]"},{name:"_precisions",type:"uint256"}],outputs:[]},{stateMutability:"view",type:"function",name:"token",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"coins",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"price_scale",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"last_prices",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"last_prices_timestamp",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"initial_A_gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_A_gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"initial_A_gamma_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_A_gamma_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"allowed_extra_profit",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_allowed_extra_profit",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"fee_gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_fee_gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"adjustment_step",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_adjustment_step",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"ma_half_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_ma_half_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"mid_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"out_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"admin_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_mid_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_out_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_admin_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"balances",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"D",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"factory",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"xcp_profit",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"xcp_profit_a",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"virtual_price",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"admin_actions_deadline",inputs:[],outputs:[{name:"",type:"uint256"}]}],hn=class hn{static createInterface(){return new oe(St)}static connect(e,t){return new re(e,St,t)}};hn.abi=St;let En=hn;const xt=[{inputs:[{internalType:"address",name:"_prismaCore",type:"address"},{internalType:"contract IPrismaToken",name:"_token",type:"address"},{internalType:"contract IIncentiveVoting",name:"_voter",type:"address"},{internalType:"address",name:"_manager",type:"address"},{internalType:"uint256",name:"_lockToTokenRatio",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_weeks",type:"uint256"}],name:"LockCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_weeks",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newWeeks",type:"uint256"}],name:"LockExtended",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"weeksToUnlock",type:"uint256"}],indexed:!1,internalType:"struct TokenLocker.LockData[]",name:"newLocks",type:"tuple[]"}],name:"LocksCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"currentWeeks",type:"uint256"},{internalType:"uint256",name:"newWeeks",type:"uint256"}],indexed:!1,internalType:"struct TokenLocker.ExtendLockData[]",name:"locks",type:"tuple[]"}],name:"LocksExtended",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LocksFrozen",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LocksUnfrozen",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"withdrawn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"penalty",type:"uint256"}],name:"LocksWithdrawn",type:"event"},{inputs:[],name:"MAX_LOCK_WEEKS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PRISMA_CORE",outputs:[{internalType:"contract IPrismaCore",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"allowPenaltyWithdrawAfter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deploymentManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_weeks",type:"uint256"},{internalType:"uint256",name:"_newWeeks",type:"uint256"}],name:"extendLock",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"currentWeeks",type:"uint256"},{internalType:"uint256",name:"newWeeks",type:"uint256"}],internalType:"struct TokenLocker.ExtendLockData[]",name:"newExtendLocks",type:"tuple[]"}],name:"extendMany",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"freeze",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"minWeeks",type:"uint256"}],name:"getAccountActiveLocks",outputs:[{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"weeksToUnlock",type:"uint256"}],internalType:"struct TokenLocker.LockData[]",name:"lockData",type:"tuple[]"},{internalType:"uint256",name:"frozenAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getAccountBalances",outputs:[{internalType:"uint256",name:"locked",type:"uint256"},{internalType:"uint256",name:"unlocked",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getAccountWeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"week",type:"uint256"}],name:"getAccountWeightAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getAccountWeightWrite",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getTotalWeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"week",type:"uint256"}],name:"getTotalWeightAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalWeightWrite",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getWeek",outputs:[{internalType:"uint256",name:"week",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amountToWithdraw",type:"uint256"}],name:"getWithdrawWithPenaltyAmounts",outputs:[{internalType:"uint256",name:"amountWithdrawn",type:"uint256"},{internalType:"uint256",name:"penaltyAmountPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"guardian",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"incentiveVoter",outputs:[{internalType:"contract IIncentiveVoting",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_weeks",type:"uint256"}],name:"lock",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"weeksToUnlock",type:"uint256"}],internalType:"struct TokenLocker.LockData[]",name:"newLocks",type:"tuple[]"}],name:"lockMany",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lockToTokenRatio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockToken",outputs:[{internalType:"contract IPrismaToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"penaltyWithdrawalsEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"prismaCore",outputs:[{internalType:"contract IPrismaCore",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_timestamp",type:"uint256"}],name:"setAllowPenaltyWithdrawAfter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_enabled",type:"bool"}],name:"setPenaltyWithdrawalsEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalDecayRate",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalUpdatedWeek",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"keepIncentivesVote",type:"bool"}],name:"unfreeze",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_weeks",type:"uint256"}],name:"withdrawExpiredLocks",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountToWithdraw",type:"uint256"}],name:"withdrawWithPenalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],bn=class bn{static createInterface(){return new oe(xt)}static connect(e,t){return new re(e,xt,t)}};bn.abi=xt;let Ht=bn;const At=[{inputs:[{internalType:"address",name:"_prismaCore",type:"address"},{internalType:"contract ITokenLocker",name:"_tokenLocker",type:"address"},{internalType:"uint256",name:"_minCreateProposalPct",type:"uint256"},{internalType:"uint256",name:"_passingPct",type:"uint256"},{internalType:"uint256",name:"_bootstrapFinish",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"proposalId",type:"uint256"}],name:"ProposalCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"proposalId",type:"uint256"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],indexed:!1,internalType:"struct AdminVoting.Action[]",name:"payload",type:"tuple[]"},{indexed:!1,internalType:"uint256",name:"week",type:"uint256"},{indexed:!1,internalType:"uint256",name:"requiredWeight",type:"uint256"}],name:"ProposalCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"weight",type:"uint256"}],name:"ProposalCreationMinPctSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"proposalId",type:"uint256"}],name:"ProposalExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"canExecuteAfter",type:"uint256"}],name:"ProposalHasMetQuorum",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"pct",type:"uint256"}],name:"ProposalPassingPctSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"weight",type:"uint256"},{indexed:!1,internalType:"uint256",name:"proposalCurrentWeight",type:"uint256"},{indexed:!1,internalType:"bool",name:"hasPassed",type:"bool"}],name:"VoteCast",type:"event"},{inputs:[],name:"BOOTSTRAP_FINISH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_PCT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_TIME_TO_EXECUTION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_TIME_BETWEEN_PROPOSALS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_TIME_TO_EXECUTION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SET_GUARDIAN_PASSING_PCT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"VOTING_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"acceptTransferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"accountVoteWeights",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"cancelProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct AdminVoting.Action[]",name:"payload",type:"tuple[]"}],name:"createNewProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"executeProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getProposalCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getProposalData",outputs:[{internalType:"uint256",name:"week",type:"uint256"},{internalType:"uint256",name:"createdAt",type:"uint256"},{internalType:"uint256",name:"currentWeight",type:"uint256"},{internalType:"uint256",name:"requiredWeight",type:"uint256"},{internalType:"uint256",name:"canExecuteAfter",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canExecute",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct AdminVoting.Action[]",name:"payload",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWeek",outputs:[{internalType:"uint256",name:"week",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"caller",type:"address"}],name:"isApprovedDelegate",outputs:[{internalType:"bool",name:"isApproved",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"latestProposalTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minCreateProposalPct",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minCreateProposalWeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"passingPct",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"prismaCore",outputs:[{internalType:"contract IPrismaCore",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_delegate",type:"address"},{internalType:"bool",name:"_isApproved",type:"bool"}],name:"setDelegateApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"pct",type:"uint256"}],name:"setMinCreateProposalPct",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"pct",type:"uint256"}],name:"setPassingPct",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenLocker",outputs:[{internalType:"contract ITokenLocker",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"weight",type:"uint256"}],name:"voteForProposal",outputs:[],stateMutability:"nonpayable",type:"function"}],gn=class gn{static createInterface(){return new oe(At)}static connect(e,t){return new re(e,At,t)}};gn.abi=At;let Ne=gn;const Pt=[{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"assetAllocations",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"members",type:"address[]"}],name:"getAllocations",outputs:[{internalType:"uint16[16][]",name:"",type:"uint16[16][]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16[16]",name:"choices",type:"uint16[16]"}],name:"recordAllocation",outputs:[],stateMutability:"nonpayable",type:"function"}],wn=class wn{static createInterface(){return new oe(Pt)}static connect(e,t){return new re(e,Pt,t)}};wn.abi=Pt;let qn=wn;const Lt=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"uint256",name:"_end",type:"uint256"}],name:"expReg",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!0,internalType:"uint256",name:"_start",type:"uint256"}],name:"setReg",type:"event"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"}],name:"batchAddressCheck",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"eDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"execute",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"}],name:"forceRegistry",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"}],name:"forceToExpire",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"forwardHistory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"forwardLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"page",type:"uint256"}],name:"forwardPage",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"inForwardHistory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"inOptOutHistory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"optOutHistory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optOutLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"page",type:"uint256"}],name:"optOutPage",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"registry",outputs:[{internalType:"uint256",name:"start",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"expiration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"setRegistry",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"setToExpire",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Tn=class Tn{static createInterface(){return new oe(Lt)}static connect(e,t){return new re(e,Lt,t)}};Tn.abi=Lt;let Fn=Tn;const It=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],kn=class kn{static createInterface(){return new oe(It)}static connect(e,t){return new re(e,It,t)}};kn.abi=It;let Un=kn;const Dt=[{name:"Transfer",inputs:[{name:"_from",type:"address",indexed:!0},{name:"_to",type:"address",indexed:!0},{name:"_tokenId",type:"uint256",indexed:!0}],anonymous:!1,type:"event"},{name:"Approval",inputs:[{name:"_owner",type:"address",indexed:!0},{name:"_approved",type:"address",indexed:!0},{name:"_tokenId",type:"uint256",indexed:!0}],anonymous:!1,type:"event"},{name:"ApprovalForAll",inputs:[{name:"_owner",type:"address",indexed:!0},{name:"_operator",type:"address",indexed:!0},{name:"_approved",type:"bool",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"preminters",type:"address[235]"}],outputs:[]},{stateMutability:"pure",type:"function",name:"supportsInterface",inputs:[{name:"interface_id",type:"bytes4"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"view",type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"ownerOf",inputs:[{name:"token_id",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"getApproved",inputs:[{name:"token_id",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"isApprovedForAll",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"transferFrom",inputs:[{name:"from_addr",type:"address"},{name:"to_addr",type:"address"},{name:"token_id",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"safeTransferFrom",inputs:[{name:"from_addr",type:"address"},{name:"to_addr",type:"address"},{name:"token_id",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"safeTransferFrom",inputs:[{name:"from_addr",type:"address"},{name:"to_addr",type:"address"},{name:"token_id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"approve",inputs:[{name:"approved",type:"address"},{name:"token_id",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{stateMutability:"payable",type:"function",name:"allowlistMint",inputs:[{name:"mint_amount",type:"uint256"},{name:"approved_amount",type:"uint256"},{name:"sig",type:"bytes"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"mint",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"tokenURI",inputs:[{name:"token_id",type:"uint256"}],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"contractURI",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"nonpayable",type:"function",name:"set_minter",inputs:[{name:"minter",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_al_signer",inputs:[{name:"al_signer",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_base_uri",inputs:[{name:"base_uri",type:"string"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_contract_uri",inputs:[{name:"new_uri",type:"string"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_owner",inputs:[{name:"new_addr",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_revealed",inputs:[{name:"flag",type:"bool"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"withdraw",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"admin_withdraw_erc20",inputs:[{name:"coin",type:"address"},{name:"target",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"start_al_mint",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"stop_al_mint",inputs:[],outputs:[]},{stateMutability:"view",type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"tokenByIndex",inputs:[{name:"_index",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"tokenOfOwnerByIndex",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"tokensForOwner",inputs:[{name:"owner",type:"address"}],outputs:[{name:"",type:"uint256[]"}]},{stateMutability:"view",type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"base_uri",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"revealed",inputs:[],outputs:[{name:"",type:"bool"}]},{stateMutability:"view",type:"function",name:"default_uri",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"al_mint_started",inputs:[],outputs:[{name:"",type:"bool"}]},{stateMutability:"view",type:"function",name:"al_signer",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"minter",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"al_mint_amount",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"uint256"}]}],$n=class $n{static createInterface(){return new oe(Dt)}static connect(e,t){return new re(e,Dt,t)}};$n.abi=Dt;let Wn=$n;const zt=[{inputs:[{internalType:"address",name:"_token",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_incentive",type:"uint256"}],name:"CallerIncentiveUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_caller",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Harvest",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_fee",type:"uint256"}],name:"PlatformFeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_platform",type:"address"}],name:"PlatformUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_strategy",type:"address"}],name:"StrategySet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_penalty",type:"uint256"}],name:"WithdrawalPenaltyUpdated",type:"event"},{inputs:[],name:"FEE_DENOMINATOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_CALL_INCENTIVE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_PLATFORM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_WITHDRAWAL_PENALTY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"balanceOfUnderlying",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callIncentive",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"depositAll",outputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"harvest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"platform",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"platformFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_incentive",type:"uint256"}],name:"setCallIncentive",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_platform",type:"address"}],name:"setPlatform",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_fee",type:"uint256"}],name:"setPlatformFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_strategy",type:"address"}],name:"setStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_penalty",type:"uint256"}],name:"setWithdrawalPenalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strategy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalUnderlying",outputs:[{internalType:"uint256",name:"total",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlying",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_shares",type:"uint256"}],name:"withdraw",outputs:[{internalType:"uint256",name:"withdrawn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"withdrawAll",outputs:[{internalType:"uint256",name:"withdrawn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawalPenalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Cn=class Cn{static createInterface(){return new oe(zt)}static connect(e,t){return new re(e,zt,t)}};Cn.abi=zt;let Bn=Cn;const Ot=[{inputs:[{internalType:"address",name:"pxCvx",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadySet",type:"error"},{inputs:[],name:"ExceedsMax",type:"error"},{inputs:[],name:"ZeroAddress",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"assets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Harvest",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"PlatformFeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_platform",type:"address"}],name:"PlatformUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_strategy",type:"address"}],name:"StrategySet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"assets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"penalty",type:"uint256"}],name:"WithdrawalPenaltyUpdated",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_DENOMINATOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_PLATFORM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_WITHDRAWAL_PENALTY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"},{internalType:"address",name:"receiver",type:"address"}],name:"deposit",outputs:[{internalType:"uint256",name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"harvest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"maxDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"maxMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"maxRedeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"address",name:"receiver",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"platform",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"platformFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"}],name:"previewMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"redeem",outputs:[{internalType:"uint256",name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_platform",type:"address"}],name:"setPlatform",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"fee",type:"uint256"}],name:"setPlatformFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_strategy",type:"address"}],name:"setStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"penalty",type:"uint256"}],name:"setWithdrawalPenalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strategy",outputs:[{internalType:"contract UnionPirexStaking",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalAssets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"withdraw",outputs:[{internalType:"uint256",name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawalPenalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Mn=class Mn{static createInterface(){return new oe(Ot)}static connect(e,t){return new re(e,Ot,t)}};Mn.abi=Ot;let Nn=Mn;const Rt=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_incentive",type:"uint256"}],name:"CallerIncentiveUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_caller",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Harvest",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_fee",type:"uint256"}],name:"PlatformFeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_platform",type:"address"}],name:"PlatformUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_penalty",type:"uint256"}],name:"WithdrawalPenaltyUpdated",type:"event"},{inputs:[],name:"CRVETH_CRV_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CRVETH_ETH_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CRV_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_CRV_ETH_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_CVXCRV_CRV_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_CVX_ETH_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXCRV_CRV_INDEX",outputs:[{internalType:"int128",name:"",type:"int128"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXCRV_CVXCRV_INDEX",outputs:[{internalType:"int128",name:"",type:"int128"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXCRV_STAKING_CONTRACT",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXCRV_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXETH_CVX_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXETH_ETH_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVX_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_DENOMINATOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_CALL_INCENTIVE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_PLATFORM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_WITHDRAWAL_PENALTY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"balanceOfUnderlying",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callIncentive",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"depositAll",outputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"harvest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"outstanding3CrvRewards",outputs:[{internalType:"uint256",name:"total",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"outstandingCrvRewards",outputs:[{internalType:"uint256",name:"total",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"outstandingCvxRewards",outputs:[{internalType:"uint256",name:"total",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"platform",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"platformFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"setApprovals",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_incentive",type:"uint256"}],name:"setCallIncentive",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_platform",type:"address"}],name:"setPlatform",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_fee",type:"uint256"}],name:"setPlatformFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_penalty",type:"uint256"}],name:"setWithdrawalPenalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalUnderlying",outputs:[{internalType:"uint256",name:"total",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlying",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_shares",type:"uint256"}],name:"withdraw",outputs:[{internalType:"uint256",name:"withdrawn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"withdrawAll",outputs:[{internalType:"uint256",name:"withdrawn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"enum ClaimZaps.Option",name:"option",type:"uint8"},{internalType:"uint256",name:"minAmountOut",type:"uint256"}],name:"withdrawAllAs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"enum ClaimZaps.Option",name:"option",type:"uint8"}],name:"withdrawAllAs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_shares",type:"uint256"},{internalType:"enum ClaimZaps.Option",name:"option",type:"uint8"}],name:"withdrawAs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_shares",type:"uint256"},{internalType:"enum ClaimZaps.Option",name:"option",type:"uint8"},{internalType:"uint256",name:"minAmountOut",type:"uint256"}],name:"withdrawAs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawalPenalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],Sn=class Sn{static createInterface(){return new oe(Rt)}static connect(e,t){return new re(e,Rt,t)}};Sn.abi=Rt;let Hn=Sn;const Vt=[{inputs:[{internalType:"address",name:"_vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"enum stkCvxFxsStrategyBase.SwapOption",name:"oldOption",type:"uint8"},{indexed:!1,internalType:"enum stkCvxFxsStrategyBase.SwapOption",name:"newOption",type:"uint8"}],name:"OptionChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"CRVETH_CRV_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CRVETH_ETH_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CRV_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_CRV_ETH_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_CVXFXS_FXS_LP_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_CVXFXS_FXS_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_CVX_ETH_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_FRAX_USDC_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_FXS_ETH_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXETH_CVX_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXETH_ETH_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXFXS_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVX_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"FRAX_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"FXS_DEPOSIT",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"FXS_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"UNISWAP_ROUTER",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"UNIV3_ROUTER",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"USDC_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"USDT_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"WETH_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"_claimAsEth",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"lock",type:"bool"}],name:"claimFromVaultAsCvx",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromVaultAsEth",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromVaultAsFxs",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromVaultAsUsdt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"router",type:"address"},{internalType:"address",name:"outputToken",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"claimFromVaultViaUniV2EthPair",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"lock",type:"bool"}],name:"depositFromEth",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"lock",type:"bool"}],name:"depositFromFxs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"depositFromUFxs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"router",type:"address"},{internalType:"address",name:"inputToken",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"lock",type:"bool"}],name:"depositViaUniV2EthPair",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"setApprovals",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum stkCvxFxsStrategyBase.SwapOption",name:"_newOption",type:"uint8"}],name:"setSwapOption",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"swapOption",outputs:[{internalType:"enum stkCvxFxsStrategyBase.SwapOption",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vault",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],xn=class xn{static createInterface(){return new oe(Vt)}static connect(e,t){return new re(e,Vt,t)}};xn.abi=Vt;let Kn=xn;const Et=[{inputs:[{internalType:"address",name:"_strategyZaps",type:"address"},{internalType:"address",name:"_distributor",type:"address"},{internalType:"address",name:"_vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"lock",type:"bool"}],name:"claimFromDistributorAsCvx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorAsEth",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"assetIndex",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorAsUnderlying",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorAsUsdt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"router",type:"address"},{internalType:"address",name:"outputToken",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorViaUniV2EthPair",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"distributor",outputs:[{internalType:"contract IGenericDistributor",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"setApprovals",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vault",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"zaps",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],An=class An{static createInterface(){return new oe(Et)}static connect(e,t){return new re(e,Et,t)}};An.abi=Et;let Xn=An;const qt=[{inputs:[{internalType:"address",name:"_strategyZaps",type:"address"},{internalType:"address",name:"_distributor",type:"address"},{internalType:"address",name:"_vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorAsEth",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorAsPrisma",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorAsUnderlying",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorAsUsdt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"router",type:"address"},{internalType:"address",name:"outputToken",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorViaUniV2EthPair",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"distributor",outputs:[{internalType:"contract IGenericDistributor",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"setApprovals",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vault",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"zaps",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Pn=class Pn{static createInterface(){return new oe(qt)}static connect(e,t){return new re(e,qt,t)}};Pn.abi=qt;let Gn=Pn;const Ft=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Ln=class Ln{static createInterface(){return new oe(Ft)}static connect(e,t){return new re(e,Ft,t)}};Ln.abi=Ft;let Zn=Ln;const Ut=[{name:"NewGauge",inputs:[{name:"_instance",type:"address",indexed:!0},{name:"_receiver",type:"address",indexed:!0},{name:"_max_emissions",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"_implementation",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"pure",type:"function",name:"implementation",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"get_gauge_count",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"get_gauge_by_idx",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"address"}]}],In=class In{static createInterface(){return new oe(Ut)}static connect(e,t){return new re(e,Ut,t)}};In.abi=Ut;let jn=In;const Wo="https://api.llama.airforce/";async function Bo(a,e,t){try{const n=await fetch(a,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:t});if(n.ok)return n;throw new Error(`Fetch error ${n.status} for URL: ${a}`)}catch(n){throw n instanceof Error?n:new Error("Unknown fetch error")}}async function No(a,e,t){return await(await Bo(a,e,t)).json()}class ke{constructor(e){this.host=e}async fetch(e,t,n){return No(e,t,n)}}const Ho="wss://prices.curve.fi/v1/stream/ws",Jn="pool_ohlc";class ht{constructor(e,t,n){this.chain=t,this.settings=n,this.socket=e,this.ohlc$=this.socket.pipe(He(i=>i),jt(i=>i.subscription.chain===this.chain&&i.channel===Jn&&JSON.stringify(i.subscription)===JSON.stringify(n)),He(i=>i.payload),Jt(1)),this.send("snapshots")}send(e){const t={action:e,channel:Jn,settings:[this.settings]};this.socket.next(t)}}const Yn="pool_volume";class Ko{constructor(e,t,n){this.chain=t,this.settings=n,this.socket=e,this.volume$=this.socket.pipe(He(i=>i),jt(i=>i.subscription.chain===this.chain&&i.channel===Yn&&JSON.stringify(i.subscription)===JSON.stringify(n)),He(i=>i.payload),Jt(1)),this.send("snapshots")}send(e){const t={action:e,channel:Yn,settings:[this.settings]};this.socket.next(t)}}function tn(a){return a.message.includes("Exchange resulted in fewer coins than expected")||a.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":a.message}async function Xo(a){try{return await a()}catch(e){const t=e instanceof Error?tn(e):JSON.stringify(e);st({text:t,type:"error"});return}}async function Qn(a,e){a.value=!0;try{return await e()}catch(t){const n=t instanceof Error?tn(t):JSON.stringify(t);st({text:n,type:"error"});return}finally{a.value=!1}}const Go={key:0},Zo={class:"nav-link-container"},jo={class:"nav-link-container"},Jo={class:"left"},Yo={key:0,class:"icon"},Qo={class:"right"},er=P({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(a,{emit:e}){const t=e,n=Yt(),i=V(!0),r=g(()=>zn(a.item)?[a.item]:yt(a.item)?a.item.children:[]),l=()=>{yt(a.item)&&a.item.children.filter(v=>Nt(v.to,n)).length>0&&(i.value=!0)},p=f=>typeof f.label=="string"?f.label:f.label();N(()=>a.item,f=>{yt(f)&&(i.value=!f.initCollapsed),l()},{immediate:!0}),N(()=>n.fullPath,()=>{l()},{immediate:!0});const _=()=>{i.value=!i.value};return(f,v)=>{const o=Vo,c=Ke("router-link"),m=ot;return y(),S(te,null,[s(yt)(f.item)?(y(),S("li",Go,[u("a",{class:"nav-link node",onClick:_},[u("div",Zo,[G(x(f.item.label)+" ",1),u("i",{class:F(["expander fas fa-chevron-up",{expanded:s(i)}])},null,2)])])])):z("",!0),h(m,{class:"items",expanded:s(i)},{default:w(()=>[u("ul",null,[(y(!0),S(te,null,ce(s(r),d=>(y(),S("li",{key:p(d)},[s(zn)(d)?(y(),A(c,{key:0,to:d.to,class:F(["nav-link leaf",{"router-link-active":s(Nt)(d.to,s(n))}]),onClick:v[0]||(v[0]=b=>t("navigated"))},{default:w(()=>[u("div",jo,[u("div",Jo,[d.icon?(y(),S("div",Yo,[u("i",{class:F(d.icon)},null,2)])):z("",!0),G(" "+x(p(d)),1)]),u("div",Qo,[d.tag?(y(),A(o,{key:0,label:d.tag},null,8,["label"])):z("",!0)])])]),_:2},1032,["to","class"])):z("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}}),tr=I(er,[["__scopeId","data-v-ff023aa0"]]),nr=P({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(a,{emit:e}){const t=e,n=Yt(),i=g(()=>a.pages.find(p=>Nt(p.titleRoute,n))),r=g(()=>{var p;return((p=i.value)==null?void 0:p.menuItems)??[]}),l=p=>typeof p.label=="string"?p.label:p.label();return(p,_)=>(y(),S("nav",null,[(y(!0),S(te,null,ce(s(r),f=>(y(),S("ul",{key:l(f)},[h(tr,{item:f,onNavigated:_[0]||(_[0]=v=>t("navigated"))},null,8,["item"])]))),128))]))}}),ar=I(nr,[["__scopeId","data-v-6a18bfcc"]]),$s=Xe("walletStore",()=>{const a=V(),e=V(!1),t=V();function n(i){a.value=i==null?void 0:i.toLocaleLowerCase()}return{address:a,connected:e,network:t,setAddress:n}}),sr=Ni(),ir=Hi({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"}),or=Gi({darkMode:!0}),rr=Zi();let Me=null;function lr(){const a=Xi({wallets:[sr,ir,or,rr],chains:[{id:"0x1",token:"ETH",label:"Ethereum Mainnet",rpcUrl:"https://mainnet.infura.io/v3/878382a352b14db1b7ad52a89a886207"}],appMetadata:{name:"Llama Airforce",icon:"/wallet-icon.png",description:"Airdropping knowledge bombs about the Curve ecosystem"},theme:"dark"});return a.state.actions.updateAccountCenter({enabled:!1}),a}let Kt=null;async function ur(a=!1){Me||(Me=lr());let[e]=Me.state.get().wallets;if(!e){const t=window.localStorage.getItem("connectedWallet");t?[e]=await Me.connectWallet({autoSelect:{label:t,disableModals:!0}}):a&&([e]=await(Me==null?void 0:Me.connectWallet())??[null],e&&window.localStorage.setItem("connectedWallet",e.label))}Kt=e||null}async function cr(){if(!Me)return;const[a]=Me.state.get().wallets;await Me.disconnectWallet({label:a.label}),window.localStorage.removeItem("connectedWallet")}function tt(){return Kt?new Ki(Kt.provider):void 0}async function pr(a){if(!a)return!1;try{const t=await a.getSigner().getAddress();return!0}catch{return!1}}async function Cs(a){if(a)try{const{name:e,chainId:t}=await a.getNetwork();return e==="homestead"&&t===1?"ethereum":t===8453?"base":void 0}catch{return}}async function dr(a){return await a.getSigner().getAddress()}function J(a,e=6){if(!a)return"0x000...000";const t=e/2+2,n=a.length-e/2;return`${a.substring(0,t)}...${a.substring(n)}`}function Ge(){const a=$s(),e=g(()=>a.connected),t=g(()=>a.network),n=g(()=>a.address),i=async(o=!1)=>{await ur(o);const c=tt(),m=await pr(c);a.connected=m;const d=await Cs(c);a.network=d},r=async()=>{await cr(),a.connected=!1},l=()=>{var o;return(o=tt())==null?void 0:o.getSigner()};return{connected:e,network:t,address:n,getProvider:tt,getSigner:l,withProvider:(o,c)=>(...m)=>{const d=tt();return!d||!n.value?new Promise(b=>{c&&c(...m),b()}):o(d,n.value,...m)},withProviderReturn:(o,c)=>(...m)=>{const d=tt();return!d||!n.value?new Promise(b=>{const k=c(...m);b(k)}):o(d,n.value,...m)},withSigner:(o,c)=>(...m)=>{const d=l();return!d||!n.value?new Promise(b=>{c&&c(...m),b()}):o(d,n.value,...m)},withSignerReturn:(o,c)=>(...m)=>{const d=l();return!d||!n.value?new Promise(b=>{const k=c(...m);b(k)}):o(d,n.value,...m)},connectWallet:i,disconnectWallet:r}}function mr(){return!1}const yr=P({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(a,{emit:e}){const t=e,{withProvider:n}=Ge(),i=async r=>{r.stopImmediatePropagation(),a.web3&&mr()&&await n(async l=>{await Cs(l)!=="ethereum"&&(await l.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())})(),t("click")};return(r,l)=>(y(),S("button",{class:F({primary:r.primary}),onClick:i},[ee(r.$slots,"default",{},()=>[r.icon?(y(),S("i",{key:0,class:F(["icon",[r.icon,{noValue:!!r.value}]])},null,2)):z("",!0),G(" "+x(r.value),1)],!0)],2))}}),rt=I(yr,[["__scopeId","data-v-a5f3519d"]]),fr="/assets/prisma-B4fv490f.png",vr="/assets/hat-D1qfnSjv.png",_r={},Ms=a=>(me("data-v-3cccad8a"),a=a(),ye(),a),hr={class:"logo"},br=Ms(()=>u("div",{class:"visual"},[u("img",{src:fr}),u("img",{src:vr})],-1)),gr=Ms(()=>u("span",null,"prisma.monitor",-1)),wr=[br,gr];function Tr(a,e){return y(),S("div",hr,wr)}const kr=I(_r,[["render",Tr],["__scopeId","data-v-3cccad8a"]]),$r={class:"header"},Cr={class:"buttons"},Mr=P({__name:"Header",emits:["toggle-expansion","navigated"],setup(a,{emit:e}){const t=e;return(n,i)=>{const r=Ke("router-link"),l=rt;return y(),S("div",$r,[h(r,{class:"logo",to:"/",onClick:i[0]||(i[0]=p=>t("navigated"))},{default:w(()=>[h(kr,{class:"logo"})]),_:1}),u("div",Cr,[h(l,{icon:"fas fa-bars",onClick:i[1]||(i[1]=p=>t("toggle-expansion"))})])])}}}),Sr=I(Mr,[["__scopeId","data-v-7323f4f0"]]),xr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",Ar={key:1,src:xr},Pr=P({__name:"Tooltip",props:{icon:{default:""}},setup(a){const e=V(!1);return(t,n)=>(y(),A(s(ji),{class:"tooltip",show:s(e)},{content:w(()=>[ee(t.$slots,"default",{},void 0,!0)]),default:w(()=>[u("div",{onMouseover:n[0]||(n[0]=i=>e.value=!0),onMouseleave:n[1]||(n[1]=i=>e.value=!1)},[ee(t.$slots,"item",{},()=>[t.icon?(y(),S("i",{key:0,class:F(t.icon)},null,2)):(y(),S("img",Ar))],!0)],32)]),_:3},8,["show"]))}}),Ze=I(Pr,[["__scopeId","data-v-c6dd286f"]]),Lr=a=>(me("data-v-a9b34c7e"),a=a(),ye(),a),Ir={class:"buttons"},Dr=Lr(()=>u("i",{class:"fas fa-trash"},null,-1)),zr=["innerHTML"],nn=P({__name:"WalletConnectButton",setup(a){const{t:e}=U(),{connectWallet:t}=Ge(),n=()=>{window.localStorage.removeItem("connectedWallet")};return(i,r)=>{const l=rt,p=Ze;return y(),S("div",Ir,[h(l,{class:"button",primary:!0,onClick:r[0]||(r[0]=_=>s(t)(!0))},{default:w(()=>[G(x(s(e)("connect-your-wallet")),1)]),_:1}),h(p,{class:"tooltip"},{item:w(()=>[h(l,{class:"button clear",onClick:n},{default:w(()=>[Dr]),_:1})]),default:w(()=>[u("div",{class:"ping",innerHTML:s(e)("clear-cache")},null,8,zr)]),_:1})])}}});function ea(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"connect-your-wallet":t=>{const{normalize:n}=t;return n(["Connect Wallet"])},"clear-cache":t=>{const{normalize:n}=t;return n(["<b>Clear Cache</b><br /> Press this button to possibly solve the issue of a non-working connect button.<br /> This problem often occurs when you switch between wallet extensions in your browser.<br /> Try to connect again after pressing this button."])}}})}function ta(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"connect-your-wallet":t=>{const{normalize:n}=t;return n([""])},"clear-cache":t=>{const{normalize:n}=t;return n(["<b></b><br /> .<br /> .<br /> ."])}}})}typeof ea=="function"&&ea(nn);typeof ta=="function"&&ta(nn);const Or=I(nn,[["__scopeId","data-v-a9b34c7e"]]),Rr={class:"wallet"},Vr={key:0,class:"connected"},Er={key:0,class:"unsupportedNetwork"},qr={class:"info"},Fr={key:1,class:"notConnected"},Ur={key:0,class:"info"},Ss=P({__name:"Wallet",props:{labelPleaseConnect:{}},setup(a){const{t:e}=U(),t=$s(),{connected:n,network:i,address:r,connectWallet:l,disconnectWallet:p,getProvider:_,withProvider:f}=Ge(),v=g(()=>i.value==="ethereum");we(l),N(n,async c=>{const m=_(),d=m&&c?await dr(m):void 0;t.setAddress(d)},{immediate:!0});const o=f(async c=>{await c.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload()});return(c,m)=>{const d=rt;return y(),S("div",Rr,[s(n)?(y(),S("div",Vr,[s(v)?z("",!0):(y(),S("div",Er,[h(d,{class:"changeNetwork",value:"Change Network",primary:!0,onClick:s(o)},null,8,["onClick"]),u("span",qr,x(s(e)("incorrect-network")),1)])),h(d,{class:"disconnect",icon:"fas fa-check",value:s(J)(s(r)),onClick:s(p)},null,8,["value","onClick"])])):(y(),S("div",Fr,[h(Or),c.labelPleaseConnect?(y(),S("span",Ur,x(c.labelPleaseConnect),1)):z("",!0)]))])}}});function na(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"incorrect-network":t=>{const{normalize:n}=t;return n(["You are not on the correct network; should be Ethereum"])}}})}typeof na=="function"&&na(Ss);const Wr=I(Ss,[["__scopeId","data-v-b57cb9b4"]]),Br=a=>(me("data-v-8e55132f"),a=a(),ye(),a),Nr={class:"select"},Hr={class:"item"},Kr={key:0,class:"label"},Xr=["onClick"],Gr=Br(()=>u("div",{class:"chevrons"},[u("i",{class:"fas fa-chevron-up"}),u("i",{class:"fas fa-chevron-down"})],-1)),Zr=P({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(a,{emit:e}){const t=e;return(n,i)=>(y(),S("div",{class:"select-container",tabindex:"0",onClick:i[0]||(i[0]=ne(r=>t("open"),["stop"])),onBlur:i[1]||(i[1]=r=>t("close"))},[u("div",Nr,[u("div",{class:F(["selected",{open:n.open}])},[ee(n.$slots,"item",{item:n.selected},()=>[u("div",Hr,x(n.selected),1)],!0),n.label?(y(),S("div",Kr,x(n.label),1)):z("",!0)],2),u("div",{class:F(["items",{selectHide:!n.open}])},[(y(!0),S(te,null,ce(n.options,(r,l)=>(y(),S("div",{key:l,onClick:p=>t("input",r)},[ee(n.$slots,"item",{item:r},()=>[G(x(r),1)],!0)],8,Xr))),128))],2)]),Gr],32))}}),xs=I(Zr,[["__scopeId","data-v-8e55132f"]]),Fe={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},Ue={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#794dec",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},jr=[Fe.blue,Fe.yellow,Fe.green,Fe.red,Fe.purple,"#ff8f33"],Jr=[Ue.purple,Ue.yellow,Ue.green,Ue.red,Ue.blue,"#ff8f33"],We={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Be={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#a689f2",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Yr=[We.blue,We.yellow,We.green,We.red,We.purple],Qr=[Be.purple,Be.yellow,Be.green,Be.red,Be.blue];function bt(a,e){switch(a){case"light":return e==="lsd"?We:Be;default:return e==="lsd"?Fe:Ue}}function el(a,e){switch(a){case"light":return e==="lsd"?Yr:Qr;default:return e==="lsd"?jr:Jr}}function tl(a,e){const t=bt(a,e);return e==="lsd"?{lineColor:t.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)"}:{lineColor:t.purple,topColor:"rgb(163, 91, 251, 0.2)",bottomColor:"rgba(163, 91, 251, 0)"}}const W=Xe("settingsStore",()=>{const a=V("light"),e=V("lsd"),t=g(()=>({colors:bt(a.value,e.value),colorsArray:el(a.value,e.value),lineChartColors:tl(a.value,e.value)}));return{themeId:a,flavor:e,theme:t}});function gt(a){switch(a){case"lsd":return"mkUSD";case"lrt":return"ULTRA";default:return"???"}}function Ie(a){switch(a){case"lsd":return"https://api.prismamonitor.com/v1";case"lrt":return"https://api.ultra.prismamonitor.com/v1";default:return""}}function aa(a){switch(a){case"lsd":return"wss://api.prismamonitor.com/v1/prisma/ws";case"lrt":return"wss://api.ultra.prismamonitor.com/v1/prisma/ws";default:return""}}function nl(a){switch(a){case"api-lsd":return aa("lsd");case"api-lrt":return aa("lrt");case"prices":return Ho;default:throw new Error("Unknown socket type")}}function je(a){switch(a){case"lsd":return"api-lsd";case"lrt":return"api-lrt";default:throw new Error("Unknown flavor")}}const Ae=Xe("socketStore",()=>{const a=Ji({sockets:{"api-lsd":null,"api-lrt":null,prices:null}});return{state:a,getSocket:t=>{if(!a.sockets[t]){const n=nl(t);a.sockets[t]=Yi(n)}return a.sockets[t]}}}),al={class:"theme"},sl={class:"label"},il={class:"colors"},ol=P({__name:"SelectTheme",setup(a){const e=W(),t=[{id:"dark",colors:bt("dark",e.flavor)},{id:"light",colors:bt("light",e.flavor)}],n=V(t[0]),i=V(!1);we(()=>{const p=window.matchMedia("(prefers-color-scheme: dark)").matches,_=localStorage.getItem("theme");if(!_&&p)l(t.find(f=>f.id==="dark"));else{const f=t.find(v=>v.id===_)??t.find(v=>v.id==="light")??t[0];l(f)}});const r=()=>{i.value=!i.value},l=p=>{n.value=p,window.document.documentElement.setAttribute("data-theme",n.value.id),e.themeId=n.value.id,localStorage.setItem("theme",n.value.id)};return(p,_)=>{const f=xs;return y(),A(f,{class:"select direction-up",options:t.map(v=>v),selected:s(n),open:s(i),onOpen:r,onClose:_[0]||(_[0]=v=>i.value=!1),onInput:l},{item:w(v=>[u("div",al,[u("div",sl,x(v.item.id),1),u("div",il,[u("div",{class:"color",style:ge({"background-color":v.item.colors.backgroundColor})},null,4),u("div",{class:"color",style:ge({"background-color":v.item.colors.level1})},null,4),u("div",{class:"color",style:ge({"background-color":v.item.colors.level2})},null,4),u("div",{class:"color",style:ge({"background-color":v.item.colors.blue})},null,4),u("div",{class:"color",style:ge({"background-color":v.item.colors.yellow})},null,4),u("div",{class:"color",style:ge({"background-color":v.item.colors.green})},null,4),u("div",{class:"color",style:ge({"background-color":v.item.colors.red})},null,4),u("div",{class:"color",style:ge({"background-color":v.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"])}}}),rl=I(ol,[["__scopeId","data-v-ff1c5134"]]),ll={class:"bottom"},ul={class:"buttons"},cl={href:"https://twitter.com/0xAlunara",target:"_blank"},pl={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},dl={class:"selectors"},ml=P({__name:"Bottom",emits:["navigated"],setup(a,{emit:e}){const t=e,n=async()=>{await navigator.clipboard.writeText(window.location.href)};return(i,r)=>{const l=rt,p=Ke("router-link");return y(),S("div",ll,[u("div",ul,[h(l,{class:"copy",icon:"fas fa-link",onClick:n}),u("a",cl,[h(l,{icon:"fab fa-twitter"})]),u("a",pl,[h(l,{icon:"fab fa-github"})]),h(p,{to:"/code"},{default:w(()=>[h(l,{icon:"fas fa-code",onClick:r[0]||(r[0]=_=>t("navigated"))})]),_:1})]),u("div",dl,[h(rl,{class:"themes"})]),h(Wr)])}}}),yl=I(ml,[["__scopeId","data-v-03cc2e96"]]),an=()=>Xe("pageStore",()=>{const a=V([]),e=V([]);return{pages:a,routes:e}})(),fl=P({__name:"Navigation",emits:["navigated"],setup(a,{emit:e}){const t=e,n=an(),i=V(!1),r=()=>{i.value=!1,t("navigated")};return(l,p)=>{const _=ar,f=ot;return y(),S("div",{class:F(["menu-desktop",{expanded:s(i)}])},[h(Sr,{onToggleExpansion:p[0]||(p[0]=v=>i.value=!s(i)),onNavigated:r}),h(f,{class:"menu-content",expanded:s(i)},{default:w(()=>[h(_,{pages:s(n).pages,onNavigated:r},null,8,["pages"]),h(yl,{onNavigated:r})]),_:1},8,["expanded"])],2)}}}),vl=I(fl,[["__scopeId","data-v-6fdcc85c"]]),wt=Xe("breadcrumbStore",()=>{const a=V([]),e=V(!1);return{crumbs:a,show:e}}),_l=a=>(me("data-v-a944b87b"),a=a(),ye(),a),hl={class:"root"},bl={class:"main"},gl={class:"toolbar-container"},wl=_l(()=>u("div",{id:"toolbar",class:"toolbar-teleport"},null,-1)),Tl={class:"content"},kl=P({__name:"App",setup(a){const e=W(),t=wt(),n=Yt(),i=it();we(()=>{e.flavor==="lrt"&&window.document.documentElement.setAttribute("data-flavor","lrt")}),N(()=>n.fullPath,l=>{["/pool","/stable","/redemptions","/liquidation","/profile","/wrappers","/proposals","/veprisma"].some(_=>l.startsWith(_))&&(t.show=!1)});const r=async l=>{l.pathName&&await i.push({name:l.pathName,...l.params&&{params:l.params()}})};return(l,p)=>{const _=Ke("notifications"),f=Lo,v=Ke("router-view");return y(),S("div",hl,[h(_,{width:600,duration:-1}),h(s(Qi)),h(vl,{class:"navigation"}),u("main",bl,[u("div",gl,[s(t).show?(y(),A(f,{key:0,class:"breadcrumb",crumbs:s(t).crumbs,onCrumb:r},null,8,["crumbs"])):z("",!0),wl]),u("div",Tl,[h(v,null,{default:w(({Component:o})=>[h(eo,{name:"fade",mode:"out-in"},{default:w(()=>[(y(),A(Zt(o)))]),_:2},1024)]),_:1})])])])}}}),$l=I(kl,[["__scopeId","data-v-a944b87b"]]),Cl="/assets/404-DGbqGNxT.png",Ml=a=>(me("data-v-d38f74f1"),a=a(),ye(),a),Sl={class:"not-found"},xl={class:"not-found-container"},Al=Ml(()=>u("img",{src:Cl},null,-1)),As=P({__name:"NotFound",setup(a){const{t:e}=U();return(t,n)=>{const i=ae;return y(),S("div",Sl,[u("div",xl,[h(i,null,{default:w(()=>[G(x(s(e)("404")),1)]),_:1}),Al])])}}});function sa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:t=>{const{normalize:n}=t;return n(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof sa=="function"&&sa(As);const Pl=I(As,[["__scopeId","data-v-d38f74f1"]]),Ps=a=>(me("data-v-757ed965"),a=a(),ye(),a),Ll=Ps(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),Il=[Ll],Dl=Ps(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),zl=[Dl],Ol={class:"row-details"},Rl=P({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(a,{emit:e}){const t=e,n=Ts(),i=g(()=>{var p;const l=n["row-details"];if(l){const _=(p=l()[0])==null?void 0:p.children;if(_)return _.length>0}return!1}),r=()=>{t("click",a.data)};return(l,p)=>{const _=ot;return y(),S("div",{class:F(["row",{expanded:l.expanded}])},[u("div",{class:F(["row-data item",[l.columns,{active:l.selected,expandable:s(i),"has-data":!!l.data}]]),onClick:r},[l.data&&s(i)&&l.expandSide==="left"?(y(),S("div",{key:0,class:F(["expander",{expanded:l.expanded}])},Il,2)):z("",!0),ee(l.$slots,"row",{},void 0,!0),l.data&&s(i)&&l.expandSide!=="left"?(y(),S("div",{key:1,class:F(["expander",{expanded:l.expanded}])},zl,2)):z("",!0)],2),l.data?(y(),A(_,{key:0,expanded:l.expanded},{default:w(()=>[u("div",Ol,[ee(l.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):z("",!0)],2)}}}),Vl=I(Rl,[["__scopeId","data-v-757ed965"]]);var ie=(a=>(a.Ascending="Ascending",a.Descending="Descending",a))(ie||{});const El=["inert"],ql={key:0,class:"header"},Fl={key:0,class:"header-icon"},Ul={class:"list"},Wl=["onClick"],Bl={key:0,class:"sorting-arrows"},Nl={key:0,class:"sorting-arrow fa fa-caret-up"},Hl={key:1,class:"sorting-arrow fa fa-caret-down"},Kl={key:2,class:"sorting-arrow"},Xl={class:"rows"},Gl={key:1,class:"no-data"},sn=P({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:null}},emits:["selected","sortColumn"],setup(a,{emit:e}){const t=e,n=V(""),i=V(ie.Ascending),r=g(()=>`grid-template-columns: ${a.columnsHeader}`),l=g(()=>{if(a.rowsMin===null)return[];const b=Math.max(0,a.rowsMin-a.rows.length);return new Array(b)});to(()=>{a.sortingDefaultColumn&&(n.value=a.sortingDefaultColumn),a.sortingDefaultDir&&(i.value=a.sortingDefaultDir===ie.Ascending?ie.Ascending:ie.Descending)});const p=b=>{t("selected",b)},{t:_}=U(),f=b=>{const k=b+1;return!!(a.rows[b+1]&&a.rows.findIndex(M=>M===a.selectedRow)===k)},v=b=>a.expanded.includes(b),o=b=>{const k=a.sortingColumns[b];return a.sortingColumnsEnabled.includes(k)},c=b=>n.value===a.sortingColumns[b]&&i.value===ie.Ascending,m=b=>n.value===a.sortingColumns[b]&&i.value===ie.Descending,d=b=>{if(!a.sorting||!a.sortingColumns||!o(b))return;const k=a.sortingColumns[b];k===n.value?i.value=i.value===ie.Ascending?ie.Descending:ie.Ascending:i.value=ie.Ascending,n.value=k,t("sortColumn",n.value,i.value)};return(b,k)=>{const $=en,D=Vl;return y(),S("div",{class:F(["datatable",{loading:b.loading}]),inert:!!b.loading},[b.header?(y(),S("div",ql,[b.icon?(y(),S("div",Fl,[u("i",{class:F(b.icon)},null,2)])):z("",!0),u("div",{class:"header-content",style:ge(s(r))},[ee(b.$slots,"header-content",{},void 0,!0)],4)])):z("",!0),u("div",Ul,[b.columns.length>0?(y(),S("div",{key:0,class:F(["row-data",[b.columnsData,{"selected-below":f(-1)}]])},[ee(b.$slots,"column-headers",{},()=>[(y(!0),S(te,null,ce(b.columns,(M,L)=>(y(),S("div",{key:M,class:F(["column-header",{"sortable-header":b.sorting&&o(L),"current-sort":s(n)==b.sortingColumns[L]}]),onClick:T=>d(L)},[G(x(M)+" ",1),b.sorting&&o(L)?(y(),S("div",Bl,[c(L)?(y(),S("i",Nl)):m(L)?(y(),S("i",Hl)):(y(),S("span",Kl,"  "))])):z("",!0)],10,Wl))),128))],!0)],2)):z("",!0),u("div",Xl,[b.loading!==null?(y(),A($,{key:0,class:F(["loader",{loading:b.loading}])},null,8,["class"])):z("",!0),(y(!0),S(te,null,ce(b.rows,(M,L)=>(y(),A(D,{key:M,data:M,class:F({"selected-below":f(L)}),columns:b.columnsData,selected:b.selectedRow===M,expanded:v(M),"expand-side":b.expandSide,onClick:p},{row:w(()=>[ee(b.$slots,"row",{item:M},void 0,!0)]),"row-details":w(()=>[ee(b.$slots,"row-details",{item:M},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded","expand-side"]))),128)),(y(!0),S(te,null,ce(s(l),M=>(y(),A(D,{key:M}))),128)),!b.rowsMin&&(!b.rows||b.rows.length===0)&&!b.loading?(y(),S("div",Gl,[ee(b.$slots,"no-data",{},()=>[G(x(s(_)("no-data")),1)],!0)])):z("",!0),b.$slots["row-aggregation"]&&b.rows.length>0?(y(),A(D,{key:2,class:"aggregation",columns:b.columnsData},{row:w(()=>[ee(b.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):z("",!0)])])],10,El)}}});function ia(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":t=>{const{normalize:n}=t;return n(["No data :("])}}})}function oa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":t=>{const{normalize:n}=t;return n([" :("])}}})}typeof ia=="function"&&ia(sn);typeof oa=="function"&&oa(sn);const ue=I(sn,[["__scopeId","data-v-1f67d6c3"]]),Zl={class:"contracts"},jl={class:"row"},Jl={class:"title"},Yl=["href"],Ql={class:"title"},eu=["href"],Ls=P({__name:"Code",setup(a){const{t:e}=U(),n=[{name:"Llama Airforce",contracts:[{contract:qo,description:"multisig",gnosis:!0},{contract:Fo,description:"treasury",gnosis:!0},{contract:Uo,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]}],i=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}],r=l=>{switch(l.network){case"arbitrum":return l.gnosis?`https://app.safe.global/home?safe=arb1:${l.contract}`:`https://arbiscan.io/address/${l.contract}`;case"ethereum":default:return l.gnosis?`https://app.safe.global/home?safe=eth:${l.contract}`:`https://etherscan.io/address/${l.contract}`}};return(l,p)=>{const _=ue;return y(),S("div",Zl,[u("div",jl,[h(_,{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:i,columns:[s(e)("repository"),s(e)("description")]},{"header-content":w(()=>[u("div",Jl,x(s(e)("repositories")),1)]),row:w(f=>[u("div",null,[u("a",{href:f.item.url,target:"_blank"},x(f.item.name),9,Yl)]),u("div",null,x(s(e)(f.item.description)),1)]),_:1},8,["columns"])]),(y(),S(te,null,ce(n,(f,v)=>h(_,{key:v,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:f.contracts,columns:[s(e)("contract"),s(e)("description")]},{"header-content":w(()=>[u("div",Ql,x(s(e)(f.name)),1)]),row:w(o=>[u("div",null,[u("a",{href:r(o.item),target:"_blank"},x(o.item.contract),9,eu)]),u("div",null,x(s(e)(o.item.description)),1)]),_:2},1032,["rows","columns"])),64))])}}});function ra(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:t=>{const{normalize:n}=t;return n(["Repositories"])},repository:t=>{const{normalize:n}=t;return n(["Repository"])},description:t=>{const{normalize:n}=t;return n(["Description"])},contract:t=>{const{normalize:n}=t;return n(["Contract"])},other:t=>{const{normalize:n}=t;return n(["Other"])},"repo-laf":t=>{const{normalize:n}=t;return n(["This website's front-end, excluding the Union"])},multisig:t=>{const{normalize:n}=t;return n(["Multisig"])},treasury:t=>{const{normalize:n}=t;return n(["Treasury"])},"treasury-arbitrum":t=>{const{normalize:n}=t;return n(["Treasury Arbitrum"])}}})}typeof ra=="function"&&ra(Ls);const tu=I(Ls,[["__scopeId","data-v-a0b0c18d"]]);function nu(){const a=an(),e=[{path:"/code",component:tu},...a.routes.flatMap(n=>n),{path:"/:pathMatch(.*)*",name:"NotFound",component:Pl}];return no({history:ao(),routes:e})}const au=P({__name:"ChartApex",props:{options:{},series:{}},setup(a){return(e,t)=>{const n=Ke("apexchart");return y(),A(n,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}}),on=I(au,[["__scopeId","data-v-310d0826"]]),su=P({__name:"CardChart",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(a){return(e,t)=>{const n=on,i=ae;return y(),A(i,{class:"cart-chart",title:e.title,loading:e.loading},{actions:w(()=>[ee(e.$slots,"actions",{},void 0,!0)]),default:w(()=>[h(n,{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),ee(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"])}}}),pe=I(su,[["__scopeId","data-v-98df8c5f"]]),iu=P({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(a,{emit:e}){const t=e,n=()=>{t("update:modelValue",!a.modelValue)};return(i,r)=>(y(),S("button",{class:F({toggled:i.modelValue}),onClick:n},[ee(i.$slots,"default",{},()=>[i.icon?(y(),S("i",{key:0,class:F(["icon",i.icon])},null,2)):z("",!0),G(" "+x(i.value),1)],!0)],2))}}),lt=I(iu,[["__scopeId","data-v-a2cabc6a"]]),ou=a=>({chart:{id:"chart",background:"transparant",foreColor:a.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:a.colorsArray,grid:{borderColor:a.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:a.colors.level5,height:1},axisTicks:{color:a.colors.level5},title:{color:a.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:a.colors.level5},axisTicks:{color:a.colors.level5},title:{color:a.colors.level5}}});function le(a,e){const t=ou(a),n=(i,r)=>{if(typeof r=="object"){H.mergeWith(i,r,n);return}else return i||r};return H.mergeWith(e,t,n)}function X(){return Wo}class rn extends ke{constructor(e,t){super(e),this.API_URL=Ie(t)}async getCollateralPrices(e,t,n){return this.fetch(`${this.API_URL}/collateral/${e}/${t}/prices?period=${n}`)}async getCollateralPriceImpact(e,t){return this.fetch(`${this.API_URL}/collateral/${e}/${t}/impact`)}async getCollateralInfo(e,t){return this.fetch(`${this.API_URL}/collateral/${e}/${t}/info`)}}class ln extends ke{constructor(e,t){super(e),this.API_URL=Ie(t)}async getLiquidations(e,t){return Ve(i=>this.fetch(`${this.API_URL}/liquidations/${e}/${t}?items=100&page=${i}&order_by=block_timestamp&desc=true`).then(r=>r.liquidations.map(l=>({...l,liquidator:l.liquidator.toLocaleLowerCase(),vault:l.vault.toLocaleLowerCase()}))),1,100)}async getLiquidationsForTrove(e,t){return Ve(i=>this.fetch(`${this.API_URL}/liquidations/${e}?items=100&page=${i}&order_by=block_timestamp&desc=true&trove_filter=${t}`).then(r=>r.liquidations.map(l=>({...l,liquidator:l.liquidator.toLocaleLowerCase(),vault:l.vault.toLocaleLowerCase()}))),1,100)}}class De extends ke{constructor(e,t){super(e),this.API_URL=Ie(t)}async getHistoricalOpenTrovesOverview(e,t){return this.fetch(`${this.API_URL}/managers/${e}/open_troves?period=${t}`)}async getHistoricalCollateralRatiosOverview(e,t){return this.fetch(`${this.API_URL}/managers/${e}/collateral_ratios?period=${t}`)}async getCollateralRatioGrouped(e,t){return this.fetch(`${this.API_URL}/managers/${e}/global_collateral_ratio?period=${t}`)}async getHistoricalCollateralOverview(e,t){return this.fetch(`${this.API_URL}/managers/${e}/collateral?period=${t}`)}async getRatioDistributionGrouped(e){return this.fetch(`${this.API_URL}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,t,n){return this.fetch(`${this.API_URL}/managers/${e}/${t}/large_positions?unit=${n}`)}async getVaultCollateralRatio(e,t,n){return this.fetch(`${this.API_URL}/managers/${e}/${t}/collateral_ratio?period=${n}`)}async getVaultTroveCount(e,t,n){return this.fetch(`${this.API_URL}/managers/${e}/${t}/open_trove_count?period=${n}`)}async getTroveDistribution(e,t,n){return this.fetch(`${this.API_URL}/managers/${e}/${t}/histograms?unit=${n}`)}}class ut extends ke{constructor(e,t){super(e),this.API_URL=Ie(t)}async getPriceHistory(e,t){return this.fetch(`${this.API_URL}/mkusd/${e}/history?period=${t}`)}async getSupplyHistory(e){return this.fetch(`${this.API_URL}/mkusd/${e}/supply`)}async getPriceHistogram(e,t,n){return this.fetch(`${this.API_URL}/mkusd/${e}/histogram?period=${n}&bins=${t}`)}async getLargeStableCoinHolders(e){return this.fetch(`${this.API_URL}/mkusd/${e}/holders`)}async getStableCoinKPI(e){return this.fetch(`${this.API_URL}/mkusd/${e}/general`)}async getCurvePoolDepth(e){return this.fetch(`${this.API_URL}/mkusd/${e}/depth`)}}class un extends ke{constructor(e,t){super(e),this.API_URL=Ie(t)}async getRedemptions(e,t){return Ve(i=>this.fetch(`${this.API_URL}/redemptions/${e}/${t}?items=100&page=${i}&order_by=block_timestamp&desc=true`).then(r=>r.redemptions.map(l=>({...l,redeemer:l.redeemer.toLocaleLowerCase(),vault:l.vault.toLocaleLowerCase()}))),1,100)}async getRedemptionsForTrove(e,t){return Ve(i=>this.fetch(`${this.API_URL}/redemptions/${e}?items=100&page=${i}&order_by=block_timestamp&desc=true&trove_filter=${t}`).then(r=>r.redemptions.map(l=>({...l,redeemer:l.redeemer.toLocaleLowerCase(),vault:l.vault.toLocaleLowerCase()}))),1,100)}}class Is extends ke{constructor(e,t){super(e),this.API_URL=Ie(t)}async getSnapshots(){return this.fetch(`${this.API_URL}/revenue/ethereum/snapshots?period=3m`)}async getBreakdown(){return this.fetch(`${this.API_URL}/revenue/ethereum/breakdown`)}}class Je extends ke{constructor(e,t){super(e),this.API_URL=Ie(t)}async getPoolTvl(e,t){return this.fetch(`${this.API_URL}/pool/${e}/deposits?period=${t}`)}async getStableFlow(e,t){return this.fetch(`${this.API_URL}/pool/${e}/stable_operations?period=${t}`)}async getStableDistribution(e){return this.fetch(`${this.API_URL}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,t){return this.fetch(`${this.API_URL}/pool/${e}/cumulative_withdrawals?period=${t}`)}async getTopStableDeposits(e,t,n){return this.fetch(`${this.API_URL}/pool/${e}/top/stable_deposits?top=${t}&period=${n}`)}async getTopStableWithdrawals(e,t,n){return this.fetch(`${this.API_URL}/pool/${e}/top/stable_withdrawals?top=${t}&period=${n}`)}}class Ye extends ke{constructor(e,t){super(e),this.API_URL=Ie(t)}async getTroves(e,t,n){return Ve(r=>this.fetch(`${this.API_URL}/trove/${e}/${t}/troves?items=100&page=${r}&order_by=last_update&desc=true${n?"&owner_filter="+n:""}`).then(l=>l.troves),1,100)}async getTroveSnapshots(e,t,n){return this.fetch(`${this.API_URL}/trove/${e}/${t}/snapshots/${n}`)}async getTroveDetail(e,t,n){return this.fetch(`${this.API_URL}/trove/${e}/${t}/${n}`)}async getTroveHistory(e,t,n){return this.fetch(`${this.API_URL}/trove/${e}/${t}/history/${n}`)}async getTroveRank(e,t,n){return this.fetch(`${this.API_URL}/trove/${e}/${t}/rank/${n}`)}}const vt="https://api.prismamonitor.com/v1";function _t(a){switch(a){case"convex":return"0x0c73f1cfd5c9dfc150c8707aa47acbd14f0be108";case"yearn":return"0x774a55c3eeb79929fd445ae97191228ab39c4d0f";default:throw new Error("Unknown contract")}}class ct extends ke{async getTVL(e){return this.fetch(`${vt}/staking/${_t(e)}/tvl?period=all&groupby=day`)}async getFlow(e){return this.fetch(`${vt}/staking/${_t(e)}/flow?period=all&groupby=day`)}async getDistribution(e){return this.fetch(`${vt}/staking/${_t(e)}/distribution`)}async getSnapshots(e){return this.fetch(`${vt}/staking/${_t(e)}/snapshots?period=7d`)}}const la="troves_overview";let Wt=null;class Qe{constructor(e,t){if(this.chain=t,this.socket=e,Wt){this.send("snapshots");return}Wt=this.socket.pipe(He(n=>n),jt(n=>n.subscription.chain===this.chain&&n.channel===la),He(n=>n.payload),Jt(1)),this.send("subscribe"),this.send("snapshots")}get overview$(){return Wt}send(e){const t={action:e,channel:la,settings:[{chain:this.chain}]};this.socket.next(t)}}const ru={class:"actions"},lu={class:"periods"},Ds=P({__name:"ChartOpenTroves",setup(a){const{t:e}=U(),{theme:t,flavor:n}=j(W()),i=new De(X(),n.value),r=V("1m"),{isFetching:l,data:p}=K({queryKey:["prisma-historical-open-troves",r],queryFn:({queryKey:[,m]})=>i.getHistoricalOpenTrovesOverview("ethereum",m).then(d=>d.managers),initialData:[],initialDataUpdatedAt:0}),_=g(()=>le(t.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:f.value,labels:{formatter:o,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:m,dataPointIndex:d,w:b})=>{let k=0;const $=m.map((D,M)=>{const L=D[d];return k+=L,`<div><b>${b.globals.seriesNames[M]}</b>: ${L}</div>`});return $.push(`<div><b>Total</b>: ${k}</div>`),$.join("")}}})),f=g(()=>p.value.length===0||p.value[0].data.length===0?[]:p.value[0].data.map(m=>new Date(m.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),v=g(()=>p.value.length===0?[]:p.value.map(m=>({name:m.manager,data:m.data.map(d=>d.value)}))),o=m=>m,c=m=>{r.value!==m&&(r.value=m)};return(m,d)=>{const b=lt,k=pe;return y(),A(k,{class:"chart",title:s(e)("title"),loading:s(l),options:s(_),series:s(v)},{actions:w(()=>[u("div",ru,[u("div",lu,[h(b,{value:"1m","model-value":s(r)==="1m",onClick:d[0]||(d[0]=$=>c("1m"))},null,8,["model-value"]),h(b,{value:"3m","model-value":s(r)==="3m",onClick:d[1]||(d[1]=$=>c("3m"))},null,8,["model-value"]),h(b,{value:"6m","model-value":s(r)==="6m",onClick:d[2]||(d[2]=$=>c("6m"))},null,8,["model-value"])])])]),_:1},8,["title","loading","options","series"])}}});function ua(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Open troves"])}}})}typeof ua=="function"&&ua(Ds);const uu=I(Ds,[["__scopeId","data-v-4478e6be"]]),cu=(a,e)=>{const{colors:t}=e;return{width:a.clientWidth,height:a.clientHeight,layout:{background:{type:so.Solid,color:t.backgroundColor},textColor:t.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:t.level4,style:io.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function fe(a,e,t){const n=cu(a,e),i=(r,l)=>{if(typeof l=="object"){H.mergeWith(r,l,i);return}else return r||l};return H.mergeWith(t,n,i)}function ve(a,e,t){const n=V(void 0),i=V(void 0);let r=null;return we(async()=>{n.value&&(await oo(),i.value=ro(n.value,e(n.value)),t&&i.value&&t(i.value),r=new ResizeObserver(()=>{var l;i.value&&(i.value.applyOptions({width:(l=n.value)==null?void 0:l.clientWidth}),i.value.timeScale().fitContent())}),n.value.parentElement&&r.observe(n.value.parentElement))}),Qt(()=>{i.value&&(i.value.remove(),i.value=void 0),r&&(r.disconnect(),r=null)}),N(a,()=>{n.value&&i.value&&i.value.applyOptions(e(n.value))}),{chartRef:n,chart:i}}const zs=P({__name:"ChartCollateralRatio",setup(a){const{t:e}=U();let t;const{theme:n,flavor:i}=j(W()),{chart:r,chartRef:l}=ve(n,v,m=>{t=m.addAreaSeries(o())}),p=new De(X(),i.value),{isFetching:_,data:f}=K({queryKey:["prisma-collateral-ratios"],queryFn:()=>p.getCollateralRatioGrouped("ethereum","all").then(m=>m.data),initialData:[],initialDataUpdatedAt:0});N([f,r],c),N(n,()=>t.applyOptions(o()));function v(m){return fe(m,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function o(){return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:_e.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...n.value.lineChartColors}}function c([m,d]){if(!d||!t)return;const b=H.chain(m).map(k=>({time:k.timestamp,value:k.value*100})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc").value();b.length>0&&t.setData(b),d.timeScale().fitContent()}return(m,d)=>{const b=ae;return y(),A(b,{class:"chart-container",title:s(e)("title"),loading:s(_)},{default:w(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ca(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Global collateral ratio"])}}})}typeof ca=="function"&&ca(zs);const pu=I(zs,[["__scopeId","data-v-61e6a223"]]),Os=P({__name:"ChartRatioDeciles",setup(a){const{t:e}=U(),{theme:t,flavor:n}=j(W()),i=new De(X(),n.value),{isFetching:r,data:l}=K({queryKey:["prisma-ratio-distribution"],queryFn:()=>i.getRatioDistributionGrouped("ethereum").then(c=>c.deciles),initialData:[],initialDataUpdatedAt:0}),p=g(()=>le(t.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:_.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:o}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),_=g(()=>l.value.map(c=>c.label)),f=g(()=>[{name:e("debt"),data:Object.values(l.value).map(c=>c.data)}]),v=c=>c,o=c=>`$${Q(c,0,"dollar")}${Y(c,"dollar")}`;return(c,m)=>{const d=pe;return y(),A(d,{class:"chart",title:s(e)("title"),loading:s(r),options:s(p),series:s(f)},null,8,["title","loading","options","series"])}}});function pa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Debt per Collateral Ratio Deciles"])},debt:t=>{const{normalize:n}=t;return n(["Debt"])}}})}typeof pa=="function"&&pa(Os);const du=I(Os,[["__scopeId","data-v-fdb826ed"]]),mu={class:"actions"},yu={class:"periods"},Rs=P({__name:"ChartGlobalCollateral",setup(a){const{t:e}=U(),{theme:t,flavor:n}=j(W()),i=new De(X(),n.value),r=V("1m"),{isFetching:l,data:p}=K({queryKey:["prisma-collateral-hist-overview",r],queryFn:({queryKey:[,d]})=>i.getHistoricalCollateralOverview("ethereum",d).then(b=>b.managers),initialData:[],initialDataUpdatedAt:0}),_=g(()=>le(t.value,{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:f.value,labels:{formatter:o,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:c}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),f=g(()=>p.value.length===0||p.value[0].data.length===0?[]:p.value[0].data.map(d=>new Date(d.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),v=g(()=>p.value.length===0?[]:p.value.map(d=>({name:d.manager,data:d.data.map(b=>b.value)}))),o=d=>d,c=d=>`$${Q(d,1,"dollar")}${Y(d,"dollar")}`,m=d=>{r.value!==d&&(r.value=d)};return(d,b)=>{const k=lt,$=pe;return y(),A($,{class:"chart",title:s(e)("title"),loading:s(l),options:s(_),series:s(v)},{actions:w(()=>[u("div",mu,[u("div",yu,[h(k,{value:"1m","model-value":s(r)==="1m",onClick:b[0]||(b[0]=D=>m("1m"))},null,8,["model-value"]),h(k,{value:"3m","model-value":s(r)==="3m",onClick:b[1]||(b[1]=D=>m("3m"))},null,8,["model-value"]),h(k,{value:"6m","model-value":s(r)==="6m",onClick:b[2]||(b[2]=D=>m("6m"))},null,8,["model-value"])])])]),_:1},8,["title","loading","options","series"])}}});function da(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Collateral value"])}}})}typeof da=="function"&&da(Rs);const fu=I(Rs,[["__scopeId","data-v-8b832814"]]),vu={key:0,class:"async-value"},_u="|/-\\",se=P({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(a){let e=0,t=0;const n=V("|"),i=g(()=>a.value?Q(a.value,typeof a.precision=="function"?a.precision(a.value):a.precision,a.type??""):a.value===0&&a.showZero?"0":a.value===null||a.value===void 0?n.value:"?"),r=g(()=>a.precision===1/0?"":!a.value||!a.type||!H.isFinite(a.value)?a.showUnit&&a.type?Y(0,a.type):"":Y(a.value,a.type));return N(()=>a.value,l=>{if(clearInterval(t),e=0,l)return;const p=()=>{e=(e+1)%4,n.value=_u[e]};t=window.setInterval(p,250)},{immediate:!0}),(l,p)=>l.inline?(y(),S(te,{key:1},[G(x(l.showSymbol&&l.type==="dollar"?"$":"")+x(s(i))+x(l.showUnit?s(r):""),1)],64)):(y(),S("div",vu,x(l.showSymbol&&l.type==="dollar"?"$":"")+x(s(i))+x(l.showUnit?s(r):""),1))}}),hu=a=>(me("data-v-0b69e9b9"),a=a(),ye(),a),bu={class:"input-text"},gu={key:0,class:"icon"},wu=hu(()=>u("i",{class:"fas fa-search"},null,-1)),Tu=[wu],ku=["type","value","placeholder"],$u=["onClick"],Cu=P({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(a,{emit:e}){const t=e,n=g(()=>{const r=a.options.filter(p=>a.filter(a.modelValue,p));return a.sort?[...r].sort(a.sort):r}),i=r=>{const l=r.target.value;t("update:modelValue",l),t("input",l)};return(r,l)=>(y(),S("div",bu,[r.search?(y(),S("span",gu,Tu)):z("",!0),u("input",{type:r.search?"search":"text",value:r.modelValue,placeholder:r.placeholder,onInput:ne(i,["stop"]),onSelect:l[0]||(l[0]=ne(()=>{},["stop"]))},null,40,ku),r.options&&r.autoComplete?(y(),S("div",{key:1,class:F(["items",{selectHide:!r.autoComplete}])},[(y(!0),S(te,null,ce(s(n),(p,_)=>(y(),S("div",{key:_,onClick:f=>t("select",p)},[ee(r.$slots,"item",{item:p,idx:_},()=>[G(x(p),1)],!0)],8,$u))),128))],2)):z("",!0)]))}}),he=I(Cu,[["__scopeId","data-v-0b69e9b9"]]),Mu="data:image/webp;base64,UklGRnYCAABXRUJQVlA4TGoCAAAvP8APEOfBIGDbNjJ/niWw77kxDQaNJCnq8+/wPDzD5pZm/hG0bRvr/EEdysfgQ5AAqiEKNuJMsZMp4sRB2ChMEQdh4zMQU/yOf+6TAoNJ3hdEgUEWNr6fOAWJY2NN4lwnBRtZgMAIf6BIWJCwILCg4ghXaGPAAx8QI9lWFf277u5+cTi4W/6B8Z+ce9kAIvrvwG3bSJITODv3vekXCoNmSGhSuGsAQgNH1qC18mGESFVJqIZIMzsbBGoJoSYCbYwgkNBCIAvbRGUstrab/SpGvWGnnmUxCeQw0TGhbJBZkzyf0HvJq0ZFb8c3d5GUMfkiXoMtWQtKVMhym58mFsgVXLLEJTZsvsTcs7GJnX5cEUDbW8oW9LQIy6RxwmUfSGxL2iNstrb4S44LhsPIaI+xWEgfaFKZwBJtYBi6DavRgEFdeUnlTYILkglQ4b2jqjc3NwarAHMAdDZUS0p9sHEAdHnqqiGhHkujT5D92uQIN+3ENVTTJIsLH1R5bm6cfggPP5nQM8eZeNHMTMxM/fNa7TxZJKsjdfsRHspDitPwRKgvT3cBVKkPAuKJibVUf6m/r0lBP/jxSmF1oqrq/92QnW5PEvdAXPlM3xEN9EDTJ7s0hLoSuVSlvQkM9//dNnCc48jyv7He5//W6n/8bxYjW9hynuob3imaMb8U78nGZWMy3jMtOCxR5h4br6eSOzrzfWOFPD7SK0T3PgDwwwWXn1TvDrqka/Bt/94bf+ekene8W3kPhpB7HzfZx22HLIfhuM1n3NhkaGXGjS7D7UpiswdVRBoXLlqC1rrw05BhWLhr2o3pzg1HVwA=",Su="data:image/webp;base64,UklGRp4HAABXRUJQVlA4TJEHAAAvP8APEOZQ0LYN4/CHvYMhIibAtxpNmo50WMwCnGb75zb8Cb8Acv2/v0PAIIyhyuiS8NQj12QYVucCKILi6XiOmQPDCoZesxH0noLBytR7LIYocxAEWtTZKoofgIyfp/89vtMAAJAGq2SXE+AHewA+kQaRB1wqD+gFviW7wC0tuTJw20hRu3hMA70n0LH/T7Wk7H8Z772WcXeXdnf37mft3vHcW7erZnYwuEs8EfHoDTlvDZyX3pDJOESuUR8idyqsDUyEE5G5wwsL73xiIk6lfSZDb4Zr7gvobeBO3BHuUGHHLGB8/ljouTtkriMhDpAAACwb5Wzbtm3btm3btm3btm9n27aNr8K2bZv/L6484vbfgdu2kaRmxoG79+F29wmhSIaZYJENznjKG77yv8b7Io5YH3arMDgy2GWNE57xhb/WkvnO1ce8Ow4GjLDADi/5aRLvluvkzR9Vwh7vzYOrA+YZ8kSX7cI8yetN12spy9zl5s38clbJYJRNPlsgXHSORTDGqfS66G/4V17g6a8E5jjnn7lR9w3UvqETtVn5rFSuTan1v6/yitiYlJ8gyJpXd2G8NGmtiE9Id9pLLXXtB7CYaJQj19FOTerr/559Rl1I15ViIY5ZTywmG6etD5Z27rRl1Y8M06wF/G5UN9qy0eGpuILQuuukrcDKQlyWlGV/+FnB33i0VXlGtes+IbQWJ62+dm7FZa4ldaMZUwlxjnNBov4bsvrpNtv5JlPAoOaZkYa1gq8SZF0ZG53KWwitbDNuRMIrk+hNLbY/4pgNfBXOMxusE1pbSaO1sSsuc6+rB9OxFgTKQ93iWhGh2KRq6Ffaslu4FXwtVMbFp+oBIKtVQ7c2Cd70KgegTDkUW6oSZJ3sFpFa6xqYXGrLSnbpxXFM6WxQ64S/EYY9Mcg2klMZ5pHiTQit5V8YzvklLfsyxLHKLVrBOmCsn+C9FxvjwjGllTvCN1yp+GR/RmYdzcOUY+2IWU0OxBhj/ojryXLDdWrImCjbIdhnyB9UUrZDXSN5kE1yuwRkFkdpl2eSwZQd0Yf3LOD7wa4b5YaolBtB1pUzi6Zlh8gOgeZ0Ki7BwQ4ZbdFwr+xLZl11hzuKwbSHe8YGvd0HSnWUeWcbHME+Ld8PRVPKbFB0WIzEdNe8ACQf/53hNFeW5XSoK/k+HWlUtaMIPp9ph/BD4ZjSyhzhl7w+EVn5lDOl/yzMPUPVG2RdI8iqlGpBm+mZ9aq6hWg6iqW5e1WJGQ62j+Q4xpR7ncpr2omIC8HVekHUvFI0oZjIBFlX8sYwTecS5Wd8CQAk91DcC67Wtay6LwSIiQvelVyDaTrmKT1gymIAqLxhIkE562KAr/vy3wdlJwAAlB1zyUGSK5jmD8XbVD+gA8AtB6QWue1LME8yr2tVL/nBbYhyI/2zoOoOAaLdvaa1xjfNNO0Q3Gtc1gwA7RWXuFbJ69VbIY5xLkls+xaIDIgVfHZYkxETlaJJPSZAPLZNTER+dy6C3In+sHuDH8xbuScpx2Mt4uJerMeYH/wGK3S2HH/r+s0CxKZ7nAEAi6ufKNnDMYtJDzmI87dmibGcaPh/OW1Ww26DUWY1uDworcJ3AYAAgFvuci5gmtRMSLHknJ+LzeD7wuUvooKjps2WA6U7W4lL+e6CiUK9E9cKpvmU+UN2m+ZxSj3JeW4G3A3Frk92uF4t4Lco1Zl4o0xrUKWMrwsndIZ6J6bPZ4ewTVycpfo5vO5KHHHkMpkBEofwUH/xm02VwWWwXT5wzGEi37wfspoU4hCu8u6muInIYbfisj5cx1rU2v15A/3exCfaPo3P51P00OtUpTLcO5dhyKfDndbY9FML+AgTftEQn2Q7BB+imXXan5OxM8TkFlw5UOYQWlhHnI0wqNHaGLRwTNGhQZTK494GXG5hchPqvvlGgw3sU4M2wlM/pFf6bI4SG5spgMtNTG7XfdPw/+Jiw1rQ2mW4bo1WDU/RghFFBgZV6mnTAZPbzrixasGQAtHGUNgm3NCefkgtcZBNUeXGBd76bzDrhjNuwab9hM4CvkYCULbdbK6iaP6gNteojPDJGwKzbglx0xufmAla6cl83EBPNDnfhkblJc2AWTeFuC1mbcI0EoC0IaqdzVXo9KO5RsM88z8mNyaVkjd42/yRppXudOcxFKhvI66dz2q2Dph9g5K31H8DU6gVfE09Plixs1VyuxXmFq33V9U90KhmbI2lvEkXdw2SP211pVyTgpmQalS554myIzAeN10xb9O9Jdss25Ah+MFukGz5jB8WhDoHPeSJ6wrcvk3OG3XvXa3+iENM1oVkI006o2hKcQmWHMmQtQ4Q2H2jnrfqYkpqkbd/yAI+Y8wGswHi9/oKIY7hlEu5+TmfCey+1Zk349au0n2W9uG+r5gFfL0j3qZdN8qiHrn/1ZPuwq5Z5cgvb6//ZrEQFRfkdioyIBf15roxNxwdkmmvZ9TaMatNQQDD7ds13YBrVhW179xbdshhl1XdswN4YTHD/m4ISLeAUAYA0e+Wtuum9uq2n1nlpxt57a0bD0ehH1Pm/XVru3VzULqdVUm3/6u63eO/wfXj6H+DEAA=",xu="/assets/reth-SHa20puJ.webp",Au="data:image/webp;base64,UklGRrIFAABXRUJQVlA4TKYFAAAvP8APEJXQ37btbKR1OlqOsbZt27bt3Y8/2bZt27ZtdG3bGmdyH9u+6vT7A4J3tpl5m2kE1Gzb3lSAwnYmKDOECTJKcOCyQVTi43EsAC4yV0agnqqq6z/nhuBGkiIpOmuxt2+gqO8JhuBAG31EWKJEhRM+8AvKqHDts1EHfcvTKrlhYYAYOWq86iHHbj7f+dBbZMQxjTI9lKNGjjhslQzoYIYUDb5y+Dxthf4aS1NZHK9y0zLKwis8zSdHBA1Sp6IEZmCKDHdF/+vcY4gMMTw4I5zBMUot14wEO0FhhWOhXy1XB/UJ9wPLjZbjiJUK6lNE2OthNTedRxDDdpUeDMcSBl0keD7uXvV5BDkauE+Zg6RUEPRQ4GuNieJ4BD1MuyKCIioEJtjot0+0InCh6qgtE/9YzLOGg4mIYat5TjbJ5yJjDHU5gYMxIxps+Yo65mNSSD4dbTXecNt1J3A4ZaYGmyhvNRT67TkiVsnLdGMNY76lKhFFDBSlbJDg6xMi38oZcmjGqiiUbz4p8uUnIkiYYIGn1RirxYhFU8dfoMgZCiifBmhixWAstloEC5a3Y3fcRB40E9wiGXUCNwMSdRcvkupuNBXj8CY5DjtGBGCNcK84NOPsVuwRSQj62I/msIEIqrmfZp8pGP53LwSsKTDDYZWGGLYLqCKEou8DGvWpFIS5SrFkrYKDQ0YbsiIrSIrxdlOK0lIFWLjno8wvxpcruMisAJjj8osM9ArX0yhS1TS2FrBQG7VQBWmq2G28KDL8Chc7AFIN/cw4OeU+6imKjXregwqpAJpHJZOMJxOpHwzQrFWHFJDG5eGaAibrWqcMA8NAjM97SCkixUOJmJQGPsvOgPy0ISRXPIIw6ZyG3MAAtU8myReHIExm8kGNASK8PE1KvjQUup1662qrMEWxxyThH6EVdbBEWEHyx0wFCMJ/u1xzXuVNXexP+chrsJDkswJCFOVp/fGp6TfKzxHvmCKdM09bLS1QS5qJ3nSYDpT6W118+jsNJardGuNzHZ3SbHCHzqrp4GZr5RtnmFzr3a6TSEe3WqcIKCcGl8YMVDj5pOHS0z45vrZEbcZ4bzhER8ft2yZLV9NCXzjlkP64GCZO+PhOZTyqeMAzBkrSxEX+kI/9M/svl2qmun6e9IhqeFgOPvD7oTg8qqovyQBP2KkYfyHdbk8bzK6Hi/kh/Kq3ePGILvaNU0T97rTvLJeMR/lblABnr3eIuN8fcYtUAgi8keU9vCOPGPk+0JuXFHhDTuHOmcdHJ/DxaosFJglMCSwkMuq5wyE8DrsHkVpFFhLw26o6SBSoEH19KMwi/KmBAtUkQXvVCPitSNxEH9IS8WeXWktHotvgHMT9buZ+i8UQiBuRuK3qFdtciLi/jdzniEDdO+YhTRH+cI7N3pZEJG6F8kYzq5hfGirgDeYgnxjJ/FRF4BBiDfQZzXqtCeUNkbwl5WQnwFEPaoIo0MmSpCKKzD2OUKfMJKVI3iLyJt+d7qBT4fWWS8IKhTXCSt0vnh9+3iTytkh3tZ5SqsAn+otF+HEfH8inlCollpTcvE3WDS4JLpODdLa7RaWs6zYHEQeR6xqJCHh1g6xbXLscaUrpfNpp6W903s1zLVLsukXXTa5x41ZUGSKlNl23ecaNe67YdZvRNwiY5l8nsDjpHy5D7L6B2bfQdiXSdG+px2bxiLpeoSN1vUTMvkWob0rzOcpq8qjtJzR/qEdmeRWpb2WisP19k1jf1twPKJNykANIDhtBSkq/ao3Zt3H7RoYok/JSRTR+il3Dy4OU35h9o0DfytDbSJPJ3lXsDEU+RiW2LK/5RRvsvjWIvrkuV1KjnXXGG26DLhiOVg+7by6hvn22IfpbQLRvL6l9Q6LqqqlEcN8Q8n1LCPdNETuwbwr5vi3U+8aQ71tDvW/+H+7bQ/5/AwM=",Pu="/assets/weeth-Dk-qEu8x.webp",Lu="data:image/svg+xml,%3csvg%20width='48'%20height='49'%20viewBox='0%200%2048%2049'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M48%2024.4997C48%2037.755%2037.2548%2048.5005%2024%2048.5005C10.7452%2048.5005%200%2037.755%200%2024.4997C0%2011.2445%2010.7452%200.499023%2024%200.499023C37.2548%200.499023%2048%2011.2445%2048%2024.4997Z'%20fill='white'/%3e%3cpath%20d='M24.4971%208L24.2785%208.74339L24.2785%2030.3129L24.4971%2030.5312L34.4939%2024.613L24.4971%208Z'%20fill='%236B6B6B'/%3e%3cpath%20d='M24.4971%208L14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L24.4971%208Z'%20fill='%23A2A2A2'/%3e%3cpath%20d='M24.4971%2032.4269L24.3739%2032.5773L24.3739%2040.2607L24.4971%2040.6207L34.5%2026.5117L24.4971%2032.4269Z'%20fill='%234F4E4E'/%3e%3cpath%20d='M24.4971%2040.6207L24.4971%2032.4269L14.5%2026.5117L24.4971%2040.6207Z'%20fill='%23A2A2A2'/%3e%3cpath%20d='M24.4971%2030.5312L34.4939%2024.613L24.4971%2020.062L24.4971%2030.5312Z'%20fill='%23797979'/%3e%3cpath%20d='M14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L14.5%2024.613Z'%20fill='%23D4D4D4'/%3e%3cg%20style='mix-blend-mode:overlay'%3e%3cpath%20d='M24.4971%208L24.2785%208.74339L24.2785%2030.3129L24.4971%2030.5312L34.4939%2024.613L24.4971%208Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%208L14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L24.4971%208Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2032.4269L24.3739%2032.5773L24.3739%2040.2607L24.4971%2040.6207L34.5%2026.5117L24.4971%2032.4269Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2040.6207L24.4971%2032.4269L14.5%2026.5117L24.4971%2040.6207Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2030.5312L34.4939%2024.613L24.4971%2020.062L24.4971%2030.5312Z'%20fill='%23ACE730'/%3e%3cpath%20d='M14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L14.5%2024.613Z'%20fill='%23ACE730'/%3e%3c/g%3e%3c/svg%3e",Iu="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='36'%20height='36'%20rx='18'%20fill='%23BBE7E8'/%3e%3cpath%20d='M18%2030C24.6274%2030%2030%2024.6274%2030%2018C30%2011.3726%2024.6274%206%2018%206C11.3726%206%206%2011.3726%206%2018C6%2024.6274%2011.3726%2030%2018%2030Z'%20fill='%23075A5A'/%3e%3cg%20style='mix-blend-mode:screen'%20opacity='0.3'%3e%3cpath%20opacity='0.8'%20d='M17.9688%207.5V15.4406L24.6802%2018.4398L17.9688%207.5Z'%20fill='white'/%3e%3cpath%20d='M17.9626%207.5L11.25%2018.4398L17.9626%2015.4406V7.5Z'%20fill='white'/%3e%3cpath%20opacity='0.8'%20d='M17.9688%2023.5838V28.9795L24.6849%2019.6875L17.9688%2023.5838Z'%20fill='white'/%3e%3cpath%20d='M17.9626%2028.9795V23.583L11.25%2019.6875L17.9626%2028.9795Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2022.3396L24.6802%2018.4425L17.9688%2015.4453V22.3396Z'%20fill='white'/%3e%3cpath%20d='M11.25%2018.4425L17.9626%2022.3396V15.4453L11.25%2018.4425Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/g%3e%3cg%20style='mix-blend-mode:screen'%20opacity='0.3'%3e%3cpath%20opacity='0.8'%20d='M17.9688%207.89844V15.2584L24.1894%2018.0382L17.9688%207.89844Z'%20fill='white'/%3e%3cpath%20d='M17.9639%207.89844L11.7422%2018.0382L17.9639%2015.2584V7.89844Z'%20fill='white'/%3e%3cpath%20opacity='0.8'%20d='M17.9688%2023.9461V28.4046L23.5184%2020.7266L17.9688%2023.9461Z'%20fill='white'/%3e%3cpath%20d='M17.9686%2028.4046V23.9455L12.4219%2020.7266L17.9686%2028.4046Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2022.0815L24.1894%2018.4694L17.9688%2015.6914V22.0815Z'%20fill='white'/%3e%3cpath%20d='M11.7422%2018.4694L17.9639%2022.0815V15.6914L11.7422%2018.4694Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/g%3e%3cpath%20d='M17.9688%209.85547V16.0539L23.2077%2018.3951L17.9688%209.85547Z'%20fill='%23C1DCDC'/%3e%3cpath%20d='M17.9664%209.85547L12.7266%2018.3951L17.9664%2016.0539V9.85547Z'%20fill='white'/%3e%3cpath%20d='M17.9688%2022.4126V26.6244L23.2114%2019.3711L17.9688%2022.4126Z'%20fill='%23C1DCDC'/%3e%3cpath%20d='M17.9664%2026.6244V22.4119L12.7266%2019.3711L17.9664%2026.6244Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2021.4364L23.2077%2018.3943L17.9688%2016.0547V21.4364Z'%20fill='white'/%3e%3cpath%20d='M12.7266%2018.3943L17.9664%2021.4364V16.0547L12.7266%2018.3943Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/svg%3e";function Du(a){return{cbETH:Mu,wstETH:Su,rETH:xu,sfrxETH:Au,weETH:Pu,ezETH:Lu,rsETH:Iu}[a]}const zu=["0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db","0x63cc74334f4b1119276667cf0079ac0c8a96cfb2","0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6","0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f","0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0","0xe0e255fd5281bec3bb8fa1569a20097d9064e445","0xc2545c68a71f6803264bde885870fd72d361fb9e","0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483"],Ou=["0x1691308554c0a5a37c87e947677a4d31b9c97da9","0xf1c45c7b1f798302d29390d90d4dac38137352b1","0x1ad10ee3284297afcf2f6a41f935300cbebcf70d","0x585d78a00d1be2e95f75b20935d4b8d3c36efef1","0x335849a1c359e83dca508101bd394a9d12e176b9","0xdb3080920ee1df720411e12c16ec3866a8c2f5c6"];function Ru(a){switch(a){case"0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db":case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH";case"0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6":case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH";case"0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0":case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH";case"0xc2545c68a71f6803264bde885870fd72d361fb9e":case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH";case"0x1691308554c0a5a37c87e947677a4d31b9c97da9":case"0xf1c45c7b1f798302d29390d90d4dac38137352b1":return"weETH";case"0x1ad10ee3284297afcf2f6a41f935300cbebcf70d":case"0x585d78a00d1be2e95f75b20935d4b8d3c36efef1":return"ezETH";case"0x335849a1c359e83dca508101bd394a9d12e176b9":case"0xdb3080920ee1df720411e12c16ec3866a8c2f5c6":return"rsETH";default:return null}}function Ee(a){const e=Ru(a);return Du(e)}function Re(a){switch(a){case"0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db":return"cbETH";case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH (deprecated)";case"0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6":return"wstETH";case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH (deprecated)";case"0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0":return"rETH";case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH (deprecated)";case"0xc2545c68a71f6803264bde885870fd72d361fb9e":return"sfrxETH";case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH (deprecated)";case"0x1691308554c0a5a37c87e947677a4d31b9c97da9":return"weETH";case"0xf1c45c7b1f798302d29390d90d4dac38137352b1":return"weETH (deprecated)";case"0x1ad10ee3284297afcf2f6a41f935300cbebcf70d":return"ezETH";case"0x585d78a00d1be2e95f75b20935d4b8d3c36efef1":return"ezETH (deprecated)";case"0x335849a1c359e83dca508101bd394a9d12e176b9":return"rsETH";case"0xdb3080920ee1df720411e12c16ec3866a8c2f5c6":return"rsETH (deprecated)";default:return null}}function ze(a){return["0x63cc74334f4b1119276667cf0079ac0c8a96cfb2","0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f","0xe0e255fd5281bec3bb8fa1569a20097d9064e445","0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483","0xf1c45c7b1f798302d29390d90d4dac38137352b1","0x585d78a00d1be2e95f75b20935d4b8d3c36efef1","0xdb3080920ee1df720411e12c16ec3866a8c2f5c6"].includes(a)}function Te(a,e){const t=V(e),n=a.subscribe({next:i=>{t.value=i},error:i=>{const r=i instanceof Error?tn(i):JSON.stringify(i);st({text:r,type:"error"})}});return Qt(()=>{n&&n.unsubscribe()}),t}const pt=a=>(me("data-v-46d45c1e"),a=a(),ye(),a),Vu={class:"title"},Eu=["src"],qu=pt(()=>u("div",null,null,-1)),Fu=pt(()=>u("div",null,null,-1)),Uu={class:"number"},Wu={class:"number"},Bu=pt(()=>u("div",null,null,-1)),Nu=pt(()=>u("div",null,null,-1)),Hu={class:"number"},Ku=pt(()=>u("div",null,null,-1)),Vs=P({__name:"TableVaults",setup(a){const{t:e}=U(),t=W(),n=Ae().getSocket(je(t.flavor)),i=new Qe(n,"ethereum"),r=V(""),l=Te(i.overview$,[]),p=g(()=>H.chain(l.value).filter(f=>{const v=r.value.toLocaleLowerCase().split(" "),o=c=>v.some(m=>c.toLocaleLowerCase().includes(m));return o(f.name)||o(f.address)}).orderBy(f=>f.debt,"desc").value()),_=g(()=>l.value.length===0);return(f,v)=>{const o=he,c=se,m=ue;return y(),A(m,{class:"datatable-vaults","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"vaults-columns-data",loading:s(_),rows:s(p),columns:["","Name","TVL","Debt","CR","MCR","Troves","Price"]},{"header-content":w(()=>[u("div",Vu,x(s(e)("title")),1),h(o,{modelValue:s(r),"onUpdate:modelValue":v[0]||(v[0]=d=>de(r)?r.value=d:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:w(d=>[u("img",{src:s(Ee)(d.item.address)},null,8,Eu),u("div",{class:F({deprecated:s(ze)(d.item.address)})},x(s(Re)(d.item.address)??d.item.name),3),u("div",{class:F(["number",{deprecated:s(ze)(d.item.address)}])},[h(c,{value:d.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])],2),u("div",{class:F(["number",{deprecated:s(ze)(d.item.address)}])},[h(c,{value:d.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])],2),u("div",{class:F(["number",{deprecated:s(ze)(d.item.address)}])},[h(c,{value:d.item.cr*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",{class:F(["number",{deprecated:s(ze)(d.item.address)}])},[h(c,{value:d.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",{class:F(["number",{deprecated:s(ze)(d.item.address)}])},x(d.item.open_troves),3),u("div",{class:F(["number",{deprecated:s(ze)(d.item.address)}])},[h(c,{type:"dollar",value:Math.round(d.item.price),precision:1/0},null,8,["value"])],2)]),"row-aggregation":w(()=>[qu,Fu,u("div",Uu,[h(c,{value:s(p).reduce((d,b)=>d+b.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",Wu,[h(c,{value:s(p).reduce((d,b)=>d+b.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),Bu,Nu,u("div",Hu,[h(c,{value:s(p).reduce((d,b)=>d+b.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),Ku]),"row-details":w(()=>[G("  ")]),_:1},8,["loading","rows"])}}});function ma(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Vaults"])},"search-placeholder":t=>{const{normalize:n}=t;return n(["Search for..."])}}})}typeof ma=="function"&&ma(Vs);const Xu=I(Vs,[["__scopeId","data-v-46d45c1e"]]),Tt=Xe("vaultStore",()=>{const a=V(null),e=V(null);return{vault:a,trove:e}}),Gu={class:"vaults"},Zu=P({__name:"Vaults.page",setup(a){const e=wt(),t=Tt(),n=it();we(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const i=async r=>{t.vault=r,await n.push({name:"prismavault",params:{tab:"",vaultAddr:r.address}})};return(r,l)=>(y(),S("div",Gu,[h(Xu,{style:{"grid-column":"1 / -1"},onSelected:i}),h(pu),h(du),h(fu),h(uu)]))}}),ju=I(Zu,[["__scopeId","data-v-0e5827c8"]]),Es=P({__name:"ChartPoolTvl",setup(a){const{t:e}=U();let t;const{theme:n,flavor:i}=j(W()),{chart:r,chartRef:l}=ve(n,v,d=>{t=d.addAreaSeries(o())}),p=new Je(X(),i.value),{isFetching:_,data:f}=K({queryKey:["prisma-stable-pool-tvl"],queryFn:()=>p.getPoolTvl("ethereum","1m").then(d=>d.deposits),initialData:[],initialDataUpdatedAt:0});N([f,r],c),N(n,()=>t.applyOptions(o()));function v(d){return fe(d,n.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:b=>m(b)}})}function o(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:_e.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...n.value.lineChartColors}}function c([d,b]){if(!b||!t)return;const k=H.chain(d).map($=>({time:$.timestamp,value:$.value})).uniqWith(($,D)=>$.time===D.time).orderBy($=>$.time,"asc").value();k.length>0&&t.setData(k),b.timeScale().fitContent()}const m=d=>`$${Q(d,1,"dollar")}${Y(d,"dollar")}`;return(d,b)=>{const k=ae;return y(),A(k,{class:"chart-container",title:s(e)("title"),loading:s(_)},{default:w(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ya(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Total deposits in stability pool"])}}})}typeof ya=="function"&&ya(Es);const Ju=I(Es,[["__scopeId","data-v-85f4d43d"]]),qs=P({__name:"ChartStableFlow",setup(a){const{t:e}=U(),{theme:t,flavor:n}=j(W()),i=new Je(X(),n.value),{isFetching:r,data:l}=K({queryKey:["prisma-stable-flow"],queryFn:()=>i.getStableFlow("ethereum","1m"),initialData:{deposits:[],withdrawals:[]},initialDataUpdatedAt:0}),p=g(()=>{const{colors:c}=t.value;return le(t.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[c.green,c.red],xaxis:{categories:_.value,labels:{formatter:v,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:o}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:m,dataPointIndex:d,w:b})=>{let k=0;const $=m.map((D,M)=>{const L=D[d];return k+=L,`<div><b>${b.globals.seriesNames[M]}</b>:	${o(L)}</div>`});return $.push(`<div><b>Total</b>:	${o(k)}</div>`),$.join("")}}})}),_=g(()=>l.value.deposits.length===0?[]:l.value.deposits.map(c=>new Date(c.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),f=g(()=>[{name:e("deposits"),data:Object.values(l.value.deposits).map(c=>c.value)},{name:e("withdrawals"),data:Object.values(l.value.withdrawals).map(c=>c.value)}]),v=c=>c,o=c=>`$${Q(c,0,"dollar")}${Y(c,"dollar")}`;return(c,m)=>{const d=pe;return y(),A(d,{title:s(e)("title",{stable:s(gt)(s(n))}),loading:s(r),options:s(p),series:s(f)},null,8,["title","loading","options","series"])}}});function fa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n,interpolate:i,named:r}=t;return n([i(r("stable"))," deposits and withdrawals"])},deposits:t=>{const{normalize:n}=t;return n(["Deposits"])},withdrawals:t=>{const{normalize:n}=t;return n(["Withdrawals"])}}})}typeof fa=="function"&&fa(qs);const Yu=I(qs,[["__scopeId","data-v-91670f21"]]),Fs=P({__name:"ChartDepositDistribution",setup(a){const{t:e}=U(),{theme:t,flavor:n}=j(W()),i=new Je(X(),n.value),{isFetching:r,data:l}=K({queryKey:["prisma-stable-distribution"],queryFn:()=>i.getStableDistribution("ethereum").then(v=>v.distribution),initialData:[],initialDataUpdatedAt:0}),p=g(()=>le(t.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:f.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),_=g(()=>[{name:e("numPos"),data:Object.values(l.value).map(v=>v.value)}]),f=g(()=>l.value.map(v=>v.label));return(v,o)=>{const c=pe;return y(),A(c,{title:s(e)("title"),loading:s(r),series:s(_),options:s(p)},null,8,["title","loading","series","options"])}}});function va(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Distribution of current user deposits"])},numPos:t=>{const{normalize:n}=t;return n(["# of positions"])}}})}typeof va=="function"&&va(Fs);const Qu=I(Fs,[["__scopeId","data-v-43888e7b"]]),Us=P({__name:"ChartCumulativeWithdrawals",setup(a){const{t:e}=U();let t;const{theme:n,flavor:i}=j(W()),{chart:r,chartRef:l}=ve(n,v,d=>{t=d.addAreaSeries(o())}),p=new Je(X(),i.value),{isFetching:_,data:f}=K({queryKey:["prisma-cum-withdrawals"],queryFn:()=>p.getCumulativeWithdrawals("ethereum","all").then(d=>d.withdrawals),initialData:[],initialDataUpdatedAt:0});N([f,r],c),N(n,()=>t.applyOptions(o()));function v(d){return fe(d,n.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:b=>m(b)}})}function o(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:_e.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...n.value.lineChartColors}}function c([d,b]){if(!b||!t)return;const k=H.chain(d).map($=>({time:$.timestamp,value:$.value})).uniqWith(($,D)=>$.time===D.time).orderBy($=>$.time,"asc").value();k.length>0&&t.setData(k),b.timeScale().fitContent()}const m=d=>`$${Q(d,1,"dollar")}${Y(d,"dollar")}`;return(d,b)=>{const k=ae;return y(),A(k,{class:"chart-container",title:s(e)("title"),loading:s(_)},{default:w(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function _a(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Cumulative value of collaterals withdrawn"])}}})}typeof _a=="function"&&_a(Us);const ec=I(Us,[["__scopeId","data-v-fa3b3fa1"]]),tc={class:"title"},nc={class:"address"},ac=["href"],sc={class:"number"},ic={class:"number"},oc={class:"address"},rc=["href"],Ws=P({__name:"TableTopDeposits",setup(a){const{t:e}=U(),t=W(),n=new Je(X(),t.flavor),{isFetching:i,data:r}=K({queryKey:["prisma-stable-top-deposits"],queryFn:()=>n.getTopStableDeposits("ethereum",5,"7d").then(p=>p.operations),initialData:[],initialDataUpdatedAt:0}),l=g(()=>H.chain(r.value).map(p=>p).value());return(p,_)=>{const f=se,v=ue;return y(),A(v,{class:"datatable-deposits","columns-header":"1fr","columns-data":"deposits-columns-data",loading:s(i),rows:s(l),columns:["Address","Amount","Date","Tx"]},{"header-content":w(()=>[u("div",tc,x(s(e)("title")),1)]),row:w(o=>[u("div",nc,[u("a",{href:`https://etherscan.io/address/${o.item.user}`,target:"_blank"},x(s(J)(o.item.user,8)),9,ac)]),u("div",sc,[h(f,{value:o.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",ic,x(new Date(o.item.timestamp*1e3).toLocaleDateString()),1),u("div",oc,[u("a",{href:`https://etherscan.io/tx/${o.item.hash}`,target:"_blank"},x(s(J)(o.item.hash,8)),9,rc)])]),_:1},8,["loading","rows"])}}});function ha(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Largest deposits past 7 days"])}}})}typeof ha=="function"&&ha(Ws);const lc=I(Ws,[["__scopeId","data-v-8f408a11"]]),uc={class:"title"},cc={class:"address"},pc=["href"],dc={class:"number"},mc={class:"number"},yc={class:"address"},fc=["href"],Bs=P({__name:"TableTopWithdrawals",setup(a){const{t:e}=U(),t=W(),n=new Je(X(),t.flavor),i=g(()=>H.chain(l.value).map(p=>p).value()),{isFetching:r,data:l}=K({queryKey:["prisma-stable-top-withdrawals"],queryFn:()=>n.getTopStableWithdrawals("ethereum",5,"7d").then(p=>p.operations),initialData:[],initialDataUpdatedAt:0});return(p,_)=>{const f=se,v=ue;return y(),A(v,{class:"datatable-withdrawals","columns-header":"1fr","columns-data":"withdrawals-columns-data",loading:s(r),rows:s(i),columns:["Address","Amount","Date","Tx"]},{"header-content":w(()=>[u("div",uc,x(s(e)("title")),1)]),row:w(o=>[u("div",cc,[u("a",{href:`https://etherscan.io/address/${o.item.user}`,target:"_blank"},x(s(J)(o.item.user,8)),9,pc)]),u("div",dc,[h(f,{value:o.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",mc,x(new Date(o.item.timestamp*1e3).toLocaleDateString()),1),u("div",yc,[u("a",{href:`https://etherscan.io/tx/${o.item.hash}`,target:"_blank"},x(s(J)(o.item.hash,8)),9,fc)])]),_:1},8,["loading","rows"])}}});function ba(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Largest withdrawals past 7 days"])}}})}typeof ba=="function"&&ba(Bs);const vc=I(Bs,[["__scopeId","data-v-f8d46e5c"]]),_c={class:"pool"},hc=P({__name:"StabilityPool.page",setup(a){return(e,t)=>(y(),S("div",_c,[h(Ju),h(Yu),h(Qu),h(ec),h(lc),h(vc)]))}}),bc=I(hc,[["__scopeId","data-v-207fe888"]]),gc={key:0,class:"value"},wc={key:1,class:"value"},Tc=["innerHTML"],kc={key:0,class:"value"},$c={key:1,class:"value"},Cc=["innerHTML"],Mc={class:"labels"},Sc={class:"label"},xc={class:"label-second"},Ac=P({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(a){return(e,t)=>{const n=Ze;return y(),S("div",{class:F(["kpi",{disabled:!e.hasValue}])},[u("div",{class:F(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[ee(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(y(),A(n,{key:0},{item:w(()=>[e.hasValue?(y(),S("span",gc,x(e.value),1)):(y(),S("span",wc," ? "))]),default:w(()=>[ee(e.$slots,"tooltip",{},()=>[u("span",{innerHTML:e.tooltip},null,8,Tc)],!0)]),_:3})):(y(),S(te,{key:1},[e.hasValue?(y(),S("span",kc,x(e.value),1)):(y(),S("span",$c," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(y(),A(n,{key:0},{default:w(()=>[u("span",{innerHTML:e.tooltip},null,8,Cc)]),_:1})):z("",!0)],2),u("div",Mc,[ee(e.$slots,"label",{},()=>[u("div",Sc,x(e.label),1)],!0),ee(e.$slots,"label-second",{},()=>[u("div",xc,x(e.labelSecond),1)],!0)])],2)}}}),Pe=I(Ac,[["__scopeId","data-v-913a939c"]]),Pc={class:"kpis"},Lc=P({__name:"KPIs",setup(a){const e=W(),t=new ut(X(),e.flavor),{data:n}=K({queryKey:["prisma-stable-kpi"],queryFn:()=>t.getStableCoinKPI("ethereum").then(i=>i.info)});return(i,r)=>{const l=se,p=Pe;return y(),S("div",Pc,[h(p,{label:`${s(gt)(s(e).flavor)} price`,"has-value":!!s(n)},{default:w(()=>[s(n)?(y(),A(l,{key:0,value:s(n).price,precision:4,type:"dollar"},null,8,["value"])):z("",!0)]),_:1},8,["label","has-value"]),h(p,{label:"Total supply","has-value":!!s(n)},{default:w(()=>[s(n)?(y(),A(l,{key:0,value:s(n).supply,precision:2,type:"dollar"},null,8,["value"])):z("",!0)]),_:1},8,["has-value"]),h(p,{label:"24h Volume (Curve)","has-value":!!s(n)},{default:w(()=>[s(n)?(y(),A(l,{key:0,value:s(n).volume,precision:1,type:"dollar"},null,8,["value"])):z("",!0)]),_:1},8,["has-value"]),h(p,{label:"Aggregate -2% Depth (Curve)","has-value":!!s(n)},{default:w(()=>[s(n)?(y(),A(l,{key:0,value:s(n).depth,precision:1,type:"dollar"},null,8,["value"])):z("",!0)]),_:1},8,["has-value"])])}}}),Ic=I(Lc,[["__scopeId","data-v-bf1dc02e"]]),Ns=P({__name:"ChartPrice",setup(a){const{t:e}=U();let t;const{theme:n,flavor:i}=j(W()),{chart:r,chartRef:l}=ve(n,b,M=>{t=M.addCandlestickSeries(k())}),p=()=>{switch(i.value){case"lsd":return"0xF980B4A4194694913Af231De69AB4593f5E0fCDc";case"lrt":return"0xC03FEF1c425956A3Cd5762022E511e0d4148B3D6";default:return""}},_=()=>{switch(i.value){case"lsd":return"0x4591DBfF62656E7859Afe5e45f6f47D3669fBB28";case"lrt":return"0x35282d87011f87508D457F08252Bc5bFa52E10A0";default:return""}},f=()=>{const M=Math.floor(new Date().getTime()/1e3),L=14400,T=M-L*200,C="0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",E=p(),q=_();return{pool:E,chain:"ethereum",main_token:C,reference_token:q,interval:L,start:T,end:M}},v=Ae().getSocket("prices"),o=new ht(v,"ethereum",f()),c=Te(o.ohlc$,[]),m=g(()=>c.value.length===0),d=g(()=>{switch(i.value){case"lsd":return"Price is in USDC from Curve mkUSD/USDC pool";case"lrt":return"Price is in USDC from Curve ULTRA/USDC pool";default:return"???"}});N(c,$),N(n,()=>t.applyOptions(k()));function b(M){return fe(M,n.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:L=>D(L)}})}function k(){const{colors:M}=n.value;return{priceFormat:{type:"price",precision:6,minMove:.01},upColor:M.green,borderUpColor:M.green,wickUpColor:M.green,downColor:M.red,borderDownColor:M.red,wickDownColor:M.red,lastValueVisible:!0,priceLineVisible:!1}}function $(M){if(!r.value||!t)return;const L=H.chain(M).map(T=>({time:T.time,open:T.open,high:T.high,low:T.low,close:T.close})).uniqWith((T,C)=>T.time===C.time).orderBy(T=>T.time,"asc").value();L.length>0&&t.setData(L),r.value.timeScale().fitContent()}const D=M=>`$${Q(M,4,"dollar")}${Y(M,"dollar")}`;return(M,L)=>{const T=Ze,C=ae;return y(),A(C,{class:"chart-container",title:s(e)("title",{stable:s(gt)(s(i))}),loading:s(m)},{actions:w(()=>[h(T,{placement:"left"},{default:w(()=>[u("div",null,x(s(d)),1)]),_:1})]),default:w(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ga(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n,interpolate:i,named:r}=t;return n([i(r("stable"))," price (last 30 days)"])}}})}typeof ga=="function"&&ga(Ns);const Dc=I(Ns,[["__scopeId","data-v-457f72f4"]]),Hs=P({__name:"ChartPriceDistribution",setup(a){const{t:e}=U(),{theme:t,flavor:n}=j(W()),i=new ut(X(),n.value),{isFetching:r,data:l}=K({queryKey:["prisma-stable-price-distribution"],queryFn:()=>i.getPriceHistogram("ethereum",10,"all").then(o=>o.histogram),initialData:[],initialDataUpdatedAt:0}),p=g(()=>le(t.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:f.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),_=g(()=>[{name:e("numPos"),data:Object.values(l.value).map(o=>o.value)}]),f=g(()=>l.value.map(o=>v(o.label))),v=o=>{const c=/-?\d+(\.\d+)?/g,m=d=>parseFloat(d).toFixed(4);return o.replace(c,d=>m(d))};return(o,c)=>{const m=pe;return y(),A(m,{title:s(e)("title"),loading:s(r),series:s(_),options:s(p)},null,8,["title","loading","series","options"])}}});function wa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Price histogram"])},numPos:t=>{const{normalize:n}=t;return n(["# of hourly price records"])}}})}typeof wa=="function"&&wa(Hs);const zc=I(Hs,[["__scopeId","data-v-02e38c80"]]),Ks=P({__name:"ChartSupply",setup(a){const{t:e}=U();let t;const{theme:n,flavor:i}=j(W()),{chart:r,chartRef:l}=ve(n,v,d=>{t=d.addAreaSeries(o())}),p=new ut(X(),i.value),{isFetching:_,data:f}=K({queryKey:["prisma-stable-supply"],queryFn:()=>p.getSupplyHistory("ethereum").then(d=>d.supply),initialData:[],initialDataUpdatedAt:0});N([f,r],c),N(n,()=>t.applyOptions(o()));function v(d){return fe(d,n.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:b=>m(b)}})}function o(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:_e.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...n.value.lineChartColors}}function c([d,b]){if(!b||!t)return;const k=H.chain(d).map($=>({time:$.timestamp,value:$.value})).uniqWith(($,D)=>$.time===D.time).orderBy($=>$.time,"asc").value();k.length>0&&t.setData(k),b.timeScale().fitContent()}const m=d=>`${Q(d,1,"dollar")}${Y(d,"dollar")}`;return(d,b)=>{const k=ae;return y(),A(k,{class:"chart-container",title:s(e)("title"),loading:s(_)},{default:w(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ta(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Supply"])}}})}typeof Ta=="function"&&Ta(Ks);const Oc=I(Ks,[["__scopeId","data-v-4b351bda"]]),Xs=P({__name:"ChartHolders",setup(a){const{t:e}=U(),{theme:t,flavor:n}=j(W()),i=new ut(X(),n.value),{isFetching:r,data:l}=K({queryKey:["prisma-stable-holders"],queryFn:()=>i.getLargeStableCoinHolders("ethereum").then(o=>o.holders),initialData:[],initialDataUpdatedAt:0}),p=g(()=>le(t.value,{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:o=>{let c=f.value[o.seriesIndex];c=c.length>10&&c.startsWith("0x")?J(c):c;const m=o.series[o.seriesIndex];return[`<div><b>${c}</b>:</div><div>${v(m)}</div>`].join("")}},labels:l.value.map(o=>o.label.length>10&&o.label.startsWith("0x")?J(o.label):o.label)})),_=g(()=>l.value.map(o=>o.value)),f=g(()=>l.value.map(o=>o.label)),v=o=>`$${Q(Math.abs(o),1,"dollar")}${Y(o,"dollar")}`;return(o,c)=>{const m=pe;return y(),A(m,{class:"graph",title:s(e)("title"),loading:s(r),options:s(p),series:s(_)},null,8,["title","loading","options","series"])}}});function ka(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Largest holders"])}}})}typeof ka=="function"&&ka(Xs);const Rc=I(Xs,[["__scopeId","data-v-923c4ed4"]]),Gs=P({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(a){const{t:e}=U(),{theme:t}=j(W()),n=g(()=>{const{colors:p}=t.value;return le(t.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:_=>l(_)}},yaxis:{seriesName:"amounts",labels:{formatter:_=>l(_)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:_=>l(_)}},colors:[_=>_.value===0?p.blue:p.green,_=>_.value===0?p.blue:p.red]})}),i=g(()=>{if(!a.depth)return[];const p=[...a.depth.ask.prices.map(f=>({x:f,y:0})),...a.depth.bid.prices.map((f,v)=>({x:f,y:a.depth.bid.amounts[v]}))],_=[...a.depth.ask.prices.map((f,v)=>({x:f,y:a.depth.ask.amounts[v]}))];return[{name:"Bid",data:p},{name:"Ask",data:_}]}),r=g(()=>{var _;if(!((_=a.depth)!=null&&_.tokens)||a.depth.tokens.length===0)return e("title");const p=a.depth.tokens.join(" / ");return`${e("title")} - ${p} (Curve)`}),l=p=>`$${Q(Math.abs(p),2,"dollar")}${Y(p,"dollar")}`;return(p,_)=>{const f=pe;return y(),A(f,{class:"chart",title:s(r),loading:p.loading,options:s(n),series:s(i)},null,8,["title","loading","options","series"])}}});function $a(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Liquidity Depth"])}}})}typeof $a=="function"&&$a(Gs);const Vc=I(Gs,[["__scopeId","data-v-e339424d"]]),Ec=P({__name:"ChartDepthContainer",setup(a){const e=W(),t=new ut(X(),e.flavor),{isFetching:n,data:i}=K({queryKey:["prisma-stable-pool-depth"],queryFn:()=>t.getCurvePoolDepth("ethereum").then(r=>r.depth),initialData:[],initialDataUpdatedAt:0});return(r,l)=>(y(!0),S(te,null,ce(s(i),p=>(y(),A(Vc,{key:p.name,loading:s(n),depth:p},null,8,["loading","depth"]))),128))}}),qc=I(Ec,[["__scopeId","data-v-2ac11a80"]]),Fc={class:"stable"},Uc=P({__name:"Stablecoin.page",setup(a){return(e,t)=>(y(),S("div",Fc,[h(Ic,{style:{"grid-column":"1 / -1"}}),h(Dc),h(zc),h(Oc),h(Rc),h(qc)]))}}),Wc=I(Uc,[["__scopeId","data-v-b712cc51"]]),Bc={key:0,class:"modal"},Nc={class:"modal-popup"},Hc=P({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(a,{emit:e}){const t=e,n=i=>{i.code==="Escape"&&t("close")};return we(()=>{document.addEventListener("keydown",n)}),Qt(()=>{document.removeEventListener("keydown",n)}),N(()=>a.show,i=>{document.body.style.overflow=i?"hidden":""}),(i,r)=>i.show?(y(),S("div",Bc,[u("div",{class:"modal-mask",onClick:r[0]||(r[0]=l=>t("close"))}),u("div",Nc,[ee(i.$slots,"default",{},void 0,!0)])])):z("",!0)}}),qe=I(Hc,[["__scopeId","data-v-7ecee8fd"]]),cn=a=>(me("data-v-c920758b"),a=a(),ye(),a),Kc={key:0},Xc=cn(()=>u("button",null,"1",-1)),Gc=[Xc],Zc=cn(()=>u("button",null,[u("i",{class:"fas fa-chevron-left"})],-1)),jc=[Zc],Jc=["onClick"],Yc=cn(()=>u("button",null,[u("i",{class:"fas fa-chevron-right"})],-1)),Qc=[Yc],ep=P({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(a,{emit:e}){const t=e,n=g(()=>Math.ceil(a.itemsCount/a.itemsPerPage)),i=g(()=>{const o=[...Array(12).keys()].map($=>$-6+a.page).filter($=>$>=1&&$<=n.value),c=o.findIndex($=>$===a.page),m=[],d=[],b=a.page!==1&&a.page!==n.value?[a.page]:[];let k=1;for(;;){const $=o[c-k];if($&&$!==1&&m.unshift($),m.length+d.length+b.length>=5||k>o.length)break;const D=o[c+k];if(D&&D!==n.value&&d.push(D),k++,m.length+d.length+b.length>=5||k>o.length)break}return[...m,...b,...d]});N(i,()=>{const f=r(a.page,1,n.value);a.page!==f&&t("page",f)});const r=(f,v,o)=>(o<v&&(o=v),Math.min(Math.max(f,v),o)),l=()=>t("page",r(a.page-1,1,n.value)),p=()=>t("page",r(a.page+1,1,n.value)),_=f=>t("page",r(f,1,n.value));return(f,v)=>s(n)>1?(y(),S("ul",Kc,[u("li",{class:F({active:f.page===1}),onClick:v[0]||(v[0]=o=>_(1))},Gc,2),s(n)>2?(y(),S("li",{key:0,onClick:l},jc)):z("",!0),(y(!0),S(te,null,ce(s(i),(o,c)=>(y(),S("li",{key:c,class:F({active:o===f.page}),onClick:m=>_(o)},[u("button",null,x(o),1)],10,Jc))),128)),s(n)>2?(y(),S("li",{key:1,onClick:p},Qc)):z("",!0),s(n)>1?(y(),S("li",{key:2,class:F({active:f.page===s(n)}),onClick:v[1]||(v[1]=o=>_(s(n)))},[u("button",null,x(s(n)),1)],2)):z("",!0)])):z("",!0)}}),$e=I(ep,[["__scopeId","data-v-c920758b"]]),tp={class:"redemption-details"},np={class:"kpis"},ap={class:"title"},sp=["href"],Zs=P({__name:"RedemptionDetails",props:{vaultAddr:{},redemption:{}},setup(a){const{t:e}=U(),t=V(""),n=g(()=>H.chain(a.redemption.troves_affected).filter(i=>{const r=t.value.toLocaleLowerCase().split(" ");return(p=>r.some(_=>p.toLocaleLowerCase().includes(_)))(i)}).value());return(i,r)=>{const l=se,p=Pe,_=he,f=ue,v=ae;return y(),A(v,{title:s(e)("redemption-details")},{default:w(()=>[u("div",tp,[u("div",np,[h(p,{label:s(e)("withdrawal")},{default:w(()=>[h(l,{value:i.redemption.attempted_debt_amount,precision:2,type:"dollar"},null,8,["value"]),G(" / "),h(l,{value:i.redemption.collateral_sent_to_redeemer_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),h(p,{label:s(e)("fee")},{default:w(()=>[h(l,{value:i.redemption.collateral_fee_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),h(f,{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:s(n),columns:["Trove"]},{"header-content":w(()=>[u("div",ap,x(s(e)("troves-affected")),1),h(_,{modelValue:s(t),"onUpdate:modelValue":r[0]||(r[0]=o=>de(t)?t.value=o:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:w(o=>[u("div",null,[u("a",{class:"font-mono",target:"_blank",href:`#/vault/${i.vaultAddr}/trove/${o.item}`,onClick:r[1]||(r[1]=ne(()=>{},["stop"]))},x(o.item),9,sp)])]),_:1},8,["rows"])])]),_:1},8,["title"])}}});function Ca(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":t=>{const{normalize:n}=t;return n(["Troves affected"])},"search-placeholder":t=>{const{normalize:n}=t;return n(["Search for..."])},"redemption-details":t=>{const{normalize:n}=t;return n(["Redemption Details"])},withdrawal:t=>{const{normalize:n}=t;return n(["Attempted / Received"])},fee:t=>{const{normalize:n}=t;return n(["Fee"])}}})}typeof Ca=="function"&&Ca(Zs);const pn=I(Zs,[["__scopeId","data-v-3d490c1b"]]),ip={key:0,class:"item"},op=["src"],rp={key:1,class:"empty"},lp={class:"label"},up=P({__name:"SelectVault",props:{vault:{default:null},all:{type:Boolean,default:!1}},emits:["select-vault"],setup(a,{emit:e}){const t=e,n=W(),i=V(!1),r=[...a.all?["all"]:[],...n.flavor==="lsd"?zu:Ou];we(()=>{p(r[0])});const l=()=>{i.value=!i.value},p=_=>{t("select-vault",_)};return(_,f)=>{const v=xs;return y(),A(v,{class:"select",options:r,selected:_.vault,open:s(i),onOpen:l,onClose:f[0]||(f[0]=o=>i.value=!1),onInput:p},{item:w(o=>[o.item?(y(),S("div",ip,[o.item!=="all"?(y(),S("img",{key:0,src:s(Ee)(o.item)},null,8,op)):(y(),S("div",rp)),u("div",lp,x(o.item==="all"?"All":s(Re)(o.item)),1)])):z("",!0)]),_:1},8,["selected","open"])}}}),kt=I(up,[["__scopeId","data-v-f5a3bf12"]]);function cp(a,e){const n=Math.round(a.value/1e3)-e;return n<60?`${Math.round(n)} seconds ago`:n<60*60?`${Math.round(n/60)} minutes ago`:n<60*60*24?`${Math.round(n/(60*60))} hours ago`:`${Math.round(n/(60*60*24))} days ago`}function xe(){const a=V(Date.now());return we(()=>{setInterval(()=>{a.value=Date.now()})}),{relativeTime:t=>cp(a,t)}}function Le(a,e){const t=V(a),n=V(ie.Descending);return{sortColumn:t,sortOrder:n,onSort:(r,l)=>{t.value=r,n.value=l}}}function Ce(a,e){const t=V(1),n=g(()=>H.chain(a.value).drop((t.value-1)*e).take(e).value()),i=r=>{t.value=r};return N(n,r=>{r.length===0&&(t.value=Math.max(1,Math.ceil(a.value.length/e)))}),{page:t,rowsPage:n,onPage:i}}const pp={class:"title"},dp={style:{display:"flex",gap:"1rem"}},mp=["src"],yp=["href"],fp=["href"],vp={class:"number"},_p={class:"number"},hp={class:"number"},Ma=15,js=P({__name:"TableRedemptions",props:{vaults:{default:()=>[]}},setup(a){const e=W(),t=new un(X(),e.flavor),{t:n}=U(),{isFetching:i,data:r}=K({queryKey:["prisma-redemptions",g(()=>a.vaults.map(T=>T.address))],queryFn:({queryKey:[,T]})=>T.length>0?Promise.all(T.map(C=>t.getRedemptions("ethereum",C))).then(C=>C.flat()):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=xe(),{sortColumn:p,sortOrder:_,onSort:f}=Le("timestamp"),v=V(""),o=V("all"),c=V(null),m=g(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),d=g(()=>["icon","redeemer","tx","debt","numtroves","timestamp"]),b=g(()=>["redeemer","tx","debt","numtroves","timestamp"]),k=g(()=>H.chain(r.value).filter(T=>{const C=v.value.toLocaleLowerCase().split(" "),E=B=>C.some(R=>B.toLocaleLowerCase().includes(R)),q=o.value==="all"?!0:T.vault===o.value;return E(T.redeemer)&&q}).orderBy(T=>{switch(p.value){case"redeemer":return T.redeemer;case"tx":return T.transaction;case"debt":return T.actual_debt_amount;case"numtroves":return T.troves_affected_count;case"timestamp":return T.timestamp;default:return T.timestamp}},_.value===ie.Descending?"desc":"asc").value()),{page:$,rowsPage:D,onPage:M}=Ce(k,Ma),L=T=>{c.value=T};return(T,C)=>{const E=he,q=$e,B=se,R=ue,Z=qe;return y(),S(te,null,[h(R,{class:"datatable-redemptions","columns-header":"1fr 14rem 2fr","columns-data":"redemptions-columns-data",loading:s(i),rows:s(D),columns:s(m),sorting:!0,"sorting-columns":s(d),"sorting-columns-enabled":s(b),"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:s(f),onSelected:L},{"header-content":w(()=>[u("div",pp,x(s(n)("title")),1),h(kt,{class:"select-vault",vault:s(o),all:!0,onSelectVault:C[0]||(C[0]=O=>o.value=O)},null,8,["vault"]),u("div",dp,[h(E,{modelValue:s(v),"onUpdate:modelValue":C[1]||(C[1]=O=>de(v)?v.value=O:null),class:"search",search:!0,placeholder:s(n)("search-placeholder")},null,8,["modelValue","placeholder"]),h(q,{class:"pagination","items-count":s(k).length,"items-per-page":Ma,page:s($),onPage:s(M)},null,8,["items-count","page","onPage"])])]),row:w(O=>[u("img",{src:s(Ee)(O.item.vault)},null,8,mp),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${O.item.redeemer}`,target:"_blank",onClick:C[2]||(C[2]=ne(()=>{},["stop"]))},x(s(J)(O.item.redeemer)),9,yp)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${O.item.transaction}`,target:"_blank",onClick:C[3]||(C[3]=ne(()=>{},["stop"]))},x(s(J)(O.item.transaction)),9,fp)]),u("div",vp,[h(B,{type:"dollar",value:Math.round(O.item.actual_debt_amount),precision:1/0},null,8,["value"])]),u("div",_p,x(O.item.troves_affected_count),1),u("div",hp,x(s(l)(O.item.timestamp)),1)]),"row-details":w(()=>[G("  ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(Z,{show:!!s(c),onClose:C[4]||(C[4]=O=>c.value=null)},{default:w(()=>[s(c)?(y(),A(pn,{key:0,redemption:s(c),"vault-addr":s(c).vault},null,8,["redemption","vault-addr"])):z("",!0)]),_:1},8,["show"])],64)}}});function Sa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Redemptions"])},"search-placeholder":t=>{const{normalize:n}=t;return n(["Search for..."])}}})}typeof Sa=="function"&&Sa(js);const bp=I(js,[["__scopeId","data-v-d641f848"]]),gp={class:"redemptions"},wp=P({__name:"Redemptions.page",setup(a){const e=W(),t=Ae().getSocket(je(e.flavor)),n=new Qe(t,"ethereum"),i=Te(n.overview$,[]);return(r,l)=>(y(),S("div",gp,[h(bp,{vaults:s(i)},null,8,["vaults"])]))}}),Tp=I(wp,[["__scopeId","data-v-3c22273b"]]),kp={class:"liquidation-details"},$p={class:"kpis"},Cp={class:"title"},Mp=["href"],Js=P({__name:"LiquidationDetails",props:{vaultAddr:{},liquidation:{}},setup(a){const{t:e}=U(),t=V(""),n=g(()=>H.chain(a.liquidation.troves_affected).filter(i=>{const r=t.value.toLocaleLowerCase().split(" ");return(p=>r.some(_=>p.toLocaleLowerCase().includes(_)))(i)}).value());return(i,r)=>{const l=se,p=Pe,_=he,f=ue,v=ae;return y(),A(v,{title:s(e)("liquidation-details")},{default:w(()=>[u("div",kp,[u("div",$p,[h(p,{label:s(e)("debt")},{default:w(()=>[h(l,{value:i.liquidation.liquidated_debt,precision:2,type:"dollar"},null,8,["value"]),G(" / "),h(l,{value:i.liquidation.liquidated_collateral,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),h(p,{label:s(e)("gas-compensation")},{default:w(()=>[h(l,{value:i.liquidation.collateral_gas_compensation_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),h(f,{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:s(n),columns:["Trove"]},{"header-content":w(()=>[u("div",Cp,x(s(e)("troves-affected")),1),h(_,{modelValue:s(t),"onUpdate:modelValue":r[0]||(r[0]=o=>de(t)?t.value=o:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:w(o=>[u("div",null,[u("a",{class:"font-mono",target:"_blank",href:`#/vault/${i.vaultAddr}/trove/${o.item}`,onClick:r[1]||(r[1]=ne(()=>{},["stop"]))},x(o.item),9,Mp)])]),_:1},8,["rows"])])]),_:1},8,["title"])}}});function xa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":t=>{const{normalize:n}=t;return n(["Troves affected"])},"search-placeholder":t=>{const{normalize:n}=t;return n(["Search for..."])},"liquidation-details":t=>{const{normalize:n}=t;return n(["Liquidation Details"])},debt:t=>{const{normalize:n}=t;return n(["Debt / Collateral"])},"gas-compensation":t=>{const{normalize:n}=t;return n(["Gas compensation"])}}})}typeof xa=="function"&&xa(Js);const dn=I(Js,[["__scopeId","data-v-8f32999a"]]),Sp={class:"title"},xp={style:{display:"flex",gap:"1rem"}},Ap=["src"],Pp=["href"],Lp=["href"],Ip={class:"number"},Dp={class:"number"},zp={class:"number"},Aa=15,Ys=P({__name:"TableLiquidations",props:{vaults:{default:()=>[]}},setup(a){const e=W(),t=new ln(X(),e.flavor),{t:n}=U(),{isFetching:i,data:r}=K({queryKey:["prisma-liquidations",g(()=>a.vaults.map(T=>T.address))],queryFn:({queryKey:[,T]})=>T.length>0?Promise.all(T.map(C=>t.getLiquidations("ethereum",C))).then(C=>C.flat()):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=xe(),{sortColumn:p,sortOrder:_,onSort:f}=Le("timestamp"),v=V(""),o=V("all"),c=V(null),m=g(()=>["","Liquidator","Transaction","Debt","# Troves","Time"]),d=g(()=>["icon","liquidator","tx","debt","numtroves","timestamp"]),b=g(()=>["liquidator","tx","debt","numtroves","timestamp"]),k=g(()=>H.chain(r.value).filter(T=>{const C=v.value.toLocaleLowerCase().split(" "),E=B=>C.some(R=>B.toLocaleLowerCase().includes(R)),q=o.value==="all"?!0:T.vault===o.value;return E(T.liquidator)&&q}).orderBy(T=>{switch(p.value){case"liquidator":return T.liquidator;case"tx":return T.transaction;case"debt":return T.liquidated_collateral_usd;case"numtroves":return T.troves_affected_count;case"timestamp":return T.timestamp;default:return T.timestamp}},_.value===ie.Descending?"desc":"asc").value()),{page:$,rowsPage:D,onPage:M}=Ce(k,Aa),L=T=>{c.value=T};return(T,C)=>{const E=he,q=$e,B=se,R=ue,Z=qe;return y(),S(te,null,[h(R,{class:"datatable-liquidations","columns-header":"1fr 14rem 2fr","columns-data":"liquidations-columns-data",loading:s(i),rows:s(D),columns:s(m),sorting:!0,"sorting-columns":s(d),"sorting-columns-enabled":s(b),"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:s(f),onSelected:L},{"header-content":w(()=>[u("div",Sp,x(s(n)("title")),1),h(kt,{class:"select-vault",vault:s(o),all:!0,onSelectVault:C[0]||(C[0]=O=>o.value=O)},null,8,["vault"]),u("div",xp,[h(E,{modelValue:s(v),"onUpdate:modelValue":C[1]||(C[1]=O=>de(v)?v.value=O:null),class:"search",style:{"flex-grow":"1"},search:!0,placeholder:s(n)("search-placeholder")},null,8,["modelValue","placeholder"]),h(q,{class:"pagination","items-count":s(k).length,"items-per-page":Aa,page:s($),onPage:s(M)},null,8,["items-count","page","onPage"])])]),row:w(O=>[u("img",{src:s(Ee)(O.item.vault)},null,8,Ap),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${O.item.liquidator}`,target:"_blank",onClick:C[2]||(C[2]=ne(()=>{},["stop"]))},x(s(J)(O.item.liquidator)),9,Pp)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${O.item.transaction}`,target:"_blank",onClick:C[3]||(C[3]=ne(()=>{},["stop"]))},x(s(J)(O.item.transaction)),9,Lp)]),u("div",Ip,[h(B,{type:"dollar",value:Math.round(O.item.liquidated_debt),precision:1/0},null,8,["value"])]),u("div",Dp,x(O.item.troves_affected_count),1),u("div",zp,x(s(l)(O.item.timestamp)),1)]),"row-details":w(()=>[G("  ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(Z,{show:!!s(c),onClose:C[4]||(C[4]=O=>c.value=null)},{default:w(()=>[s(c)?(y(),A(dn,{key:0,liquidation:s(c),"vault-addr":s(c).vault},null,8,["liquidation","vault-addr"])):z("",!0)]),_:1},8,["show"])],64)}}});function Pa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Liquidations"])},"search-placeholder":t=>{const{normalize:n}=t;return n(["Search for..."])}}})}typeof Pa=="function"&&Pa(Ys);const Op=I(Ys,[["__scopeId","data-v-604bc88e"]]),Rp={class:"liquidations"},Vp=P({__name:"Liquidations.page",setup(a){const e=W(),t=Ae().getSocket(je(e.flavor)),n=new Qe(t,"ethereum"),i=Te(n.overview$,[]);return(r,l)=>(y(),S("div",Rp,[h(Op,{vaults:s(i)},null,8,["vaults"])]))}}),Ep=I(Vp,[["__scopeId","data-v-39c61e01"]]),qp=["min","max","value"],Fp=P({__name:"InputNumber",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(a,{emit:e}){const t=e,n=i=>{t("update:modelValue",i.target.value)};return(i,r)=>(y(),S("input",{type:"number",min:i.min,max:i.max,value:i.modelValue,onInput:n},null,40,qp))}}),Up=I(Fp,[["__scopeId","data-v-65b94541"]]),Wp=P({__name:"ChartRevenueLine",props:{data:{default:()=>[]}},setup(a){let e;const{theme:t}=j(W()),{chart:n,chartRef:i}=ve(t,r,v=>{e=v.addAreaSeries(l())});N(()=>a.data,p),N(t,()=>e.applyOptions(l()));function r(v){return fe(v,t.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:o=>_(o)}})}function l(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:_e.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...t.value.lineChartColors}}function p(v){if(!n.value||!v)return;const o=H.chain(v).groupBy(c=>c.timestamp).mapValues(c=>({time:c[0].timestamp,value:f(c[0])})).entries().map(c=>c[1]).uniqWith((c,m)=>c.time===m.time).orderBy(c=>c.time,"asc").value();o.length>0&&e.setData(o),n.value.timeScale().fitContent()}const _=v=>`$${Q(v,1,"dollar")}${Y(v,"dollar")}`,f=v=>v.unlock_penalty_revenue_usd+v.borrowing_fees_revenue_usd+v.redemption_fees_revenue_usd;return(v,o)=>(y(),S("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512))}}),Bp=P({__name:"ChartRevenueBreakdown",props:{data:{default:()=>[]}},setup(a){const{theme:e}=j(W()),t=g(()=>le(e.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:n.value,labels:{formatter:l,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:p},min:0,max:r.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),n=g(()=>H.chain(a.data).orderBy(o=>o.timestamp,"asc").groupBy(o=>o.timestamp).map((o,c)=>new Date(parseInt(c,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((o,c)=>c%8===0?o:"").value()),i=g(()=>H.chain(Object.keys(a.data[0]).filter(o=>o!=="timestamp")).map(o=>a.data.map(c=>({...c,source:o}))).flatten().groupBy(o=>o.source).map((o,c)=>({name:f(c),data:H.chain(o).orderBy(m=>m.timestamp,"asc").map(m=>({x:new Date(m.timestamp*1e3).toLocaleDateString(),y:m[c]})).value()})).value()),r=g(()=>Math.max(...H.chain(a.data).groupBy(o=>o.timestamp).map(o=>o.reduce((c,m)=>c+_(m),0)).value())*1.1),l=o=>o,p=o=>`$${Q(o,1,"dollar")}${Y(o,"dollar")}`,_=o=>o.unlock_penalty_revenue_usd+o.borrowing_fees_revenue_usd+o.redemption_fees_revenue_usd,f=o=>{switch(o){case"unlock_penalty_revenue_usd":return"Unlock penalty";case"borrowing_fees_revenue_usd":return"Borrowing fees";case"redemption_fees_revenue_usd":return"Redemption fees";default:return v(o)}},v=o=>o.split("_").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join("");return(o,c)=>{const m=on;return y(),A(m,{class:"chart",options:s(t),series:s(i)},null,8,["options","series"])}}}),Np=I(Bp,[["__scopeId","data-v-12f4729f"]]),Hp=a=>(me("data-v-495c24cd"),a=a(),ye(),a),Kp={class:"actions"},Xp={class:"chart-input"},Gp={class:"chart-toggles"},Zp=Hp(()=>u("i",{class:"fas fa-burn"},null,-1)),jp={class:"chart-types"},Qs=P({__name:"ChartRevenue",setup(a){const{t:e}=U(),t=W(),n=new Is(X(),t.flavor),i=V("line"),r=V(1699723102),l=V(!0),{isFetching:p,data:_}=K({queryKey:["prisma-revenue-snapshots"],queryFn:()=>n.getSnapshots().then(o=>o.snapshots),initialData:[],initialDataUpdatedAt:0}),f=g(()=>_.value.filter(o=>o.timestamp>r.value).map(o=>H.cloneDeep(o)).map(o=>(l.value||(o.unlock_penalty_revenue_usd=0),o))),v=o=>{i.value!==o&&(i.value=o)};return(o,c)=>{const m=Up,d=lt,b=Ze,k=ae;return y(),A(k,{class:"chart-container",title:s(e)("title"),loading:s(p)},{actions:w(()=>[u("div",Kp,[u("div",Xp,[h(m,{modelValue:s(r),"onUpdate:modelValue":c[0]||(c[0]=$=>de(r)?r.value=$:null),placeholder:"Timestamp cut-off",min:0,max:new Date().getTime()/1e3},null,8,["modelValue","max"])]),u("div",Gp,[h(b,null,{item:w(()=>[h(d,{modelValue:s(l),"onUpdate:modelValue":c[1]||(c[1]=$=>de(l)?l.value=$:null)},{default:w(()=>[Zp]),_:1},8,["modelValue"])]),default:w(()=>[G(" "+x(s(e)("include-unlock-penalty")),1)]),_:1})]),u("div",jp,[h(d,{value:"Line","model-value":s(i)==="line",onClick:c[2]||(c[2]=$=>v("line"))},null,8,["model-value"]),h(d,{value:"Breakdown","model-value":s(i)==="breakdown",onClick:c[3]||(c[3]=$=>v("breakdown"))},null,8,["model-value"])])])]),default:w(()=>[s(i)==="line"?(y(),A(Wp,{key:0,data:s(f)},null,8,["data"])):(y(),A(Np,{key:1,data:s(f)},null,8,["data"]))]),_:1},8,["title","loading"])}}});function La(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["PRISMA revenue"])},"include-unlock-penalty":t=>{const{normalize:n}=t;return n(["Include unlock penalty revenue"])}}})}typeof La=="function"&&La(Qs);const Jp=I(Qs,[["__scopeId","data-v-495c24cd"]]),ei=P({__name:"ChartBreakdown",setup(a){const{t:e}=U(),{theme:t,flavor:n}=j(W()),i=new Is(X(),n.value),{isFetching:r,data:l}=K({queryKey:["prisma-revenue-breakdown"],queryFn:()=>i.getBreakdown(),initialData:{unlock_penalty:0,borrowing_fees:0,redemption_fees:0},initialDataUpdatedAt:0}),p=g(()=>le(t.value,{chart:{id:"breakdown",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:o=>{const c=f.value[o.seriesIndex],m=o.series[o.seriesIndex];return[`<div><b>${c}</b>:</div><div>${v(m)}</div>`].join("")}},labels:f.value})),_=g(()=>[l.value.unlock_penalty,l.value.borrowing_fees,l.value.redemption_fees]),f=g(()=>[e("unlockPenalty"),e("borrowingFees"),e("redemptionFees")]),v=o=>`$${Q(o,2,"percentage")}${Y(o,"percentage")}`;return(o,c)=>{const m=pe;return y(),A(m,{class:"graph",title:s(e)("title"),options:s(p),series:s(_),loading:s(r)},null,8,["title","options","series","loading"])}}});function Ia(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Breakdown"])},unlockPenalty:t=>{const{normalize:n}=t;return n(["Unlock penalty"])},borrowingFees:t=>{const{normalize:n}=t;return n(["Borrowing fees"])},redemptionFees:t=>{const{normalize:n}=t;return n(["Redemption fees"])}}})}typeof Ia=="function"&&Ia(ei);const Yp=I(ei,[["__scopeId","data-v-53d7dd7f"]]),Qp={class:"revenue"},ed=P({__name:"Revenue.page",setup(a){return(e,t)=>(y(),S("div",Qp,[h(Jp,{style:{"grid-column":"1"}}),h(Yp,{style:{"grid-column":"2"}})]))}}),td=I(ed,[["__scopeId","data-v-b2f76563"]]),nd={class:"tab-view"},ad={class:"tab-headers"},sd=["onClick"],id={class:"tabs"},od=P({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(a,{emit:e}){const t=e,n=V(null),i=Ts(),r=g(()=>(i!=null&&i.default?i.default():[]).filter(_=>_.props));N(()=>a.active,p=>{n.value=p,t("tab",{tab:r.value[p],index:n.value})},{immediate:!0});const l=(p,_)=>{p.props.disabled||(n.value=_,t("tab",{tab:r.value[_],index:n.value}))};return(p,_)=>(y(),S("div",nd,[u("ul",ad,[(y(!0),S(te,null,ce(s(r),(f,v)=>(y(),S("li",{key:v,class:F(["tab-header",{active:s(n)===v,disabled:f.props.disabled}]),onClick:o=>l(f,v)},x(f.props.header),11,sd))),128))]),u("div",id,[(y(!0),S(te,null,ce(s(r),(f,v)=>lo((y(),S("div",{key:v,class:"tab"},[(y(),A(Zt(f)))])),[[uo,s(n)===v]])),128))])]))}}),dt=I(od,[["__scopeId","data-v-cb076fcc"]]),mt=P({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(a){return(e,t)=>ee(e.$slots,"default")}}),rd={class:"legend"},ld=["onClick"],ud={class:"label"},cd=P({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(a,{emit:e}){const t=e,n=i=>a.colors[i];return(i,r)=>(y(),S("div",rd,[(y(!0),S(te,null,ce(i.items,(l,p)=>(y(),S("div",{key:l,class:F(["item",{clickable:i.clickable,disabled:i.disabled.includes(l)}]),onClick:_=>{i.clickable&&t("click",l)}},[u("div",{class:"color",style:ge({"background-color":n(p)})},null,4),u("div",ud,x(l),1)],10,ld))),128))]))}}),mn=I(cd,[["__scopeId","data-v-b0a9ca48"]]);function Xt(a){const e=Math.floor(new Date().getTime()/1e3),t=14400,n=e-t*299;switch(a){case"convex":return{pool:"0x3b21C2868B6028CfB38Ff86127eF22E68d16d53B",chain:"ethereum",main_token:"0xdA47862a83dac0c112BA89c6abC2159b95afd71C",reference_token:"0x34635280737b5BFe6c7DC2FC3065D60d66e78185",interval:t,start:n,end:e};case"yearn":return{pool:"0x69833361991ed76f9e8DBBcdf9ea1520fEbFb4a7",chain:"ethereum",main_token:"0xdA47862a83dac0c112BA89c6abC2159b95afd71C",reference_token:"0xe3668873D944E4A949DA05fc8bDE419eFF543882",interval:t,start:n,end:e};default:throw new Error("Unknown contract")}}function pd(a){const e=Math.floor(new Date().getTime()/1e3),t="day",n=e-86400*299;switch(a){case"convex":return{pool:"0x3b21C2868B6028CfB38Ff86127eF22E68d16d53B",chain:"ethereum",interval:t,start:n,end:e};case"yearn":return{pool:"0x69833361991ed76f9e8DBBcdf9ea1520fEbFb4a7",chain:"ethereum",interval:t,start:n,end:e};default:throw new Error("Unknown contract")}}const dd={class:"actions"},ti=P({__name:"ChartComparisonPrice",setup(a){const{t:e}=U();let t,n;const{theme:i}=j(W()),{chart:r,chartRef:l}=ve(i,b,M=>{t=M.addLineSeries(k("convex")),n=M.addLineSeries(k("yearn"))}),p=Ae().getSocket("prices"),_=new ht(p,"ethereum",Xt("convex")),f=new ht(p,"ethereum",Xt("yearn")),v=Te(_.ohlc$,[]),o=Te(f.ohlc$,[]),c=g(()=>v.value.length+o.value.length===0);let m=1.1,d=0;N(i,()=>{t.applyOptions(k("convex")),n.applyOptions(k("yearn"))}),N(v,M=>$(M,"convex")),N(o,M=>$(M,"yearn"));function b(M){return fe(M,i.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:L=>D(L)}})}function k(M){const L=M==="convex"?i.value.colors.blue:i.value.colors.yellow;return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:_e.WithSteps,color:L,lastValueVisible:!1,priceLineVisible:!1}}function $(M,L){if(!r.value||!t||!n)return;const T=H.chain(M).map(C=>({time:C.time,value:C.close})).uniqWith((C,E)=>C.time===E.time).orderBy(C=>C.time,"asc").value();if(T.length>0){L==="convex"?t.setData(T):L==="yearn"&&n.setData(T);const C=[...v.value.map(E=>E.close),...o.value.map(E=>E.close)];d=Math.min(...C),m=Math.max(...C),r.value.timeScale().fitContent()}}const D=M=>{const L=m-d,T=L>1?L-Math.floor(L):L,C=-Math.floor(Math.log10(T)+1)+2;return`${Q(M,C,"dollar")}${Y(M,"dollar")}`};return(M,L)=>{const T=mn,C=ae;return y(),A(C,{class:"chart-container",title:s(e)("title"),loading:s(c)},{actions:w(()=>[u("div",dd,[h(T,{items:["cvxPRISMA","yPRISMA"],colors:[s(i).colors.blue,s(i).colors.yellow]},null,8,["colors"])])]),default:w(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Da(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Price (peg)"])}}})}typeof Da=="function"&&Da(ti);const md=I(ti,[["__scopeId","data-v-357b1740"]]),yd={class:"actions"},ni=P({__name:"ChartComparisonTVL",setup(a){const{t:e}=U(),t=new ct(X());let n,i;const{theme:r}=j(W()),{chart:l,chartRef:p}=ve(r,m,$=>{n=$.addLineSeries(d("convex")),i=$.addLineSeries(d("yearn"))}),_=g(()=>f.value||o.value),{isFetching:f,data:v}=K({queryKey:["prisma-wrapper-tvl","convex"],queryFn:()=>t.getTVL("convex").then($=>$.tvl),initialData:[],initialDataUpdatedAt:0}),{isFetching:o,data:c}=K({queryKey:["prisma-wrapper-tvl","yearn"],queryFn:()=>t.getTVL("yearn").then($=>$.tvl),initialData:[],initialDataUpdatedAt:0});N(r,()=>{n.applyOptions(d("convex")),i.applyOptions(d("yearn"))}),N([v,l],([$,D])=>b("convex",$,D)),N([c,l],([$,D])=>b("yearn",$,D));function m($){return fe($,r.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:D=>k(D)}})}function d($){const D=$==="convex"?r.value.colors.blue:r.value.colors.yellow;return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:_e.WithSteps,color:D,lastValueVisible:!1,priceLineVisible:!1}}function b($,D,M){if(!M||!n||!i)return;const L=H.chain(D).map(T=>({time:T.timestamp,value:T.value})).uniqWith((T,C)=>T.time===C.time).orderBy(T=>T.time,"asc").value();L.length>0&&($==="convex"?n.setData(L):$==="yearn"&&i.setData(L),M.timeScale().fitContent())}const k=$=>`$${Q($,0,"dollar")}${Y($,"dollar")}`;return($,D)=>{const M=mn,L=ae;return y(),A(L,{class:"chart-container",title:s(e)("title"),loading:s(_)},{actions:w(()=>[u("div",yd,[h(M,{items:["cvxPRISMA","yPRISMA"],colors:[s(r).colors.blue,s(r).colors.yellow]},null,8,["colors"])])]),default:w(()=>[u("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function za(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["TVL"])}}})}typeof za=="function"&&za(ni);const fd=I(ni,[["__scopeId","data-v-255c6de2"]]),vd={class:"overview"},_d=P({__name:"Overview",setup(a){return(e,t)=>(y(),S("div",vd,[h(md),h(fd)]))}}),hd=I(_d,[["__scopeId","data-v-8905db3f"]]),ai=P({__name:"ChartPrice",props:{contract:{}},setup(a){const{t:e}=U();let t,n,i=1,r=0;const{theme:l,flavor:p}=j(W()),{chart:_,chartRef:f}=ve(l,D,q=>{t=q.addCandlestickSeries(M()),n=q.addHistogramSeries(L())}),v=Xt(a.contract),o=pd(a.contract),c=Ae().getSocket("prices"),m=new ht(c,"ethereum",v),d=new Ko(c,"ethereum",o),b=Te(m.ohlc$,[]),k=Te(d.volume$,[]),$=g(()=>b.value.length+k.value.length===0);N(l,()=>{t.applyOptions(M()),n.applyOptions(L())}),N(b,T),N(k,C);function D(q){return fe(q,l.value,{height:300,leftPriceScale:{scaleMargins:{top:.75,bottom:0}},localization:{priceFormatter:B=>E(B)}})}function M(){const{colors:q}=l.value;return{priceFormat:{type:"price",precision:6,minMove:.01},upColor:q.green,borderUpColor:q.green,wickUpColor:q.green,downColor:q.red,borderDownColor:q.red,wickDownColor:q.red,lastValueVisible:!1,priceLineVisible:!1}}function L(){const{colors:q}=l.value;return{color:p.value==="lsd"?q.blue:q.purple,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}}function T(q){if(!_.value||!t)return;const B=1,R=H.chain(q).map(Z=>({time:Z.time,open:Math.pow(Z.open,B),high:Math.pow(Z.high,B),low:Math.pow(Z.low,B),close:Math.pow(Z.close,B)})).uniqWith((Z,O)=>Z.time===O.time).orderBy(Z=>Z.time,"asc").value();R.length>0&&(t.setData(R),_.value.timeScale().fitContent(),r=Math.min(...R.map(Z=>Z.low)),i=Math.max(...R.map(Z=>Z.high))),_.value.timeScale().fitContent()}function C(q){if(!_.value||!n)return;const B=H.chain(q).map(R=>({time:R.timestamp,value:R.volume})).uniqWith((R,Z)=>R.time===Z.time).orderBy(R=>R.time,"asc").value();B.length>0&&n.setData(B)}const E=q=>{const B=i-r,R=B>1?B-Math.floor(B):B,Z=-Math.floor(Math.log10(R)+1)+2;return`${Q(q,Z,"dollar")}${Y(q,"dollar")}`};return(q,B)=>{const R=ae;return y(),A(R,{class:"chart-container",title:s(e)("title"),loading:s($)},{default:w(()=>[u("div",{ref_key:"chartRef",ref:f,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Oa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Price (peg)"])}}})}typeof Oa=="function"&&Oa(ai);const si=I(ai,[["__scopeId","data-v-f3f6ce9e"]]),ii=P({__name:"ChartTVL",props:{contract:{}},setup(a){const{t:e}=U(),t=new ct(X());let n;const{theme:i}=j(W()),{chart:r,chartRef:l}=ve(i,f,m=>{n=m.addAreaSeries(v())}),{isFetching:p,data:_}=K({queryKey:["prisma-wrapper-tvl",g(()=>a.contract)],queryFn:({queryKey:[,m]})=>t.getTVL(m).then(d=>d.tvl),initialData:[],initialDataUpdatedAt:0});N([_,r],o),N(i,()=>n.applyOptions(v()));function f(m){return fe(m,i.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:d=>c(d)}})}function v(){return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:_e.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...i.value.lineChartColors}}function o([m,d]){if(!d||!n)return;const b=H.chain(m).filter(k=>k.value>0).map(k=>({time:k.timestamp,value:k.value})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc").value();b.length>0&&n.setData(b),d.timeScale().fitContent()}const c=m=>`$${Q(m,0,"dollar")}${Y(m,"dollar")}`;return(m,d)=>{const b=ae;return y(),A(b,{class:"chart-container",title:s(e)("title"),loading:s(p)},{default:w(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ra(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["TVL"])}}})}typeof Ra=="function"&&Ra(ii);const oi=I(ii,[["__scopeId","data-v-c5957bbc"]]),ri=P({__name:"ChartFlow",props:{contract:{}},setup(a){const{t:e}=U(),t=new ct(X()),{theme:n}=j(W()),{isFetching:i,data:r}=K({queryKey:["prisma-wrapper-flow",g(()=>a.contract)],queryFn:({queryKey:[,o]})=>t.getFlow(o),initialData:{deposits:[],withdrawals:[]},initialDataUpdatedAt:0}),l=g(()=>{const{colors:o}=n.value;return le(n.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[o.green,o.red],xaxis:{categories:p.value,labels:{formatter:f,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:v}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:c,dataPointIndex:m,w:d})=>{let b=0;const k=c.map(($,D)=>{const M=$[m];return b+=M,`<div><b>${d.globals.seriesNames[D]}</b>:	${v(M)}</div>`});return k.push(`<div><b>Total</b>:	${v(b)}</div>`),k.join("")}}})}),p=g(()=>r.value.deposits.length===0?[]:r.value.deposits.map(o=>new Date(o.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),_=g(()=>[{name:e("deposits"),data:Object.values(r.value.deposits).map(o=>o.amount_usd)},{name:e("withdrawals"),data:Object.values(r.value.withdrawals).map(o=>-o.amount_usd)}]),f=o=>o,v=o=>`$${Q(o,0,"dollar")}${Y(o,"dollar")}`;return(o,c)=>{const m=pe;return y(),A(m,{title:s(e)("title"),loading:s(i),options:s(l),series:s(_)},null,8,["title","loading","options","series"])}}});function Va(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Staking and unstaking"])},deposits:t=>{const{normalize:n}=t;return n(["Deposits"])},withdrawals:t=>{const{normalize:n}=t;return n(["Withdrawals"])}}})}typeof Va=="function"&&Va(ri);const li=I(ri,[["__scopeId","data-v-b6328e9e"]]),ui=P({__name:"ChartAPR",props:{contract:{}},setup(a){const{t:e}=U(),t=new ct(X());let n;const{theme:i}=j(W()),{chart:r,chartRef:l}=ve(i,f,m=>{n=m.addAreaSeries(v())}),{isFetching:p,data:_}=K({queryKey:["prisma-wrapper-snapshots",g(()=>a.contract)],queryFn:({queryKey:[,m]})=>t.getSnapshots(m).then(d=>d.Snapshots),initialData:[],initialDataUpdatedAt:0});N([_,r],o),N(i,()=>n.applyOptions(v()));function f(m){return fe(m,i.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:d=>c(d)}})}function v(){return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:_e.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...i.value.lineChartColors}}function o([m,d]){if(!d||!n)return;const b=H.chain(m).filter(k=>k.timestamp>=1699630610).map(k=>({time:k.timestamp,value:k.total_apr*100})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc").value();b.length>0&&n.setData(b),d.timeScale().fitContent()}const c=m=>`${Q(m,0,"percentage")}${Y(m,"percentage")}`;return(m,d)=>{const b=ae;return y(),A(b,{class:"chart-container",title:s(e)("title"),loading:s(p)},{default:w(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ea(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["APR"])}}})}typeof Ea=="function"&&Ea(ui);const ci=I(ui,[["__scopeId","data-v-6ddad98b"]]),pi=P({__name:"ChartDistribution",props:{contract:{}},setup(a){const{t:e}=U(),t=new ct(X()),{theme:n}=j(W()),{isFetching:i,data:r}=K({queryKey:["prisma-wrapper-distribution",g(()=>a.contract)],queryFn:({queryKey:[,o]})=>t.getDistribution(o).then(c=>c.distribution),initialData:[],initialDataUpdatedAt:0}),l=g(()=>le(n.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:f,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:v}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),p=g(()=>r.value.map(o=>o.label)),_=g(()=>[{name:e("size"),data:Object.values(r.value).map(o=>o.value)}]),f=o=>o,v=o=>`$${Q(o,0,"dollar")}${Y(o,"dollar")}`;return(o,c)=>{const m=pe;return y(),A(m,{class:"chart",title:s(e)("title"),loading:s(i),options:s(l),series:s(_)},null,8,["title","loading","options","series"])}}});function qa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Position size"])},size:t=>{const{normalize:n}=t;return n(["Size"])}}})}typeof qa=="function"&&qa(pi);const di=I(pi,[["__scopeId","data-v-d22ffbed"]]),bd={class:"cvxprisma"},gd=P({__name:"CvxPrisma",setup(a){return(e,t)=>(y(),S("div",bd,[h(si,{contract:"convex"}),h(oi,{contract:"convex"}),h(li,{contract:"convex"}),h(ci,{contract:"convex"}),h(di,{contract:"convex",style:{"grid-column":"1 / -1"}})]))}}),wd=I(gd,[["__scopeId","data-v-91ade2ce"]]),Td={class:"yprisma"},kd=P({__name:"YPrisma",setup(a){return(e,t)=>(y(),S("div",Td,[h(si,{contract:"yearn"}),h(oi,{contract:"yearn"}),h(li,{contract:"yearn"}),h(ci,{contract:"yearn"}),h(di,{contract:"yearn",style:{"grid-column":"1 / -1"}})]))}}),$d=I(kd,[["__scopeId","data-v-dc6f0440"]]);function mi(a,e,t){const n=it(),i=at("tab",a[0]),r=V(-1);return N(i,l=>r.value=a.findIndex(p=>p===l),{immediate:!0}),N(r,async l=>{l===-1&&(l=0),await n.push({name:e,params:{tab:a[l],...(t==null?void 0:t())??{}},replace:i.value===""})},{immediate:!0}),{tabActive:i,tabActiveIndex:r}}const Cd={class:"wrappers"},Md=P({__name:"Wrappers.page",setup(a){const{tabActive:e,tabActiveIndex:t}=mi(["overview","cvxprisma","yprisma"],"wrappers");return(n,i)=>{const r=mt,l=dt;return y(),S("div",Cd,[h(l,{active:s(t),onTab:i[0]||(i[0]=p=>t.value=p.index)},{default:w(()=>[h(r,{header:"Overview"},{default:w(()=>[s(e)==="overview"?(y(),A(hd,{key:0})):z("",!0)]),_:1}),h(r,{header:"cvxPRISMA"},{default:w(()=>[s(e)==="cvxprisma"?(y(),A(wd,{key:0})):z("",!0)]),_:1}),h(r,{header:"yPRISMA"},{default:w(()=>[s(e)==="yprisma"?(y(),A($d,{key:0})):z("",!0)]),_:1})]),_:1},8,["active"])])}}}),Sd=I(Md,[["__scopeId","data-v-eb3d2ad5"]]),xd={class:"title"},Ad={style:{display:"flex",gap:"1rem"}},Pd=["href"],Fa=10,yi=P({__name:"TableLockers",props:{lockers:{default:()=>[]}},setup(a){const{t:e}=U(),{sortColumn:t,sortOrder:n,onSort:i}=Le("weight"),r=V(""),l=g(()=>["Locker","Weight","Locked","Unlocked","Frozen"]),p=g(()=>["locker","weight","locked","unlocked","frozen"]),_=g(()=>["weight","locked","unlocked","frozen"]),f=g(()=>H.chain(a.lockers).filter(m=>{const d=r.value.toLocaleLowerCase().split(" ");return(k=>d.some($=>k.toLocaleLowerCase().includes($)))(m.id)}).orderBy(m=>{switch(t.value){case"weight":return m.weight;case"locked":return m.locked;case"unlocked":return m.unlocked;case"frozen":return m.frozen;default:return m.weight}},n.value===ie.Descending?"desc":"asc").value()),{page:v,rowsPage:o,onPage:c}=Ce(f,Fa);return(m,d)=>{const b=he,k=$e,$=se,D=ue;return y(),A(D,{class:"datatable-lockers","columns-header":"1fr 3fr","columns-data":"lockers-columns-data",rows:s(o),columns:s(l),sorting:!0,"sorting-columns":s(p),"sorting-columns-enabled":s(_),"sorting-default-column":"weight","sorting-default-dir":"Descending",onSortColumn:s(i)},{"header-content":w(()=>[u("div",xd,x(s(e)("title")),1),u("div",Ad,[h(b,{modelValue:s(r),"onUpdate:modelValue":d[0]||(d[0]=M=>de(r)?r.value=M:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"]),h(k,{class:"pagination","items-count":s(f).length,"items-per-page":Fa,page:s(v),onPage:s(c)},null,8,["items-count","page","onPage"])])]),row:w(M=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${M.item.id}`,target:"_blank",onClick:d[1]||(d[1]=ne(()=>{},["stop"]))},x(M.item.id),9,Pd)]),u("div",{class:F(["number",{zero:M.item.weight===0}])},[h($,{type:"dollar",value:Math.round(M.item.weight),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),u("div",{class:F(["number",{zero:M.item.locked===0}])},[h($,{type:"dollar",value:Math.round(M.item.locked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),u("div",{class:F(["number",{zero:M.item.unlocked===0}])},[h($,{type:"dollar",value:Math.round(M.item.unlocked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),u("div",{class:F(["number",{zero:M.item.frozen===0}])},[h($,{type:"dollar",value:Math.round(M.item.frozen),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2)]),_:1},8,["rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"])}}});function Ua(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Lockers"])},"search-placeholder":t=>{const{normalize:n}=t;return n(["Search for..."])}}})}typeof Ua=="function"&&Ua(yi);const Ld=I(yi,[["__scopeId","data-v-44c37eae"]]),Wa="https://api.thegraph.com/subgraphs/name/benber86/prisma";class fi extends ke{async getTopLockers(){const t=await this.fetch(Wa,{query:`{
      lockers {
        totalWeight
      }
      accountDatas(first: 100 orderBy: weight orderDirection: desc) {
        id
        weight
        locked
        unlocked
        frozen
      }
    }`}),n=t.data.accountDatas.map(r=>({id:r.id,weight:parseInt(r.weight,10),locked:parseInt(r.locked,10),unlocked:parseInt(r.unlocked,10),frozen:parseInt(r.frozen,10)}));return{totalWeight:parseInt(t.data.lockers[0].totalWeight,10),accounts:n}}async getVotesIncentives(){return(await this.fetch(Wa,{query:`{
      incentiveVotes(first:100, orderBy:blockNumber, orderDirection:desc) {
        voter {
          id
        }
        votes(first: 100, orderBy:points, orderDirection:desc) {
          recipient {
            id
            address
          }
          points
        }
        isClearance
        transactionHash
        blockTimestamp
      }
    }`})).data.incentiveVotes.map(n=>n.votes.map(i=>({voter:n.voter.id,recipient:i.recipient.address,points:parseInt(i.points,10),isClearance:n.isClearance,transaction:n.transactionHash,timestamp:parseInt(n.blockTimestamp,10)}))).flat()}}const Id={class:"title"},Dd=["href"],zd=["href"],Od={class:"number"},Rd={class:"number"},Vd=["href"],Ed={class:"number"},Ba=20,vi=P({__name:"TableVotesIncentives",setup(a){const{t:e}=U(),t=new fi(X()),{isFetching:n,data:i}=K({queryKey:["prisma-vote-incentives"],queryFn:()=>t.getVotesIncentives(),initialData:[],initialDataUpdatedAt:0}),{relativeTime:r}=xe(),l=g(()=>["Voter","Recipient","Points","Tx","Time"]),p=g(()=>i.value),{page:_,rowsPage:f,onPage:v}=Ce(p,Ba);return(o,c)=>{const m=$e,d=se,b=ue;return y(),A(b,{class:"datatable-votes-incentives","columns-header":"1fr minmax(auto, 25rem) auto","columns-data":"votes-incentives-columns-data",loading:s(n),rows:s(f),columns:s(l)},{"header-content":w(()=>[u("div",Id,x(s(e)("title")),1),h(m,{class:"pagination","items-count":s(p).length,"items-per-page":Ba,page:s(_),onPage:s(v)},null,8,["items-count","page","onPage"])]),row:w(k=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${k.item.voter}`,target:"_blank",onClick:c[0]||(c[0]=ne(()=>{},["stop"]))},x(s(J)(k.item.voter)),9,Dd)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${k.item.recipient}`,target:"_blank",onClick:c[1]||(c[1]=ne(()=>{},["stop"]))},x(s(J)(k.item.recipient)),9,zd)]),u("div",Od,[h(d,{type:"dollar",value:Math.round(k.item.points),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])]),u("div",Rd,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${k.item.transaction}`,target:"_blank",onClick:c[2]||(c[2]=ne(()=>{},["stop"]))},x(s(J)(k.item.transaction)),9,Vd)]),u("div",Ed,x(s(r)(k.item.timestamp)),1)]),_:1},8,["loading","rows","columns"])}}});function Na(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Incentive votes"])}}})}typeof Na=="function"&&Na(vi);const qd=I(vi,[["__scopeId","data-v-1ee66c7a"]]),_i=P({__name:"ChartTopLockers",props:{totalWeight:{default:0},lockers:{default:()=>[]}},setup(a){const{t:e}=U(),{theme:t}=j(W()),n=g(()=>a.lockers.slice(0,10)),i=g(()=>le(t.value,{chart:{id:"topLockers",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:f=>{const v=l.value[f.seriesIndex],o=f.series[f.seriesIndex],c=o/(a.totalWeight/100);return[`<div><b>${v}</b>:</div><div>${_(c)} - ${p(o)}</div>`].join("")}},labels:n.value.map(f=>f.id).concat(["Other"])})),r=g(()=>{const f=n.value.map(c=>c.weight),v=f.reduce((c,m)=>c+m,0),o=a.totalWeight-v;return[...f,o]}),l=g(()=>n.value.map(f=>f.id).concat(["Other"])),p=f=>`${Q(f,2,"dollar")}${Y(f,"dollar")}`,_=f=>`${Q(f,2,"percentage")}${Y(f,"percentage")}`;return(f,v)=>{const o=pe;return y(),A(o,{class:"graph",title:s(e)("title"),options:s(i),series:s(r)},null,8,["title","options","series"])}}});function Ha(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Top 10 largest lockers"])}}})}typeof Ha=="function"&&Ha(_i);const Fd=I(_i,[["__scopeId","data-v-a89f66d8"]]),Ud={class:"veprisma"},Wd=P({__name:"VePrisma.page",setup(a){const e=new fi(X()),{isFetching:t,data:n}=K({queryKey:["prisma-top-lockers"],queryFn:()=>e.getTopLockers(),initialData:{totalWeight:0,accounts:[]},initialDataUpdatedAt:0}),i=g(()=>n.value.accounts),r=g(()=>n.value.totalWeight);return(l,p)=>(y(),S("div",Ud,[h(Ld,{style:{"grid-row":"1","grid-column":"1"},loading:s(t),lockers:s(i)},null,8,["loading","lockers"]),h(Fd,{style:{"grid-row":"1","grid-column":"2"},loading:s(t),lockers:s(i),"total-weight":s(r)},null,8,["loading","lockers","total-weight"]),h(qd,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}}),Bd=I(Wd,[["__scopeId","data-v-2b3448d6"]]);function Se(a){return a.status==="executed"?"executed":a.end>new Date().getTime()/1e3?"active":Nd(a)?"passed":"denied"}function Nd(a){return a.weightReceived>a.weightRequired}const hi=P({__name:"Status",props:{proposal:{}},setup(a){const{t:e}=U(),t=g(()=>Se(a.proposal)==="denied"?e("no-quorum"):""),n=g(()=>{switch(Se(a.proposal)){case"active":return e("active");case"denied":return e("denied");case"passed":return e("passed");case"executed":return e("executed");default:return"Unk. Status"}});return(i,r)=>{const l=Ze,p=Pe;return y(),A(p,{class:"status","tooltip-type":"underline",label:s(e)("status"),"has-value":!0,tooltip:s(t)},{default:w(()=>[s(t)?(y(),A(l,{key:0},{item:w(()=>[u("span",{class:F(["status-value",s(Se)(i.proposal)])},x(s(n)),3)]),default:w(()=>[G(" "+x(s(t)),1)]),_:1})):(y(),S("span",{key:1,class:F(["status-value",s(Se)(i.proposal)])},x(s(n)),3))]),_:1},8,["label","tooltip"])}}});function Ka(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{status:t=>{const{normalize:n}=t;return n(["Status"])},active:t=>{const{normalize:n}=t;return n(["Active"])},denied:t=>{const{normalize:n}=t;return n(["Denied"])},passed:t=>{const{normalize:n}=t;return n(["Passed"])},executed:t=>{const{normalize:n}=t;return n(["Executed"])},"no-quorum":t=>{const{normalize:n}=t;return n(["Quorum was not reached"])}}})}typeof Ka=="function"&&Ka(hi);const Hd=I(hi,[["__scopeId","data-v-be0ac349"]]),Kd=["href"],bi=P({__name:"Proposer",props:{proposal:{}},setup(a){const{t:e}=U();return(t,n)=>{const i=Pe;return y(),A(i,{class:"proposer",label:s(e)("proposer"),"has-value":!0},{default:w(()=>[u("a",{href:`https://etherscan.io/address/${t.proposal.proposer}`,target:"_blank"},x(s(J)(t.proposal.proposer)),9,Kd)]),_:1},8,["label"])}}});function Xa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{proposer:t=>{const{normalize:n}=t;return n(["Proposer"])}}})}typeof Xa=="function"&&Xa(bi);const Gt=P({__name:"Date",props:{proposal:{},type:{}},setup(a){const{t:e}=U();let t;const n=V(""),i=g(()=>{switch(a.type){case"start":return e("start");case"end":return e("end");default:return"Unk. Type"}}),r=g(()=>{switch(a.type){case"start":return new Date(a.proposal.start*1e3).toLocaleDateString();case"end":{const _=new Date(a.proposal.end*1e3);return _>new Date?n.value:_.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),l=g(()=>{switch(a.type){case"start":return new Date(a.proposal.start*1e3).toLocaleDateString()+" "+new Date(a.proposal.start*1e3).toTimeString();case"end":return new Date(a.proposal.end*1e3).toLocaleDateString()+" "+new Date(a.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});we(()=>{p()});const p=()=>{const _=new Date(a.proposal.end*1e3);t&&clearInterval(t),t=setInterval(()=>{n.value=Eo(_)})};return(_,f)=>{const v=Pe;return y(),A(v,{class:"date","tooltip-type":"underline",label:s(i),value:s(r),"has-value":!0,tooltip:s(l)},null,8,["label","value","tooltip"])}}});function Ga(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{start:t=>{const{normalize:n}=t;return n(["Start"])},end:t=>{const{normalize:n}=t;return n(["End"])}}})}typeof Ga=="function"&&Ga(Gt);const Xd=a=>(me("data-v-c2dcaf56"),a=a(),ye(),a),Gd={class:"id"},Zd={class:"metadata"},jd={class:"row"},Jd=Xd(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),Yd=[Jd],gi=P({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(a,{emit:e}){const{t}=U(),n=e;return(i,r)=>{var l,p;return y(),S("div",{class:"proposal-summary",onClick:r[0]||(r[0]=_=>n("toggleExpand"))},[u("div",{class:F(["title",{"no-title":!((l=i.proposal.metadata)!=null&&l.title)}])},[u("div",Gd,x(i.proposal.id),1),u("div",Zd,x(((p=i.proposal.metadata)==null?void 0:p.title)||s(t)("no-title")),1)],2),u("div",jd,[h(Hd,{class:"item",proposal:i.proposal},null,8,["proposal"]),h(bi,{class:"item",proposal:i.proposal},null,8,["proposal"]),h(Gt,{class:"item",proposal:i.proposal,type:"start"},null,8,["proposal"]),h(Gt,{class:"item",proposal:i.proposal,type:"end"},null,8,["proposal"]),u("div",{class:F(["item expander",{expanded:i.expanded}])},Yd,2)])])}}});function Za(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-title":t=>{const{normalize:n}=t;return n(["< No Title >"])}}})}typeof Za=="function"&&Za(gi);const Qd=I(gi,[["__scopeId","data-v-c2dcaf56"]]),em=a=>(me("data-v-3ae22b38"),a=a(),ye(),a),tm={class:"quorum"},nm={class:"heading"},am={class:"amount"},sm={class:"bar"},im={class:"percentages"},om=em(()=>u("div",{class:"zero"},"0%",-1)),rm={class:"quorum"},wi=P({__name:"VotingQuorum",props:{proposal:{}},setup(a){const{t:e}=U(),t=g(()=>a.proposal.weightReceived),n=g(()=>a.proposal.weightRequired),i=g(()=>t.value/n.value*100);return(r,l)=>{const p=se;return y(),S("div",tm,[u("div",nm,x(s(e)("quorum")),1),u("div",am,[h(p,{value:s(t),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),G(" / "),h(p,{value:s(n),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),G(" vePRISMA ")]),u("div",sm,[u("div",{class:"support",style:ge({width:`${s(i)}%`})},null,4),u("div",{class:"quorum",style:ge({width:`${100-s(i)}%`})},null,4)]),u("div",im,[om,u("div",rm,[h(p,{value:Math.min(s(i),100),precision:0,type:"percentage"},null,8,["value"])])])])}}});function ja(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{quorum:t=>{const{normalize:n}=t;return n(["Quorum"])}}})}typeof ja=="function"&&ja(wi);const lm=I(wi,[["__scopeId","data-v-3ae22b38"]]),um={class:"buttons"},cm={class:"veprisma"},pm={class:"info"},dm={class:"kpis"},mm={class:"description"},ym={class:"title"},Ti=P({__name:"VotingButtons",props:{proposal:{}},setup(a){const{t:e}=U(),{address:t,withProvider:n,withProviderReturn:i,withSigner:r}=Ge(),l=V(!1),p=V(!1),_=V(!1),f=V(!1),v=V(0n),o=V(!1),c=g(()=>v.value>0n&&!f.value&&b.value&&!o.value),m=g(()=>c.value?"submit":f.value?"voting":b.value?o.value?"voted":"not-enough-voting-power":"voting-closed"),d=g(()=>Number(v.value)),b=g(()=>Se(a.proposal)==="active"),k=g(()=>Se(a.proposal)==="passed"),$=r((T,C)=>Qn(f,async()=>{const E=Ne.connect(ft,T),q=[C,a.proposal.id,v.value],B=await E.estimateGas.voteForProposal(...q);await E.voteForProposal(...q,{gasLimit:B.mul(125).div(100)}).then(R=>R.wait()),l.value=!1})),D=r(T=>Qn(p,async()=>{const C=Ne.connect(ft,T),E=[a.proposal.id],q=await C.estimateGas.executeProposal(...E);await C.executeProposal(...E,{gasLimit:q.mul(125).div(100)}).then(B=>B.wait()),_.value=await L()})),M=n(async(T,C)=>{const E=Ne.connect(ft,T),q=await E.tokenLocker();o.value=await E.accountVoteWeights(C,a.proposal.id).then(Z=>Z.gt(0));const B=Ht.connect(q,T),R=Math.floor((a.proposal.start-1691625600)/604800)-1;v.value=await B.getAccountWeightAt(C,R).then(Z=>Z.toBigInt())});N(l,async T=>{T&&await Xo(M)});const L=i(async T=>{if(!k.value)return!1;const E=await Ne.connect(ft,T).MAX_TIME_TO_EXECUTION().then(Z=>Number(Z.toBigInt())),q=a.proposal.executeAfter!==0,B=a.proposal.executeAfter<new Date().getTime()/1e3,R=a.proposal.executeAfter+E>new Date().getTime()/1e3;return q&&B&&R},()=>!1);return N(t,async()=>{_.value=await L()},{immediate:!0}),(T,C)=>{const E=rt,q=se,B=Pe,R=ae,Z=qe;return y(),S(te,null,[u("div",um,[h(E,{value:s(e)("vote"),primary:!0,onClick:C[0]||(C[0]=O=>l.value=!0)},null,8,["value"]),s(k)?(y(),A(E,{key:0,value:s(e)(s(p)?"executing":"execute"),primary:!0,disabled:!s(_)||s(p),onClick:s(D)},null,8,["value","disabled","onClick"])):z("",!0)]),h(Z,{class:"vote-modal",show:s(l),onClose:C[1]||(C[1]=O=>l.value=!1)},{default:w(()=>[h(R,{title:s(e)("vote-with-veprisma"),class:"vote-content"},{default:w(()=>{var O;return[u("div",cm,[u("div",pm,[u("div",dm,[h(B,{label:s(e)("voting-power"),"has-value":!0},{default:w(()=>[h(q,{value:s(d),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),G(" vePRISMA ")]),_:1},8,["label"]),h(B,{label:s(e)("block"),value:T.proposal.block,"has-value":!0},null,8,["label","value"])]),u("div",mm,[u("span",ym,x(s(e)("description"))+": ",1),u("span",null,x(((O=T.proposal.metadata)==null?void 0:O.description)||""),1)])]),h(E,{class:"submit",value:s(e)(s(m)),primary:!0,disabled:!s(c),web3:!0,onClick:s($)},null,8,["value","disabled","onClick"])])]}),_:1},8,["title"])]),_:1},8,["show"])],64)}}});function Ja(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{vote:t=>{const{normalize:n}=t;return n(["Vote"])},"vote-with-veprisma":t=>{const{normalize:n}=t;return n(["Vote with vePRISMA"])},voting:t=>{const{normalize:n}=t;return n(["Voting..."])},"voting-closed":t=>{const{normalize:n}=t;return n(["Voting closed"])},voted:t=>{const{normalize:n}=t;return n(["You've already voted"])},description:t=>{const{normalize:n}=t;return n(["Description"])},"voting-power":t=>{const{normalize:n}=t;return n(["Voting power"])},block:t=>{const{normalize:n}=t;return n(["Block"])},submit:t=>{const{normalize:n}=t;return n(["Submit"])},"not-enough-voting-power":t=>{const{normalize:n}=t;return n(["Not enough vePRISMA voting power"])},execute:t=>{const{normalize:n}=t;return n(["Execute"])},executing:t=>{const{normalize:n}=t;return n(["Executing..."])}}})}typeof Ja=="function"&&Ja(Ti);const fm=I(Ti,[["__scopeId","data-v-72c7754e"]]),vm={class:"voting"},_m=P({__name:"Voting",props:{proposal:{}},setup(a){return(e,t)=>(y(),S("div",vm,[h(lm,{proposal:e.proposal},null,8,["proposal"]),h(fm,{proposal:e.proposal},null,8,["proposal"])]))}}),hm=I(_m,[["__scopeId","data-v-e200fa8f"]]),bm={class:"voters"},gm={class:"address"},wm=["href"],Tm={class:"amount"},km={class:"percentage"},$m=P({__name:"Voters",props:{proposal:{}},setup(a){const{address:e}=Ge(),t=g(()=>H.chain(a.proposal.voters).orderBy(l=>l.weight,"desc").value()),n=l=>l==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":l==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":l==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":J(l,12),i=l=>l/a.proposal.weightReceived*100,r=l=>l===e.value;return(l,p)=>{const _=se;return y(),S("div",bm,[(y(!0),S(te,null,ce(s(t),f=>(y(),S("div",{key:f.voter,class:"vote"},[u("div",gm,[u("a",{target:"_blank",href:`https://etherscan.io/address/${f.voter}`,class:F({you:r(f.voter)})},x(n(f.voter)),11,wm)]),u("div",Tm,[h(_,{value:f.weight,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",km,[h(_,{value:i(f.weight),precision:0,type:"percentage"},null,8,["value"])])]))),128))])}}}),Cm=I($m,[["__scopeId","data-v-d17b5124"]]),Mm={class:"technicals"},Sm={key:0,class:"technical"},xm={class:"heading"},Am={class:"description"},Pm=["href"],Lm={key:1,class:"technical"},Im={class:"heading"},Dm={class:"description"},zm=["href"],Om={key:2,class:"technical"},Rm={class:"heading"},Vm={class:"description"},Em={class:"technical"},qm={class:"technical"},Fm=["innerHTML"],ki=P({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean}},setup(a){const{t:e}=U(),t=V(!0),n=V(a.proposal.votes>0),i=g(()=>`https://twitter.com/@${a.proposal.metadata.author}`),r=g(()=>H.uniqWith(a.proposal.voters.map(p=>p.voter),(p,_)=>p===_).length),l=g(()=>a.proposal.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("//g","").replace("//g","").replace(/0x[a-fA-F0-9]{40}/g,p=>/[A-F]/g.test(p)&&co.isAddress(p)?`<a href='https://etherscan.io/address/${p}'>${p}</a>`:p));return(p,_)=>{var v,o,c,m;const f=ot;return y(),S("div",Mm,[(v=p.proposal.metadata)!=null&&v.author?(y(),S("div",Sm,[u("div",xm,x(s(e)("author")),1),u("div",Am,[u("a",{href:s(i),target:"_blank"},x(p.proposal.metadata.author),9,Pm)])])):z("",!0),(o=p.proposal.metadata)!=null&&o.link?(y(),S("div",Lm,[u("div",Im,x(s(e)("link")),1),u("div",Dm,[u("a",{href:p.proposal.metadata.link,target:"_blank"},x(p.proposal.metadata.link),9,zm)])])):z("",!0),(c=p.proposal.metadata)!=null&&c.description?(y(),S("div",Om,[u("div",Rm,x(s(e)("description")),1),u("div",Vm,x((m=p.proposal.metadata)==null?void 0:m.description),1)])):z("",!0),u("div",Em,[u("div",{class:"heading",onClick:_[0]||(_[0]=d=>n.value=!s(n))},[G(x(s(e)("voters"))+" ("+x(s(r)??"?")+") ",1),u("i",{class:F(["fas fa-chevron-up expander",{expandedVoters:s(n)}])},null,2)]),h(f,{expanded:s(n)},{default:w(()=>[h(Cm,{class:"voters",proposal:p.proposal},null,8,["proposal"])]),_:1},8,["expanded"])]),u("div",qm,[u("div",{class:"heading",onClick:_[1]||(_[1]=d=>t.value=!s(t))},[G(x(s(e)("calldata"))+" ",1),u("i",{class:F(["fas fa-chevron-up expander",{expandedCallData:s(t)}])},null,2)]),h(f,{expanded:s(t)},{default:w(()=>[u("div",{class:"calldata",innerHTML:s(l)},null,8,Fm)]),_:1},8,["expanded"])])])}}});function Ya(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:t=>{const{normalize:n}=t;return n(["Description"])},author:t=>{const{normalize:n}=t;return n(["Author"])},link:t=>{const{normalize:n}=t;return n(["Link"])},calldata:t=>{const{normalize:n}=t;return n(["Calldata"])},voters:t=>{const{normalize:n}=t;return n(["Voters"])}}})}typeof Ya=="function"&&Ya(ki);const Um=I(ki,[["__scopeId","data-v-51581bed"]]),Wm={class:"proposal-details"},Bm={class:"proposal-details-container"},Nm=P({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(a){return(e,t)=>(y(),S("div",Wm,[u("div",Bm,[h(Um,{proposal:e.proposal,expanded:e.expanded},null,8,["proposal","expanded"]),h(hm,{proposal:e.proposal},null,8,["proposal"])])]))}}),Hm=I(Nm,[["__scopeId","data-v-4b022378"]]),Km=P({__name:"Proposal",props:{proposal:{}},setup(a){const e=V(!1);return(t,n)=>{const i=ot,r=ae;return y(),A(r,{class:"proposal",compact:!0},{default:w(()=>[h(Qd,{proposal:t.proposal,expanded:s(e),onToggleExpand:n[0]||(n[0]=l=>e.value=!s(e))},null,8,["proposal","expanded"]),h(i,{class:"proposal-details-collapsible",expanded:s(e)},{default:w(()=>[h(Hm,{proposal:t.proposal,expanded:s(e)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),Xm=I(Km,[["__scopeId","data-v-25075db1"]]),Gm={class:"proposals-tab"},Zm={class:"filters"},jm={style:{display:"flex",gap:"1rem","justify-content":"end"}},Jm={key:1},Bt=10,$i=P({__name:"ProposalsTab",props:{proposals:{}},setup(a){const{t:e}=U(),t=V(""),n=V(e("search-placeholder")),i=g(()=>{const _=t.value.toLocaleLowerCase();return H.chain(a.proposals).filter(f=>!!f.metadata&&f.metadata.title.toLocaleLowerCase().includes(_)).value()}),{page:r,rowsPage:l,onPage:p}=Ce(i,Bt);return(_,f)=>{const v=he,o=$e;return y(),S("div",Gm,[u("div",Zm,[h(v,{modelValue:s(t),"onUpdate:modelValue":f[0]||(f[0]=c=>de(t)?t.value=c:null),class:"search",placeholder:s(n),search:!0},null,8,["modelValue","placeholder"]),u("div",jm,[s(i).length>0?(y(),A(o,{key:0,class:"pagination","items-count":s(i).length,"items-per-page":Bt,page:s(r),onPage:s(p)},null,8,["items-count","page","onPage"])):z("",!0)])]),(y(!0),S(te,null,ce(s(l),c=>(y(),A(Xm,{key:c.id,proposal:c},null,8,["proposal"]))),128)),s(i).length>0?(y(),A(o,{key:0,class:"pagination","items-count":s(i).length,"items-per-page":Bt,page:s(r),onPage:s(p)},null,8,["items-count","page","onPage"])):z("",!0),s(i).length===0?(y(),S("div",Jm,x(s(e)("no-proposals")),1)):z("",!0)])}}});function Qa(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":t=>{const{normalize:n}=t;return n(["Search for Prisma proposals"])},"no-proposals":t=>{const{normalize:n}=t;return n(["No proposals could be found."])}}})}typeof Qa=="function"&&Qa($i);const nt=I($i,[["__scopeId","data-v-bf17230c"]]),Ym="https://api.prismamonitor.com/v1",Qm=(a,e)=>{var D,M;const t=a.index,n=a.creator,i=a.creator_label??"",r=a.required_weight,l=a.received_weight,p=a.status,_=a.vote_count,f=a.voters,v=a.transaction_hash,o=a.execution_tx,c=a.can_execute_after,m=a.block_number,d=a.block_timestamp,b=a.execution_timestamp?a.execution_timestamp:d+604800,k=a.decode_data,$=(M=(D=e==null?void 0:e.data)==null?void 0:D.proposals.find(L=>L.id===t))==null?void 0:M.metadata;return{id:t,metadata:$,proposer:n,proposerLabel:i,weightRequired:r,weightReceived:l,status:p,votes:_,voters:f,tx:v,txExecuted:o,executeAfter:c,block:m,start:d,end:b,script:k}};class ey extends ke{async getProposals(){let e;try{e=await this.fetch("https://api.prismafinance.com/api/v1/proposalVotes")}catch{st({text:"Failed to fetch metadata for proposals",type:"error"})}return await Ve(i=>this.fetch(`${Ym}/dao/ethereum/ownership/proposals?items=100&page=${i}&order_by=block_timestamp&desc=true`).then(r=>r.proposals.map(l=>Qm(l,e))),1,100)}}const ty={class:"proposals"},Ci=P({__name:"Proposals.page",setup(a){const{t:e}=U(),t=new ey(X()),n=V(0),{isFetching:i,data:r}=K({queryKey:["prisma-proposals"],queryFn:()=>t.getProposals().then(v=>v.sort((o,c)=>c.start-o.start)),initialData:[],initialDataUpdatedAt:0}),l=g(()=>r.value.filter(v=>Se(v)==="active")),p=g(()=>r.value.filter(v=>Se(v)==="passed")),_=g(()=>r.value.filter(v=>Se(v)==="denied")),f=g(()=>r.value.filter(v=>Se(v)==="executed"));return(v,o)=>{const c=mt,m=dt,d=en;return y(),S("div",ty,[s(i)?z("",!0):(y(),A(m,{key:0,onTab:o[0]||(o[0]=b=>n.value=b.index)},{default:w(()=>[h(c,{header:s(e)("all")},{default:w(()=>[s(n)===0?(y(),A(nt,{key:0,proposals:s(r)},null,8,["proposals"])):z("",!0)]),_:1},8,["header"]),h(c,{header:s(e)("active")},{default:w(()=>[s(n)===1?(y(),A(nt,{key:0,proposals:s(l)},null,8,["proposals"])):z("",!0)]),_:1},8,["header"]),h(c,{header:s(e)("passed")},{default:w(()=>[s(n)===2?(y(),A(nt,{key:0,proposals:s(p)},null,8,["proposals"])):z("",!0)]),_:1},8,["header"]),h(c,{header:s(e)("denied")},{default:w(()=>[s(n)===3?(y(),A(nt,{key:0,proposals:s(_)},null,8,["proposals"])):z("",!0)]),_:1},8,["header"]),h(c,{header:s(e)("executed")},{default:w(()=>[s(n)===4?(y(),A(nt,{key:0,proposals:s(f)},null,8,["proposals"])):z("",!0)]),_:1},8,["header"])]),_:1})),h(d,{class:F(["spinner",{loading:s(i)}])},null,8,["class"])])}}});function es(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:t=>{const{normalize:n}=t;return n(["All"])},active:t=>{const{normalize:n}=t;return n(["Active"])},passed:t=>{const{normalize:n}=t;return n(["Passed"])},denied:t=>{const{normalize:n}=t;return n(["Denied"])},executed:t=>{const{normalize:n}=t;return n(["Executed"])}}})}typeof es=="function"&&es(Ci);const ny=I(Ci,[["__scopeId","data-v-b46d741f"]]),ay=P({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(a){const{theme:e}=j(W()),t=g(()=>le(e.value,{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:l=>{let p=i.value[l.seriesIndex];p=p.length>10?J(p):p;const _=l.series[l.seriesIndex];return[`<div><b>${p}</b>:</div><div>${r(_)}</div>`].join("")}},labels:a.data.map(l=>l.label.length>10?J(l.label):l.label)})),n=g(()=>a.data.map(l=>l.value)),i=g(()=>a.data.map(l=>l.label)),r=l=>`$${Q(Math.abs(l),1,"dollar")}${Y(l,"dollar")}`;return(l,p)=>{const _=pe;return y(),A(_,{class:"graph",options:s(t),series:s(n)},null,8,["options","series"])}}}),sy=I(ay,[["__scopeId","data-v-f8fc3677"]]),iy={class:"actions"},Mi=P({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(a){const{t:e}=U(),t=W(),n=new De(X(),t.flavor),i=V("collateral"),{isFetching:r,data:l}=K({queryKey:["prisma-large-trove-positions",g(()=>{var p;return(p=a.vault)==null?void 0:p.address}),i],queryFn:({queryKey:[,p,_]})=>p?n.getLargeTrovePositions("ethereum",p,_).then(f=>f.positions):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});return(p,_)=>{const f=lt,v=ae;return y(),A(v,{class:"chart-container",title:s(e)("title"),loading:s(r)},{actions:w(()=>[u("div",iy,[h(f,{value:"Coll.","model-value":s(i)==="collateral",onClick:_[0]||(_[0]=o=>i.value="collateral")},null,8,["model-value"]),h(f,{value:"Debt","model-value":s(i)==="debt",onClick:_[1]||(_[1]=o=>i.value="debt")},null,8,["model-value"])])]),default:w(()=>[h(sy,{data:s(l)},null,8,["data"])]),_:1},8,["title","loading"])}}});function ts(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["5 Largest Troves vs Others"])}}})}typeof ts=="function"&&ts(Mi);const oy=I(Mi,[["__scopeId","data-v-67d35a76"]]),ry=P({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(a){const{theme:e}=j(W()),t=g(()=>le(e.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:i.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),n=g(()=>[{name:"# of troves",data:Object.values(a.data).map(r=>r.value)}]),i=g(()=>a.data.map(r=>r.label));return(r,l)=>{const p=pe;return y(),A(p,{class:"graph",options:s(t),series:s(n)},null,8,["options","series"])}}}),ly=I(ry,[["__scopeId","data-v-9be24965"]]),uy={class:"actions"},Si=P({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(a){const{t:e}=U(),t=W(),n=new De(X(),t.flavor),i=V("collateral"),{isFetching:r,data:l}=K({queryKey:["prisma-trove-distributions",g(()=>{var p;return(p=a.vault)==null?void 0:p.address}),i],queryFn:({queryKey:[,p,_]})=>p?n.getTroveDistribution("ethereum",p,_).then(f=>f.distribution):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});return(p,_)=>{const f=lt,v=ae;return y(),A(v,{class:"chart-container",title:s(e)("title"),loading:s(r)},{actions:w(()=>[u("div",uy,[h(f,{value:"Coll.","model-value":s(i)==="collateral",onClick:_[0]||(_[0]=o=>i.value="collateral")},null,8,["model-value"]),h(f,{value:"Debt","model-value":s(i)==="debt",onClick:_[1]||(_[1]=o=>i.value="debt")},null,8,["model-value"])])]),default:w(()=>[h(ly,{data:s(l)},null,8,["data"])]),_:1},8,["title","loading"])}}});function ns(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Troves Distribution"])}}})}typeof ns=="function"&&ns(Si);const cy=I(Si,[["__scopeId","data-v-b434fdd3"]]),py={class:"kpis"},dy=P({__name:"VaultKPIs",props:{vault:{default:null}},setup(a){return(e,t)=>{const n=se,i=Pe;return y(),S("div",py,[h(i,{label:"TVL","has-value":!!e.vault},{default:w(()=>[e.vault?(y(),A(n,{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):z("",!0)]),_:1},8,["has-value"]),h(i,{label:"Debt / Debt Cap","has-value":!!e.vault},{default:w(()=>[e.vault?(y(),A(n,{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):z("",!0),G(" / "),e.vault?(y(),A(n,{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):z("",!0)]),_:1},8,["has-value"]),h(i,{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:w(()=>[e.vault?(y(),A(n,{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):z("",!0),G(" / "),e.vault?(y(),A(n,{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):z("",!0)]),_:1},8,["has-value"]),h(i,{label:"Interest rate","has-value":!!e.vault},{default:w(()=>[e.vault?(y(),A(n,{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):z("",!0)]),_:1},8,["has-value"]),h(i,{label:"Troves open / total","has-value":!!e.vault},{default:w(()=>[e.vault?(y(),A(n,{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):z("",!0),G(" / "),e.vault?(y(),A(n,{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):z("",!0)]),_:1},8,["has-value"]),h(i,{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:w(()=>[e.vault?(y(),A(n,{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):z("",!0),G(" / "),e.vault?(y(),A(n,{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):z("",!0)]),_:1},8,["has-value"])])}}}),my=I(dy,[["__scopeId","data-v-da6116fe"]]),xi=P({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(a){const{t:e}=U();let t;const{theme:n,flavor:i}=j(W()),{chart:r,chartRef:l}=ve(n,v,m=>{t=m.addAreaSeries(o())}),p=new De(X(),i.value),{isFetching:_,data:f}=K({queryKey:["prisma-vault-collateral-ratio",g(()=>{var m;return(m=a.vault)==null?void 0:m.address})],queryFn:({queryKey:[,m]})=>m?p.getVaultCollateralRatio("ethereum",m,"1m").then(d=>d.ratio):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});N([f,r],c),N(n,()=>t.applyOptions(o()));function v(m){return fe(m,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function o(){return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:_e.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...n.value.lineChartColors}}function c([m,d]){if(!d||!t)return;const b=H.chain(m).map(k=>({time:k.timestamp,value:k.value*100})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc").value();b.length>0&&t.setData(b),d.timeScale().fitContent()}return(m,d)=>{const b=ae;return y(),A(b,{class:"chart-container",title:s(e)("title"),loading:s(_)},{default:w(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function as(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Vault collateral ratio"])}}})}typeof as=="function"&&as(xi);const yy=I(xi,[["__scopeId","data-v-8eba1186"]]),Ai=P({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(a){const{t:e}=U();let t;const{theme:n,flavor:i}=j(W()),{chart:r,chartRef:l}=ve(n,v,m=>{t=m.addAreaSeries(o())}),p=new De(X(),i.value),{isFetching:_,data:f}=K({queryKey:["prisma-vault-trove-count",g(()=>{var m;return(m=a.vault)==null?void 0:m.address})],queryFn:({queryKey:[,m]})=>m?p.getVaultTroveCount("ethereum",m,"1m").then(d=>d.count):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});N([f,r],c),N(n,()=>t.applyOptions(o()));function v(m){return fe(m,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function o(){return{priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:_e.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...n.value.lineChartColors}}function c([m,d]){if(!d||!t)return;const b=H.chain(m).map(k=>({time:k.timestamp,value:k.value})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc").value();b.length>0&&t.setData(b),d.timeScale().fitContent()}return(m,d)=>{const b=ae;return y(),A(b,{class:"chart-container",title:s(e)("title"),loading:s(_)},{default:w(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ss(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Number of open troves"])}}})}typeof ss=="function"&&ss(Ai);const fy=I(Ai,[["__scopeId","data-v-d2a4e33e"]]),vy={class:"vault-overview"},_y=P({__name:"VaultOverview",props:{vault:{}},setup(a){return(e,t)=>(y(),S("div",vy,[h(my,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(cy,{vault:e.vault},null,8,["vault"]),h(oy,{vault:e.vault},null,8,["vault"]),h(yy,{vault:e.vault},null,8,["vault"]),h(fy,{vault:e.vault},null,8,["vault"])]))}}),hy=I(_y,[["__scopeId","data-v-1aa9d288"]]),by={class:"actions"},Pi=P({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(a){const{t:e}=U();let t,n;const{theme:i,flavor:r}=j(W()),{chart:l,chartRef:p}=ve(i,m,$=>{t=$.addAreaSeries(b()),n=$.addAreaSeries(d())}),_=new rn(X(),r.value),f={oracle:[],market:[]},{isFetching:v,data:o}=K({queryKey:["prisma-stable-distribution",g(()=>{var $;return($=a.vault)==null?void 0:$.collateral})],queryFn:async({queryKey:[,$]})=>{if($){const D=await _.getCollateralPrices("ethereum",$,"7d");return c(D.oracle,D.market)}else return Promise.resolve(f)},initialData:f,initialDataUpdatedAt:0});N([o,l],k),N(i,()=>{t.applyOptions(b()),n.applyOptions(d())});const c=($,D)=>{const M=Math.max($[0].timestamp,D[0].timestamp),L=Math.min($[$.length-1].timestamp,D[D.length-1].timestamp),T=$.filter(E=>E.timestamp>=M&&E.timestamp<=L),C=D.filter(E=>E.timestamp>=M&&E.timestamp<=L);return T[T.length-1].timestamp<L&&T.push({timestamp:L,value:T[T.length-1].value}),C[C.length-1].timestamp<L&&C.push({timestamp:L,value:C[C.length-1].value}),{oracle:T,market:C}};function m($){return fe($,i.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:_e.WithSteps,lineColor:i.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function b(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:_e.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...i.value.lineChartColors}}function k([$,D]){if(!D||!t)return;const M=H.chain($==null?void 0:$.oracle).map(T=>({time:T.timestamp,value:T.value})).uniqWith((T,C)=>T.time===C.time).orderBy(T=>T.time,"asc").value(),L=H.chain($==null?void 0:$.market).map(T=>({time:T.timestamp,value:T.value})).uniqWith((T,C)=>T.time===C.time).orderBy(T=>T.time,"asc").value();L.length>0&&n.setData(L),M.length>0&&t.setData(M),D.timeScale().fitContent()}return($,D)=>{const M=mn,L=ae;return y(),A(L,{class:"chart-container",title:s(e)("title"),loading:s(v)},{actions:w(()=>[u("div",by,[h(M,{items:["Oracle","Market"],colors:s(i).colorsArray},null,8,["colors"])])]),default:w(()=>[u("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function is(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Oracle & Market price"])}}})}typeof is=="function"&&is(Pi);const gy=I(Pi,[["__scopeId","data-v-4b3395ba"]]),Li=P({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(a){const{t:e}=U(),{theme:t,flavor:n}=j(W()),i=new rn(X(),n.value),{isFetching:r,data:l}=K({queryKey:["prisma-collateral-price-impact",g(()=>{var c;return(c=a.vault)==null?void 0:c.collateral})],queryFn:({queryKey:[,c]})=>c?i.getCollateralPriceImpact("ethereum",c).then(m=>m.impact):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),p=g(()=>le(t.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:f.value,labels:{formatter:c=>v(c)}},yaxis:{seriesName:"impact",labels:{formatter:c=>o(c)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:c=>{if(!a.vault)return"";const m=f.value[c.dataPointIndex],d=v(m*a.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${v(m)} ${a.vault.name} ($${d})</div>

          <div><b>Price impact:</b>:</div>
          <div>${o(c.series[0][c.dataPointIndex])}</div>
          `}}})),_=g(()=>[{name:e("priceImpact"),data:Object.values(l.value).map(c=>c.impact)}]),f=g(()=>l.value.map(c=>a.vault?c.amount/a.vault.price:0)),v=c=>`${Q(Math.abs(c),1,"dollar")}${Y(c,"dollar")}`,o=c=>`${Q(c,2,"percentage")}${Y(c,"percentage")}`;return(c,m)=>{const d=pe;return y(),A(d,{class:"chart",title:s(e)("title"),loading:s(r),options:s(p),series:s(_)},null,8,["title","loading","options","series"])}}});function os(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["On-chain Selling Price Impact"])},priceImpact:t=>{const{normalize:n}=t;return n(["Price impact"])}}})}typeof os=="function"&&os(Li);const wy=I(Li,[["__scopeId","data-v-508978d0"]]),Ty={class:"kpis"},ky=["href"],$y=P({__name:"CollateralKPIs",props:{vault:{default:null}},setup(a){const e=W(),t=new rn(X(),e.flavor),{data:n}=K({queryKey:["prisma-collateral-info",g(()=>{var i;return(i=a.vault)==null?void 0:i.address})],queryFn:({queryKey:[,i]})=>i?t.getCollateralInfo("ethereum",i).then(r=>r.info):Promise.resolve(null),initialData:null,initialDataUpdatedAt:0});return(i,r)=>{const l=se,p=Pe;return y(),S("div",Ty,[h(p,{label:"Oracle price","has-value":!!s(n)},{default:w(()=>[s(n)?(y(),A(l,{key:0,value:s(n).price,precision:2,type:"dollar"},null,8,["value"])):z("",!0)]),_:1},8,["has-value"]),h(p,{label:"Total supply","has-value":!!s(n)},{default:w(()=>[s(n)?(y(),A(l,{key:0,value:s(n).supply,precision:2,type:"dollar"},null,8,["value"])):z("",!0)]),_:1},8,["has-value"]),h(p,{label:"TVL","has-value":!!s(n)},{default:w(()=>[s(n)?(y(),A(l,{key:0,value:s(n).tvl,precision:1,type:"dollar"},null,8,["value"])):z("",!0)]),_:1},8,["has-value"]),h(p,{label:"Share of the collateral market","has-value":!!s(n)},{default:w(()=>[s(n)?(y(),A(l,{key:0,value:s(n).share,precision:1,type:"percentage"},null,8,["value"])):z("",!0)]),_:1},8,["has-value"]),h(p,{label:"Full risk analysis by Prisma Risk team","has-value":!!s(n)},{default:w(()=>[s(n)?(y(),S("a",{key:0,href:s(n).risk}," Risk Report ",8,ky)):z("",!0)]),_:1},8,["has-value"])])}}}),Cy=I($y,[["__scopeId","data-v-83e8991b"]]),My={class:"collateral"},Sy=P({__name:"Collateral",props:{vault:{}},setup(a){return(e,t)=>(y(),S("div",My,[h(Cy,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(gy,{vault:e.vault},null,8,["vault"]),h(wy,{vault:e.vault},null,8,["vault"])]))}}),xy=I(Sy,[["__scopeId","data-v-f2eb56c3"]]),Ay={class:"title"},Py={style:{display:"flex",gap:"1rem"}},Ly=["href"],Iy=["href"],Dy={class:"number"},zy={class:"number"},Oy={class:"number"},rs=15,Ii=P({__name:"TableLiquidations",props:{vault:{default:null}},setup(a){const{t:e}=U(),t=W(),n=new ln(X(),t.flavor),{isFetching:i,data:r}=K({queryKey:["prisma-vault-liquidations",g(()=>{var M;return(M=a.vault)==null?void 0:M.address})],queryFn:({queryKey:[,M]})=>M?n.getLiquidations("ethereum",M):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=xe(),{sortColumn:p,sortOrder:_,onSort:f}=Le("timestamp"),v=V(""),o=V(null),c=g(()=>["Liquidator","Transaction","Debt","# Troves","Time"]),m=g(()=>["liquidator","tx","debt","numtroves","timestamp"]),d=g(()=>H.chain(r.value).filter(M=>{const L=v.value.toLocaleLowerCase().split(" ");return(C=>L.some(E=>C.toLocaleLowerCase().includes(E)))(M.liquidator)}).orderBy(M=>{switch(p.value){case"liquidator":return M.liquidator;case"tx":return M.transaction;case"debt":return M.liquidated_collateral_usd;case"numtroves":return M.troves_affected_count;case"timestamp":return M.timestamp;default:return M.timestamp}},_.value===ie.Descending?"desc":"asc").value()),{page:b,rowsPage:k,onPage:$}=Ce(d,rs),D=M=>{o.value=M};return(M,L)=>{const T=he,C=$e,E=se,q=ue,B=qe;return y(),S(te,null,[h(q,{class:"datatable-liquidations","columns-header":"1fr 2fr","columns-data":"liquidations-columns-data",loading:s(i),rows:s(k),columns:s(c),sorting:!0,"sorting-columns":s(m),"sorting-columns-enabled":s(m),"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:s(f),onSelected:D},{"header-content":w(()=>[u("div",Ay,x(s(e)("title")),1),u("div",Py,[h(T,{modelValue:s(v),"onUpdate:modelValue":L[0]||(L[0]=R=>de(v)?v.value=R:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"]),h(C,{class:"pagination","items-count":s(d).length,"items-per-page":rs,page:s(b),onPage:s($)},null,8,["items-count","page","onPage"])])]),row:w(R=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${R.item.liquidator}`,target:"_blank",onClick:L[1]||(L[1]=ne(()=>{},["stop"]))},x(s(J)(R.item.liquidator)),9,Ly)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${R.item.transaction}`,target:"_blank",onClick:L[2]||(L[2]=ne(()=>{},["stop"]))},x(s(J)(R.item.transaction)),9,Iy)]),u("div",Dy,[h(E,{type:"dollar",value:Math.round(R.item.liquidated_debt),precision:1/0},null,8,["value"])]),u("div",zy,x(R.item.troves_affected_count),1),u("div",Oy,x(s(l)(R.item.timestamp)),1)]),"row-details":w(()=>[G("  ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(B,{show:!!s(o),onClose:L[3]||(L[3]=R=>o.value=null)},{default:w(()=>{var R;return[s(o)?(y(),A(dn,{key:0,liquidation:s(o),"vault-addr":((R=M.vault)==null?void 0:R.address)??""},null,8,["liquidation","vault-addr"])):z("",!0)]}),_:1},8,["show"])],64)}}});function ls(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Liquidations"])},"search-placeholder":t=>{const{normalize:n}=t;return n(["Search for..."])}}})}typeof ls=="function"&&ls(Ii);const Ry=I(Ii,[["__scopeId","data-v-d0f11f49"]]),Vy={class:"liquidations"},Ey=P({__name:"Liquidations",props:{vault:{}},setup(a){return(e,t)=>(y(),S("div",Vy,[h(Ry,{vault:e.vault},null,8,["vault"])]))}}),qy=I(Ey,[["__scopeId","data-v-d6030225"]]),Fy={class:"title"},Uy={style:{display:"flex",gap:"1rem"}},Wy=["href"],By=["href"],Ny={class:"number"},Hy={class:"number"},Ky={class:"number"},us=15,Di=P({__name:"TableRedemptions",props:{vault:{default:null}},setup(a){const{t:e}=U(),t=W(),n=new un(X(),t.flavor),{isFetching:i,data:r}=K({queryKey:["prisma-vault-redemptions",g(()=>{var M;return(M=a.vault)==null?void 0:M.address})],queryFn:({queryKey:[,M]})=>M?n.getRedemptions("ethereum",M):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=xe(),{sortColumn:p,sortOrder:_,onSort:f}=Le("timestamp"),v=V(""),o=V(null),c=g(()=>["Redeemer","Transaction","Debt","# Troves","Time"]),m=g(()=>["redeemer","tx","debt","numtroves","timestamp"]),d=g(()=>H.chain(r.value).filter(M=>{const L=v.value.toLocaleLowerCase().split(" ");return(C=>L.some(E=>C.toLocaleLowerCase().includes(E)))(M.redeemer)}).orderBy(M=>{switch(p.value){case"redeemer":return M.redeemer;case"tx":return M.transaction;case"debt":return M.actual_debt_amount;case"numtroves":return M.troves_affected_count;case"timestamp":return M.timestamp;default:return M.timestamp}},_.value===ie.Descending?"desc":"asc").value()),{page:b,rowsPage:k,onPage:$}=Ce(d,us),D=M=>{o.value=M};return(M,L)=>{const T=he,C=$e,E=se,q=ue,B=qe;return y(),S(te,null,[h(q,{class:"datatable-redemptions","columns-header":"1fr 2fr","columns-data":"redemptions-columns-data",loading:s(i),rows:s(k),columns:s(c),sorting:!0,"sorting-columns":s(m),"sorting-columns-enabled":s(m),"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:s(f),onSelected:D},{"header-content":w(()=>[u("div",Fy,x(s(e)("title")),1),u("div",Uy,[h(T,{modelValue:s(v),"onUpdate:modelValue":L[0]||(L[0]=R=>de(v)?v.value=R:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"]),h(C,{class:"pagination","items-count":s(d).length,"items-per-page":us,page:s(b),onPage:s($)},null,8,["items-count","page","onPage"])])]),row:w(R=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${R.item.redeemer}`,target:"_blank",onClick:L[1]||(L[1]=ne(()=>{},["stop"]))},x(s(J)(R.item.redeemer)),9,Wy)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${R.item.transaction}`,target:"_blank",onClick:L[2]||(L[2]=ne(()=>{},["stop"]))},x(s(J)(R.item.transaction)),9,By)]),u("div",Ny,[h(E,{type:"dollar",value:Math.round(R.item.actual_debt_amount),precision:1/0},null,8,["value"])]),u("div",Hy,x(R.item.troves_affected_count),1),u("div",Ky,x(s(l)(R.item.timestamp)),1)]),"row-details":w(()=>[G("  ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(B,{show:!!s(o),onClose:L[3]||(L[3]=R=>o.value=null)},{default:w(()=>{var R;return[s(o)?(y(),A(pn,{key:0,redemption:s(o),"vault-addr":((R=M.vault)==null?void 0:R.address)??""},null,8,["redemption","vault-addr"])):z("",!0)]}),_:1},8,["show"])],64)}}});function cs(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Redemptions"])},"search-placeholder":t=>{const{normalize:n}=t;return n(["Search for..."])}}})}typeof cs=="function"&&cs(Di);const Xy=I(Di,[["__scopeId","data-v-7851367c"]]),Gy={class:"redemptions"},Zy=P({__name:"Redemptions",props:{vault:{}},setup(a){return(e,t)=>(y(),S("div",Gy,[h(Xy,{vault:e.vault},null,8,["vault"])]))}}),jy=I(Zy,[["__scopeId","data-v-8f90841b"]]),Jy={style:{display:"flex",gap:"1rem"}},Yy=["href"],Qy={class:"number"},ef={class:"number"},ps=15,zi=P({__name:"TableTroves",props:{vault:{default:null}},setup(a){const{t:e}=U(),t=W(),n=new Ye(X(),t.flavor),{isFetching:i,data:r}=K({queryKey:["prisma-vault-troves",g(()=>{var L;return(L=a.vault)==null?void 0:L.address})],queryFn:({queryKey:[,L]})=>L?n.getTroves("ethereum",L):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=xe(),{sortColumn:p,sortOrder:_,onSort:f}=Le("updated"),v=V(""),o=V("Open"),c=g(()=>o.value==="Open"?["Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["Owner","","","","Created At","Last Updated"]),m=g(()=>o.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","","","","created","updated"]),d=g(()=>o.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),b=g(()=>H.chain(r.value).filter(L=>o.value===L.status).filter(L=>{const T=v.value.toLocaleLowerCase().split(" ");return(E=>T.some(q=>E.toLocaleLowerCase().includes(q)))(L.owner)}).orderBy(L=>{switch(p.value){case"owner":return L.owner;case"debt":return L.debt;case"coll":return L.collateral_usd;case"ratio":return L.collateral_ratio;case"created":return L.created_at;case"updated":return L.last_update;default:return L.last_update}},_.value===ie.Descending?"desc":"asc").value()),{page:k,rowsPage:$,onPage:D}=Ce(b,ps),M=L=>{L===0?o.value="Open":L===1?o.value="Closed":o.value="Open"};return(L,T)=>{const C=mt,E=dt,q=he,B=$e,R=se,Z=ue;return y(),A(Z,{class:"datatable-troves","columns-header":"1fr 2fr","columns-data":"troves-columns-data",loading:s(i),rows:s($),columns:s(c),sorting:!0,"sorting-columns":s(m),"sorting-columns-enabled":s(d),"sorting-default-column":"updated","sorting-default-dir":"Descending",onSortColumn:s(f)},{"header-content":w(()=>[h(E,{class:"types",onTab:T[0]||(T[0]=O=>M(O.index))},{default:w(()=>[h(C,{header:"Open"}),h(C,{header:"Closed"})]),_:1}),u("div",Jy,[h(q,{modelValue:s(v),"onUpdate:modelValue":T[1]||(T[1]=O=>de(v)?v.value=O:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"]),h(B,{class:"pagination","items-count":s(b).length,"items-per-page":ps,page:s(k),onPage:s(D)},null,8,["items-count","page","onPage"])])]),row:w(O=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${O.item.owner}`,target:"_blank",onClick:T[2]||(T[2]=ne(()=>{},["stop"]))},x(s(J)(O.item.owner)),9,Yy)]),u("div",{class:F(["number",{hide:s(o)==="Closed"}])},[h(R,{type:"dollar",value:Math.round(O.item.debt),precision:1/0},null,8,["value"])],2),u("div",{class:F(["number",{hide:s(o)==="Closed"}])},[h(R,{type:"dollar",value:Math.round(O.item.collateral_usd),precision:1/0},null,8,["value"])],2),u("div",{class:F(["number",{hide:s(o)==="Closed"}])},[h(R,{value:O.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",Qy,x(s(l)(O.item.created_at)),1),u("div",ef,x(s(l)(O.item.last_update)),1)]),"row-details":w(()=>[G("  ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"])}}});function ds(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":t=>{const{normalize:n}=t;return n(["Search for..."])}}})}typeof ds=="function"&&ds(zi);const tf=I(zi,[["__scopeId","data-v-64c97a4f"]]),nf={class:"troves"},af=P({__name:"Troves",props:{vault:{}},setup(a){const e=Tt(),t=it(),n=async i=>{e.trove=i,a.vault&&await t.push({name:"prismatrove",params:{troveAddr:i.owner,vaultAddr:a.vault.address}})};return(i,r)=>(y(),S("div",nf,[h(tf,{vault:i.vault,onSelected:n},null,8,["vault"])]))}}),sf=I(af,[["__scopeId","data-v-5138a005"]]),of={class:"vault-manager"},rf=P({__name:"VaultManager.page",setup(a){const e=W(),t=wt(),n=Tt(),i=Ae().getSocket(je(e.flavor)),r=new Qe(i,"ethereum"),l=Te(r.overview$,[]),p=at("vaultAddr"),_=g(()=>n.vault);we(()=>{var c,m;const o=Re((c=_.value)==null?void 0:c.address)??((m=_.value)==null?void 0:m.name)??"?";t.show=!0,t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${o}`}]}),N(l,o=>{const c=o.find(m=>m.address===p.value);c&&(n.vault=c)}),N(_,o=>{const c=Re(o==null?void 0:o.address)??(o==null?void 0:o.name)??"?";t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${c}`}]});const{tabActive:f,tabActiveIndex:v}=mi(["overview","collateral","trove","liquidations","redemptions"],"prismavault",()=>({vaultAddr:p.value}));return(o,c)=>{const m=mt,d=dt;return y(),S("div",of,[h(d,{active:s(v),onTab:c[0]||(c[0]=b=>v.value=b.index)},{default:w(()=>[h(m,{header:"Overview"},{default:w(()=>[(y(),A(et,null,[s(f)==="overview"?(y(),A(hy,{key:0,vault:s(_)},null,8,["vault"])):z("",!0)],1024))]),_:1}),h(m,{header:"Collateral"},{default:w(()=>[(y(),A(et,null,[s(f)==="collateral"&&s(_)?(y(),A(xy,{key:0,vault:s(_)},null,8,["vault"])):z("",!0)],1024))]),_:1}),h(m,{header:"Troves"},{default:w(()=>[(y(),A(et,null,[s(f)==="trove"&&s(_)?(y(),A(sf,{key:0,vault:s(_)},null,8,["vault"])):z("",!0)],1024))]),_:1}),h(m,{header:"Liquidations"},{default:w(()=>[(y(),A(et,null,[s(f)==="liquidations"&&s(_)?(y(),A(qy,{key:0,vault:s(_)},null,8,["vault"])):z("",!0)],1024))]),_:1}),h(m,{header:"Redemptions"},{default:w(()=>[(y(),A(et,null,[s(f)==="redemptions"&&s(_)?(y(),A(jy,{key:0,vault:s(_)},null,8,["vault"])):z("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),lf=I(rf,[["__scopeId","data-v-aa795be3"]]),uf=a=>(me("data-v-32c93c60"),a=a(),ye(),a),cf=uf(()=>u("div",null,[G(" This chart displays that amount of collateral available below different collateral ratios. "),u("br"),G(" It also displays the position of the trove relative to other troves in this vault. "),u("br"),u("br"),G(" This information is useful to estimate a trove's risk of redemption. "),u("br"),G(" Even if the trove's collateral ratio is high in the absolute, a lower ratio relative "),u("br"),G(" to other troves means a higher risk of redemption."),u("br"),u("br"),G(` As such, the lower the "risk rank" displayed, the higher the trove's risk of being redeemed. `)],-1)),Oi=P({__name:"ChartTroveRank",props:{vault:{default:null},trove:{default:null}},setup(a){const{t:e}=U(),{theme:t,flavor:n}=j(W()),i=new Ye(X(),n.value),r=V("Trove Relative Position"),l={rank:null,total_positions:0,ratio:null,positions:[]},{isFetching:p,data:_}=K({queryKey:["prisma-trove-rank",g(()=>{var d;return(d=a.vault)==null?void 0:d.address}),g(()=>{var d;return(d=a.trove)==null?void 0:d.owner})],queryFn:async({queryKey:[,d,b]})=>d&&b?await i.getTroveRank("ethereum",d,b):Promise.resolve(l),initialData:l,initialDataUpdatedAt:0}),f=g(()=>{var k,$;const{colors:d}=t.value,b={x:((k=_.value)==null?void 0:k.ratio)??0,borderColor:d.yellow,strokeDashArray:2,label:{borderColor:d.yellow,style:{background:d.yellow,color:"rgb(34, 34, 34)"},position:"top",offsetX:15,text:`This trove: ${m((($=_.value)==null?void 0:$.ratio)??0,1)}`}};return le(t.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!0}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},annotations:{xaxis:_.value.ratio?[b]:[]},toolbar:{show:!1},xaxis:{type:"numeric",categories:o.value,labels:{formatter:D=>m(D)}},yaxis:{seriesName:"impact",labels:{formatter:D=>c(D)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:D=>{if(!a.vault)return"";const M=o.value[D.dataPointIndex];return`
          <div><b>Collateral ratio:</b>:</div>
          <div>${D.dataPointIndex===o.value.length-1?"Over 250%":m(M)}</div>

          <div><b>Troves with lower or equal ratio:</b>:</div>
          <div>${_.value.positions[D.dataPointIndex].trove_count}</div>

          <div><b>Collateral value at lower or equal ratio:</b>:</div>
          <div>$${c(D.series[0][D.dataPointIndex])}</div>
          `}}})}),v=g(()=>[{name:e("rank"),data:Object.values(_.value.positions).map(d=>d.collateral_usd)}]),o=g(()=>_.value.positions.map(d=>d.ratio)),c=d=>`${Q(Math.abs(d),1,"dollar")}${Y(d,"dollar")}`,m=(d,b=0)=>`${Q(d,b,"percentage")}${Y(d,"percentage")}`;return N(_,d=>{d&&typeof d.rank=="number"&&(r.value=e("title",{rank:d.rank,total_positions:d.total_positions}))},{immediate:!0}),(d,b)=>{const k=Ze,$=on,D=ae;return y(),A(D,{class:"chart-container",title:s(r),loading:s(p)},{actions:w(()=>[h(k,null,{default:w(()=>[cf]),_:1})]),default:w(()=>[h($,{class:"chart",options:s(f),series:s(v)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function ms(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n,interpolate:i,named:r}=t;return n(["Trove Relative Position (Risk rank: ",i(r("rank"))," / ",i(r("total_positions")),")"])}}})}typeof ms=="function"&&ms(Oi);const pf=I(Oi,[["__scopeId","data-v-32c93c60"]]),Ri=P({__name:"ChartTroveHealth",props:{vault:{default:null},trove:{default:null}},setup(a){const{t:e}=U(),{theme:t,flavor:n}=j(W()),i=new Ye(X(),n.value),{isFetching:r,data:l}=K({queryKey:["prisma-trove-snapshots",g(()=>{var o;return(o=a.vault)==null?void 0:o.address}),g(()=>{var o;return(o=a.trove)==null?void 0:o.owner})],queryFn:({queryKey:[,o,c]})=>o&&c?i.getTroveSnapshots("ethereum",o,c).then(m=>m.snapshots):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),p=g(()=>le(t.value,{chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"collateralUsd",tickAmount:4,opposite:!0,labels:{formatter:o=>f(o)},min:0,max:Math.max(...l.value.map(o=>o.collateral_usd))},{seriesName:"ratio",tickAmount:4,labels:{formatter:o=>v(o)},min:0,max:Math.max(...l.value.map(o=>o.cr??0))}],dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:o=>{const c=o.w.globals.initialSeries[0].data[o.dataPointIndex].y,m=o.w.globals.initialSeries[1].data[o.dataPointIndex]?o.w.globals.initialSeries[1].data[o.dataPointIndex].y:0;return[`<div><b>${e("ratio")}</b>:</div><div>${v(m)}</div>`,`<div><b>${e("collateralUsd")}</b>:</div><div>${f(c)}</div>`].join("")}}})),_=g(()=>[{name:e("collateralUsd"),type:"line",data:l.value.map(o=>({x:o.timestamp*1e3,y:o.collateral_usd}))},{name:e("ratio"),type:"line",data:l.value.map(o=>({x:o.timestamp*1e3,y:o.cr??0}))}]),f=o=>`$${Q(o,1,"dollar")}${Y(o,"dollar")}`,v=o=>`${Oe(o*100,2)}%`;return(o,c)=>{const m=pe;return y(),A(m,{class:"health",title:s(e)("title"),options:s(p),series:s(_),loading:s(r)},null,8,["title","options","series","loading"])}}});function ys(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Health"])},collateralUsd:t=>{const{normalize:n}=t;return n(["Collateral ($)"])},ratio:t=>{const{normalize:n}=t;return n(["Ratio"])}}})}typeof ys=="function"&&ys(Ri);const df=I(Ri,[["__scopeId","data-v-65a7227a"]]),mf={class:"title"},yf={class:"number"},ff={class:"number"},vf={class:"number"},_f={class:"number"},hf={class:"number"},bf=["href"],gf={class:"number"},Vi=P({__name:"TableTroveOps",props:{vault:{default:null},trove:{default:null}},setup(a){const{t:e}=U(),t=W(),n=new Ye(X(),t.flavor),{relativeTime:i}=xe(),r=g(()=>H.orderBy(p.value,f=>f.timestamp,"desc")),{isFetching:l,data:p}=K({queryKey:["prisma-trove-snapshots",g(()=>{var f;return(f=a.vault)==null?void 0:f.address}),g(()=>{var f;return(f=a.trove)==null?void 0:f.owner})],queryFn:({queryKey:[,f,v]})=>f&&v?n.getTroveSnapshots("ethereum",f,v).then(o=>o.snapshots):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),_=f=>f.replace(/^_*(.)|_+(.)/g,(v,o,c)=>o?o.toUpperCase():" "+c.toUpperCase());return(f,v)=>{const o=se,c=ue;return y(),A(c,{class:"datatable-trove-ops","columns-header":"1fr 1fr auto","columns-data":"trove-ops-columns-data",loading:s(l),rows:s(r),columns:["Operation","Collateral","Debt","Ratio","Stake","Tx","Time"]},{"header-content":w(()=>[u("div",mf,x(s(e)("title")),1)]),row:w(m=>[u("div",null,x(_(m.item.operation)),1),u("div",yf,[m.item.collateral?(y(),A(o,{key:0,value:m.item.collateral,precision:3,"show-symbol":!1,type:"dollar"},null,8,["value"])):z("",!0)]),u("div",ff,[h(o,{type:"dollar",value:Math.round(m.item.debt),precision:1/0},null,8,["value"])]),u("div",vf,[m.item.cr?(y(),A(o,{key:0,value:m.item.cr*100,precision:2,type:"percentage"},null,8,["value"])):z("",!0)]),u("div",_f,[m.item.stake?(y(),A(o,{key:0,value:m.item.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])):z("",!0)]),u("div",hf,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${m.item.hash}`,target:"_blank",onClick:v[0]||(v[0]=ne(()=>{},["stop"]))},x(s(J)(m.item.hash)),9,bf)]),u("div",gf,x(s(i)(m.item.timestamp)),1)]),_:1},8,["loading","rows"])}}});function fs(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Operations"])}}})}typeof fs=="function"&&fs(Vi);const wf=I(Vi,[["__scopeId","data-v-85d1638b"]]),Tf={class:"trove"},kf=P({__name:"Trove.page",setup(a){const e=W(),t=wt(),n=Tt(),i=new Ye(X(),e.flavor),r=Ae().getSocket(je(e.flavor)),l=new Qe(r,"ethereum"),p=Te(l.overview$,[]),_=at("vaultAddr"),f=at("troveAddr"),v=g(()=>n.vault),o=g(()=>n.trove);return we(async()=>{var d,b,k;const c=await i.getTroveDetail("ethereum",_.value,f.value);c&&(n.trove=c);const m=Re((d=v.value)==null?void 0:d.address)??((b=v.value)==null?void 0:b.name)??"?";t.show=!0,t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${m}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((k=o.value)==null?void 0:k.owner)??"?"}`}]}),N(p,c=>{const m=c.find(d=>d.address===_.value);m&&(n.vault=m)}),N(v,c=>{var d;const m=Re(c==null?void 0:c.address)??(c==null?void 0:c.name)??"?";t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${m}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((d=o.value)==null?void 0:d.owner)??"?"}`}]}),N(o,c=>{var d,b;const m=Re((d=v.value)==null?void 0:d.address)??((b=v.value)==null?void 0:b.name)??"?";t.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${m}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(c==null?void 0:c.owner)??"?"}`}]}),(c,m)=>(y(),S("div",Tf,[h(pf,{class:"graph-rank",vault:s(v),trove:s(o)},null,8,["vault","trove"]),h(df,{class:"graph-health",vault:s(v),trove:s(o)},null,8,["vault","trove"]),h(wf,{class:"table-ops",vault:s(v),trove:s(o)},null,8,["vault","trove"])]))}}),$f=I(kf,[["__scopeId","data-v-4369d6d5"]]),Cf={class:"title"},Mf={style:{display:"flex",gap:"1rem"}},Sf=["src"],xf=["href"],Af=["href"],Pf={class:"number"},Lf={class:"number"},If={class:"number"},vs=15,Ei=P({__name:"TableRedemptions",props:{troves:{default:()=>[]}},setup(a){const e=W(),t=new un(X(),e.flavor),{t:n}=U(),{isFetching:i,data:r}=K({queryKey:["prisma-redemptions",g(()=>a.troves)],queryFn:({queryKey:[,T]})=>Promise.all(H.chain(T).uniq().map(C=>t.getRedemptionsForTrove("ethereum",C)).value()).then(C=>C.flat()),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=xe(),{sortColumn:p,sortOrder:_,onSort:f}=Le("timestamp"),v=V(""),o=V("all"),c=V(null),m=g(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),d=g(()=>["icon","redeemer","tx","debt","numtroves","timestamp"]),b=g(()=>["redeemer","tx","debt","numtroves","timestamp"]),k=g(()=>H.chain(r.value).filter(T=>{const C=v.value.toLocaleLowerCase().split(" "),E=B=>C.some(R=>B.toLocaleLowerCase().includes(R)),q=o.value==="all"?!0:T.vault===o.value;return E(T.redeemer)&&q}).orderBy(T=>{switch(p.value){case"redeemer":return T.redeemer;case"tx":return T.transaction;case"debt":return T.actual_debt_amount;case"numtroves":return T.troves_affected_count;case"timestamp":return T.timestamp;default:return T.timestamp}},_.value===ie.Descending?"desc":"asc").value()),{page:$,rowsPage:D,onPage:M}=Ce(k,vs),L=T=>{c.value=T};return(T,C)=>{const E=he,q=$e,B=se,R=ue,Z=qe;return y(),S(te,null,[h(R,{class:"datatable-redemptions","columns-header":"1fr 14rem 2fr","columns-data":"redemptions-columns-data",loading:s(i)||T.troves.length===0,rows:s(D),columns:s(m),sorting:!0,"sorting-columns":s(d),"sorting-columns-enabled":s(b),"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:s(f),onSelected:L},{"header-content":w(()=>[u("div",Cf,x(s(n)("title")),1),h(kt,{class:"select-vault",vault:s(o),all:!0,onSelectVault:C[0]||(C[0]=O=>o.value=O)},null,8,["vault"]),u("div",Mf,[h(E,{modelValue:s(v),"onUpdate:modelValue":C[1]||(C[1]=O=>de(v)?v.value=O:null),class:"search",search:!0,placeholder:s(n)("search-placeholder")},null,8,["modelValue","placeholder"]),h(q,{class:"pagination","items-count":s(k).length,"items-per-page":vs,page:s($),onPage:s(M)},null,8,["items-count","page","onPage"])])]),row:w(O=>[u("img",{src:s(Ee)(O.item.vault)},null,8,Sf),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${O.item.redeemer}`,target:"_blank",onClick:C[2]||(C[2]=ne(()=>{},["stop"]))},x(s(J)(O.item.redeemer)),9,xf)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${O.item.transaction}`,target:"_blank",onClick:C[3]||(C[3]=ne(()=>{},["stop"]))},x(s(J)(O.item.transaction)),9,Af)]),u("div",Pf,[h(B,{type:"dollar",value:Math.round(O.item.actual_debt_amount),precision:1/0},null,8,["value"])]),u("div",Lf,x(O.item.troves_affected_count),1),u("div",If,x(s(l)(O.item.timestamp)),1)]),"row-details":w(()=>[G("  ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(Z,{show:!!s(c),onClose:C[4]||(C[4]=O=>c.value=null)},{default:w(()=>[s(c)?(y(),A(pn,{key:0,redemption:s(c),"vault-addr":s(c).vault},null,8,["redemption","vault-addr"])):z("",!0)]),_:1},8,["show"])],64)}}});function _s(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Redemptions"])},"search-placeholder":t=>{const{normalize:n}=t;return n(["Search for..."])}}})}typeof _s=="function"&&_s(Ei);const Df=I(Ei,[["__scopeId","data-v-b971fca7"]]),zf={class:"title"},Of={style:{display:"flex",gap:"1rem"}},Rf=["src"],Vf=["href"],Ef=["href"],qf={class:"number"},Ff={class:"number"},Uf={class:"number"},hs=15,qi=P({__name:"TableLiquidations",props:{troves:{default:()=>[]}},setup(a){const e=W(),t=new ln(X(),e.flavor),{t:n}=U(),{isFetching:i,data:r}=K({queryKey:["prisma-liquidations-troves",g(()=>a.troves)],queryFn:({queryKey:[,T]})=>Promise.all(H.chain(T).uniq().map(C=>t.getLiquidationsForTrove("ethereum",C)).value()).then(C=>C.flat()),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=xe(),{sortColumn:p,sortOrder:_,onSort:f}=Le("timestamp"),v=V(""),o=V("all"),c=V(null),m=g(()=>["","Liquidator","Transaction","Debt","# Troves","Time"]),d=g(()=>["icon","liquidator","tx","debt","numtroves","timestamp"]),b=g(()=>["liquidator","tx","debt","numtroves","timestamp"]),k=g(()=>H.chain(r.value).filter(T=>{const C=v.value.toLocaleLowerCase().split(" "),E=B=>C.some(R=>B.toLocaleLowerCase().includes(R)),q=o.value==="all"?!0:T.vault===o.value;return E(T.liquidator)&&q}).orderBy(T=>{switch(p.value){case"liquidator":return T.liquidator;case"tx":return T.transaction;case"debt":return T.liquidated_collateral_usd;case"numtroves":return T.troves_affected_count;case"timestamp":return T.timestamp;default:return T.timestamp}},_.value===ie.Descending?"desc":"asc").value()),{page:$,rowsPage:D,onPage:M}=Ce(k,hs),L=T=>{c.value=T};return(T,C)=>{const E=he,q=$e,B=se,R=ue,Z=qe;return y(),S(te,null,[h(R,{class:"datatable-liquidations","columns-header":"1fr 14rem 2fr","columns-data":"liquidations-columns-data",loading:s(i)||T.troves.length===0,rows:s(D),columns:s(m),sorting:!0,"sorting-columns":s(d),"sorting-columns-enabled":s(b),"sorting-default-column":"timestamp","sorting-default-dir":"Descending",onSortColumn:s(f),onSelected:L},{"header-content":w(()=>[u("div",zf,x(s(n)("title")),1),h(kt,{class:"select-vault",vault:s(o),all:!0,onSelectVault:C[0]||(C[0]=O=>o.value=O)},null,8,["vault"]),u("div",Of,[h(E,{modelValue:s(v),"onUpdate:modelValue":C[1]||(C[1]=O=>de(v)?v.value=O:null),class:"search",search:!0,placeholder:s(n)("search-placeholder")},null,8,["modelValue","placeholder"]),h(q,{class:"pagination","items-count":s(k).length,"items-per-page":hs,page:s($),onPage:s(M)},null,8,["items-count","page","onPage"])])]),row:w(O=>[u("img",{src:s(Ee)(O.item.vault)},null,8,Rf),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${O.item.liquidator}`,target:"_blank",onClick:C[2]||(C[2]=ne(()=>{},["stop"]))},x(s(J)(O.item.liquidator)),9,Vf)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${O.item.transaction}`,target:"_blank",onClick:C[3]||(C[3]=ne(()=>{},["stop"]))},x(s(J)(O.item.transaction)),9,Ef)]),u("div",qf,[h(B,{type:"dollar",value:Math.round(O.item.liquidated_debt),precision:1/0},null,8,["value"])]),u("div",Ff,x(O.item.troves_affected_count),1),u("div",Uf,x(s(l)(O.item.timestamp)),1)]),"row-details":w(()=>[G("  ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(Z,{show:!!s(c),onClose:C[4]||(C[4]=O=>c.value=null)},{default:w(()=>[s(c)?(y(),A(dn,{key:0,liquidation:s(c),"vault-addr":s(c).vault},null,8,["liquidation","vault-addr"])):z("",!0)]),_:1},8,["show"])],64)}}});function bs(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Liquidations"])},"search-placeholder":t=>{const{normalize:n}=t;return n(["Search for..."])}}})}typeof bs=="function"&&bs(qi);const Wf=I(qi,[["__scopeId","data-v-1b94f21d"]]),Bf={style:{display:"grid","grid-template-columns":"auto 1fr"}},Nf={class:"title"},Hf={style:{display:"flex",gap:"1rem","grid-column":"3"}},Kf=["src"],Xf=["href"],Gf={class:"number"},Zf={class:"number"},gs=15,Fi=P({__name:"TableTroves",props:{vaults:{default:()=>[]},user:{}},emits:["troves"],setup(a,{emit:e}){const{t}=U(),n=W(),i=new Ye(X(),n.flavor),r=e,{isFetching:l,data:p}=K({queryKey:["prisma-troves",Dn(()=>a.vaults),Dn(()=>a.user)],queryFn:async({queryKey:[,C,E]})=>{if(C.length>0&&E){const q=await Promise.all(C.map(B=>i.getTroves("ethereum",B.address,E).then(R=>R.map(Z=>({...Z,vault:B.address}))))).then(B=>B.flat());return r("troves",q),q}else return Promise.resolve([])},initialData:[],initialDataUpdatedAt:0}),{relativeTime:_}=xe(),{sortColumn:f,sortOrder:v,onSort:o}=Le("updated"),c=V(""),m=V("Open"),d=g(()=>m.value==="Open"?["","Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["","Owner","","","","Created At","Last Updated"]),b=g(()=>m.value==="Open"?["","owner","debt","coll","ratio","created","updated"]:["","owner","","","","created","updated"]),k=g(()=>m.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),$=g(()=>H.chain(p.value).filter(C=>m.value===C.status).filter(C=>{const E=c.value.toLocaleLowerCase().split(" ");return(B=>E.some(R=>B.toLocaleLowerCase().includes(R)))(C.owner)}).orderBy(C=>{switch(f.value){case"owner":return C.owner;case"debt":return C.debt;case"coll":return C.collateral_usd;case"ratio":return C.collateral_ratio;case"created":return C.created_at;case"updated":return C.last_update;default:return C.last_update}},v.value===ie.Descending?"desc":"asc").value()),{page:D,rowsPage:M,onPage:L}=Ce($,gs),T=C=>{C===0?m.value="Open":C===1?m.value="Closed":m.value="Open"};return(C,E)=>{const q=mt,B=dt,R=he,Z=$e,O=se,Wi=ue;return y(),A(Wi,{class:"datatable-troves","columns-header":"1fr 14rem 2fr","columns-data":"troves-columns-data",loading:s(l),rows:s(M),columns:s(d),sorting:!0,"sorting-columns":s(b),"sorting-columns-enabled":s(k),"sorting-default-column":"updated","sorting-default-dir":"Descending",onSortColumn:s(o)},{"header-content":w(()=>[u("div",Bf,[u("div",Nf,x(s(t)("title")),1),h(B,{class:"types",onTab:E[0]||(E[0]=be=>T(be.index))},{default:w(()=>[h(q,{header:"Open"}),h(q,{header:"Closed"})]),_:1})]),u("div",Hf,[h(R,{modelValue:s(c),"onUpdate:modelValue":E[1]||(E[1]=be=>de(c)?c.value=be:null),class:"search",search:!0,placeholder:s(t)("search-placeholder")},null,8,["modelValue","placeholder"]),h(Z,{class:"pagination","items-count":s($).length,"items-per-page":gs,page:s(D),onPage:s(L)},null,8,["items-count","page","onPage"])])]),row:w(be=>[u("img",{src:s(Ee)(be.item.vault)},null,8,Kf),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${be.item.owner}`,target:"_blank",onClick:E[2]||(E[2]=ne(()=>{},["stop"]))},x(s(J)(be.item.owner)),9,Xf)]),u("div",{class:F(["number",{hide:s(m)==="Closed"}])},[h(O,{type:"dollar",value:Math.round(be.item.debt),precision:1/0},null,8,["value"])],2),u("div",{class:F(["number",{hide:s(m)==="Closed"}])},[h(O,{type:"dollar",value:Math.round(be.item.collateral_usd),precision:1/0},null,8,["value"])],2),u("div",{class:F(["number",{hide:s(m)==="Closed"}])},[h(O,{value:be.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",Gf,x(s(_)(be.item.created_at)),1),u("div",Zf,x(s(_)(be.item.last_update)),1)]),"row-details":w(()=>[G("  ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"])}}});function ws(a){const e=a;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:n}=t;return n(["Troves"])},"search-placeholder":t=>{const{normalize:n}=t;return n(["Search for..."])}}})}typeof ws=="function"&&ws(Fi);const jf=I(Fi,[["__scopeId","data-v-2046b7c4"]]),Jf={class:"profile"},Yf={style:{"grid-column":"1 / -1","margin-bottom":"-0.5rem"}},Qf=P({__name:"Profile.page",setup(a){const e=W(),t=it(),{address:n}=Ge(),i=Ae().getSocket(je(e.flavor)),r=new Qe(i,"ethereum"),l=Te(r.overview$,[]),p=at("addr"),_=V(void 0),f=V([]),v=g(()=>f.value.filter(c=>_.value?c.owner.toLocaleLowerCase()===_.value.toLocaleLowerCase():!1).map(c=>c.owner));we(()=>{p.value&&(_.value=p.value)});const o=c=>{f.value=c};return N(n,async()=>{!p.value&&!_.value&&n.value&&await t.push({name:"profile",params:{addr:n.value}})},{immediate:!0}),N(p,c=>{c&&(_.value=c)}),(c,m)=>(y(),S("div",Jf,[u("h2",Yf," Profile: "+x(s(_)??"?"),1),h(jf,{style:{"z-index":"2"},vaults:s(l),user:s(_),onTroves:o},null,8,["vaults","user"]),h(Df,{troves:s(v)},null,8,["troves"]),h(Wf,{troves:s(v)},null,8,["troves"])]))}}),ev=I(Qf,[["__scopeId","data-v-6d130a3e"]]),tv=[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:bc},{path:"/stable",name:"stable",component:Wc},{path:"/redemptions",name:"redemptions",component:Tp},{path:"/liquidations",name:"liquidations",component:Ep},{path:"/revenue",name:"revenue",component:td},{path:"/vaults",name:"vaults",component:ju},{path:"/wrappers/:tab?",name:"wrappers",component:Sd},{path:"/veprisma",name:"veprisma",component:Bd},{path:"/proposals",name:"proposals",component:ny},{path:"/profile/:addr?",name:"profile",component:ev},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:lf},{path:"/vault/:vaultAddr/trove/:troveAddr",name:"prismatrove",component:$f}],nv={titleRoute:"/",menuItems:[{to:"/vaults",label:"Vaults",icon:"fas fa-piggy-bank"},{to:"/stable",label:()=>{const a=W();return gt(a.flavor)},icon:"fas fa-dollar-sign"},{to:"/pool",label:"Stability pool",icon:"fas fa-balance-scale"},{to:"/redemptions",label:"Redemptions",icon:"fas fa-bible"},{to:"/liquidations",label:"Liquidations",icon:"fas fa-book-dead"},{to:"/veprisma",label:"vePRISMA",icon:"fas fa-lock"},{to:"/proposals",label:"Proposals",icon:"fas fa-landmark"},{to:"/wrappers",label:"ve Wrappers",icon:"fas fa-tint"},{to:"/profile",label:"Profile",icon:"fas fa-user"}]},yn=po($l),av=mo({legacy:!1,locale:"en",fallbackLocale:"en"});yn.use(av);const sv=yo();yn.use(sv);const iv=[nv],ov=[tv],Ui=an();Ui.pages=iv;Ui.routes=ov;const rv=new fo({defaultOptions:{queries:{staleTime:1e3*60*5}},queryCache:new vo({onError:(a,e)=>{st({text:`Failed querying ${e.queryHash} >>> ${a.message}`,type:"error"})}})}),lv=nu();yn.use(lv).use(_o).use(ho,{queryClient:rv}).use(bo).mount("#app");
