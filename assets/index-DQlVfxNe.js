import{o as _,c as S,p as me,a as ve,b as u,d as I,e as P,n as U,f as V,g as G,t as A,r as ee,w as y,h,i as le,j as Tt,F as X,T as Gn,m as Ue,k as At,s as Pt,D as Je,u as It,l as F,q as b,v as K,x as Oe,y as n,z as jn,A as Zn,B as Yn,C as Ye,E as Co,G as be,H as Dt,I as Qn,J as Jn,K as O,L as Xn,M as es,N as ts,O as ae,P as Xe,Q as ko,R as as,S as he,U as et,V as os,W as ns,X as So,Y as ss,Z as ls,_ as rs,$ as is,a0 as cs,a1 as us,a2 as ds,a3 as ps,a4 as ms,a5 as Ct,a6 as Lo,a7 as W,a8 as Z,a9 as N,aa as vs,ab as _s,ac as fs,ad as hs,ae as pe,af as ce,ag as gs,ah as bs,ai as ys,aj as Qe,ak as ws,al as Gt,am as jt,an as dt,ao as $s,ap as He,aq as Zt,ar as Cs,as as ks,at as Ss,au as Ls,av as Ts,aw as As,ax as Ps,ay as Is,az as Ds,aA as xs}from"./vendor-D7EQgE-M.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(s){if(s.ep)return;s.ep=!0;const i=a(s);fetch(s.href,i)}})();const D=(o,e)=>{const a=o.__vccOpts||o;for(const[t,s]of e)a[t]=s;return a},zs={},To=o=>(me("data-v-ad2adcec"),o=o(),ve(),o),qs={class:"lds-ripple"},Vs=To(()=>u("div",null,null,-1)),Ms=To(()=>u("div",null,null,-1)),Fs=[Vs,Ms];function Rs(o,e){return _(),S("div",qs,Fs)}const xt=D(zs,[["render",Rs],["__scopeId","data-v-ad2adcec"]]),Bs=["inert"],Us={class:"text"},Os=I({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:null}},setup(o){return(e,a)=>{const t=xt;return _(),S("div",{class:"card",inert:!!e.loading},[e.loading!==null?(_(),P(t,{key:0,class:U(["loader",{loading:e.loading}])},null,8,["class"])):V("",!0),u("div",{class:U(["card-container",{loading:e.loading}])},[e.title?(_(),S("div",{key:0,class:U(["card-header",{collapsible:e.collapsible}])},[u("div",Us,[e.icon?(_(),S("i",{key:0,class:U(["icon",e.icon])},null,2)):V("",!0),G(" "+A(e.title),1)]),ee(e.$slots,"actions",{},void 0,!0)],2)):(_(),S("div",{key:1,class:U(["card-no-header",{compact:e.compact}])},null,2)),u("div",{class:U(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[ee(e.$slots,"default",{},void 0,!0)],2)],2)],8,Bs)}}}),te=D(Os,[["__scopeId","data-v-7d5bd921"]]),Es={key:0,class:"fas fa-chevron-right"},Ks=I({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(o,{emit:e}){const a=e,t=i=>{var c;const l=o.active?o.active.id===i.id:((c=o.crumbs.filter(p=>!p.hint).at(-1))==null?void 0:c.id)===i.id;return i.hint??l},s=i=>{var l;return((l=o.crumbs.at(-1))==null?void 0:l.id)===i.id};return(i,l)=>{const c=te;return _(),P(c,null,{default:y(()=>[h(Gn,{name:"fade",tag:"ul"},{default:y(()=>[(_(!0),S(X,null,le(i.crumbs,p=>(_(),S("li",{key:p.id},[(_(),P(Tt(t(p)?"span":"a"),{class:U({active:t(p),hint:p.hint}),onClick:m=>a("crumb",p)},{default:y(()=>[G(A(p.label),1)]),_:2},1032,["class","onClick"])),!s(p)||i.crumbs.length===1?(_(),S("i",Es)):V("",!0)]))),128))]),_:1})]),_:1})}}}),Ws=D(Ks,[["__scopeId","data-v-1c1116d3"]]),Ns={class:"collapsible-inside"},Hs=I({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(o){return(e,a)=>(_(),S("div",{class:U(["collapsible-outside",{expanded:e.expanded}])},[u("div",Ns,[ee(e.$slots,"default",{},void 0,!0)])],2))}}),tt=D(Hs,[["__scopeId","data-v-25b74378"]]),Gs={class:"badge"},js={class:"label"},Zs=I({__name:"Badge",props:{label:{default:""}},setup(o){return(e,a)=>(_(),S("div",Gs,[u("div",js,A(e.label),1)]))}}),Ys=D(Zs,[["__scopeId","data-v-79abf25e"]]);function pt(o){return(o==null?void 0:o.children)!==void 0}function Yt(o){return(o==null?void 0:o.to)!==void 0}function Qs(o){function e(r){return r<10?"0"+r.toString():r.toString()}const a=o.getTime()-new Date().getTime();if(a<=0)return"00:00:00:00";const t=1e3,s=t*60,i=s*60,l=i*24,c=Math.floor(a/l),p=Math.floor(a%l/i),m=Math.floor(a%i/s),f=Math.floor(a%s/t);return e(c)+":"+e(p)+":"+e(m)+":"+e(f)}function xe(o,e=0,a=".",t=","){const s=isFinite(+o)?+o:0,i=isFinite(+e)?Math.abs(e):0,l=typeof t>"u"?",":t,c=typeof a>"u"?".":a,p=function(f,r){const v=Math.pow(10,r);return Math.round(f*v)/v},m=(i?p(s,i):Math.round(s)).toString().split(".");return m[0].length>3&&(m[0]=m[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,l)),(m[1]||"").length<i&&(m[1]=m[1]||"",m[1]+=new Array(i-m[1].length+1).join("0")),m.join(c)}function Q(o,e){const a=Math.abs(o);return e==="percentage"?"%":e==="dollar"?a>=1*10**12?"t":a>=1*10**9?"b":a>=1*10**6?"m":a>=1*10**3?"k":"":""}function J(o,e,a){const t=Math.abs(o);return e===1/0?o.toLocaleString():a==="percentage"?xe(o,e):a==="dollar"?t>=1*10**12?xe(o/10**12,e):t>=1*10**9?xe(o/10**9,e):t>=1*10**6?xe(o/10**6,e):t>=1*10**3?xe(o/10**3,e):xe(o,e):o.toString()}async function qe(o,e=0,a=1e3){const t=await o(e,a),s=await(t.length>=a?qe(o,e+1,a):Promise.resolve([]));return t.concat(s)}function kt(o,e){return(Array.isArray(o)?o:[o]).some(t=>e.path.startsWith(t))}const Js="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",Xs="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",el="0x657ce046d98d163ef4f846210f25919fa7b31944",Ge="0xc53baaaa8595a7a2e7fee71db7291b939f696734",tl="https://api.llama.airforce/";async function al(o,e,a){try{const t=await fetch(o,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:a});if(t.ok)return t;throw new Error(`Fetch error ${t.status} for URL: ${o}`)}catch(t){throw t instanceof Error?t:new Error("Unknown fetch error")}}async function ol(o,e,a){return await(await al(o,e,a)).json()}class ye{constructor(e){this.host=e}async fetch(e,a,t){return ol(e,a,t)}}const nl="wss://prices.curve.fi/v1/stream/ws",Qt="pool_ohlc";class _t{constructor(e,a,t){this.chain=a,this.settings=t,this.socket=e,this.ohlc$=this.socket.pipe(Ue(s=>s),At(s=>s.subscription.chain===this.chain&&s.channel===Qt&&JSON.stringify(s.subscription)===JSON.stringify(t)),Ue(s=>s.payload),Pt(1)),this.send("snapshots")}send(e){const a={action:e,channel:Qt,settings:[this.settings]};this.socket.next(a)}}const Jt="pool_volume";class sl{constructor(e,a,t){this.chain=a,this.settings=t,this.socket=e,this.volume$=this.socket.pipe(Ue(s=>s),At(s=>s.subscription.chain===this.chain&&s.channel===Jt&&JSON.stringify(s.subscription)===JSON.stringify(t)),Ue(s=>s.payload),Pt(1)),this.send("snapshots")}send(e){const a={action:e,channel:Jt,settings:[this.settings]};this.socket.next(a)}}function zt(o){return o.message.includes("Exchange resulted in fewer coins than expected")||o.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":o.message}async function ll(o){try{return await o()}catch(e){const a=e instanceof Error?zt(e):JSON.stringify(e);Je({text:a,type:"error"});return}}async function Xt(o,e){o.value=!0;try{return await e()}catch(a){const t=a instanceof Error?zt(a):JSON.stringify(a);Je({text:t,type:"error"});return}finally{o.value=!1}}const rl={key:0},il={class:"nav-link-container"},cl={class:"nav-link-container"},ul={class:"left"},dl={key:0,class:"icon"},pl={class:"right"},ml=I({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(o,{emit:e}){const a=e,t=It(),s=F(!0),i=b(()=>Yt(o.item)?[o.item]:pt(o.item)?o.item.children:[]),l=()=>{pt(o.item)&&o.item.children.filter(f=>kt(f.to,t)).length>0&&(s.value=!0)},c=m=>typeof m.label=="string"?m.label:m.label();K(()=>o.item,m=>{pt(m)&&(s.value=!m.initCollapsed),l()},{immediate:!0}),K(()=>t.fullPath,()=>{l()},{immediate:!0});const p=()=>{s.value=!s.value};return(m,f)=>{const r=Ys,v=Oe("router-link"),g=tt;return _(),S(X,null,[n(pt)(m.item)?(_(),S("li",rl,[u("a",{class:"nav-link node",onClick:p},[u("div",il,[G(A(m.item.label)+" ",1),u("i",{class:U(["expander fas fa-chevron-up",{expanded:n(s)}])},null,2)])])])):V("",!0),h(g,{class:"items",expanded:n(s)},{default:y(()=>[u("ul",null,[(_(!0),S(X,null,le(n(i),d=>(_(),S("li",{key:c(d)},[n(Yt)(d)?(_(),P(v,{key:0,to:d.to,class:U(["nav-link leaf",{"router-link-active":n(kt)(d.to,n(t))}]),onClick:f[0]||(f[0]=w=>a("navigated"))},{default:y(()=>[u("div",cl,[u("div",ul,[d.icon?(_(),S("div",dl,[u("i",{class:U(d.icon)},null,2)])):V("",!0),G(" "+A(c(d)),1)]),u("div",pl,[d.tag?(_(),P(r,{key:0,label:d.tag},null,8,["label"])):V("",!0)])])]),_:2},1032,["to","class"])):V("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}}),vl=D(ml,[["__scopeId","data-v-35101021"]]),_l=I({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(o,{emit:e}){const a=e,t=It(),s=b(()=>o.pages.find(c=>kt(c.titleRoute,t))),i=b(()=>{var c;return((c=s.value)==null?void 0:c.menuItems)??[]}),l=c=>typeof c.label=="string"?c.label:c.label();return(c,p)=>(_(),S("nav",null,[(_(!0),S(X,null,le(n(i),m=>(_(),S("ul",{key:l(m)},[h(vl,{item:m,onNavigated:p[0]||(p[0]=f=>a("navigated"))},null,8,["item"])]))),128))]))}}),fl=D(_l,[["__scopeId","data-v-6a18bfcc"]]);function at(){const{address:o,isConnected:e,chainId:a}=jn(),t=Zn(),s=b(()=>t.data.value&&o.value?o.value:void 0),i=b(()=>{switch(a.value){case Ye.id:return"ethereum";case Yn.id:return"base";default:return}});return{isConnected:e,network:i,address:s}}function Y(o,e=6){if(!o)return"0x000...000";const a=e/2+2,t=o.length-e/2;return`${o.substring(0,a)}...${o.substring(t)}`}function hl(){return!1}const gl=I({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const a=e,{network:t}=at(),{switchChain:s}=Co(),i=l=>{l.stopImmediatePropagation(),o.web3&&hl()&&t.value!=="ethereum"&&s({chainId:Ye.id}),a("click")};return(l,c)=>(_(),S("button",{class:U({primary:l.primary}),onClick:i},[ee(l.$slots,"default",{},()=>[l.icon?(_(),S("i",{key:0,class:U(["icon",[l.icon,{noValue:!!l.value}]])},null,2)):V("",!0),G(" "+A(l.value),1)],!0)],2))}}),ot=D(gl,[["__scopeId","data-v-39a4c555"]]),bl="/assets/prisma-B4fv490f.png",yl="/assets/hat-D1qfnSjv.png",wl={},Ao=o=>(me("data-v-3cccad8a"),o=o(),ve(),o),$l={class:"logo"},Cl=Ao(()=>u("div",{class:"visual"},[u("img",{src:bl}),u("img",{src:yl})],-1)),kl=Ao(()=>u("span",null,"prisma.monitor",-1)),Sl=[Cl,kl];function Ll(o,e){return _(),S("div",$l,Sl)}const Tl=D(wl,[["render",Ll],["__scopeId","data-v-3cccad8a"]]),Al={class:"header"},Pl={class:"buttons"},Il=I({__name:"Header",emits:["toggle-expansion","navigated"],setup(o,{emit:e}){const a=e;return(t,s)=>{const i=Oe("router-link"),l=ot;return _(),S("div",Al,[h(i,{class:"logo",to:"/",onClick:s[0]||(s[0]=c=>a("navigated"))},{default:y(()=>[h(Tl,{class:"logo"})]),_:1}),u("div",Pl,[h(l,{icon:"fas fa-bars",onClick:s[1]||(s[1]=c=>a("toggle-expansion"))})])])}}}),Dl=D(Il,[["__scopeId","data-v-7323f4f0"]]),xl={key:0,class:"modal"},zl={class:"modal-popup"},ql=I({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(o,{emit:e}){const a=e,t=s=>{s.code==="Escape"&&a("close")};return be(()=>{document.addEventListener("keydown",t)}),Dt(()=>{document.removeEventListener("keydown",t)}),K(()=>o.show,s=>{document.body.style.overflow=s?"hidden":""}),(s,i)=>(_(),P(Qn,{to:"body"},[s.show?(_(),S("div",xl,[u("div",{class:"modal-mask",onClick:i[0]||(i[0]=l=>a("close"))}),u("div",zl,[ee(s.$slots,"default",{},void 0,!0)])])):V("",!0)]))}}),Ae=D(ql,[["__scopeId","data-v-b0df9b35"]]),Vl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",Ml={key:1,src:Vl},Fl=I({__name:"Tooltip",props:{icon:{default:""}},emits:["show"],setup(o,{emit:e}){const a=e,t=F(!1);return K(t,s=>a("show",s)),(s,i)=>(_(),P(n(Jn),{class:"tooltip",show:n(t)},{content:y(()=>[ee(s.$slots,"default",{},void 0,!0)]),default:y(()=>[u("div",{onMouseover:i[0]||(i[0]=l=>t.value=!0),onMouseleave:i[1]||(i[1]=l=>t.value=!1)},[ee(s.$slots,"item",{},()=>[s.icon?(_(),S("i",{key:0,class:U(s.icon)},null,2)):(_(),S("img",Ml))],!0)],32)]),_:3},8,["show"]))}}),nt=D(Fl,[["__scopeId","data-v-ee2caf15"]]),Rl="/assets/injected-DW80ouY-.webp",Bl="/assets/rabby-CG__llS3.svg",Ul="/assets/walletconnect-BCBhrtde.webp",Ol="/assets/coinbase-CsqSq8Nj.webp",El="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",Kl={class:"buttons"},Wl={class:"connectors-body"},Nl={class:"title"},Hl={class:"connectors"},Gl=["src"],jl={key:1,class:"empty"},Zl={class:"name"},qt=I({__name:"WalletConnectButton",setup(o){const{t:e}=O(),{connect:a}=Xn(),t=es(),s=["injected","walletConnect","coinbaseWalletSDK","safe"],i=b(()=>t.value.filter(f=>s.includes(f.id))),l=F(!1);function c(f){switch(f.id){case"injected":return Rl;case"walletConnect":return Ul;case"coinbaseWalletSDK":return Ol;case"safe":return El;case"io.rabby":return Bl;default:return""}}function p(f){return f.id==="injected"?"Browser Extension":f.name}function m(f){a({connector:f}),l.value=!1}return(f,r)=>{const v=ot,g=te,d=Ae;return _(),S("div",Kl,[h(v,{class:"button",primary:!0,onClick:r[0]||(r[0]=w=>l.value=!0)},{default:y(()=>[G(A(n(e)("connect-your-wallet")),1)]),_:1}),V("",!0),h(d,{show:n(l),onClose:r[1]||(r[1]=w=>l.value=!1)},{default:y(()=>[h(g,null,{default:y(()=>[u("div",Wl,[u("div",Nl,A(n(e)("connect-your-wallet")),1),u("div",Hl,[(_(!0),S(X,null,le(n(i),w=>(_(),S("div",{key:w.id,class:"connector"},[h(v,{onClick:L=>m(w)},{default:y(()=>[c(w)?(_(),S("img",{key:0,src:c(w)},null,8,Gl)):(_(),S("div",jl)),u("div",Zl,A(p(w)),1)]),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1},8,["show"])])}}});function ea(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"connect-your-wallet":a=>{const{normalize:t}=a;return t(["Connect Wallet"])}}})}function ta(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"connect-your-wallet":a=>{const{normalize:t}=a;return t(["连接你的钱包"])}}})}typeof ea=="function"&&ea(qt);typeof ta=="function"&&ta(qt);const Yl=D(qt,[["__scopeId","data-v-3c15f258"]]),Ql={class:"wallet"},Jl={key:0,class:"connected"},Xl={key:0,class:"unsupportedNetwork"},er={class:"info"},tr={key:1,class:"notConnected"},ar={key:0,class:"info"},Po=I({__name:"Wallet",props:{labelPleaseConnect:{}},setup(o){const{t:e}=O(),{disconnect:a}=ts(),{isConnected:t,network:s,address:i}=at(),{switchChain:l}=Co(),c=b(()=>s.value==="ethereum"),p=()=>l({chainId:Ye.id});return(m,f)=>{const r=ot;return _(),S("div",Ql,[n(t)?(_(),S("div",Jl,[n(c)?V("",!0):(_(),S("div",Xl,[h(r,{class:"changeNetwork",value:"Change Network",primary:!0,onClick:p}),u("span",er,A(n(e)("incorrect-network")),1)])),h(r,{class:"disconnect",icon:"fas fa-check",value:n(Y)(n(i)),onClick:n(a)},null,8,["value","onClick"])])):(_(),S("div",tr,[h(Yl),m.labelPleaseConnect?(_(),S("span",ar,A(m.labelPleaseConnect),1)):V("",!0)]))])}}});function aa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"incorrect-network":a=>{const{normalize:t}=a;return t(["You are not on the correct network; should be Ethereum"])}}})}typeof aa=="function"&&aa(Po);const or=D(Po,[["__scopeId","data-v-416c58d4"]]),nr=o=>(me("data-v-9d368235"),o=o(),ve(),o),sr={class:"select"},lr={class:"item"},rr={key:0,class:"label"},ir=["onClick"],cr=nr(()=>u("div",{class:"chevrons"},[u("i",{class:"fas fa-chevron-up"}),u("i",{class:"fas fa-chevron-down"})],-1)),ur=I({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(o,{emit:e}){const a=e;return(t,s)=>(_(),S("div",{class:"select-container",tabindex:"0",onClick:s[0]||(s[0]=ae(i=>a("open"),["stop"])),onBlur:s[1]||(s[1]=i=>a("close"))},[u("div",sr,[u("div",{class:U(["selected",{open:t.open}])},[ee(t.$slots,"item",{item:t.selected},()=>[u("div",lr,A(t.selected),1)],!0),t.label?(_(),S("div",rr,A(t.label),1)):V("",!0)],2),u("div",{class:U(["items",{selectHide:!t.open}])},[(_(!0),S(X,null,le(t.options,(i,l)=>(_(),S("div",{key:l,onClick:c=>a("input",i)},[ee(t.$slots,"item",{item:i},()=>[G(A(i),1)],!0)],8,ir))),128))],2)]),cr],32))}}),Io=D(ur,[["__scopeId","data-v-9d368235"]]),Me={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},Fe={blue:"#316eff",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#794dec",backgroundColor:"#212121",level1:"#2b2b2b",level2:"#404040",level3:"#545454",level4:"#787878",level5:"#9e9e9e",level6:"#c4c4c4",text:"#ffffff"},dr=[Me.blue,Me.yellow,Me.green,Me.red,Me.purple,"#ff8f33"],pr=[Fe.purple,Fe.yellow,Fe.green,Fe.red,Fe.blue,"#ff8f33"],Re={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Be={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#a689f2",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},mr=[Re.blue,Re.yellow,Re.green,Re.red,Re.purple],vr=[Be.purple,Be.yellow,Be.green,Be.red,Be.blue];function ft(o,e){switch(o){case"light":return e==="lsd"?Re:Be;default:return e==="lsd"?Me:Fe}}function _r(o,e){switch(o){case"light":return e==="lsd"?mr:vr;default:return e==="lsd"?dr:pr}}function fr(o,e){const a=ft(o,e);return e==="lsd"?{lineColor:a.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)"}:{lineColor:a.purple,topColor:"rgb(163, 91, 251, 0.2)",bottomColor:"rgba(163, 91, 251, 0)"}}const E=Xe("settingsStore",()=>{const o=F("light"),e=F("lsd"),a=b(()=>({colors:ft(o.value,e.value),colorsArray:_r(o.value,e.value),lineChartColors:fr(o.value,e.value)}));return{themeId:o,flavor:e,theme:a}});function ht(o){switch(o){case"lsd":return"mkUSD";case"lrt":return"ULTRA";default:return"???"}}function Pe(o){switch(o){case"lsd":return"https://api.prismamonitor.com/v1";case"lrt":return"https://api.ultra.prismamonitor.com/v1";default:return""}}function oa(o){switch(o){case"lsd":return"wss://api.prismamonitor.com/v1/prisma/ws";case"lrt":return"wss://api.ultra.prismamonitor.com/v1/prisma/ws";default:return""}}function hr(o){switch(o){case"api-lsd":return oa("lsd");case"api-lrt":return oa("lrt");case"prices":return nl;default:throw new Error("Unknown socket type")}}function Ee(o){switch(o){case"lsd":return"api-lsd";case"lrt":return"api-lrt";default:throw new Error("Unknown flavor")}}const Se=Xe("socketStore",()=>{const o=ko({sockets:{"api-lsd":null,"api-lrt":null,prices:null}});return{state:o,getSocket:a=>{if(!o.sockets[a]){const t=hr(a);o.sockets[a]=as(t)}return o.sockets[a]}}}),gr={class:"theme"},br={class:"label"},yr={class:"colors"},wr=I({__name:"SelectTheme",setup(o){const e=E(),a=[{id:"dark",colors:ft("dark",e.flavor)},{id:"light",colors:ft("light",e.flavor)}],t=F(a[0]),s=F(!1);be(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)").matches,p=localStorage.getItem("theme");if(!p&&c){const m=a.find(f=>f.id==="dark");m&&l(m)}else{const m=a.find(f=>f.id===p)??a.find(f=>f.id==="light")??a[0];l(m)}});const i=()=>{s.value=!s.value},l=c=>{t.value=c,window.document.documentElement.setAttribute("data-theme",t.value.id),e.themeId=t.value.id,localStorage.setItem("theme",t.value.id)};return(c,p)=>{const m=Io;return _(),P(m,{class:"select direction-up",options:a.map(f=>f),selected:n(t),open:n(s),onOpen:i,onClose:p[0]||(p[0]=f=>s.value=!1),onInput:l},{item:y(f=>[u("div",gr,[u("div",br,A(f.item.id),1),u("div",yr,[u("div",{class:"color",style:he({"background-color":f.item.colors.backgroundColor})},null,4),u("div",{class:"color",style:he({"background-color":f.item.colors.level1})},null,4),u("div",{class:"color",style:he({"background-color":f.item.colors.level2})},null,4),u("div",{class:"color",style:he({"background-color":f.item.colors.blue})},null,4),u("div",{class:"color",style:he({"background-color":f.item.colors.yellow})},null,4),u("div",{class:"color",style:he({"background-color":f.item.colors.green})},null,4),u("div",{class:"color",style:he({"background-color":f.item.colors.red})},null,4),u("div",{class:"color",style:he({"background-color":f.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"])}}}),$r=D(wr,[["__scopeId","data-v-8d93b64f"]]),Cr={class:"bottom"},kr={class:"buttons"},Sr={href:"https://twitter.com/0xAlunara",target:"_blank"},Lr={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},Tr={class:"selectors"},Ar=I({__name:"Bottom",emits:["navigated"],setup(o,{emit:e}){const a=e,t=async()=>{await navigator.clipboard.writeText(window.location.href)};return(s,i)=>{const l=ot,c=Oe("router-link");return _(),S("div",Cr,[u("div",kr,[h(l,{class:"copy",icon:"fas fa-link",onClick:t}),u("a",Sr,[h(l,{icon:"fab fa-twitter"})]),u("a",Lr,[h(l,{icon:"fab fa-github"})]),h(c,{to:"/code"},{default:y(()=>[h(l,{icon:"fas fa-code",onClick:i[0]||(i[0]=p=>a("navigated"))})]),_:1})]),u("div",Tr,[h($r,{class:"themes"})]),h(or)])}}}),Pr=D(Ar,[["__scopeId","data-v-03cc2e96"]]),Vt=()=>Xe("pageStore",()=>{const o=F([]),e=F([]);return{pages:o,routes:e}})(),Ir=I({__name:"Navigation",emits:["navigated"],setup(o,{emit:e}){const a=e,t=Vt(),s=F(!1),i=()=>{s.value=!1,a("navigated")};return(l,c)=>{const p=fl,m=tt;return _(),S("div",{class:U(["menu-desktop",{expanded:n(s)}])},[h(Dl,{onToggleExpansion:c[0]||(c[0]=f=>s.value=!n(s)),onNavigated:i}),h(m,{class:"menu-content",expanded:n(s)},{default:y(()=>[h(p,{pages:n(t).pages,onNavigated:i},null,8,["pages"]),h(Pr,{onNavigated:i})]),_:1},8,["expanded"])],2)}}}),Dr=D(Ir,[["__scopeId","data-v-6fdcc85c"]]),gt=Xe("breadcrumbStore",()=>{const o=F([]),e=F(!1);return{crumbs:o,show:e}}),xr=o=>(me("data-v-a944b87b"),o=o(),ve(),o),zr={class:"root"},qr={class:"main"},Vr={class:"toolbar-container"},Mr=xr(()=>u("div",{id:"toolbar",class:"toolbar-teleport"},null,-1)),Fr={class:"content"},Rr=I({__name:"App",setup(o){const e=E(),a=gt(),t=It(),s=et();be(()=>{e.flavor==="lrt"&&window.document.documentElement.setAttribute("data-flavor","lrt")}),K(()=>t.fullPath,l=>{["/pool","/stable","/redemptions","/liquidation","/profile","/wrappers","/proposals","/veprisma"].some(p=>l.startsWith(p))&&(a.show=!1)});const i=async l=>{l.pathName&&await s.push({name:l.pathName,...l.params&&{params:l.params()}})};return(l,c)=>{const p=Oe("notifications"),m=Ws,f=Oe("router-view");return _(),S("div",zr,[h(p,{width:600,duration:-1}),h(n(os)),h(Dr,{class:"navigation"}),u("main",qr,[u("div",Vr,[n(a).show?(_(),P(m,{key:0,class:"breadcrumb",crumbs:n(a).crumbs,onCrumb:i},null,8,["crumbs"])):V("",!0),Mr]),u("div",Fr,[h(f,null,{default:y(({Component:r})=>[h(ns,{name:"fade",mode:"out-in"},{default:y(()=>[(_(),P(Tt(r)))]),_:2},1024)]),_:1})])])])}}}),Br=D(Rr,[["__scopeId","data-v-a944b87b"]]),Ur="/assets/404-DGbqGNxT.png",Or=o=>(me("data-v-d38f74f1"),o=o(),ve(),o),Er={class:"not-found"},Kr={class:"not-found-container"},Wr=Or(()=>u("img",{src:Ur},null,-1)),Do=I({__name:"NotFound",setup(o){const{t:e}=O();return(a,t)=>{const s=te;return _(),S("div",Er,[u("div",Kr,[h(s,null,{default:y(()=>[G(A(n(e)("404")),1)]),_:1}),Wr])])}}});function na(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:a=>{const{normalize:t}=a;return t(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof na=="function"&&na(Do);const Nr=D(Do,[["__scopeId","data-v-d38f74f1"]]),xo=o=>(me("data-v-7189c384"),o=o(),ve(),o),Hr=xo(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),Gr=[Hr],jr=xo(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),Zr=[jr],Yr={class:"row-details"},Qr=I({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(o,{emit:e}){const a=e,t=So(),s=b(()=>{var c;const l=t["row-details"];if(l){const p=(c=l()[0])==null?void 0:c.children;if(p)return p.length>0}return!1}),i=()=>{a("click",o.data)};return(l,c)=>{const p=tt;return _(),S("div",{class:U(["row",{expanded:l.expanded}])},[u("div",{class:U(["row-data item",[l.columns,{active:l.selected,expandable:n(s),"has-data":!!l.data}]]),onClick:i},[l.data&&n(s)&&l.expandSide==="left"?(_(),S("div",{key:0,class:U(["expander",{expanded:l.expanded}])},Gr,2)):V("",!0),ee(l.$slots,"row",{},void 0,!0),l.data&&n(s)&&l.expandSide!=="left"?(_(),S("div",{key:1,class:U(["expander",{expanded:l.expanded}])},Zr,2)):V("",!0)],2),l.data?(_(),P(p,{key:0,expanded:l.expanded},{default:y(()=>[u("div",Yr,[ee(l.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):V("",!0)],2)}}}),Jr=D(Qr,[["__scopeId","data-v-7189c384"]]),Xr=["inert"],ei={key:0,class:"header"},ti={key:0,class:"header-icon"},ai={class:"list"},oi=["onClick"],ni={key:0,class:"sorting-arrows"},si={key:0,class:"sorting-arrow fa fa-caret-up"},li={key:1,class:"sorting-arrow fa fa-caret-down"},ri={key:2,class:"sorting-arrow"},ii={class:"rows"},ci={key:1,class:"no-data"},Mt=I({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{},sortingDefaultDir:{},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:null}},emits:["selected","sortColumn"],setup(o,{emit:e}){const{t:a}=O(),t=e,s=F(void 0),i=F("asc"),l=b(()=>`grid-template-columns: ${o.columnsHeader}`),c=b(()=>{if(o.rowsMin===null)return[];const d=Math.max(0,o.rowsMin-o.rows.length);return new Array(d)});ss(()=>{o.sortingDefaultColumn&&(s.value=o.sortingDefaultColumn),o.sortingDefaultDir&&(i.value=o.sortingDefaultDir)});const p=d=>{d&&t("selected",d)},m=d=>{const w=d+1;return!!(o.rows[d+1]&&o.rows.findIndex($=>$===o.selectedRow)===w)},f=d=>o.sortingColumnsEnabled.includes(o.sortingColumns[d]),r=d=>s.value===o.sortingColumns[d]&&i.value==="asc",v=d=>s.value===o.sortingColumns[d]&&i.value==="desc",g=d=>{if(!o.sorting||!f(d))return;const w=o.sortingColumns[d];i.value=w===s.value&&i.value==="asc"?"desc":"asc",s.value=w,t("sortColumn",w,i.value)};return(d,w)=>{const L=xt,x=Jr;return _(),S("div",{class:U(["datatable",{loading:d.loading}]),inert:!!d.loading},[d.header?(_(),S("div",ei,[d.icon?(_(),S("div",ti,[u("i",{class:U(d.icon)},null,2)])):V("",!0),u("div",{class:"header-content",style:he(n(l))},[ee(d.$slots,"header-content",{},void 0,!0)],4)])):V("",!0),u("div",ai,[d.columns.length>0?(_(),S("div",{key:0,class:U(["row-data",[d.columnsData,{"selected-below":m(-1)}]])},[ee(d.$slots,"column-headers",{},()=>[(_(!0),S(X,null,le(d.columns,($,T)=>(_(),S("div",{key:$,class:U(["column-header",{"sortable-header":d.sorting&&f(T),"current-sort":n(s)==d.sortingColumns[T]}]),onClick:C=>g(T)},[G(A($)+" ",1),d.sorting&&f(T)?(_(),S("div",ni,[r(T)?(_(),S("i",si)):v(T)?(_(),S("i",li)):(_(),S("span",ri," — "))])):V("",!0)],10,oi))),128))],!0)],2)):V("",!0),u("div",ii,[d.loading!==null?(_(),P(L,{key:0,class:U(["loader",{loading:d.loading}])},null,8,["class"])):V("",!0),(_(!0),S(X,null,le(d.rows,($,T)=>(_(),P(x,{key:$,data:$,class:U({"selected-below":m(T)}),columns:d.columnsData,selected:d.selectedRow===$,expanded:d.expanded.includes($),"expand-side":d.expandSide,onClick:p},{row:y(()=>[ee(d.$slots,"row",{item:$},void 0,!0)]),"row-details":y(()=>[ee(d.$slots,"row-details",{item:$},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded","expand-side"]))),128)),(_(!0),S(X,null,le(n(c),$=>(_(),P(x,{key:$}))),128)),!d.rowsMin&&(!d.rows||d.rows.length===0)&&!d.loading?(_(),S("div",ci,[ee(d.$slots,"no-data",{},()=>[G(A(n(a)("no-data")),1)],!0)])):V("",!0),d.$slots["row-aggregation"]&&d.rows.length>0?(_(),P(x,{key:2,class:"aggregation",columns:d.columnsData},{row:y(()=>[ee(d.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):V("",!0)])])],10,Xr)}}});function sa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":a=>{const{normalize:t}=a;return t(["No data :("])}}})}function la(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":a=>{const{normalize:t}=a;return t(["没有数据 :("])}}})}typeof sa=="function"&&sa(Mt);typeof la=="function"&&la(Mt);const re=D(Mt,[["__scopeId","data-v-eaa04f87"]]),ui={class:"contracts"},di={class:"row"},pi={class:"title"},mi=["href"],vi={class:"title"},_i=["href"],zo=I({__name:"Code",setup(o){const{t:e}=O(),t=[{name:"Llama Airforce",contracts:[{contract:Js,description:"multisig",gnosis:!0},{contract:Xs,description:"treasury",gnosis:!0},{contract:el,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]}],s=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"}],i=l=>{switch(l.network){case"arbitrum":return l.gnosis?`https://app.safe.global/home?safe=arb1:${l.contract}`:`https://arbiscan.io/address/${l.contract}`;case"ethereum":default:return l.gnosis?`https://app.safe.global/home?safe=eth:${l.contract}`:`https://etherscan.io/address/${l.contract}`}};return(l,c)=>{const p=re;return _(),S("div",ui,[u("div",di,[h(p,{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:s,columns:[n(e)("repository"),n(e)("description")]},{"header-content":y(()=>[u("div",pi,A(n(e)("repositories")),1)]),row:y(m=>[u("div",null,[u("a",{href:m.item.url,target:"_blank"},A(m.item.name),9,mi)]),u("div",null,A(n(e)(m.item.description)),1)]),_:1},8,["columns"])]),(_(),S(X,null,le(t,(m,f)=>h(p,{key:f,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:m.contracts,columns:[n(e)("contract"),n(e)("description")]},{"header-content":y(()=>[u("div",vi,A(n(e)(m.name)),1)]),row:y(r=>[u("div",null,[u("a",{href:i(r.item),target:"_blank"},A(r.item.contract),9,_i)]),u("div",null,A(n(e)(r.item.description)),1)]),_:2},1032,["rows","columns"])),64))])}}});function ra(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:a=>{const{normalize:t}=a;return t(["Repositories"])},repository:a=>{const{normalize:t}=a;return t(["Repository"])},description:a=>{const{normalize:t}=a;return t(["Description"])},contract:a=>{const{normalize:t}=a;return t(["Contract"])},other:a=>{const{normalize:t}=a;return t(["Other"])},"repo-laf":a=>{const{normalize:t}=a;return t(["This website's front-end, excluding the Union"])},multisig:a=>{const{normalize:t}=a;return t(["Multisig"])},treasury:a=>{const{normalize:t}=a;return t(["Treasury"])},"treasury-arbitrum":a=>{const{normalize:t}=a;return t(["Treasury Arbitrum"])}}})}typeof ra=="function"&&ra(zo);const fi=D(zo,[["__scopeId","data-v-a0b0c18d"]]);function hi(){const o=Vt(),e=[{path:"/code",component:fi},...o.routes.flatMap(t=>t),{path:"/:pathMatch(.*)*",name:"NotFound",component:Nr}];return ls({history:rs(),routes:e})}let qo="http://localhost:8545";qo=void 0;const gi=is({chains:[Ye],connectors:[cs(),us({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",showQrModal:!0,qrModalOptions:{themeMode:"dark"}}),ds(),ps()],transports:{[Ye.id]:ms(qo,{batch:{wait:100}})}}),bi=I({__name:"ChartApex",props:{options:{},series:{}},setup(o){return(e,a)=>{const t=Oe("apexchart");return _(),P(t,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}}),Ft=D(bi,[["__scopeId","data-v-310d0826"]]),yi=I({__name:"CardChart",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(o){return(e,a)=>{const t=Ft,s=te;return _(),P(s,{class:"cart-chart",title:e.title,loading:e.loading},{actions:y(()=>[ee(e.$slots,"actions",{},void 0,!0)]),default:y(()=>[h(t,{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),ee(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"])}}}),ie=D(yi,[["__scopeId","data-v-98df8c5f"]]),wi=I({__name:"ButtonToggle",props:Ct({icon:{default:""},value:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const e=Lo(o,"modelValue"),a=()=>{e.value=!e.value};return(t,s)=>(_(),S("button",{class:U({toggled:e.value}),onClick:a},[ee(t.$slots,"default",{},()=>[t.icon?(_(),S("i",{key:0,class:U(["icon",t.icon])},null,2)):V("",!0),G(" "+A(t.value),1)],!0)],2))}}),st=D(wi,[["__scopeId","data-v-d1a44749"]]),$i=o=>({chart:{id:"chart",background:"transparant",foreColor:o.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:o.colorsArray,grid:{borderColor:o.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:o.colors.level5,height:1},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:o.colors.level5},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}}});function ne(o,e){const a=$i(o),t=(s,i)=>{if(typeof i=="object"){W.mergeWith(s,i,t);return}else return s||i};return W.mergeWith(e,a,t)}function H(){return tl}class Rt extends ye{constructor(e,a){super(e),this.API_URL=Pe(a)}async getCollateralPrices(e,a,t){return this.fetch(`${this.API_URL}/collateral/${e}/${a}/prices?period=${t}`)}async getCollateralPriceImpact(e,a){return this.fetch(`${this.API_URL}/collateral/${e}/${a}/impact`)}async getCollateralInfo(e,a){return this.fetch(`${this.API_URL}/collateral/${e}/${a}/info`)}}class Bt extends ye{constructor(e,a){super(e),this.API_URL=Pe(a)}async getLiquidations(e,a){return qe(s=>this.fetch(`${this.API_URL}/liquidations/${e}/${a}?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(i=>i.liquidations.map(l=>({...l,liquidator:l.liquidator.toLocaleLowerCase(),vault:l.vault.toLocaleLowerCase()}))),1,100)}async getLiquidationsForTrove(e,a){return qe(s=>this.fetch(`${this.API_URL}/liquidations/${e}?items=100&page=${s}&order_by=block_timestamp&desc=true&trove_filter=${a}`).then(i=>i.liquidations.map(l=>({...l,liquidator:l.liquidator.toLocaleLowerCase(),vault:l.vault.toLocaleLowerCase()}))),1,100)}}class Ie extends ye{constructor(e,a){super(e),this.API_URL=Pe(a)}async getHistoricalOpenTrovesOverview(e,a){return this.fetch(`${this.API_URL}/managers/${e}/open_troves?period=${a}`)}async getHistoricalCollateralRatiosOverview(e,a){return this.fetch(`${this.API_URL}/managers/${e}/collateral_ratios?period=${a}`)}async getCollateralRatioGrouped(e,a){return this.fetch(`${this.API_URL}/managers/${e}/global_collateral_ratio?period=${a}`)}async getHistoricalCollateralOverview(e,a){return this.fetch(`${this.API_URL}/managers/${e}/collateral?period=${a}`)}async getRatioDistributionGrouped(e){return this.fetch(`${this.API_URL}/managers/${e}/ratio_distribution`)}async getLargeTrovePositions(e,a,t){return this.fetch(`${this.API_URL}/managers/${e}/${a}/large_positions?unit=${t}`)}async getVaultCollateralRatio(e,a,t){return this.fetch(`${this.API_URL}/managers/${e}/${a}/collateral_ratio?period=${t}`)}async getVaultTroveCount(e,a,t){return this.fetch(`${this.API_URL}/managers/${e}/${a}/open_trove_count?period=${t}`)}async getTroveDistribution(e,a,t){return this.fetch(`${this.API_URL}/managers/${e}/${a}/histograms?unit=${t}`)}}class lt extends ye{constructor(e,a){super(e),this.API_URL=Pe(a)}async getPriceHistory(e,a){return this.fetch(`${this.API_URL}/mkusd/${e}/history?period=${a}`)}async getSupplyHistory(e){return this.fetch(`${this.API_URL}/mkusd/${e}/supply`)}async getPriceHistogram(e,a,t){return this.fetch(`${this.API_URL}/mkusd/${e}/histogram?period=${t}&bins=${a}`)}async getLargeStableCoinHolders(e){return this.fetch(`${this.API_URL}/mkusd/${e}/holders`)}async getStableCoinKPI(e){return this.fetch(`${this.API_URL}/mkusd/${e}/general`)}async getCurvePoolDepth(e){return this.fetch(`${this.API_URL}/mkusd/${e}/depth`)}}class Ut extends ye{constructor(e,a){super(e),this.API_URL=Pe(a)}async getRedemptions(e,a){return qe(s=>this.fetch(`${this.API_URL}/redemptions/${e}/${a}?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(i=>i.redemptions.map(l=>({...l,redeemer:l.redeemer.toLocaleLowerCase(),vault:l.vault.toLocaleLowerCase()}))),1,100)}async getRedemptionsForTrove(e,a){return qe(s=>this.fetch(`${this.API_URL}/redemptions/${e}?items=100&page=${s}&order_by=block_timestamp&desc=true&trove_filter=${a}`).then(i=>i.redemptions.map(l=>({...l,redeemer:l.redeemer.toLocaleLowerCase(),vault:l.vault.toLocaleLowerCase()}))),1,100)}}class Vo extends ye{constructor(e,a){super(e),this.API_URL=Pe(a)}async getSnapshots(){return this.fetch(`${this.API_URL}/revenue/ethereum/snapshots?period=3m`)}async getBreakdown(){return this.fetch(`${this.API_URL}/revenue/ethereum/breakdown`)}}class Ke extends ye{constructor(e,a){super(e),this.API_URL=Pe(a)}async getPoolTvl(e,a){return this.fetch(`${this.API_URL}/pool/${e}/deposits?period=${a}`)}async getStableFlow(e,a){return this.fetch(`${this.API_URL}/pool/${e}/stable_operations?period=${a}`)}async getStableDistribution(e){return this.fetch(`${this.API_URL}/pool/${e}/histogram/deposits`)}async getCumulativeWithdrawals(e,a){return this.fetch(`${this.API_URL}/pool/${e}/cumulative_withdrawals?period=${a}`)}async getTopStableDeposits(e,a,t){return this.fetch(`${this.API_URL}/pool/${e}/top/stable_deposits?top=${a}&period=${t}`)}async getTopStableWithdrawals(e,a,t){return this.fetch(`${this.API_URL}/pool/${e}/top/stable_withdrawals?top=${a}&period=${t}`)}}class We extends ye{constructor(e,a){super(e),this.API_URL=Pe(a)}async getTroves(e,a,t){return qe(i=>this.fetch(`${this.API_URL}/trove/${e}/${a}/troves?items=100&page=${i}&order_by=last_update&desc=true${t?"&owner_filter="+t:""}`).then(l=>l.troves),1,100)}async getTroveSnapshots(e,a,t){return this.fetch(`${this.API_URL}/trove/${e}/${a}/snapshots/${t}`)}async getTroveDetail(e,a,t){return this.fetch(`${this.API_URL}/trove/${e}/${a}/${t}`)}async getTroveHistory(e,a,t){return this.fetch(`${this.API_URL}/trove/${e}/${a}/history/${t}`)}async getTroveRank(e,a,t){return this.fetch(`${this.API_URL}/trove/${e}/${a}/rank/${t}`)}}const mt="https://api.prismamonitor.com/v1";function vt(o){switch(o){case"convex":return"0x0c73f1cfd5c9dfc150c8707aa47acbd14f0be108";case"yearn":return"0x774a55c3eeb79929fd445ae97191228ab39c4d0f";default:throw new Error("Unknown contract")}}class rt extends ye{async getTVL(e){return this.fetch(`${mt}/staking/${vt(e)}/tvl?period=all&groupby=day`)}async getFlow(e){return this.fetch(`${mt}/staking/${vt(e)}/flow?period=all&groupby=day`)}async getDistribution(e){return this.fetch(`${mt}/staking/${vt(e)}/distribution`)}async getSnapshots(e){return this.fetch(`${mt}/staking/${vt(e)}/snapshots?period=7d`)}}const ia="troves_overview";let wt=null;class Ne{constructor(e,a){if(this.chain=a,this.socket=e,wt){this.send("snapshots");return}wt=this.socket.pipe(Ue(t=>t),At(t=>t.subscription.chain===this.chain&&t.channel===ia),Ue(t=>t.payload),Pt(1)),this.send("subscribe"),this.send("snapshots")}get overview$(){return wt}send(e){const a={action:e,channel:ia,settings:[{chain:this.chain}]};this.socket.next(a)}}const Ci={class:"actions"},ki={class:"periods"},Mo=I({__name:"ChartOpenTroves",setup(o){const{t:e}=O(),{theme:a,flavor:t}=Z(E()),s=new Ie(H(),t.value),i=F("1m"),{isFetching:l,data:c}=N({queryKey:["prisma-historical-open-troves",i],queryFn:({queryKey:[,g]})=>s.getHistoricalOpenTrovesOverview("ethereum",g).then(d=>d.managers),initialData:[],initialDataUpdatedAt:0}),p=b(()=>ne(a.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:m.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:g,dataPointIndex:d,w})=>{let L=0;const x=g.map(($,T)=>{const C=$[d];return L+=C,`<div><b>${w.globals.seriesNames[T]}</b>: ${C}</div>`});return x.push(`<div><b>Total</b>: ${L}</div>`),x.join("")}}})),m=b(()=>c.value.length===0||c.value[0].data.length===0?[]:c.value[0].data.map(g=>new Date(g.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),f=b(()=>c.value.length===0?[]:c.value.map(g=>({name:g.manager,data:g.data.map(d=>d.value)}))),r=g=>g,v=g=>{i.value!==g&&(i.value=g)};return(g,d)=>{const w=st,L=ie;return _(),P(L,{class:"chart",title:n(e)("title"),loading:n(l),options:n(p),series:n(f)},{actions:y(()=>[u("div",Ci,[u("div",ki,[h(w,{value:"1m","model-value":n(i)==="1m",onClick:d[0]||(d[0]=x=>v("1m"))},null,8,["model-value"]),h(w,{value:"3m","model-value":n(i)==="3m",onClick:d[1]||(d[1]=x=>v("3m"))},null,8,["model-value"]),h(w,{value:"6m","model-value":n(i)==="6m",onClick:d[2]||(d[2]=x=>v("6m"))},null,8,["model-value"])])])]),_:1},8,["title","loading","options","series"])}}});function ca(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Open troves"])}}})}typeof ca=="function"&&ca(Mo);const Si=D(Mo,[["__scopeId","data-v-4478e6be"]]),Li=(o,e)=>{const{colors:a}=e;return{width:o.clientWidth,height:o.clientHeight,layout:{background:{type:vs.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:_s.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ue(o,e,a){const t=Li(o,e),s=(i,l)=>{if(typeof l=="object"){W.mergeWith(i,l,s);return}else return i||l};return W.mergeWith(a,t,s)}function de(o,e,a){const t=F(void 0),s=F(void 0);let i=null;return be(async()=>{if(!t.value)return;await fs();const l=hs(t.value,e(t.value));s.value=l,a==null||a(l),i=new ResizeObserver(c=>{const p=c[0].target;s.value&&t.value&&(s.value.applyOptions({width:p.clientWidth,height:p.clientHeight}),s.value.timeScale().fitContent())}),t.value.parentElement&&i.observe(t.value.parentElement)}),Dt(()=>{s.value&&(s.value.remove(),s.value=void 0),i&&(i.disconnect(),i=null)}),K(o,()=>{t.value&&s.value&&s.value.applyOptions(e(t.value))}),{chart:s,chartRef:t}}const Fo=I({__name:"ChartCollateralRatio",setup(o){const{t:e}=O();let a;const{theme:t,flavor:s}=Z(E()),{chart:i,chartRef:l}=de(t,f,g=>{a=g.addAreaSeries(r())}),c=new Ie(H(),s.value),{isFetching:p,data:m}=N({queryKey:["prisma-collateral-ratios"],queryFn:()=>c.getCollateralRatioGrouped("ethereum","all").then(g=>g.data),initialData:[],initialDataUpdatedAt:0});K([m,i],v),K(t,()=>a.applyOptions(r()));function f(g){return ue(g,t.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function r(){return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...t.value.lineChartColors}}function v([g,d]){if(!d||!a)return;const w=W.chain(g).map(L=>({time:L.timestamp,value:L.value*100})).uniqWith((L,x)=>L.time===x.time).orderBy(L=>L.time,"asc").value();w.length>0&&a.setData(w),d.timeScale().fitContent()}return(g,d)=>{const w=te;return _(),P(w,{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ua(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Global collateral ratio"])}}})}typeof ua=="function"&&ua(Fo);const Ti=D(Fo,[["__scopeId","data-v-61e6a223"]]),Ro=I({__name:"ChartRatioDeciles",setup(o){const{t:e}=O(),{theme:a,flavor:t}=Z(E()),s=new Ie(H(),t.value),{isFetching:i,data:l}=N({queryKey:["prisma-ratio-distribution"],queryFn:()=>s.getRatioDistributionGrouped("ethereum").then(v=>v.deciles),initialData:[],initialDataUpdatedAt:0}),c=b(()=>ne(a.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:f,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),p=b(()=>l.value.map(v=>v.label)),m=b(()=>[{name:e("debt"),data:Object.values(l.value).map(v=>v.data)}]),f=v=>v,r=v=>`$${J(v,0,"dollar")}${Q(v,"dollar")}`;return(v,g)=>{const d=ie;return _(),P(d,{class:"chart",title:n(e)("title"),loading:n(i),options:n(c),series:n(m)},null,8,["title","loading","options","series"])}}});function da(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Debt per Collateral Ratio Deciles"])},debt:a=>{const{normalize:t}=a;return t(["Debt"])}}})}typeof da=="function"&&da(Ro);const Ai=D(Ro,[["__scopeId","data-v-fdb826ed"]]),Pi={class:"actions"},Ii={class:"periods"},Bo=I({__name:"ChartGlobalCollateral",setup(o){const{t:e}=O(),{theme:a,flavor:t}=Z(E()),s=new Ie(H(),t.value),i=F("1m"),{isFetching:l,data:c}=N({queryKey:["prisma-collateral-hist-overview",i],queryFn:({queryKey:[,d]})=>s.getHistoricalCollateralOverview("ethereum",d).then(w=>w.managers),initialData:[],initialDataUpdatedAt:0}),p=b(()=>ne(a.value,{chart:{type:"area",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:m.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:v}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.8}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),m=b(()=>c.value.length===0||c.value[0].data.length===0?[]:c.value[0].data.map(d=>new Date(d.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),f=b(()=>c.value.length===0?[]:c.value.map(d=>({name:d.manager,data:d.data.map(w=>w.value)}))),r=d=>d,v=d=>`$${J(d,1,"dollar")}${Q(d,"dollar")}`,g=d=>{i.value!==d&&(i.value=d)};return(d,w)=>{const L=st,x=ie;return _(),P(x,{class:"chart",title:n(e)("title"),loading:n(l),options:n(p),series:n(f)},{actions:y(()=>[u("div",Pi,[u("div",Ii,[h(L,{value:"1m","model-value":n(i)==="1m",onClick:w[0]||(w[0]=$=>g("1m"))},null,8,["model-value"]),h(L,{value:"3m","model-value":n(i)==="3m",onClick:w[1]||(w[1]=$=>g("3m"))},null,8,["model-value"]),h(L,{value:"6m","model-value":n(i)==="6m",onClick:w[2]||(w[2]=$=>g("6m"))},null,8,["model-value"])])])]),_:1},8,["title","loading","options","series"])}}});function pa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Collateral value"])}}})}typeof pa=="function"&&pa(Bo);const Di=D(Bo,[["__scopeId","data-v-8b832814"]]),xi={key:0,class:"async-value"},zi="|/-\\",oe=I({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(o){let e=0,a=0;const t=F("|"),s=b(()=>o.value?J(o.value,typeof o.precision=="function"?o.precision(o.value):o.precision,o.type??""):o.value===0&&o.showZero?"0":o.value===null||o.value===void 0?t.value:"?"),i=b(()=>o.precision===1/0?"":!o.value||!o.type||!W.isFinite(o.value)?o.showUnit&&o.type?Q(0,o.type):"":Q(o.value,o.type));return K(()=>o.value,l=>{if(clearInterval(a),e=0,l)return;const c=()=>{e=(e+1)%4,t.value=zi[e]};a=window.setInterval(c,250)},{immediate:!0}),(l,c)=>l.inline?(_(),S(X,{key:1},[G(A(l.showSymbol&&l.type==="dollar"?"$":"")+A(n(s))+A(l.showUnit?n(i):""),1)],64)):(_(),S("div",xi,A(l.showSymbol&&l.type==="dollar"?"$":"")+A(n(s))+A(l.showUnit?n(i):""),1))}}),qi=o=>(me("data-v-30805641"),o=o(),ve(),o),Vi={class:"input-text"},Mi={key:0,class:"icon"},Fi=qi(()=>u("i",{class:"fas fa-search"},null,-1)),Ri=[Fi],Bi=["type","value","placeholder"],Ui=["onClick"],Oi=I({__name:"InputText",props:Ct({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:Ct(["input","select"],["update:modelValue"]),setup(o,{emit:e}){const a=Lo(o,"modelValue"),t=e,s=b(()=>{const l=o.options.filter(p=>o.filter(a.value,p));return o.sort?[...l].sort(o.sort):l}),i=l=>{const c=l.target.value;a.value=c,t("input",c)};return(l,c)=>(_(),S("div",Vi,[l.search?(_(),S("span",Mi,Ri)):V("",!0),u("input",{type:l.search?"search":"text",value:a.value,placeholder:l.placeholder,onInput:ae(i,["stop"]),onSelect:c[0]||(c[0]=ae(()=>{},["stop"]))},null,40,Bi),l.options&&l.autoComplete?(_(),S("div",{key:1,class:U(["items",{selectHide:!l.autoComplete}])},[(_(!0),S(X,null,le(n(s),(p,m)=>(_(),S("div",{key:m,onClick:f=>t("select",p)},[ee(l.$slots,"item",{item:p,idx:m},()=>[G(A(p),1)],!0)],8,Ui))),128))],2)):V("",!0)]))}}),_e=D(Oi,[["__scopeId","data-v-30805641"]]),Ei="data:image/webp;base64,UklGRnYCAABXRUJQVlA4TGoCAAAvP8APEOfBIGDbNjJ/niWw77kxDQaNJCnq8+/wPDzD5pZm/hG0bRvr/EEdysfgQ5AAqiEKNuJMsZMp4sRB2ChMEQdh4zMQU/yOf+6TAoNJ3hdEgUEWNr6fOAWJY2NN4lwnBRtZgMAIf6BIWJCwILCg4ghXaGPAAx8QI9lWFf277u5+cTi4W/6B8Z+ce9kAIvrvwG3bSJITODv3vekXCoNmSGhSuGsAQgNH1qC18mGESFVJqIZIMzsbBGoJoSYCbYwgkNBCIAvbRGUstrab/SpGvWGnnmUxCeQw0TGhbJBZkzyf0HvJq0ZFb8c3d5GUMfkiXoMtWQtKVMhym58mFsgVXLLEJTZsvsTcs7GJnX5cEUDbW8oW9LQIy6RxwmUfSGxL2iNstrb4S44LhsPIaI+xWEgfaFKZwBJtYBi6DavRgEFdeUnlTYILkglQ4b2jqjc3NwarAHMAdDZUS0p9sHEAdHnqqiGhHkujT5D92uQIN+3ENVTTJIsLH1R5bm6cfggPP5nQM8eZeNHMTMxM/fNa7TxZJKsjdfsRHspDitPwRKgvT3cBVKkPAuKJibVUf6m/r0lBP/jxSmF1oqrq/92QnW5PEvdAXPlM3xEN9EDTJ7s0hLoSuVSlvQkM9//dNnCc48jyv7He5//W6n/8bxYjW9hynuob3imaMb8U78nGZWMy3jMtOCxR5h4br6eSOzrzfWOFPD7SK0T3PgDwwwWXn1TvDrqka/Bt/94bf+ekene8W3kPhpB7HzfZx22HLIfhuM1n3NhkaGXGjS7D7UpiswdVRBoXLlqC1rrw05BhWLhr2o3pzg1HVwA=",Ki="data:image/webp;base64,UklGRp4HAABXRUJQVlA4TJEHAAAvP8APEOZQ0LYN4/CHvYMhIibAtxpNmo50WMwCnGb75zb8Cb8Acv2/v0PAIIyhyuiS8NQj12QYVucCKILi6XiOmQPDCoZesxH0noLBytR7LIYocxAEWtTZKoofgIyfp/89vtMAAJAGq2SXE+AHewA+kQaRB1wqD+gFviW7wC0tuTJw20hRu3hMA70n0LH/T7Wk7H8Z772WcXeXdnf37mft3vHcW7erZnYwuEs8EfHoDTlvDZyX3pDJOESuUR8idyqsDUyEE5G5wwsL73xiIk6lfSZDb4Zr7gvobeBO3BHuUGHHLGB8/ljouTtkriMhDpAAACwb5Wzbtm3btm3btm3btm9n27aNr8K2bZv/L6484vbfgdu2kaRmxoG79+F29wmhSIaZYJENznjKG77yv8b7Io5YH3arMDgy2GWNE57xhb/WkvnO1ce8Ow4GjLDADi/5aRLvluvkzR9Vwh7vzYOrA+YZ8kSX7cI8yetN12spy9zl5s38clbJYJRNPlsgXHSORTDGqfS66G/4V17g6a8E5jjnn7lR9w3UvqETtVn5rFSuTan1v6/yitiYlJ8gyJpXd2G8NGmtiE9Id9pLLXXtB7CYaJQj19FOTerr/559Rl1I15ViIY5ZTywmG6etD5Z27rRl1Y8M06wF/G5UN9qy0eGpuILQuuukrcDKQlyWlGV/+FnB33i0VXlGtes+IbQWJ62+dm7FZa4ldaMZUwlxjnNBov4bsvrpNtv5JlPAoOaZkYa1gq8SZF0ZG53KWwitbDNuRMIrk+hNLbY/4pgNfBXOMxusE1pbSaO1sSsuc6+rB9OxFgTKQ93iWhGh2KRq6Ffaslu4FXwtVMbFp+oBIKtVQ7c2Cd70KgegTDkUW6oSZJ3sFpFa6xqYXGrLSnbpxXFM6WxQ64S/EYY9Mcg2klMZ5pHiTQit5V8YzvklLfsyxLHKLVrBOmCsn+C9FxvjwjGllTvCN1yp+GR/RmYdzcOUY+2IWU0OxBhj/ojryXLDdWrImCjbIdhnyB9UUrZDXSN5kE1yuwRkFkdpl2eSwZQd0Yf3LOD7wa4b5YaolBtB1pUzi6Zlh8gOgeZ0Ki7BwQ4ZbdFwr+xLZl11hzuKwbSHe8YGvd0HSnWUeWcbHME+Ld8PRVPKbFB0WIzEdNe8ACQf/53hNFeW5XSoK/k+HWlUtaMIPp9ph/BD4ZjSyhzhl7w+EVn5lDOl/yzMPUPVG2RdI8iqlGpBm+mZ9aq6hWg6iqW5e1WJGQ62j+Q4xpR7ncpr2omIC8HVekHUvFI0oZjIBFlX8sYwTecS5Wd8CQAk91DcC67Wtay6LwSIiQvelVyDaTrmKT1gymIAqLxhIkE562KAr/vy3wdlJwAAlB1zyUGSK5jmD8XbVD+gA8AtB6QWue1LME8yr2tVL/nBbYhyI/2zoOoOAaLdvaa1xjfNNO0Q3Gtc1gwA7RWXuFbJ69VbIY5xLkls+xaIDIgVfHZYkxETlaJJPSZAPLZNTER+dy6C3In+sHuDH8xbuScpx2Mt4uJerMeYH/wGK3S2HH/r+s0CxKZ7nAEAi6ufKNnDMYtJDzmI87dmibGcaPh/OW1Ww26DUWY1uDworcJ3AYAAgFvuci5gmtRMSLHknJ+LzeD7wuUvooKjps2WA6U7W4lL+e6CiUK9E9cKpvmU+UN2m+ZxSj3JeW4G3A3Frk92uF4t4Lco1Zl4o0xrUKWMrwsndIZ6J6bPZ4ewTVycpfo5vO5KHHHkMpkBEofwUH/xm02VwWWwXT5wzGEi37wfspoU4hCu8u6muInIYbfisj5cx1rU2v15A/3exCfaPo3P51P00OtUpTLcO5dhyKfDndbY9FML+AgTftEQn2Q7BB+imXXan5OxM8TkFlw5UOYQWlhHnI0wqNHaGLRwTNGhQZTK494GXG5hchPqvvlGgw3sU4M2wlM/pFf6bI4SG5spgMtNTG7XfdPw/+Jiw1rQ2mW4bo1WDU/RghFFBgZV6mnTAZPbzrixasGQAtHGUNgm3NCefkgtcZBNUeXGBd76bzDrhjNuwab9hM4CvkYCULbdbK6iaP6gNteojPDJGwKzbglx0xufmAla6cl83EBPNDnfhkblJc2AWTeFuC1mbcI0EoC0IaqdzVXo9KO5RsM88z8mNyaVkjd42/yRppXudOcxFKhvI66dz2q2Dph9g5K31H8DU6gVfE09Plixs1VyuxXmFq33V9U90KhmbI2lvEkXdw2SP211pVyTgpmQalS554myIzAeN10xb9O9Jdss25Ah+MFukGz5jB8WhDoHPeSJ6wrcvk3OG3XvXa3+iENM1oVkI006o2hKcQmWHMmQtQ4Q2H2jnrfqYkpqkbd/yAI+Y8wGswHi9/oKIY7hlEu5+TmfCey+1Zk349au0n2W9uG+r5gFfL0j3qZdN8qiHrn/1ZPuwq5Z5cgvb6//ZrEQFRfkdioyIBf15roxNxwdkmmvZ9TaMatNQQDD7ds13YBrVhW179xbdshhl1XdswN4YTHD/m4ISLeAUAYA0e+Wtuum9uq2n1nlpxt57a0bD0ehH1Pm/XVru3VzULqdVUm3/6u63eO/wfXj6H+DEAA=",Wi="/assets/reth-SHa20puJ.webp",Ni="data:image/webp;base64,UklGRrIFAABXRUJQVlA4TKYFAAAvP8APEJXQ37btbKR1OlqOsbZt27bt3Y8/2bZt27ZtdG3bGmdyH9u+6vT7A4J3tpl5m2kE1Gzb3lSAwnYmKDOECTJKcOCyQVTi43EsAC4yV0agnqqq6z/nhuBGkiIpOmuxt2+gqO8JhuBAG31EWKJEhRM+8AvKqHDts1EHfcvTKrlhYYAYOWq86iHHbj7f+dBbZMQxjTI9lKNGjjhslQzoYIYUDb5y+Dxthf4aS1NZHK9y0zLKwis8zSdHBA1Sp6IEZmCKDHdF/+vcY4gMMTw4I5zBMUot14wEO0FhhWOhXy1XB/UJ9wPLjZbjiJUK6lNE2OthNTedRxDDdpUeDMcSBl0keD7uXvV5BDkauE+Zg6RUEPRQ4GuNieJ4BD1MuyKCIioEJtjot0+0InCh6qgtE/9YzLOGg4mIYat5TjbJ5yJjDHU5gYMxIxps+Yo65mNSSD4dbTXecNt1J3A4ZaYGmyhvNRT67TkiVsnLdGMNY76lKhFFDBSlbJDg6xMi38oZcmjGqiiUbz4p8uUnIkiYYIGn1RirxYhFU8dfoMgZCiifBmhixWAstloEC5a3Y3fcRB40E9wiGXUCNwMSdRcvkupuNBXj8CY5DjtGBGCNcK84NOPsVuwRSQj62I/msIEIqrmfZp8pGP53LwSsKTDDYZWGGLYLqCKEou8DGvWpFIS5SrFkrYKDQ0YbsiIrSIrxdlOK0lIFWLjno8wvxpcruMisAJjj8osM9ArX0yhS1TS2FrBQG7VQBWmq2G28KDL8Chc7AFIN/cw4OeU+6imKjXregwqpAJpHJZOMJxOpHwzQrFWHFJDG5eGaAibrWqcMA8NAjM97SCkixUOJmJQGPsvOgPy0ISRXPIIw6ZyG3MAAtU8myReHIExm8kGNASK8PE1KvjQUup1662qrMEWxxyThH6EVdbBEWEHyx0wFCMJ/u1xzXuVNXexP+chrsJDkswJCFOVp/fGp6TfKzxHvmCKdM09bLS1QS5qJ3nSYDpT6W118+jsNJardGuNzHZ3SbHCHzqrp4GZr5RtnmFzr3a6TSEe3WqcIKCcGl8YMVDj5pOHS0z45vrZEbcZ4bzhER8ft2yZLV9NCXzjlkP64GCZO+PhOZTyqeMAzBkrSxEX+kI/9M/svl2qmun6e9IhqeFgOPvD7oTg8qqovyQBP2KkYfyHdbk8bzK6Hi/kh/Kq3ePGILvaNU0T97rTvLJeMR/lblABnr3eIuN8fcYtUAgi8keU9vCOPGPk+0JuXFHhDTuHOmcdHJ/DxaosFJglMCSwkMuq5wyE8DrsHkVpFFhLw26o6SBSoEH19KMwi/KmBAtUkQXvVCPitSNxEH9IS8WeXWktHotvgHMT9buZ+i8UQiBuRuK3qFdtciLi/jdzniEDdO+YhTRH+cI7N3pZEJG6F8kYzq5hfGirgDeYgnxjJ/FRF4BBiDfQZzXqtCeUNkbwl5WQnwFEPaoIo0MmSpCKKzD2OUKfMJKVI3iLyJt+d7qBT4fWWS8IKhTXCSt0vnh9+3iTytkh3tZ5SqsAn+otF+HEfH8inlCollpTcvE3WDS4JLpODdLa7RaWs6zYHEQeR6xqJCHh1g6xbXLscaUrpfNpp6W903s1zLVLsukXXTa5x41ZUGSKlNl23ecaNe67YdZvRNwiY5l8nsDjpHy5D7L6B2bfQdiXSdG+px2bxiLpeoSN1vUTMvkWob0rzOcpq8qjtJzR/qEdmeRWpb2WisP19k1jf1twPKJNykANIDhtBSkq/ao3Zt3H7RoYok/JSRTR+il3Dy4OU35h9o0DfytDbSJPJ3lXsDEU+RiW2LK/5RRvsvjWIvrkuV1KjnXXGG26DLhiOVg+7by6hvn22IfpbQLRvL6l9Q6LqqqlEcN8Q8n1LCPdNETuwbwr5vi3U+8aQ71tDvW/+H+7bQ/5/AwM=",Hi="/assets/weeth-Dk-qEu8x.webp",Gi="data:image/svg+xml,%3csvg%20width='48'%20height='49'%20viewBox='0%200%2048%2049'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M48%2024.4997C48%2037.755%2037.2548%2048.5005%2024%2048.5005C10.7452%2048.5005%200%2037.755%200%2024.4997C0%2011.2445%2010.7452%200.499023%2024%200.499023C37.2548%200.499023%2048%2011.2445%2048%2024.4997Z'%20fill='white'/%3e%3cpath%20d='M24.4971%208L24.2785%208.74339L24.2785%2030.3129L24.4971%2030.5312L34.4939%2024.613L24.4971%208Z'%20fill='%236B6B6B'/%3e%3cpath%20d='M24.4971%208L14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L24.4971%208Z'%20fill='%23A2A2A2'/%3e%3cpath%20d='M24.4971%2032.4269L24.3739%2032.5773L24.3739%2040.2607L24.4971%2040.6207L34.5%2026.5117L24.4971%2032.4269Z'%20fill='%234F4E4E'/%3e%3cpath%20d='M24.4971%2040.6207L24.4971%2032.4269L14.5%2026.5117L24.4971%2040.6207Z'%20fill='%23A2A2A2'/%3e%3cpath%20d='M24.4971%2030.5312L34.4939%2024.613L24.4971%2020.062L24.4971%2030.5312Z'%20fill='%23797979'/%3e%3cpath%20d='M14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L14.5%2024.613Z'%20fill='%23D4D4D4'/%3e%3cg%20style='mix-blend-mode:overlay'%3e%3cpath%20d='M24.4971%208L24.2785%208.74339L24.2785%2030.3129L24.4971%2030.5312L34.4939%2024.613L24.4971%208Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%208L14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L24.4971%208Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2032.4269L24.3739%2032.5773L24.3739%2040.2607L24.4971%2040.6207L34.5%2026.5117L24.4971%2032.4269Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2040.6207L24.4971%2032.4269L14.5%2026.5117L24.4971%2040.6207Z'%20fill='%23ACE730'/%3e%3cpath%20d='M24.4971%2030.5312L34.4939%2024.613L24.4971%2020.062L24.4971%2030.5312Z'%20fill='%23ACE730'/%3e%3cpath%20d='M14.5%2024.613L24.4971%2030.5312L24.4971%2020.062L14.5%2024.613Z'%20fill='%23ACE730'/%3e%3c/g%3e%3c/svg%3e",ji="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='36'%20height='36'%20rx='18'%20fill='%23BBE7E8'/%3e%3cpath%20d='M18%2030C24.6274%2030%2030%2024.6274%2030%2018C30%2011.3726%2024.6274%206%2018%206C11.3726%206%206%2011.3726%206%2018C6%2024.6274%2011.3726%2030%2018%2030Z'%20fill='%23075A5A'/%3e%3cg%20style='mix-blend-mode:screen'%20opacity='0.3'%3e%3cpath%20opacity='0.8'%20d='M17.9688%207.5V15.4406L24.6802%2018.4398L17.9688%207.5Z'%20fill='white'/%3e%3cpath%20d='M17.9626%207.5L11.25%2018.4398L17.9626%2015.4406V7.5Z'%20fill='white'/%3e%3cpath%20opacity='0.8'%20d='M17.9688%2023.5838V28.9795L24.6849%2019.6875L17.9688%2023.5838Z'%20fill='white'/%3e%3cpath%20d='M17.9626%2028.9795V23.583L11.25%2019.6875L17.9626%2028.9795Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2022.3396L24.6802%2018.4425L17.9688%2015.4453V22.3396Z'%20fill='white'/%3e%3cpath%20d='M11.25%2018.4425L17.9626%2022.3396V15.4453L11.25%2018.4425Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/g%3e%3cg%20style='mix-blend-mode:screen'%20opacity='0.3'%3e%3cpath%20opacity='0.8'%20d='M17.9688%207.89844V15.2584L24.1894%2018.0382L17.9688%207.89844Z'%20fill='white'/%3e%3cpath%20d='M17.9639%207.89844L11.7422%2018.0382L17.9639%2015.2584V7.89844Z'%20fill='white'/%3e%3cpath%20opacity='0.8'%20d='M17.9688%2023.9461V28.4046L23.5184%2020.7266L17.9688%2023.9461Z'%20fill='white'/%3e%3cpath%20d='M17.9686%2028.4046V23.9455L12.4219%2020.7266L17.9686%2028.4046Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2022.0815L24.1894%2018.4694L17.9688%2015.6914V22.0815Z'%20fill='white'/%3e%3cpath%20d='M11.7422%2018.4694L17.9639%2022.0815V15.6914L11.7422%2018.4694Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/g%3e%3cpath%20d='M17.9688%209.85547V16.0539L23.2077%2018.3951L17.9688%209.85547Z'%20fill='%23C1DCDC'/%3e%3cpath%20d='M17.9664%209.85547L12.7266%2018.3951L17.9664%2016.0539V9.85547Z'%20fill='white'/%3e%3cpath%20d='M17.9688%2022.4126V26.6244L23.2114%2019.3711L17.9688%2022.4126Z'%20fill='%23C1DCDC'/%3e%3cpath%20d='M17.9664%2026.6244V22.4119L12.7266%2019.3711L17.9664%2026.6244Z'%20fill='white'/%3e%3cpath%20opacity='0.5'%20d='M17.9688%2021.4364L23.2077%2018.3943L17.9688%2016.0547V21.4364Z'%20fill='white'/%3e%3cpath%20d='M12.7266%2018.3943L17.9664%2021.4364V16.0547L12.7266%2018.3943Z'%20fill='white'%20fill-opacity='0.3'/%3e%3c/svg%3e";function Zi(o){return{cbETH:Ei,wstETH:Ki,rETH:Wi,sfrxETH:Ni,weETH:Hi,ezETH:Gi,rsETH:ji}[o]}const Yi=["0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db","0x63cc74334f4b1119276667cf0079ac0c8a96cfb2","0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6","0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f","0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0","0xe0e255fd5281bec3bb8fa1569a20097d9064e445","0xc2545c68a71f6803264bde885870fd72d361fb9e","0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483"],Qi=["0x1691308554c0a5a37c87e947677a4d31b9c97da9","0xf1c45c7b1f798302d29390d90d4dac38137352b1","0x1ad10ee3284297afcf2f6a41f935300cbebcf70d","0x585d78a00d1be2e95f75b20935d4b8d3c36efef1","0x335849a1c359e83dca508101bd394a9d12e176b9","0xdb3080920ee1df720411e12c16ec3866a8c2f5c6"];function Ji(o){switch(o){case"0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db":case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH";case"0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6":case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH";case"0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0":case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH";case"0xc2545c68a71f6803264bde885870fd72d361fb9e":case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH";case"0x1691308554c0a5a37c87e947677a4d31b9c97da9":case"0xf1c45c7b1f798302d29390d90d4dac38137352b1":return"weETH";case"0x1ad10ee3284297afcf2f6a41f935300cbebcf70d":case"0x585d78a00d1be2e95f75b20935d4b8d3c36efef1":return"ezETH";case"0x335849a1c359e83dca508101bd394a9d12e176b9":case"0xdb3080920ee1df720411e12c16ec3866a8c2f5c6":return"rsETH";default:return null}}function Ve(o){const e=Ji(o);return Zi(e)}function ze(o){switch(o){case"0x2ee8fca637d4b0bdb402c2735ea55ef6976c25db":return"cbETH";case"0x63cc74334f4b1119276667cf0079ac0c8a96cfb2":return"cbETH (deprecated)";case"0x1cc79f3f47bfc060b6f761fcd1afc6d399a968b6":return"wstETH";case"0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f":return"wstETH (deprecated)";case"0x0d6741f1a3a538f78009ca2e3a13f9cb1478b2d0":return"rETH";case"0xe0e255fd5281bec3bb8fa1569a20097d9064e445":return"rETH (deprecated)";case"0xc2545c68a71f6803264bde885870fd72d361fb9e":return"sfrxETH";case"0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483":return"sfrxETH (deprecated)";case"0x1691308554c0a5a37c87e947677a4d31b9c97da9":return"weETH";case"0xf1c45c7b1f798302d29390d90d4dac38137352b1":return"weETH (deprecated)";case"0x1ad10ee3284297afcf2f6a41f935300cbebcf70d":return"ezETH";case"0x585d78a00d1be2e95f75b20935d4b8d3c36efef1":return"ezETH (deprecated)";case"0x335849a1c359e83dca508101bd394a9d12e176b9":return"rsETH";case"0xdb3080920ee1df720411e12c16ec3866a8c2f5c6":return"rsETH (deprecated)";default:return null}}function De(o){return["0x63cc74334f4b1119276667cf0079ac0c8a96cfb2","0xbf6883a03fd2fcfa1b9fc588ad6193b3c3178f8f","0xe0e255fd5281bec3bb8fa1569a20097d9064e445","0xf69282a7e7ba5428f92f610e7afa1c0cedc4e483","0xf1c45c7b1f798302d29390d90d4dac38137352b1","0x585d78a00d1be2e95f75b20935d4b8d3c36efef1","0xdb3080920ee1df720411e12c16ec3866a8c2f5c6"].includes(o)}function ge(o,e){const a=F(e),t=o.subscribe({next:s=>{a.value=s},error:s=>{const i=s instanceof Error?zt(s):JSON.stringify(s);Je({text:i,type:"error"})}});return Dt(()=>{t&&t.unsubscribe()}),a}const it=o=>(me("data-v-46d45c1e"),o=o(),ve(),o),Xi={class:"title"},ec=["src"],tc=it(()=>u("div",null,null,-1)),ac=it(()=>u("div",null,null,-1)),oc={class:"number"},nc={class:"number"},sc=it(()=>u("div",null,null,-1)),lc=it(()=>u("div",null,null,-1)),rc={class:"number"},ic=it(()=>u("div",null,null,-1)),Uo=I({__name:"TableVaults",setup(o){const{t:e}=O(),a=E(),t=Se().getSocket(Ee(a.flavor)),s=new Ne(t,"ethereum"),i=F(""),l=ge(s.overview$,[]),c=b(()=>W.chain(l.value).filter(m=>{const f=i.value.toLocaleLowerCase().split(" "),r=v=>f.some(g=>v.toLocaleLowerCase().includes(g));return r(m.name)||r(m.address)}).orderBy(m=>m.debt,"desc").value()),p=b(()=>l.value.length===0);return(m,f)=>{const r=_e,v=oe,g=re;return _(),P(g,{class:"datatable-vaults","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"vaults-columns-data",loading:n(p),rows:n(c),columns:["","Name","TVL","Debt","CR","MCR","Troves","Price"]},{"header-content":y(()=>[u("div",Xi,A(n(e)("title")),1),h(r,{modelValue:n(i),"onUpdate:modelValue":f[0]||(f[0]=d=>ce(i)?i.value=d:null),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(d=>[u("img",{src:n(Ve)(d.item.address)},null,8,ec),u("div",{class:U({deprecated:n(De)(d.item.address)})},A(n(ze)(d.item.address)??d.item.name),3),u("div",{class:U(["number",{deprecated:n(De)(d.item.address)}])},[h(v,{value:d.item.tvl,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])],2),u("div",{class:U(["number",{deprecated:n(De)(d.item.address)}])},[h(v,{value:d.item.debt,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])],2),u("div",{class:U(["number",{deprecated:n(De)(d.item.address)}])},[h(v,{value:d.item.cr*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",{class:U(["number",{deprecated:n(De)(d.item.address)}])},[h(v,{value:d.item.mcr*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",{class:U(["number",{deprecated:n(De)(d.item.address)}])},A(d.item.open_troves),3),u("div",{class:U(["number",{deprecated:n(De)(d.item.address)}])},[h(v,{type:"dollar",value:Math.round(d.item.price),precision:1/0},null,8,["value"])],2)]),"row-aggregation":y(()=>[tc,ac,u("div",oc,[h(v,{value:n(c).reduce((d,w)=>d+w.tvl,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",nc,[h(v,{value:n(c).reduce((d,w)=>d+w.debt,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),sc,lc,u("div",rc,[h(v,{value:n(c).reduce((d,w)=>d+w.open_troves,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),ic]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows"])}}});function ma(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vaults"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof ma=="function"&&ma(Uo);const cc=D(Uo,[["__scopeId","data-v-46d45c1e"]]),bt=Xe("vaultStore",()=>{const o=F(null),e=F(null);return{vault:o,trove:e}}),uc={class:"vaults"},dc=I({__name:"Vaults.page",setup(o){const e=gt(),a=bt(),t=et();be(()=>{e.show=!0,e.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"}]});const s=async i=>{a.vault=i,await t.push({name:"prismavault",params:{tab:"",vaultAddr:i.address}})};return(i,l)=>(_(),S("div",uc,[h(cc,{style:{"grid-column":"1 / -1"},onSelected:s}),h(Ti),h(Ai),h(Di),h(Si)]))}}),pc=D(dc,[["__scopeId","data-v-0e5827c8"]]),Oo=I({__name:"ChartPoolTvl",setup(o){const{t:e}=O();let a;const{theme:t,flavor:s}=Z(E()),{chart:i,chartRef:l}=de(t,f,d=>{a=d.addAreaSeries(r())}),c=new Ke(H(),s.value),{isFetching:p,data:m}=N({queryKey:["prisma-stable-pool-tvl"],queryFn:()=>c.getPoolTvl("ethereum","1m").then(d=>d.deposits),initialData:[],initialDataUpdatedAt:0});K([m,i],v),K(t,()=>a.applyOptions(r()));function f(d){return ue(d,t.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:w=>g(w)}})}function r(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...t.value.lineChartColors}}function v([d,w]){if(!w||!a)return;const L=W.chain(d).map(x=>({time:x.timestamp,value:x.value})).uniqWith((x,$)=>x.time===$.time).orderBy(x=>x.time,"asc").value();L.length>0&&a.setData(L),w.timeScale().fitContent()}const g=d=>`$${J(d,1,"dollar")}${Q(d,"dollar")}`;return(d,w)=>{const L=te;return _(),P(L,{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function va(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Total deposits in stability pool"])}}})}typeof va=="function"&&va(Oo);const mc=D(Oo,[["__scopeId","data-v-85f4d43d"]]),Eo=I({__name:"ChartStableFlow",setup(o){const{t:e}=O(),{theme:a,flavor:t}=Z(E()),s=new Ke(H(),t.value),{isFetching:i,data:l}=N({queryKey:["prisma-stable-flow"],queryFn:()=>s.getStableFlow("ethereum","1m"),initialData:{deposits:[],withdrawals:[]},initialDataUpdatedAt:0}),c=b(()=>{const{colors:v}=a.value;return ne(a.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[v.green,v.red],xaxis:{categories:p.value,labels:{formatter:f,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:g,dataPointIndex:d,w})=>{let L=0;const x=g.map(($,T)=>{const C=$[d];return L+=C,`<div><b>${w.globals.seriesNames[T]}</b>:	${r(C)}</div>`});return x.push(`<div><b>Total</b>:	${r(L)}</div>`),x.join("")}}})}),p=b(()=>l.value.deposits.length===0?[]:l.value.deposits.map(v=>new Date(v.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),m=b(()=>[{name:e("deposits"),data:Object.values(l.value.deposits).map(v=>v.value)},{name:e("withdrawals"),data:Object.values(l.value.withdrawals).map(v=>v.value)}]),f=v=>v,r=v=>`$${J(v,0,"dollar")}${Q(v,"dollar")}`;return(v,g)=>{const d=ie;return _(),P(d,{title:n(e)("title",{stable:n(ht)(n(t))}),loading:n(i),options:n(c),series:n(m)},null,8,["title","loading","options","series"])}}});function _a(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t,interpolate:s,named:i}=a;return t([s(i("stable"))," deposits and withdrawals"])},deposits:a=>{const{normalize:t}=a;return t(["Deposits"])},withdrawals:a=>{const{normalize:t}=a;return t(["Withdrawals"])}}})}typeof _a=="function"&&_a(Eo);const vc=D(Eo,[["__scopeId","data-v-91670f21"]]),Ko=I({__name:"ChartDepositDistribution",setup(o){const{t:e}=O(),{theme:a,flavor:t}=Z(E()),s=new Ke(H(),t.value),{isFetching:i,data:l}=N({queryKey:["prisma-stable-distribution"],queryFn:()=>s.getStableDistribution("ethereum").then(f=>f.distribution),initialData:[],initialDataUpdatedAt:0}),c=b(()=>ne(a.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:m.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),p=b(()=>[{name:e("numPos"),data:Object.values(l.value).map(f=>f.value)}]),m=b(()=>l.value.map(f=>f.label));return(f,r)=>{const v=ie;return _(),P(v,{title:n(e)("title"),loading:n(i),series:n(p),options:n(c)},null,8,["title","loading","series","options"])}}});function fa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Distribution of current user deposits"])},numPos:a=>{const{normalize:t}=a;return t(["# of positions"])}}})}typeof fa=="function"&&fa(Ko);const _c=D(Ko,[["__scopeId","data-v-8e4e9561"]]),Wo=I({__name:"ChartCumulativeWithdrawals",setup(o){const{t:e}=O();let a;const{theme:t,flavor:s}=Z(E()),{chart:i,chartRef:l}=de(t,f,d=>{a=d.addAreaSeries(r())}),c=new Ke(H(),s.value),{isFetching:p,data:m}=N({queryKey:["prisma-cum-withdrawals"],queryFn:()=>c.getCumulativeWithdrawals("ethereum","all").then(d=>d.withdrawals),initialData:[],initialDataUpdatedAt:0});K([m,i],v),K(t,()=>a.applyOptions(r()));function f(d){return ue(d,t.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:w=>g(w)}})}function r(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...t.value.lineChartColors}}function v([d,w]){if(!w||!a)return;const L=W.chain(d).map(x=>({time:x.timestamp,value:x.value})).uniqWith((x,$)=>x.time===$.time).orderBy(x=>x.time,"asc").value();L.length>0&&a.setData(L),w.timeScale().fitContent()}const g=d=>`$${J(d,1,"dollar")}${Q(d,"dollar")}`;return(d,w)=>{const L=te;return _(),P(L,{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ha(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Cumulative value of collaterals withdrawn"])}}})}typeof ha=="function"&&ha(Wo);const fc=D(Wo,[["__scopeId","data-v-fa3b3fa1"]]),hc={class:"title"},gc={class:"address"},bc=["href"],yc={class:"number"},wc={class:"number"},$c={class:"address"},Cc=["href"],No=I({__name:"TableTopDeposits",setup(o){const{t:e}=O(),a=E(),t=new Ke(H(),a.flavor),{isFetching:s,data:i}=N({queryKey:["prisma-stable-top-deposits"],queryFn:()=>t.getTopStableDeposits("ethereum",5,"7d").then(c=>c.operations),initialData:[],initialDataUpdatedAt:0}),l=b(()=>W.chain(i.value).map(c=>c).value());return(c,p)=>{const m=oe,f=re;return _(),P(f,{class:"datatable-deposits","columns-header":"1fr","columns-data":"deposits-columns-data",loading:n(s),rows:n(l),columns:["Address","Amount","Date","Tx"]},{"header-content":y(()=>[u("div",hc,A(n(e)("title")),1)]),row:y(r=>[u("div",gc,[u("a",{href:`https://etherscan.io/address/${r.item.user}`,target:"_blank"},A(n(Y)(r.item.user,8)),9,bc)]),u("div",yc,[h(m,{value:r.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",wc,A(new Date(r.item.timestamp*1e3).toLocaleDateString()),1),u("div",$c,[u("a",{href:`https://etherscan.io/tx/${r.item.hash}`,target:"_blank"},A(n(Y)(r.item.hash,8)),9,Cc)])]),_:1},8,["loading","rows"])}}});function ga(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest deposits past 7 days"])}}})}typeof ga=="function"&&ga(No);const kc=D(No,[["__scopeId","data-v-8f408a11"]]),Sc={class:"title"},Lc={class:"address"},Tc=["href"],Ac={class:"number"},Pc={class:"number"},Ic={class:"address"},Dc=["href"],Ho=I({__name:"TableTopWithdrawals",setup(o){const{t:e}=O(),a=E(),t=new Ke(H(),a.flavor),s=b(()=>W.chain(l.value).map(c=>c).value()),{isFetching:i,data:l}=N({queryKey:["prisma-stable-top-withdrawals"],queryFn:()=>t.getTopStableWithdrawals("ethereum",5,"7d").then(c=>c.operations),initialData:[],initialDataUpdatedAt:0});return(c,p)=>{const m=oe,f=re;return _(),P(f,{class:"datatable-withdrawals","columns-header":"1fr","columns-data":"withdrawals-columns-data",loading:n(i),rows:n(s),columns:["Address","Amount","Date","Tx"]},{"header-content":y(()=>[u("div",Sc,A(n(e)("title")),1)]),row:y(r=>[u("div",Lc,[u("a",{href:`https://etherscan.io/address/${r.item.user}`,target:"_blank"},A(n(Y)(r.item.user,8)),9,Tc)]),u("div",Ac,[h(m,{value:r.item.amount,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",Pc,A(new Date(r.item.timestamp*1e3).toLocaleDateString()),1),u("div",Ic,[u("a",{href:`https://etherscan.io/tx/${r.item.hash}`,target:"_blank"},A(n(Y)(r.item.hash,8)),9,Dc)])]),_:1},8,["loading","rows"])}}});function ba(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest withdrawals past 7 days"])}}})}typeof ba=="function"&&ba(Ho);const xc=D(Ho,[["__scopeId","data-v-f8d46e5c"]]),zc={class:"pool"},qc=I({__name:"StabilityPool.page",setup(o){return(e,a)=>(_(),S("div",zc,[h(mc),h(vc),h(_c),h(fc),h(kc),h(xc)]))}}),Vc=D(qc,[["__scopeId","data-v-207fe888"]]),Mc={key:0,class:"value"},Fc={key:1,class:"value"},Rc=["innerHTML"],Bc={key:0,class:"value"},Uc={key:1,class:"value"},Oc=["innerHTML"],Ec={class:"labels"},Kc={class:"label"},Wc={class:"label-second"},Nc=I({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(o){return(e,a)=>{const t=nt;return _(),S("div",{class:U(["kpi",{disabled:!e.hasValue}])},[u("div",{class:U(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[ee(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(_(),P(t,{key:0},{item:y(()=>[e.hasValue?(_(),S("span",Mc,A(e.value),1)):(_(),S("span",Fc," ? "))]),default:y(()=>[ee(e.$slots,"tooltip",{},()=>[u("span",{innerHTML:e.tooltip},null,8,Rc)],!0)]),_:3})):(_(),S(X,{key:1},[e.hasValue?(_(),S("span",Bc,A(e.value),1)):(_(),S("span",Uc," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(_(),P(t,{key:0},{default:y(()=>[u("span",{innerHTML:e.tooltip},null,8,Oc)]),_:1})):V("",!0)],2),u("div",Ec,[ee(e.$slots,"label",{},()=>[u("div",Kc,A(e.label),1)],!0),ee(e.$slots,"label-second",{},()=>[u("div",Wc,A(e.labelSecond),1)],!0)])],2)}}}),Le=D(Nc,[["__scopeId","data-v-9ca23269"]]),Hc={class:"kpis"},Gc=I({__name:"KPIs",setup(o){const e=E(),a=new lt(H(),e.flavor),{data:t}=N({queryKey:["prisma-stable-kpi"],queryFn:()=>a.getStableCoinKPI("ethereum").then(s=>s.info)});return(s,i)=>{const l=oe,c=Le;return _(),S("div",Hc,[h(c,{label:`${n(ht)(n(e).flavor)} price`,"has-value":!!n(t)},{default:y(()=>[n(t)?(_(),P(l,{key:0,value:n(t).price,precision:4,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["label","has-value"]),h(c,{label:"Total supply","has-value":!!n(t)},{default:y(()=>[n(t)?(_(),P(l,{key:0,value:n(t).supply,precision:2,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(c,{label:"24h Volume (Curve)","has-value":!!n(t)},{default:y(()=>[n(t)?(_(),P(l,{key:0,value:n(t).volume,precision:1,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(c,{label:"Aggregate -2% Depth (Curve)","has-value":!!n(t)},{default:y(()=>[n(t)?(_(),P(l,{key:0,value:n(t).depth,precision:1,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"])])}}}),jc=D(Gc,[["__scopeId","data-v-bf1dc02e"]]),Go=I({__name:"ChartPrice",setup(o){const{t:e}=O();let a;const{theme:t,flavor:s}=Z(E()),{chart:i,chartRef:l}=de(t,w,T=>{a=T.addCandlestickSeries(L())}),c=()=>{switch(s.value){case"lsd":return"0xF980B4A4194694913Af231De69AB4593f5E0fCDc";case"lrt":return"0xC03FEF1c425956A3Cd5762022E511e0d4148B3D6";default:return""}},p=()=>{switch(s.value){case"lsd":return"0x4591DBfF62656E7859Afe5e45f6f47D3669fBB28";case"lrt":return"0x35282d87011f87508D457F08252Bc5bFa52E10A0";default:return""}},m=()=>{const T=Math.floor(new Date().getTime()/1e3),C=14400,k=T-C*200,z="0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",R=c(),B=p();return{pool:R,chain:"ethereum",main_token:z,reference_token:B,interval:C,start:k,end:T}},f=Se().getSocket("prices"),r=new _t(f,"ethereum",m()),v=ge(r.ohlc$,[]),g=b(()=>v.value.length===0),d=b(()=>{switch(s.value){case"lsd":return"Price is in USDC from Curve mkUSD/USDC pool";case"lrt":return"Price is in USDC from Curve ULTRA/USDC pool";default:return"???"}});K(v,x),K(t,()=>a.applyOptions(L()));function w(T){return ue(T,t.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:C=>$(C)}})}function L(){const{colors:T}=t.value;return{priceFormat:{type:"price",precision:6,minMove:.01},upColor:T.green,borderUpColor:T.green,wickUpColor:T.green,downColor:T.red,borderDownColor:T.red,wickDownColor:T.red,lastValueVisible:!0,priceLineVisible:!1}}function x(T){if(!i.value||!a)return;const C=W.chain(T).map(k=>({time:k.time,open:k.open,high:k.high,low:k.low,close:k.close})).uniqWith((k,z)=>k.time===z.time).orderBy(k=>k.time,"asc").value();C.length>0&&a.setData(C),i.value.timeScale().fitContent()}const $=T=>`$${J(T,4,"dollar")}${Q(T,"dollar")}`;return(T,C)=>{const k=nt,z=te;return _(),P(z,{class:"chart-container",title:n(e)("title",{stable:n(ht)(n(s))}),loading:n(g)},{actions:y(()=>[h(k,{placement:"left"},{default:y(()=>[u("div",null,A(n(d)),1)]),_:1})]),default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ya(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t,interpolate:s,named:i}=a;return t([s(i("stable"))," price (last 30 days)"])}}})}typeof ya=="function"&&ya(Go);const Zc=D(Go,[["__scopeId","data-v-457f72f4"]]),jo=I({__name:"ChartPriceDistribution",setup(o){const{t:e}=O(),{theme:a,flavor:t}=Z(E()),s=new lt(H(),t.value),{isFetching:i,data:l}=N({queryKey:["prisma-stable-price-distribution"],queryFn:()=>s.getPriceHistogram("ethereum",10,"all").then(r=>r.histogram),initialData:[],initialDataUpdatedAt:0}),c=b(()=>ne(a.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:m.value,labels:{rotate:-55},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),p=b(()=>[{name:e("numPos"),data:Object.values(l.value).map(r=>r.value)}]),m=b(()=>l.value.map(r=>f(r.label))),f=r=>{const v=/-?\d+(\.\d+)?/g,g=d=>parseFloat(d).toFixed(4);return r.replace(v,d=>g(d))};return(r,v)=>{const g=ie;return _(),P(g,{title:n(e)("title"),loading:n(i),series:n(p),options:n(c)},null,8,["title","loading","series","options"])}}});function wa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Price histogram"])},numPos:a=>{const{normalize:t}=a;return t(["# of hourly price records"])}}})}typeof wa=="function"&&wa(jo);const Yc=D(jo,[["__scopeId","data-v-b6d7d42c"]]),Zo=I({__name:"ChartSupply",setup(o){const{t:e}=O();let a;const{theme:t,flavor:s}=Z(E()),{chart:i,chartRef:l}=de(t,f,d=>{a=d.addAreaSeries(r())}),c=new lt(H(),s.value),{isFetching:p,data:m}=N({queryKey:["prisma-stable-supply"],queryFn:()=>c.getSupplyHistory("ethereum").then(d=>d.supply),initialData:[],initialDataUpdatedAt:0});K([m,i],v),K(t,()=>a.applyOptions(r()));function f(d){return ue(d,t.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:w=>g(w)}})}function r(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...t.value.lineChartColors}}function v([d,w]){if(!w||!a)return;const L=W.chain(d).map(x=>({time:x.timestamp,value:x.value})).uniqWith((x,$)=>x.time===$.time).orderBy(x=>x.time,"asc").value();L.length>0&&a.setData(L),w.timeScale().fitContent()}const g=d=>`${J(d,1,"dollar")}${Q(d,"dollar")}`;return(d,w)=>{const L=te;return _(),P(L,{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function $a(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Supply"])}}})}typeof $a=="function"&&$a(Zo);const Qc=D(Zo,[["__scopeId","data-v-4b351bda"]]),Yo=I({__name:"ChartHolders",setup(o){const{t:e}=O(),{theme:a,flavor:t}=Z(E()),s=new lt(H(),t.value),{isFetching:i,data:l}=N({queryKey:["prisma-stable-holders"],queryFn:()=>s.getLargeStableCoinHolders("ethereum").then(r=>r.holders),initialData:[],initialDataUpdatedAt:0}),c=b(()=>ne(a.value,{chart:{id:"mainHolders",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{let v=m.value[r.seriesIndex];v=v.length>10&&v.startsWith("0x")?Y(v):v;const g=r.series[r.seriesIndex];return[`<div><b>${v}</b>:</div><div>${f(g)}</div>`].join("")}},labels:l.value.map(r=>r.label.length>10&&r.label.startsWith("0x")?Y(r.label):r.label)})),p=b(()=>l.value.map(r=>r.value)),m=b(()=>l.value.map(r=>r.label)),f=r=>`$${J(Math.abs(r),1,"dollar")}${Q(r,"dollar")}`;return(r,v)=>{const g=ie;return _(),P(g,{class:"graph",title:n(e)("title"),loading:n(i),options:n(c),series:n(p)},null,8,["title","loading","options","series"])}}});function Ca(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Largest holders"])}}})}typeof Ca=="function"&&Ca(Yo);const Jc=D(Yo,[["__scopeId","data-v-93ed1259"]]),Qo=I({__name:"ChartDepth",props:{depth:{default:null},loading:{type:Boolean}},setup(o){const{t:e}=O(),{theme:a}=Z(E()),t=b(()=>{const{colors:c}=a.value;return ne(a.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.8,opacityTo:.2,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{type:"numeric",labels:{formatter:p=>l(p)}},yaxis:{seriesName:"amounts",labels:{formatter:p=>l(p)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{x:{formatter:p=>l(p)}},colors:[p=>p.value===0?c.blue:c.green,p=>p.value===0?c.blue:c.red]})}),s=b(()=>{if(!o.depth)return[];const c=[...o.depth.ask.prices.map(m=>({x:m,y:0})),...o.depth.bid.prices.map((m,f)=>({x:m,y:o.depth.bid.amounts[f]}))],p=[...o.depth.ask.prices.map((m,f)=>({x:m,y:o.depth.ask.amounts[f]}))];return[{name:"Bid",data:c},{name:"Ask",data:p}]}),i=b(()=>{var p;if(!((p=o.depth)!=null&&p.tokens)||o.depth.tokens.length===0)return e("title");const c=o.depth.tokens.join(" / ");return`${e("title")} - ${c} (Curve)`}),l=c=>`$${J(Math.abs(c),2,"dollar")}${Q(c,"dollar")}`;return(c,p)=>{const m=ie;return _(),P(m,{class:"chart",title:n(i),loading:c.loading,options:n(t),series:n(s)},null,8,["title","loading","options","series"])}}});function ka(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidity Depth"])}}})}typeof ka=="function"&&ka(Qo);const Xc=D(Qo,[["__scopeId","data-v-54923803"]]),eu=I({__name:"ChartDepthContainer",setup(o){const e=E(),a=new lt(H(),e.flavor),{isFetching:t,data:s}=N({queryKey:["prisma-stable-pool-depth"],queryFn:()=>a.getCurvePoolDepth("ethereum").then(i=>i.depth),initialData:[],initialDataUpdatedAt:0});return(i,l)=>(_(!0),S(X,null,le(n(s),c=>(_(),P(Xc,{key:c.name,loading:n(t),depth:c},null,8,["loading","depth"]))),128))}}),tu=D(eu,[["__scopeId","data-v-2ac11a80"]]),au={class:"stable"},ou=I({__name:"Stablecoin.page",setup(o){return(e,a)=>(_(),S("div",au,[h(jc,{style:{"grid-column":"1 / -1"}}),h(Zc),h(Yc),h(Qc),h(Jc),h(tu)]))}}),nu=D(ou,[["__scopeId","data-v-b712cc51"]]),Ot=o=>(me("data-v-c920758b"),o=o(),ve(),o),su={key:0},lu=Ot(()=>u("button",null,"1",-1)),ru=[lu],iu=Ot(()=>u("button",null,[u("i",{class:"fas fa-chevron-left"})],-1)),cu=[iu],uu=["onClick"],du=Ot(()=>u("button",null,[u("i",{class:"fas fa-chevron-right"})],-1)),pu=[du],mu=I({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(o,{emit:e}){const a=e,t=b(()=>Math.ceil(o.itemsCount/o.itemsPerPage)),s=b(()=>{const r=[...Array(12).keys()].map(x=>x-6+o.page).filter(x=>x>=1&&x<=t.value),v=r.findIndex(x=>x===o.page),g=[],d=[],w=o.page!==1&&o.page!==t.value?[o.page]:[];let L=1;for(;;){const x=r[v-L];if(x&&x!==1&&g.unshift(x),g.length+d.length+w.length>=5||L>r.length)break;const $=r[v+L];if($&&$!==t.value&&d.push($),L++,g.length+d.length+w.length>=5||L>r.length)break}return[...g,...w,...d]});K(s,()=>{const m=i(o.page,1,t.value);o.page!==m&&a("page",m)});const i=(m,f,r)=>(r<f&&(r=f),Math.min(Math.max(m,f),r)),l=()=>a("page",i(o.page-1,1,t.value)),c=()=>a("page",i(o.page+1,1,t.value)),p=m=>a("page",i(m,1,t.value));return(m,f)=>n(t)>1?(_(),S("ul",su,[u("li",{class:U({active:m.page===1}),onClick:f[0]||(f[0]=r=>p(1))},ru,2),n(t)>2?(_(),S("li",{key:0,onClick:l},cu)):V("",!0),(_(!0),S(X,null,le(n(s),(r,v)=>(_(),S("li",{key:v,class:U({active:r===m.page}),onClick:g=>p(r)},[u("button",null,A(r),1)],10,uu))),128)),n(t)>2?(_(),S("li",{key:1,onClick:c},pu)):V("",!0),n(t)>1?(_(),S("li",{key:2,class:U({active:m.page===n(t)}),onClick:f[1]||(f[1]=r=>p(n(t)))},[u("button",null,A(n(t)),1)],2)):V("",!0)])):V("",!0)}}),we=D(mu,[["__scopeId","data-v-c920758b"]]),vu={class:"redemption-details"},_u={class:"kpis"},fu={class:"title"},hu=["href"],Jo=I({__name:"RedemptionDetails",props:{vaultAddr:{},redemption:{}},setup(o){const{t:e}=O(),a=F(""),t=b(()=>W.chain(o.redemption.troves_affected).filter(s=>{const i=a.value.toLocaleLowerCase().split(" ");return(c=>i.some(p=>c.toLocaleLowerCase().includes(p)))(s)}).value());return(s,i)=>{const l=oe,c=Le,p=_e,m=re,f=te;return _(),P(f,{title:n(e)("redemption-details")},{default:y(()=>[u("div",vu,[u("div",_u,[h(c,{label:n(e)("withdrawal")},{default:y(()=>[h(l,{value:s.redemption.attempted_debt_amount,precision:2,type:"dollar"},null,8,["value"]),G(" / "),h(l,{value:s.redemption.collateral_sent_to_redeemer_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),h(c,{label:n(e)("fee")},{default:y(()=>[h(l,{value:s.redemption.collateral_fee_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),h(m,{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:n(t),columns:["Trove"]},{"header-content":y(()=>[u("div",fu,A(n(e)("troves-affected")),1),h(p,{modelValue:n(a),"onUpdate:modelValue":i[0]||(i[0]=r=>ce(a)?a.value=r:null),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(r=>[u("div",null,[u("a",{class:"font-mono",target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${r.item}`,onClick:i[1]||(i[1]=ae(()=>{},["stop"]))},A(r.item),9,hu)])]),_:1},8,["rows"])])]),_:1},8,["title"])}}});function Sa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":a=>{const{normalize:t}=a;return t(["Troves affected"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])},"redemption-details":a=>{const{normalize:t}=a;return t(["Redemption Details"])},withdrawal:a=>{const{normalize:t}=a;return t(["Attempted / Received"])},fee:a=>{const{normalize:t}=a;return t(["Fee"])}}})}typeof Sa=="function"&&Sa(Jo);const Et=D(Jo,[["__scopeId","data-v-3d490c1b"]]),gu={key:0,class:"item"},bu=["src"],yu={key:1,class:"empty"},wu={class:"label"},$u=I({__name:"SelectVault",props:{vault:{default:null},all:{type:Boolean,default:!1}},emits:["select-vault"],setup(o,{emit:e}){const a=e,t=E(),s=F(!1),i=[...o.all?["all"]:[],...t.flavor==="lsd"?Yi:Qi];be(()=>{c(i[0])});const l=()=>{s.value=!s.value},c=p=>{a("select-vault",p)};return(p,m)=>{const f=Io;return _(),P(f,{class:"select",options:i,selected:p.vault,open:n(s),onOpen:l,onClose:m[0]||(m[0]=r=>s.value=!1),onInput:c},{item:y(r=>[r.item?(_(),S("div",gu,[r.item!=="all"?(_(),S("img",{key:0,src:n(Ve)(r.item)},null,8,bu)):(_(),S("div",yu)),u("div",wu,A(r.item==="all"?"All":n(ze)(r.item)),1)])):V("",!0)]),_:1},8,["selected","open"])}}}),yt=D($u,[["__scopeId","data-v-e7691bcd"]]);function Cu(o,e){const t=Math.round(o.value/1e3)-e;return t<60?`${Math.round(t)} seconds ago`:t<60*60?`${Math.round(t/60)} minutes ago`:t<60*60*24?`${Math.round(t/(60*60))} hours ago`:`${Math.round(t/(60*60*24))} days ago`}function ke(){const o=F(Date.now());return be(()=>{setInterval(()=>{o.value=Date.now()})}),{relativeTime:a=>Cu(o,a)}}function Te(o,e,a){const t=F(e),s=F("desc"),i=(c,p)=>{t.value=c,s.value=p},l=b(()=>o.filter(c=>c!==""));return{sortColumns:o,sortColumnsNoEmpty:l,sortColumn:t,sortOrder:s,onSort:i}}function $e(o,e){const a=F(1),t=b(()=>W.chain(o.value).drop((a.value-1)*e).take(e).value()),s=i=>{a.value=i};return K(t,i=>{i.length===0&&(a.value=Math.max(1,Math.ceil(o.value.length/e)))}),{page:a,rowsPage:t,onPage:s}}const ku={class:"title"},Su={style:{display:"flex",gap:"1rem"}},Lu=["src"],Tu=["href"],Au=["href"],Pu={class:"number"},Iu={class:"number"},Du={class:"number"},La=15,Xo=I({__name:"TableRedemptions",props:{vaults:{default:()=>[]}},setup(o){const e=E(),a=new Ut(H(),e.flavor),{t}=O(),{isFetching:s,data:i}=N({queryKey:["prisma-redemptions",b(()=>o.vaults.map(C=>C.address))],queryFn:({queryKey:[,C]})=>C.length>0?Promise.all(C.map(k=>a.getRedemptions("ethereum",k))).then(k=>k.flat()):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=ke(),c=F(""),p=F("all"),m=F(null),{sortColumns:f,sortColumn:r,sortOrder:v,onSort:g}=Te(["icon","redeemer","tx","debt","numtroves","timestamp"],"timestamp"),d=b(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),w=b(()=>["redeemer","tx","debt","numtroves","timestamp"]),L=b(()=>W.chain(i.value).filter(C=>{const k=c.value.toLocaleLowerCase().split(" "),z=B=>k.some(M=>B.toLocaleLowerCase().includes(M)),R=p.value==="all"?!0:C.vault===p.value;return z(C.redeemer)&&R}).orderBy(C=>{switch(r.value){case"redeemer":return C.redeemer;case"tx":return C.transaction;case"debt":return C.actual_debt_amount;case"numtroves":return C.troves_affected_count;case"timestamp":return C.timestamp;default:return C.timestamp}},v.value).value()),{page:x,rowsPage:$,onPage:T}=$e(L,La);return(C,k)=>{const z=_e,R=we,B=oe,M=re,j=Ae;return _(),S(X,null,[h(M,{class:"datatable-redemptions","columns-header":"1fr 14rem 2fr","columns-data":"redemptions-columns-data",loading:n(s),rows:n($),columns:n(d),sorting:!0,"sorting-columns":n(f),"sorting-columns-enabled":n(w),"sorting-default-column":"timestamp","sorting-default-dir":"desc",onSortColumn:n(g),onSelected:k[4]||(k[4]=q=>m.value=q)},{"header-content":y(()=>[u("div",ku,A(n(t)("title")),1),h(yt,{class:"select-vault",vault:n(p),all:!0,onSelectVault:k[0]||(k[0]=q=>p.value=q)},null,8,["vault"]),u("div",Su,[h(z,{modelValue:n(c),"onUpdate:modelValue":k[1]||(k[1]=q=>ce(c)?c.value=q:null),class:"search",search:!0,placeholder:n(t)("search-placeholder")},null,8,["modelValue","placeholder"]),h(R,{class:"pagination","items-count":n(L).length,"items-per-page":La,page:n(x),onPage:n(T)},null,8,["items-count","page","onPage"])])]),row:y(q=>[u("img",{src:n(Ve)(q.item.vault)},null,8,Lu),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${q.item.redeemer}`,target:"_blank",onClick:k[2]||(k[2]=ae(()=>{},["stop"]))},A(n(Y)(q.item.redeemer)),9,Tu)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${q.item.transaction}`,target:"_blank",onClick:k[3]||(k[3]=ae(()=>{},["stop"]))},A(n(Y)(q.item.transaction)),9,Au)]),u("div",Pu,[h(B,{type:"dollar",value:Math.round(q.item.actual_debt_amount),precision:1/0},null,8,["value"])]),u("div",Iu,A(q.item.troves_affected_count),1),u("div",Du,A(n(l)(q.item.timestamp)),1)]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(j,{show:!!n(m),onClose:k[5]||(k[5]=q=>m.value=null)},{default:y(()=>[n(m)?(_(),P(Et,{key:0,redemption:n(m),"vault-addr":n(m).vault},null,8,["redemption","vault-addr"])):V("",!0)]),_:1},8,["show"])],64)}}});function Ta(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Redemptions"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Ta=="function"&&Ta(Xo);const xu=D(Xo,[["__scopeId","data-v-8b788976"]]),zu={class:"redemptions"},qu=I({__name:"Redemptions.page",setup(o){const e=E(),a=Se().getSocket(Ee(e.flavor)),t=new Ne(a,"ethereum"),s=ge(t.overview$,[]);return(i,l)=>(_(),S("div",zu,[h(xu,{vaults:n(s)},null,8,["vaults"])]))}}),Vu=D(qu,[["__scopeId","data-v-3c22273b"]]),Mu={class:"liquidation-details"},Fu={class:"kpis"},Ru={class:"title"},Bu=["href"],en=I({__name:"LiquidationDetails",props:{vaultAddr:{},liquidation:{}},setup(o){const{t:e}=O(),a=F(""),t=b(()=>W.chain(o.liquidation.troves_affected).filter(s=>{const i=a.value.toLocaleLowerCase().split(" ");return(c=>i.some(p=>c.toLocaleLowerCase().includes(p)))(s)}).value());return(s,i)=>{const l=oe,c=Le,p=_e,m=re,f=te;return _(),P(f,{title:n(e)("liquidation-details")},{default:y(()=>[u("div",Mu,[u("div",Fu,[h(c,{label:n(e)("debt")},{default:y(()=>[h(l,{value:s.liquidation.liquidated_debt,precision:2,type:"dollar"},null,8,["value"]),G(" / "),h(l,{value:s.liquidation.liquidated_collateral,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),_:1},8,["label"]),h(c,{label:n(e)("gas-compensation")},{default:y(()=>[h(l,{value:s.liquidation.collateral_gas_compensation_usd,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label"])]),h(m,{class:"datatable-troves-affected","columns-header":"2fr 1fr","columns-data":"troves-affected-columns-data",rows:n(t),columns:["Trove"]},{"header-content":y(()=>[u("div",Ru,A(n(e)("troves-affected")),1),h(p,{modelValue:n(a),"onUpdate:modelValue":i[0]||(i[0]=r=>ce(a)?a.value=r:null),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(r=>[u("div",null,[u("a",{class:"font-mono",target:"_blank",href:`#/vault/${s.vaultAddr}/trove/${r.item}`,onClick:i[1]||(i[1]=ae(()=>{},["stop"]))},A(r.item),9,Bu)])]),_:1},8,["rows"])])]),_:1},8,["title"])}}});function Aa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"troves-affected":a=>{const{normalize:t}=a;return t(["Troves affected"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])},"liquidation-details":a=>{const{normalize:t}=a;return t(["Liquidation Details"])},debt:a=>{const{normalize:t}=a;return t(["Debt / Collateral"])},"gas-compensation":a=>{const{normalize:t}=a;return t(["Gas compensation"])}}})}typeof Aa=="function"&&Aa(en);const Kt=D(en,[["__scopeId","data-v-8f32999a"]]),Uu={class:"title"},Ou={style:{display:"flex",gap:"1rem"}},Eu=["src"],Ku=["href"],Wu=["href"],Nu={class:"number"},Hu={class:"number"},Gu={class:"number"},Pa=15,tn=I({__name:"TableLiquidations",props:{vaults:{default:()=>[]}},setup(o){const e=E(),a=new Bt(H(),e.flavor),{t}=O(),{isFetching:s,data:i}=N({queryKey:["prisma-liquidations",b(()=>o.vaults.map(C=>C.address))],queryFn:({queryKey:[,C]})=>C.length>0?Promise.all(C.map(k=>a.getLiquidations("ethereum",k))).then(k=>k.flat()):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=ke(),c=F(""),p=F("all"),m=F(null),{sortColumns:f,sortColumn:r,sortOrder:v,onSort:g}=Te(["icon","liquidator","tx","debt","numtroves","timestamp"],"timestamp"),d=b(()=>["","Liquidator","Transaction","Debt","# Troves","Time"]),w=b(()=>["liquidator","tx","debt","numtroves","timestamp"]),L=b(()=>W.chain(i.value).filter(C=>{const k=c.value.toLocaleLowerCase().split(" "),z=B=>k.some(M=>B.toLocaleLowerCase().includes(M)),R=p.value==="all"?!0:C.vault===p.value;return z(C.liquidator)&&R}).orderBy(C=>{switch(r.value){case"liquidator":return C.liquidator;case"tx":return C.transaction;case"debt":return C.liquidated_collateral_usd;case"numtroves":return C.troves_affected_count;case"timestamp":return C.timestamp;default:return C.timestamp}},v.value).value()),{page:x,rowsPage:$,onPage:T}=$e(L,Pa);return(C,k)=>{const z=_e,R=we,B=oe,M=re,j=Ae;return _(),S(X,null,[h(M,{class:"datatable-liquidations","columns-header":"1fr 14rem 2fr","columns-data":"liquidations-columns-data",loading:n(s),rows:n($),columns:n(d),sorting:!0,"sorting-columns":n(f),"sorting-columns-enabled":n(w),"sorting-default-column":"timestamp","sorting-default-dir":"desc",onSortColumn:n(g),onSelected:k[4]||(k[4]=q=>m.value=q)},{"header-content":y(()=>[u("div",Uu,A(n(t)("title")),1),h(yt,{class:"select-vault",vault:n(p),all:!0,onSelectVault:k[0]||(k[0]=q=>p.value=q)},null,8,["vault"]),u("div",Ou,[h(z,{modelValue:n(c),"onUpdate:modelValue":k[1]||(k[1]=q=>ce(c)?c.value=q:null),class:"search",style:{"flex-grow":"1"},search:!0,placeholder:n(t)("search-placeholder")},null,8,["modelValue","placeholder"]),h(R,{class:"pagination","items-count":n(L).length,"items-per-page":Pa,page:n(x),onPage:n(T)},null,8,["items-count","page","onPage"])])]),row:y(q=>[u("img",{src:n(Ve)(q.item.vault)},null,8,Eu),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${q.item.liquidator}`,target:"_blank",onClick:k[2]||(k[2]=ae(()=>{},["stop"]))},A(n(Y)(q.item.liquidator)),9,Ku)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${q.item.transaction}`,target:"_blank",onClick:k[3]||(k[3]=ae(()=>{},["stop"]))},A(n(Y)(q.item.transaction)),9,Wu)]),u("div",Nu,[h(B,{type:"dollar",value:Math.round(q.item.liquidated_debt),precision:1/0},null,8,["value"])]),u("div",Hu,A(q.item.troves_affected_count),1),u("div",Gu,A(n(l)(q.item.timestamp)),1)]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(j,{show:!!n(m),onClose:k[5]||(k[5]=q=>m.value=null)},{default:y(()=>[n(m)?(_(),P(Kt,{key:0,liquidation:n(m),"vault-addr":n(m).vault},null,8,["liquidation","vault-addr"])):V("",!0)]),_:1},8,["show"])],64)}}});function Ia(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidations"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Ia=="function"&&Ia(tn);const ju=D(tn,[["__scopeId","data-v-99a79d88"]]),Zu={class:"liquidations"},Yu=I({__name:"Liquidations.page",setup(o){const e=E(),a=Se().getSocket(Ee(e.flavor)),t=new Ne(a,"ethereum"),s=ge(t.overview$,[]);return(i,l)=>(_(),S("div",Zu,[h(ju,{vaults:n(s)},null,8,["vaults"])]))}}),Qu=D(Yu,[["__scopeId","data-v-39c61e01"]]),Ju=["min","max","value"],Xu=I({__name:"InputNumber",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(o,{emit:e}){const a=e,t=s=>{a("update:modelValue",s.target.value)};return(s,i)=>(_(),S("input",{type:"number",min:s.min,max:s.max,value:s.modelValue,onInput:t},null,40,Ju))}}),ed=D(Xu,[["__scopeId","data-v-65b94541"]]),td=I({__name:"ChartRevenueLine",props:{data:{default:()=>[]}},setup(o){let e;const{theme:a}=Z(E()),{chart:t,chartRef:s}=de(a,i,f=>{e=f.addAreaSeries(l())});K(()=>o.data,c),K(a,()=>e.applyOptions(l()));function i(f){return ue(f,a.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:r=>p(r)}})}function l(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...a.value.lineChartColors}}function c(f){if(!t.value||!f)return;const r=W.chain(f).groupBy(v=>v.timestamp).mapValues(v=>({time:v[0].timestamp,value:m(v[0])})).entries().map(v=>v[1]).uniqWith((v,g)=>v.time===g.time).orderBy(v=>v.time,"asc").value();r.length>0&&e.setData(r),t.value.timeScale().fitContent()}const p=f=>`$${J(f,1,"dollar")}${Q(f,"dollar")}`,m=f=>f.unlock_penalty_revenue_usd+f.borrowing_fees_revenue_usd+f.redemption_fees_revenue_usd;return(f,r)=>(_(),S("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512))}}),ad=I({__name:"ChartRevenueBreakdown",props:{data:{default:()=>[]}},setup(o){const{theme:e}=Z(E()),a=b(()=>ne(e.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:t.value,labels:{formatter:l,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:c},min:0,max:i.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),t=b(()=>W.chain(o.data).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,v)=>new Date(parseInt(v,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,v)=>v%8===0?r:"").value()),s=b(()=>W.chain(Object.keys(o.data[0]).filter(r=>r!=="timestamp")).map(r=>o.data.map(v=>({...v,source:r}))).flatten().groupBy(r=>r.source).map((r,v)=>({name:m(v),data:W.chain(r).orderBy(g=>g.timestamp,"asc").map(g=>({x:new Date(g.timestamp*1e3).toLocaleDateString(),y:g[v]})).value()})).value()),i=b(()=>Math.max(...W.chain(o.data).groupBy(r=>r.timestamp).map(r=>r.reduce((v,g)=>v+p(g),0)).value())*1.1),l=r=>r,c=r=>`$${J(r,1,"dollar")}${Q(r,"dollar")}`,p=r=>r.unlock_penalty_revenue_usd+r.borrowing_fees_revenue_usd+r.redemption_fees_revenue_usd,m=r=>{switch(r){case"unlock_penalty_revenue_usd":return"Unlock penalty";case"borrowing_fees_revenue_usd":return"Borrowing fees";case"redemption_fees_revenue_usd":return"Redemption fees";default:return f(r)}},f=r=>r.split("_").map(v=>v.charAt(0).toUpperCase()+v.slice(1).toLowerCase()).join("");return(r,v)=>{const g=Ft;return _(),P(g,{class:"chart",options:n(a),series:n(s)},null,8,["options","series"])}}}),od=D(ad,[["__scopeId","data-v-12f4729f"]]),nd=o=>(me("data-v-495c24cd"),o=o(),ve(),o),sd={class:"actions"},ld={class:"chart-input"},rd={class:"chart-toggles"},id=nd(()=>u("i",{class:"fas fa-burn"},null,-1)),cd={class:"chart-types"},an=I({__name:"ChartRevenue",setup(o){const{t:e}=O(),a=E(),t=new Vo(H(),a.flavor),s=F("line"),i=F(1699723102),l=F(!0),{isFetching:c,data:p}=N({queryKey:["prisma-revenue-snapshots"],queryFn:()=>t.getSnapshots().then(r=>r.snapshots),initialData:[],initialDataUpdatedAt:0}),m=b(()=>p.value.filter(r=>r.timestamp>i.value).map(r=>W.cloneDeep(r)).map(r=>(l.value||(r.unlock_penalty_revenue_usd=0),r))),f=r=>{s.value!==r&&(s.value=r)};return(r,v)=>{const g=ed,d=st,w=nt,L=te;return _(),P(L,{class:"chart-container",title:n(e)("title"),loading:n(c)},{actions:y(()=>[u("div",sd,[u("div",ld,[h(g,{modelValue:n(i),"onUpdate:modelValue":v[0]||(v[0]=x=>ce(i)?i.value=x:null),placeholder:"Timestamp cut-off",min:0,max:new Date().getTime()/1e3},null,8,["modelValue","max"])]),u("div",rd,[h(w,null,{item:y(()=>[h(d,{modelValue:n(l),"onUpdate:modelValue":v[1]||(v[1]=x=>ce(l)?l.value=x:null)},{default:y(()=>[id]),_:1},8,["modelValue"])]),default:y(()=>[G(" "+A(n(e)("include-unlock-penalty")),1)]),_:1})]),u("div",cd,[h(d,{value:"Line","model-value":n(s)==="line",onClick:v[2]||(v[2]=x=>f("line"))},null,8,["model-value"]),h(d,{value:"Breakdown","model-value":n(s)==="breakdown",onClick:v[3]||(v[3]=x=>f("breakdown"))},null,8,["model-value"])])])]),default:y(()=>[n(s)==="line"?(_(),P(td,{key:0,data:n(m)},null,8,["data"])):(_(),P(od,{key:1,data:n(m)},null,8,["data"]))]),_:1},8,["title","loading"])}}});function Da(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["PRISMA revenue"])},"include-unlock-penalty":a=>{const{normalize:t}=a;return t(["Include unlock penalty revenue"])}}})}typeof Da=="function"&&Da(an);const ud=D(an,[["__scopeId","data-v-495c24cd"]]),on=I({__name:"ChartBreakdown",setup(o){const{t:e}=O(),{theme:a,flavor:t}=Z(E()),s=new Vo(H(),t.value),{isFetching:i,data:l}=N({queryKey:["prisma-revenue-breakdown"],queryFn:()=>s.getBreakdown(),initialData:{unlock_penalty:0,borrowing_fees:0,redemption_fees:0},initialDataUpdatedAt:0}),c=b(()=>ne(a.value,{chart:{id:"breakdown",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const v=m.value[r.seriesIndex],g=r.series[r.seriesIndex];return[`<div><b>${v}</b>:</div><div>${f(g)}</div>`].join("")}},labels:m.value})),p=b(()=>[l.value.unlock_penalty,l.value.borrowing_fees,l.value.redemption_fees]),m=b(()=>[e("unlockPenalty"),e("borrowingFees"),e("redemptionFees")]),f=r=>`$${J(r,2,"percentage")}${Q(r,"percentage")}`;return(r,v)=>{const g=ie;return _(),P(g,{class:"graph",title:n(e)("title"),options:n(c),series:n(p),loading:n(i)},null,8,["title","options","series","loading"])}}});function xa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Breakdown"])},unlockPenalty:a=>{const{normalize:t}=a;return t(["Unlock penalty"])},borrowingFees:a=>{const{normalize:t}=a;return t(["Borrowing fees"])},redemptionFees:a=>{const{normalize:t}=a;return t(["Redemption fees"])}}})}typeof xa=="function"&&xa(on);const dd=D(on,[["__scopeId","data-v-709f297f"]]),pd={class:"revenue"},md=I({__name:"Revenue.page",setup(o){return(e,a)=>(_(),S("div",pd,[h(ud,{style:{"grid-column":"1"}}),h(dd,{style:{"grid-column":"2"}})]))}}),vd=D(md,[["__scopeId","data-v-b2f76563"]]),_d={class:"tab-view"},fd={class:"tab-headers"},hd=["onClick"],gd={class:"tabs"},bd=I({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(o,{emit:e}){const a=e,t=F(null),s=So(),i=b(()=>(s!=null&&s.default?s.default():[]).filter(p=>p.props));K(()=>o.active,c=>{t.value=c,a("tab",{tab:i.value[c],index:t.value})},{immediate:!0});const l=(c,p)=>{c.props.disabled||(t.value=p,a("tab",{tab:i.value[p],index:t.value}))};return(c,p)=>(_(),S("div",_d,[u("ul",fd,[(_(!0),S(X,null,le(n(i),(m,f)=>(_(),S("li",{key:f,class:U(["tab-header",{active:n(t)===f,disabled:m.props.disabled}]),onClick:r=>l(m,f)},A(m.props.header),11,hd))),128))]),u("div",gd,[(_(!0),S(X,null,le(n(i),(m,f)=>gs((_(),S("div",{key:f,class:"tab"},[(_(),P(Tt(m)))])),[[bs,n(t)===f]])),128))])]))}}),ct=D(bd,[["__scopeId","data-v-cb076fcc"]]),ut=I({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(o){return(e,a)=>ee(e.$slots,"default")}}),yd={class:"legend"},wd=["onClick"],$d={class:"label"},Cd=I({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(o,{emit:e}){const a=e;return(t,s)=>(_(),S("div",yd,[(_(!0),S(X,null,le(t.items,i=>(_(),S("div",{key:i.id,class:U(["item",{togglable:i.togglable,disabled:t.disabled.includes(i.id)}]),onClick:l=>{i.togglable&&a("toggle",i.id)}},[u("div",{class:"color",style:he({"background-color":i.color})},null,4),u("div",$d,A(i.label),1)],10,wd))),128))]))}}),Wt=D(Cd,[["__scopeId","data-v-d25d58a4"]]);function St(o){const e=Math.floor(new Date().getTime()/1e3),a=14400,t=e-a*299;switch(o){case"convex":return{pool:"0x3b21C2868B6028CfB38Ff86127eF22E68d16d53B",chain:"ethereum",main_token:"0xdA47862a83dac0c112BA89c6abC2159b95afd71C",reference_token:"0x34635280737b5BFe6c7DC2FC3065D60d66e78185",interval:a,start:t,end:e};case"yearn":return{pool:"0x69833361991ed76f9e8DBBcdf9ea1520fEbFb4a7",chain:"ethereum",main_token:"0xdA47862a83dac0c112BA89c6abC2159b95afd71C",reference_token:"0xe3668873D944E4A949DA05fc8bDE419eFF543882",interval:a,start:t,end:e};default:throw new Error("Unknown contract")}}function kd(o){const e=Math.floor(new Date().getTime()/1e3),a="day",t=e-86400*299;switch(o){case"convex":return{pool:"0x3b21C2868B6028CfB38Ff86127eF22E68d16d53B",chain:"ethereum",interval:a,start:t,end:e};case"yearn":return{pool:"0x69833361991ed76f9e8DBBcdf9ea1520fEbFb4a7",chain:"ethereum",interval:a,start:t,end:e};default:throw new Error("Unknown contract")}}function Nt(o){const e=b(o),a=ys(ko(Object.fromEntries(e.value.map(s=>[s.id,!0])))),t=b(()=>e.value.filter(s=>!a[s.id].value).map(s=>s.id));return{items:e,toggles:a,disabled:t}}const Sd={class:"actions"},nn=I({__name:"ChartComparisonPrice",setup(o){const{t:e}=O();let a,t;const{theme:s}=Z(E()),{items:i}=Nt(()=>[{id:"cvxprisma",label:"cvxPRISMA",color:s.value.colors.blue},{id:"yprisma",label:"yPRISMA",color:s.value.colors.yellow}]),l=Se().getSocket("prices"),c=new _t(l,"ethereum",St("convex")),p=new _t(l,"ethereum",St("yearn")),m=ge(c.ohlc$,[]),f=ge(p.ohlc$,[]),r=b(()=>m.value.length+f.value.length===0);let v=1.1,g=0;const{chart:d,chartRef:w}=de(s,L,C=>{a=C.addLineSeries(x("convex")),t=C.addLineSeries(x("yearn"))});K(s,()=>{a.applyOptions(x("convex")),t.applyOptions(x("yearn"))}),K(m,C=>$(C,"convex")),K(f,C=>$(C,"yearn"));function L(C){return ue(C,s.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:k=>T(k)}})}function x(C){const k=C==="convex"?s.value.colors.blue:s.value.colors.yellow;return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:pe.WithSteps,color:k,lastValueVisible:!1,priceLineVisible:!1}}function $(C,k){if(!d.value||!a||!t)return;const z=W.chain(C).map(R=>({time:R.time,value:R.close})).uniqWith((R,B)=>R.time===B.time).orderBy(R=>R.time,"asc").value();if(z.length>0){k==="convex"?a.setData(z):k==="yearn"&&t.setData(z);const R=[...m.value.map(B=>B.close),...f.value.map(B=>B.close)];g=Math.min(...R),v=Math.max(...R),d.value.timeScale().fitContent()}}const T=C=>{const k=v-g,z=k>1?k-Math.floor(k):k,R=-Math.floor(Math.log10(z)+1)+2;return`${J(C,R,"dollar")}${Q(C,"dollar")}`};return(C,k)=>{const z=Wt,R=te;return _(),P(R,{class:"chart-container",title:n(e)("title"),loading:n(r)},{actions:y(()=>[u("div",Sd,[h(z,{items:n(i)},null,8,["items"])])]),default:y(()=>[u("div",{ref_key:"chartRef",ref:w,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function za(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Price (peg)"])}}})}typeof za=="function"&&za(nn);const Ld=D(nn,[["__scopeId","data-v-f3c7ad54"]]),Td={class:"actions"},sn=I({__name:"ChartComparisonTVL",setup(o){const{t:e}=O(),a=new rt(H());let t,s;const{theme:i}=Z(E()),{items:l}=Nt(()=>[{id:"cvxprisma",label:"cvxPRISMA",color:i.value.colors.blue},{id:"yprisma",label:"yPRISMA",color:i.value.colors.yellow}]),c=b(()=>p.value||f.value),{isFetching:p,data:m}=N({queryKey:["prisma-wrapper-tvl","convex"],queryFn:()=>a.getTVL("convex").then($=>$.tvl),initialData:[],initialDataUpdatedAt:0}),{isFetching:f,data:r}=N({queryKey:["prisma-wrapper-tvl","yearn"],queryFn:()=>a.getTVL("yearn").then($=>$.tvl),initialData:[],initialDataUpdatedAt:0}),{chart:v,chartRef:g}=de(i,d,$=>{t=$.addLineSeries(w("convex")),s=$.addLineSeries(w("yearn"))});K(i,()=>{t.applyOptions(w("convex")),s.applyOptions(w("yearn"))}),K([m,v],([$,T])=>L("convex",$,T)),K([r,v],([$,T])=>L("yearn",$,T));function d($){return ue($,i.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:T=>x(T)}})}function w($){const T=$==="convex"?i.value.colors.blue:i.value.colors.yellow;return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:pe.WithSteps,color:T,lastValueVisible:!1,priceLineVisible:!1}}function L($,T,C){if(!C||!t||!s)return;const k=W.chain(T).map(z=>({time:z.timestamp,value:z.value})).uniqWith((z,R)=>z.time===R.time).orderBy(z=>z.time,"asc").value();k.length>0&&($==="convex"?t.setData(k):$==="yearn"&&s.setData(k),C.timeScale().fitContent())}const x=$=>`$${J($,0,"dollar")}${Q($,"dollar")}`;return($,T)=>{const C=Wt,k=te;return _(),P(k,{class:"chart-container",title:n(e)("title"),loading:n(c)},{actions:y(()=>[u("div",Td,[h(C,{items:n(l)},null,8,["items"])])]),default:y(()=>[u("div",{ref_key:"chartRef",ref:g,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function qa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["TVL"])}}})}typeof qa=="function"&&qa(sn);const Ad=D(sn,[["__scopeId","data-v-ca2546f2"]]),Pd={class:"overview"},Id=I({__name:"Overview",setup(o){return(e,a)=>(_(),S("div",Pd,[h(Ld),h(Ad)]))}}),Dd=D(Id,[["__scopeId","data-v-8905db3f"]]),ln=I({__name:"ChartPrice",props:{contract:{}},setup(o){const{t:e}=O();let a,t,s=1,i=0;const{theme:l,flavor:c}=Z(E()),{chart:p,chartRef:m}=de(l,$,B=>{a=B.addCandlestickSeries(T()),t=B.addHistogramSeries(C())}),f=St(o.contract),r=kd(o.contract),v=Se().getSocket("prices"),g=new _t(v,"ethereum",f),d=new sl(v,"ethereum",r),w=ge(g.ohlc$,[]),L=ge(d.volume$,[]),x=b(()=>w.value.length+L.value.length===0);K(l,()=>{a.applyOptions(T()),t.applyOptions(C())}),K(w,k),K(L,z);function $(B){return ue(B,l.value,{height:300,leftPriceScale:{scaleMargins:{top:.75,bottom:0}},localization:{priceFormatter:M=>R(M)}})}function T(){const{colors:B}=l.value;return{priceFormat:{type:"price",precision:6,minMove:.01},upColor:B.green,borderUpColor:B.green,wickUpColor:B.green,downColor:B.red,borderDownColor:B.red,wickDownColor:B.red,lastValueVisible:!1,priceLineVisible:!1}}function C(){const{colors:B}=l.value;return{color:c.value==="lsd"?B.blue:B.purple,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}}function k(B){if(!p.value||!a)return;const M=1,j=W.chain(B).map(q=>({time:q.time,open:Math.pow(q.open,M),high:Math.pow(q.high,M),low:Math.pow(q.low,M),close:Math.pow(q.close,M)})).uniqWith((q,se)=>q.time===se.time).orderBy(q=>q.time,"asc").value();j.length>0&&(a.setData(j),p.value.timeScale().fitContent(),i=Math.min(...j.map(q=>q.low)),s=Math.max(...j.map(q=>q.high))),p.value.timeScale().fitContent()}function z(B){if(!p.value||!t)return;const M=W.chain(B).map(j=>({time:j.timestamp,value:j.volume})).uniqWith((j,q)=>j.time===q.time).orderBy(j=>j.time,"asc").value();M.length>0&&t.setData(M)}const R=B=>{const M=s-i,j=M>1?M-Math.floor(M):M,q=-Math.floor(Math.log10(j)+1)+2;return`${J(B,q,"dollar")}${Q(B,"dollar")}`};return(B,M)=>{const j=te;return _(),P(j,{class:"chart-container",title:n(e)("title"),loading:n(x)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:m,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Va(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Price (peg)"])}}})}typeof Va=="function"&&Va(ln);const rn=D(ln,[["__scopeId","data-v-f3f6ce9e"]]),cn=I({__name:"ChartTVL",props:{contract:{}},setup(o){const{t:e}=O(),a=new rt(H());let t;const{theme:s}=Z(E()),{chart:i,chartRef:l}=de(s,m,g=>{t=g.addAreaSeries(f())}),{isFetching:c,data:p}=N({queryKey:["prisma-wrapper-tvl",b(()=>o.contract)],queryFn:({queryKey:[,g]})=>a.getTVL(g).then(d=>d.tvl),initialData:[],initialDataUpdatedAt:0});K([p,i],r),K(s,()=>t.applyOptions(f()));function m(g){return ue(g,s.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:d=>v(d)}})}function f(){return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...s.value.lineChartColors}}function r([g,d]){if(!d||!t)return;const w=W.chain(g).filter(L=>L.value>0).map(L=>({time:L.timestamp,value:L.value})).uniqWith((L,x)=>L.time===x.time).orderBy(L=>L.time,"asc").value();w.length>0&&t.setData(w),d.timeScale().fitContent()}const v=g=>`$${J(g,0,"dollar")}${Q(g,"dollar")}`;return(g,d)=>{const w=te;return _(),P(w,{class:"chart-container",title:n(e)("title"),loading:n(c)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ma(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["TVL"])}}})}typeof Ma=="function"&&Ma(cn);const un=D(cn,[["__scopeId","data-v-c5957bbc"]]),dn=I({__name:"ChartFlow",props:{contract:{}},setup(o){const{t:e}=O(),a=new rt(H()),{theme:t}=Z(E()),{isFetching:s,data:i}=N({queryKey:["prisma-wrapper-flow",b(()=>o.contract)],queryFn:({queryKey:[,r]})=>a.getFlow(r),initialData:{deposits:[],withdrawals:[]},initialDataUpdatedAt:0}),l=b(()=>{const{colors:r}=t.value;return ne(t.value,{chart:{type:"bar",stacked:"true",animations:{enabled:!1},toolbar:{show:!1}},colors:[r.green,r.red],xaxis:{categories:c.value,labels:{formatter:m,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:f}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:({series:v,dataPointIndex:g,w:d})=>{let w=0;const L=v.map((x,$)=>{const T=x[g];return w+=T,`<div><b>${d.globals.seriesNames[$]}</b>:	${f(T)}</div>`});return L.push(`<div><b>Total</b>:	${f(w)}</div>`),L.join("")}}})}),c=b(()=>i.value.deposits.length===0?[]:i.value.deposits.map(r=>new Date(r.timestamp*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),p=b(()=>[{name:e("deposits"),data:Object.values(i.value.deposits).map(r=>r.amount_usd)},{name:e("withdrawals"),data:Object.values(i.value.withdrawals).map(r=>-r.amount_usd)}]),m=r=>r,f=r=>`$${J(r,0,"dollar")}${Q(r,"dollar")}`;return(r,v)=>{const g=ie;return _(),P(g,{title:n(e)("title"),loading:n(s),options:n(l),series:n(p)},null,8,["title","loading","options","series"])}}});function Fa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Staking and unstaking"])},deposits:a=>{const{normalize:t}=a;return t(["Deposits"])},withdrawals:a=>{const{normalize:t}=a;return t(["Withdrawals"])}}})}typeof Fa=="function"&&Fa(dn);const pn=D(dn,[["__scopeId","data-v-b6328e9e"]]),mn=I({__name:"ChartAPR",props:{contract:{}},setup(o){const{t:e}=O(),a=new rt(H());let t;const{theme:s}=Z(E()),{chart:i,chartRef:l}=de(s,m,g=>{t=g.addAreaSeries(f())}),{isFetching:c,data:p}=N({queryKey:["prisma-wrapper-snapshots",b(()=>o.contract)],queryFn:({queryKey:[,g]})=>a.getSnapshots(g).then(d=>d.Snapshots),initialData:[],initialDataUpdatedAt:0});K([p,i],r),K(s,()=>t.applyOptions(f()));function m(g){return ue(g,s.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:d=>v(d)}})}function f(){return{priceFormat:{type:"price",precision:6,minMove:.01},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...s.value.lineChartColors}}function r([g,d]){if(!d||!t)return;const w=W.chain(g).filter(L=>L.timestamp>=1699630610).map(L=>({time:L.timestamp,value:L.total_apr*100})).uniqWith((L,x)=>L.time===x.time).orderBy(L=>L.time,"asc").value();w.length>0&&t.setData(w),d.timeScale().fitContent()}const v=g=>`${J(g,0,"percentage")}${Q(g,"percentage")}`;return(g,d)=>{const w=te;return _(),P(w,{class:"chart-container",title:n(e)("title"),loading:n(c)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ra(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["APR"])}}})}typeof Ra=="function"&&Ra(mn);const vn=D(mn,[["__scopeId","data-v-6ddad98b"]]),_n=I({__name:"ChartDistribution",props:{contract:{}},setup(o){const{t:e}=O(),a=new rt(H()),{theme:t}=Z(E()),{isFetching:s,data:i}=N({queryKey:["prisma-wrapper-distribution",b(()=>o.contract)],queryFn:({queryKey:[,r]})=>a.getDistribution(r).then(v=>v.distribution),initialData:[],initialDataUpdatedAt:0}),l=b(()=>ne(t.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:c.value,labels:{formatter:m,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:f}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),c=b(()=>i.value.map(r=>r.label)),p=b(()=>[{name:e("size"),data:Object.values(i.value).map(r=>r.value)}]),m=r=>r,f=r=>`$${J(r,0,"dollar")}${Q(r,"dollar")}`;return(r,v)=>{const g=ie;return _(),P(g,{class:"chart",title:n(e)("title"),loading:n(s),options:n(l),series:n(p)},null,8,["title","loading","options","series"])}}});function Ba(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Position size"])},size:a=>{const{normalize:t}=a;return t(["Size"])}}})}typeof Ba=="function"&&Ba(_n);const fn=D(_n,[["__scopeId","data-v-d22ffbed"]]),xd={class:"cvxprisma"},zd=I({__name:"CvxPrisma",setup(o){return(e,a)=>(_(),S("div",xd,[h(rn,{contract:"convex"}),h(un,{contract:"convex"}),h(pn,{contract:"convex"}),h(vn,{contract:"convex"}),h(fn,{contract:"convex",style:{"grid-column":"1 / -1"}})]))}}),qd=D(zd,[["__scopeId","data-v-91ade2ce"]]),Vd={class:"yprisma"},Md=I({__name:"YPrisma",setup(o){return(e,a)=>(_(),S("div",Vd,[h(rn,{contract:"yearn"}),h(un,{contract:"yearn"}),h(pn,{contract:"yearn"}),h(vn,{contract:"yearn"}),h(fn,{contract:"yearn",style:{"grid-column":"1 / -1"}})]))}}),Fd=D(Md,[["__scopeId","data-v-dc6f0440"]]);function hn(o,e,a){const t=et(),s=Qe("tab",o[0]),i=F(-1);return K(s,l=>i.value=o.findIndex(c=>c===l),{immediate:!0}),K(i,async l=>{l===-1&&(l=0),await t.push({name:e,params:{tab:o[l],...(a==null?void 0:a())??{}},replace:s.value===""})},{immediate:!0}),{tabActive:s,tabActiveIndex:i}}const Rd={class:"wrappers"},Bd=I({__name:"Wrappers.page",setup(o){const{tabActive:e,tabActiveIndex:a}=hn(["overview","cvxprisma","yprisma"],"wrappers");return(t,s)=>{const i=ut,l=ct;return _(),S("div",Rd,[h(l,{active:n(a),onTab:s[0]||(s[0]=c=>a.value=c.index)},{default:y(()=>[h(i,{header:"Overview"},{default:y(()=>[n(e)==="overview"?(_(),P(Dd,{key:0})):V("",!0)]),_:1}),h(i,{header:"cvxPRISMA"},{default:y(()=>[n(e)==="cvxprisma"?(_(),P(qd,{key:0})):V("",!0)]),_:1}),h(i,{header:"yPRISMA"},{default:y(()=>[n(e)==="yprisma"?(_(),P(Fd,{key:0})):V("",!0)]),_:1})]),_:1},8,["active"])])}}}),Ud=D(Bd,[["__scopeId","data-v-eb3d2ad5"]]),Od={class:"title"},Ed={style:{display:"flex",gap:"1rem"}},Kd=["href"],Ua=10,gn=I({__name:"TableLockers",props:{lockers:{default:()=>[]}},setup(o){const{t:e}=O(),a=F(""),{sortColumns:t,sortColumn:s,sortOrder:i,onSort:l}=Te(["locker","weight","locked","unlocked","frozen"],"weight"),c=b(()=>["Locker","Weight","Locked","Unlocked","Frozen"]),p=b(()=>["weight","locked","unlocked","frozen"]),m=b(()=>W.chain(o.lockers).filter(g=>{const d=a.value.toLocaleLowerCase().split(" ");return(L=>d.some(x=>L.toLocaleLowerCase().includes(x)))(g.id)}).orderBy(g=>{switch(s.value){case"weight":return g.weight;case"locked":return g.locked;case"unlocked":return g.unlocked;case"frozen":return g.frozen;default:return g.weight}},i.value).value()),{page:f,rowsPage:r,onPage:v}=$e(m,Ua);return(g,d)=>{const w=_e,L=we,x=oe,$=re;return _(),P($,{class:"datatable-lockers","columns-header":"1fr 3fr","columns-data":"lockers-columns-data",rows:n(r),columns:n(c),sorting:!0,"sorting-columns":n(t),"sorting-columns-enabled":n(p),"sorting-default-column":"weight","sorting-default-dir":"desc",onSortColumn:n(l)},{"header-content":y(()=>[u("div",Od,A(n(e)("title")),1),u("div",Ed,[h(w,{modelValue:n(a),"onUpdate:modelValue":d[0]||(d[0]=T=>ce(a)?a.value=T:null),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"]),h(L,{class:"pagination","items-count":n(m).length,"items-per-page":Ua,page:n(f),onPage:n(v)},null,8,["items-count","page","onPage"])])]),row:y(T=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${T.item.id}`,target:"_blank",onClick:d[1]||(d[1]=ae(()=>{},["stop"]))},A(T.item.id),9,Kd)]),u("div",{class:U(["number",{zero:T.item.weight===0}])},[h(x,{type:"dollar",value:Math.round(T.item.weight),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),u("div",{class:U(["number",{zero:T.item.locked===0}])},[h(x,{type:"dollar",value:Math.round(T.item.locked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),u("div",{class:U(["number",{zero:T.item.unlocked===0}])},[h(x,{type:"dollar",value:Math.round(T.item.unlocked),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2),u("div",{class:U(["number",{zero:T.item.frozen===0}])},[h(x,{type:"dollar",value:Math.round(T.item.frozen),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])],2)]),_:1},8,["rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"])}}});function Oa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Lockers"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof Oa=="function"&&Oa(gn);const Wd=D(gn,[["__scopeId","data-v-32b0591b"]]),Ea="https://api.thegraph.com/subgraphs/name/benber86/prisma";class bn extends ye{async getTopLockers(){const a=await this.fetch(Ea,{query:`{
      lockers {
        totalWeight
      }
      accountDatas(first: 100 orderBy: weight orderDirection: desc) {
        id
        weight
        locked
        unlocked
        frozen
      }
    }`}),t=a.data.accountDatas.map(i=>({id:i.id,weight:parseInt(i.weight,10),locked:parseInt(i.locked,10),unlocked:parseInt(i.unlocked,10),frozen:parseInt(i.frozen,10)}));return{totalWeight:parseInt(a.data.lockers[0].totalWeight,10),accounts:t}}async getVotesIncentives(){return(await this.fetch(Ea,{query:`{
      incentiveVotes(first:100, orderBy:blockNumber, orderDirection:desc) {
        voter {
          id
        }
        votes(first: 100, orderBy:points, orderDirection:desc) {
          recipient {
            id
            address
          }
          points
        }
        isClearance
        transactionHash
        blockTimestamp
      }
    }`})).data.incentiveVotes.map(t=>t.votes.map(s=>({voter:t.voter.id,recipient:s.recipient.address,points:parseInt(s.points,10),isClearance:t.isClearance,transaction:t.transactionHash,timestamp:parseInt(t.blockTimestamp,10)}))).flat()}}const Nd={class:"title"},Hd=["href"],Gd=["href"],jd={class:"number"},Zd={class:"number"},Yd=["href"],Qd={class:"number"},Ka=20,yn=I({__name:"TableVotesIncentives",setup(o){const{t:e}=O(),a=new bn(H()),{isFetching:t,data:s}=N({queryKey:["prisma-vote-incentives"],queryFn:()=>a.getVotesIncentives(),initialData:[],initialDataUpdatedAt:0}),{relativeTime:i}=ke(),l=b(()=>["Voter","Recipient","Points","Tx","Time"]),c=b(()=>s.value),{page:p,rowsPage:m,onPage:f}=$e(c,Ka);return(r,v)=>{const g=we,d=oe,w=re;return _(),P(w,{class:"datatable-votes-incentives","columns-header":"1fr minmax(auto, 25rem) auto","columns-data":"votes-incentives-columns-data",loading:n(t),rows:n(m),columns:n(l)},{"header-content":y(()=>[u("div",Nd,A(n(e)("title")),1),h(g,{class:"pagination","items-count":n(c).length,"items-per-page":Ka,page:n(p),onPage:n(f)},null,8,["items-count","page","onPage"])]),row:y(L=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${L.item.voter}`,target:"_blank",onClick:v[0]||(v[0]=ae(()=>{},["stop"]))},A(n(Y)(L.item.voter)),9,Hd)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${L.item.recipient}`,target:"_blank",onClick:v[1]||(v[1]=ae(()=>{},["stop"]))},A(n(Y)(L.item.recipient)),9,Gd)]),u("div",jd,[h(d,{type:"dollar",value:Math.round(L.item.points),precision:2,"show-symbol":!1,"show-zero":!0},null,8,["value"])]),u("div",Zd,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${L.item.transaction}`,target:"_blank",onClick:v[2]||(v[2]=ae(()=>{},["stop"]))},A(n(Y)(L.item.transaction)),9,Yd)]),u("div",Qd,A(n(i)(L.item.timestamp)),1)]),_:1},8,["loading","rows","columns"])}}});function Wa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Incentive votes"])}}})}typeof Wa=="function"&&Wa(yn);const Jd=D(yn,[["__scopeId","data-v-1ee66c7a"]]),wn=I({__name:"ChartTopLockers",props:{totalWeight:{default:0},lockers:{default:()=>[]}},setup(o){const{t:e}=O(),{theme:a}=Z(E()),t=b(()=>o.lockers.slice(0,10)),s=b(()=>ne(a.value,{chart:{id:"topLockers",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!1,position:"bottom"},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:m=>{const f=l.value[m.seriesIndex],r=m.series[m.seriesIndex],v=r/(o.totalWeight/100);return[`<div><b>${f}</b>:</div><div>${p(v)} - ${c(r)}</div>`].join("")}},labels:t.value.map(m=>m.id).concat(["Other⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"])})),i=b(()=>{const m=t.value.map(v=>v.weight),f=m.reduce((v,g)=>v+g,0),r=o.totalWeight-f;return[...m,r]}),l=b(()=>t.value.map(m=>m.id).concat(["Other"])),c=m=>`${J(m,2,"dollar")}${Q(m,"dollar")}`,p=m=>`${J(m,2,"percentage")}${Q(m,"percentage")}`;return(m,f)=>{const r=ie;return _(),P(r,{class:"graph",title:n(e)("title"),options:n(s),series:n(i)},null,8,["title","options","series"])}}});function Na(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Top 10 largest lockers"])}}})}typeof Na=="function"&&Na(wn);const Xd=D(wn,[["__scopeId","data-v-0e8e0d9c"]]),ep={class:"veprisma"},tp=I({__name:"VePrisma.page",setup(o){const e=new bn(H()),{isFetching:a,data:t}=N({queryKey:["prisma-top-lockers"],queryFn:()=>e.getTopLockers(),initialData:{totalWeight:0,accounts:[]},initialDataUpdatedAt:0}),s=b(()=>t.value.accounts),i=b(()=>t.value.totalWeight);return(l,c)=>(_(),S("div",ep,[h(Wd,{style:{"grid-row":"1","grid-column":"1"},loading:n(a),lockers:n(s)},null,8,["loading","lockers"]),h(Xd,{style:{"grid-row":"1","grid-column":"2"},loading:n(a),lockers:n(s),"total-weight":n(i)},null,8,["loading","lockers","total-weight"]),h(Jd,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}}),ap=D(tp,[["__scopeId","data-v-2b3448d6"]]);function Ce(o){return o.status==="executed"?"executed":o.end>new Date().getTime()/1e3?"active":op(o)?"passed":"denied"}function op(o){return o.weightReceived>o.weightRequired}const $n=I({__name:"Status",props:{proposal:{}},setup(o){const{t:e}=O(),a=b(()=>Ce(o.proposal)==="denied"?e("no-quorum"):""),t=b(()=>{switch(Ce(o.proposal)){case"active":return e("active");case"denied":return e("denied");case"passed":return e("passed");case"executed":return e("executed");default:return"Unk. Status"}});return(s,i)=>{const l=nt,c=Le;return _(),P(c,{class:"status","tooltip-type":"underline",label:n(e)("status"),"has-value":!0,tooltip:n(a)},{default:y(()=>[n(a)?(_(),P(l,{key:0},{item:y(()=>[u("span",{class:U(["status-value",n(Ce)(s.proposal)])},A(n(t)),3)]),default:y(()=>[G(" "+A(n(a)),1)]),_:1})):(_(),S("span",{key:1,class:U(["status-value",n(Ce)(s.proposal)])},A(n(t)),3))]),_:1},8,["label","tooltip"])}}});function Ha(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{status:a=>{const{normalize:t}=a;return t(["Status"])},active:a=>{const{normalize:t}=a;return t(["Active"])},denied:a=>{const{normalize:t}=a;return t(["Denied"])},passed:a=>{const{normalize:t}=a;return t(["Passed"])},executed:a=>{const{normalize:t}=a;return t(["Executed"])},"no-quorum":a=>{const{normalize:t}=a;return t(["Quorum was not reached"])}}})}typeof Ha=="function"&&Ha($n);const np=D($n,[["__scopeId","data-v-be0ac349"]]),sp=["href"],Cn=I({__name:"Proposer",props:{proposal:{}},setup(o){const{t:e}=O();return(a,t)=>{const s=Le;return _(),P(s,{class:"proposer",label:n(e)("proposer"),"has-value":!0},{default:y(()=>[u("a",{href:`https://etherscan.io/address/${a.proposal.proposer}`,target:"_blank"},A(n(Y)(a.proposal.proposer)),9,sp)]),_:1},8,["label"])}}});function Ga(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{proposer:a=>{const{normalize:t}=a;return t(["Proposer"])}}})}typeof Ga=="function"&&Ga(Cn);const Lt=I({__name:"Date",props:{proposal:{},type:{}},setup(o){const{t:e}=O();let a;const t=F(""),s=b(()=>{switch(o.type){case"start":return e("start");case"end":return e("end");default:return"Unk. Type"}}),i=b(()=>{switch(o.type){case"start":return new Date(o.proposal.start*1e3).toLocaleDateString();case"end":{const p=new Date(o.proposal.end*1e3);return p>new Date?t.value:p.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),l=b(()=>{switch(o.type){case"start":return new Date(o.proposal.start*1e3).toLocaleDateString()+" "+new Date(o.proposal.start*1e3).toTimeString();case"end":return new Date(o.proposal.end*1e3).toLocaleDateString()+" "+new Date(o.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});be(()=>{c()});const c=()=>{const p=new Date(o.proposal.end*1e3);a&&clearInterval(a),a=setInterval(()=>{t.value=Qs(p)})};return(p,m)=>{const f=Le;return _(),P(f,{class:"date","tooltip-type":"underline",label:n(s),value:n(i),"has-value":!0,tooltip:n(l)},null,8,["label","value","tooltip"])}}});function ja(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{start:a=>{const{normalize:t}=a;return t(["Start"])},end:a=>{const{normalize:t}=a;return t(["End"])}}})}typeof ja=="function"&&ja(Lt);const lp=o=>(me("data-v-c2dcaf56"),o=o(),ve(),o),rp={class:"id"},ip={class:"metadata"},cp={class:"row"},up=lp(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),dp=[up],kn=I({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(o,{emit:e}){const{t:a}=O(),t=e;return(s,i)=>{var l,c;return _(),S("div",{class:"proposal-summary",onClick:i[0]||(i[0]=p=>t("toggleExpand"))},[u("div",{class:U(["title",{"no-title":!((l=s.proposal.metadata)!=null&&l.title)}])},[u("div",rp,A(s.proposal.id),1),u("div",ip,A(((c=s.proposal.metadata)==null?void 0:c.title)||n(a)("no-title")),1)],2),u("div",cp,[h(np,{class:"item",proposal:s.proposal},null,8,["proposal"]),h(Cn,{class:"item",proposal:s.proposal},null,8,["proposal"]),h(Lt,{class:"item",proposal:s.proposal,type:"start"},null,8,["proposal"]),h(Lt,{class:"item",proposal:s.proposal,type:"end"},null,8,["proposal"]),u("div",{class:U(["item expander",{expanded:s.expanded}])},dp,2)])])}}});function Za(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-title":a=>{const{normalize:t}=a;return t(["< No Title >"])}}})}typeof Za=="function"&&Za(kn);const pp=D(kn,[["__scopeId","data-v-c2dcaf56"]]),mp=o=>(me("data-v-3ae22b38"),o=o(),ve(),o),vp={class:"quorum"},_p={class:"heading"},fp={class:"amount"},hp={class:"bar"},gp={class:"percentages"},bp=mp(()=>u("div",{class:"zero"},"0%",-1)),yp={class:"quorum"},Sn=I({__name:"VotingQuorum",props:{proposal:{}},setup(o){const{t:e}=O(),a=b(()=>o.proposal.weightReceived),t=b(()=>o.proposal.weightRequired),s=b(()=>a.value/t.value*100);return(i,l)=>{const c=oe;return _(),S("div",vp,[u("div",_p,A(n(e)("quorum")),1),u("div",fp,[h(c,{value:n(a),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),G(" / "),h(c,{value:n(t),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),G(" vePRISMA ")]),u("div",hp,[u("div",{class:"support",style:he({width:`${n(s)}%`})},null,4),u("div",{class:"quorum",style:he({width:`${100-n(s)}%`})},null,4)]),u("div",gp,[bp,u("div",yp,[h(c,{value:Math.min(n(s),100),precision:0,type:"percentage"},null,8,["value"])])])])}}});function Ya(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{quorum:a=>{const{normalize:t}=a;return t(["Quorum"])}}})}typeof Ya=="function"&&Ya(Sn);const wp=D(Sn,[["__scopeId","data-v-3ae22b38"]]),$p=[{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"week",type:"uint256"}],name:"getAccountWeightAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],je=[{inputs:[],name:"MAX_TIME_TO_EXECUTION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"executeProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenLocker",outputs:[{internalType:"contract ITokenLocker",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"weight",type:"uint256"}],name:"voteForProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"accountVoteWeights",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Cp={class:"buttons"},kp={class:"veprisma"},Sp={class:"info"},Lp={class:"kpis"},Tp={class:"description"},Ap={class:"title"},Ln=I({__name:"VotingButtons",props:{proposal:{}},setup(o){const{t:e}=O(),{address:a}=at(),t=F(!1),s=F(!1),i=F(!1),l=F(!1),c=F(0n),p=F(!1),m=b(()=>c.value>0n&&!l.value&&v.value&&!p.value),f=b(()=>m.value?"submit":l.value?"voting":v.value?p.value?"voted":"not-enough-voting-power":"voting-closed"),r=b(()=>Number(c.value)),v=b(()=>Ce(o.proposal)==="active"),g=b(()=>Ce(o.proposal)==="passed"),d=ws();async function w(){await Xt(l,async()=>{if(!a.value)return;const T=await Gt(d,{abi:je,address:Ge,functionName:"voteForProposal",args:[a.value,BigInt(o.proposal.id),c.value]});await jt(d,{hash:T}),t.value=!1})}async function L(){await Xt(s,async()=>{const T=await Gt(d,{abi:je,address:Ge,functionName:"executeProposal",args:[BigInt(o.proposal.id)]});await jt(d,{hash:T}),t.value=!1,i.value=await $()})}async function x(){if(!a.value)return;const T=await dt(d,{abi:je,address:Ge,functionName:"tokenLocker"});p.value=await dt(d,{abi:je,address:Ge,functionName:"accountVoteWeights",args:[a.value,BigInt(o.proposal.id)]}).then(k=>k>0n);const C=Math.floor((o.proposal.start-1691625600)/604800)-1;c.value=await dt(d,{abi:$p,address:T,functionName:"getAccountWeightAt",args:[a.value,BigInt(C)]})}K(t,async T=>{T&&await ll(x)});async function $(){if(!g.value)return!1;const T=await dt(d,{abi:je,address:Ge,functionName:"MAX_TIME_TO_EXECUTION"}),C=o.proposal.executeAfter!==0,k=o.proposal.executeAfter<new Date().getTime()/1e3,z=o.proposal.executeAfter+Number(T)>new Date().getTime()/1e3;return C&&k&&z}return K(a,async()=>{i.value=await $()},{immediate:!0}),(T,C)=>{const k=ot,z=oe,R=Le,B=te,M=Ae;return _(),S(X,null,[u("div",Cp,[h(k,{value:n(e)("vote"),primary:!0,onClick:C[0]||(C[0]=j=>t.value=!0)},null,8,["value"]),n(g)?(_(),P(k,{key:0,value:n(e)(n(s)?"executing":"execute"),primary:!0,disabled:!n(i)||n(s),onClick:L},null,8,["value","disabled"])):V("",!0)]),h(M,{show:n(t),onClose:C[1]||(C[1]=j=>t.value=!1)},{default:y(()=>[h(B,{title:n(e)("vote-with-veprisma"),class:"vote-content"},{default:y(()=>{var j;return[u("div",kp,[u("div",Sp,[u("div",Lp,[h(R,{label:n(e)("voting-power"),"has-value":!0},{default:y(()=>[h(z,{value:n(r),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),G(" vePRISMA ")]),_:1},8,["label"]),h(R,{label:n(e)("block"),value:T.proposal.block,"has-value":!0},null,8,["label","value"])]),u("div",Tp,[u("span",Ap,A(n(e)("description"))+": ",1),u("span",null,A(((j=T.proposal.metadata)==null?void 0:j.description)||""),1)])]),h(k,{class:"submit",value:n(e)(n(f)),primary:!0,disabled:!n(m),web3:!0,onClick:w},null,8,["value","disabled"])])]}),_:1},8,["title"])]),_:1},8,["show"])],64)}}});function Qa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{vote:a=>{const{normalize:t}=a;return t(["Vote"])},"vote-with-veprisma":a=>{const{normalize:t}=a;return t(["Vote with vePRISMA"])},voting:a=>{const{normalize:t}=a;return t(["Voting..."])},"voting-closed":a=>{const{normalize:t}=a;return t(["Voting closed"])},voted:a=>{const{normalize:t}=a;return t(["You've already voted"])},description:a=>{const{normalize:t}=a;return t(["Description"])},"voting-power":a=>{const{normalize:t}=a;return t(["Voting power"])},block:a=>{const{normalize:t}=a;return t(["Block"])},submit:a=>{const{normalize:t}=a;return t(["Submit"])},"not-enough-voting-power":a=>{const{normalize:t}=a;return t(["Not enough vePRISMA voting power"])},execute:a=>{const{normalize:t}=a;return t(["Execute"])},executing:a=>{const{normalize:t}=a;return t(["Executing..."])}}})}typeof Qa=="function"&&Qa(Ln);const Pp=D(Ln,[["__scopeId","data-v-400fdf37"]]),Ip={class:"voting"},Dp=I({__name:"Voting",props:{proposal:{}},setup(o){return(e,a)=>(_(),S("div",Ip,[h(wp,{proposal:e.proposal},null,8,["proposal"]),h(Pp,{proposal:e.proposal},null,8,["proposal"])]))}}),xp=D(Dp,[["__scopeId","data-v-e200fa8f"]]),zp={class:"voters"},qp={class:"address"},Vp=["href"],Mp={class:"amount"},Fp={class:"percentage"},Rp=I({__name:"Voters",props:{proposal:{}},setup(o){const{address:e}=at(),a=b(()=>W.chain(o.proposal.voters).orderBy(l=>l.weight,"desc").value()),t=l=>l==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":l==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":l==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":Y(l,12),s=l=>l/o.proposal.weightReceived*100,i=l=>l===e.value;return(l,c)=>{const p=oe;return _(),S("div",zp,[(_(!0),S(X,null,le(n(a),m=>(_(),S("div",{key:m.voter,class:"vote"},[u("div",qp,[u("a",{target:"_blank",href:`https://etherscan.io/address/${m.voter}`,class:U({you:i(m.voter)})},A(t(m.voter)),11,Vp)]),u("div",Mp,[h(p,{value:m.weight,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",Fp,[h(p,{value:s(m.weight),precision:0,type:"percentage"},null,8,["value"])])]))),128))])}}}),Bp=D(Rp,[["__scopeId","data-v-d17b5124"]]),Up={class:"technicals"},Op={key:0,class:"technical"},Ep={class:"heading"},Kp={class:"description"},Wp=["href"],Np={key:1,class:"technical"},Hp={class:"heading"},Gp={class:"description"},jp=["href"],Zp={key:2,class:"technical"},Yp={class:"heading"},Qp={class:"description"},Jp={class:"technical"},Xp={class:"technical"},em=["innerHTML"],Tn=I({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean}},setup(o){const{t:e}=O(),a=F(!0),t=F(o.proposal.votes>0),s=b(()=>`https://twitter.com/@${o.proposal.metadata.author}`),i=b(()=>W.uniqWith(o.proposal.voters.map(c=>c.voter),(c,p)=>c===p).length),l=b(()=>o.proposal.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,c=>/[A-F]/g.test(c)&&$s(c)?`<a href='https://etherscan.io/address/${c}'>${c}</a>`:c));return(c,p)=>{var f,r,v,g;const m=tt;return _(),S("div",Up,[(f=c.proposal.metadata)!=null&&f.author?(_(),S("div",Op,[u("div",Ep,A(n(e)("author")),1),u("div",Kp,[u("a",{href:n(s),target:"_blank"},A(c.proposal.metadata.author),9,Wp)])])):V("",!0),(r=c.proposal.metadata)!=null&&r.link?(_(),S("div",Np,[u("div",Hp,A(n(e)("link")),1),u("div",Gp,[u("a",{href:c.proposal.metadata.link,target:"_blank"},A(c.proposal.metadata.link),9,jp)])])):V("",!0),(v=c.proposal.metadata)!=null&&v.description?(_(),S("div",Zp,[u("div",Yp,A(n(e)("description")),1),u("div",Qp,A((g=c.proposal.metadata)==null?void 0:g.description),1)])):V("",!0),u("div",Jp,[u("div",{class:"heading",onClick:p[0]||(p[0]=d=>t.value=!n(t))},[G(A(n(e)("voters"))+" ("+A(n(i)??"?")+") ",1),u("i",{class:U(["fas fa-chevron-up expander",{expandedVoters:n(t)}])},null,2)]),h(m,{expanded:n(t)},{default:y(()=>[h(Bp,{class:"voters",proposal:c.proposal},null,8,["proposal"])]),_:1},8,["expanded"])]),u("div",Xp,[u("div",{class:"heading",onClick:p[1]||(p[1]=d=>a.value=!n(a))},[G(A(n(e)("calldata"))+" ",1),u("i",{class:U(["fas fa-chevron-up expander",{expandedCallData:n(a)}])},null,2)]),h(m,{expanded:n(a)},{default:y(()=>[u("div",{class:"calldata",innerHTML:n(l)},null,8,em)]),_:1},8,["expanded"])])])}}});function Ja(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:a=>{const{normalize:t}=a;return t(["Description"])},author:a=>{const{normalize:t}=a;return t(["Author"])},link:a=>{const{normalize:t}=a;return t(["Link"])},calldata:a=>{const{normalize:t}=a;return t(["Calldata"])},voters:a=>{const{normalize:t}=a;return t(["Voters"])}}})}typeof Ja=="function"&&Ja(Tn);const tm=D(Tn,[["__scopeId","data-v-403d6a5e"]]),am={class:"proposal-details"},om={class:"proposal-details-container"},nm=I({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(o){return(e,a)=>(_(),S("div",am,[u("div",om,[h(tm,{proposal:e.proposal,expanded:e.expanded},null,8,["proposal","expanded"]),h(xp,{proposal:e.proposal},null,8,["proposal"])])]))}}),sm=D(nm,[["__scopeId","data-v-4b022378"]]),lm=I({__name:"Proposal",props:{proposal:{}},setup(o){const e=F(!1);return(a,t)=>{const s=tt,i=te;return _(),P(i,{class:"proposal",compact:!0},{default:y(()=>[h(pp,{proposal:a.proposal,expanded:n(e),onToggleExpand:t[0]||(t[0]=l=>e.value=!n(e))},null,8,["proposal","expanded"]),h(s,{class:"proposal-details-collapsible",expanded:n(e)},{default:y(()=>[h(sm,{proposal:a.proposal,expanded:n(e)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),rm=D(lm,[["__scopeId","data-v-25075db1"]]),im={class:"proposals-tab"},cm={class:"filters"},um={style:{display:"flex",gap:"1rem","justify-content":"end"}},dm={key:1},$t=10,An=I({__name:"ProposalsTab",props:{proposals:{}},setup(o){const{t:e}=O(),a=F(""),t=F(e("search-placeholder")),s=b(()=>{const p=a.value.toLocaleLowerCase();return W.chain(o.proposals).filter(m=>!!m.metadata&&m.metadata.title.toLocaleLowerCase().includes(p)).value()}),{page:i,rowsPage:l,onPage:c}=$e(s,$t);return(p,m)=>{const f=_e,r=we;return _(),S("div",im,[u("div",cm,[h(f,{modelValue:n(a),"onUpdate:modelValue":m[0]||(m[0]=v=>ce(a)?a.value=v:null),class:"search",placeholder:n(t),search:!0},null,8,["modelValue","placeholder"]),u("div",um,[n(s).length>0?(_(),P(r,{key:0,class:"pagination","items-count":n(s).length,"items-per-page":$t,page:n(i),onPage:n(c)},null,8,["items-count","page","onPage"])):V("",!0)])]),(_(!0),S(X,null,le(n(l),v=>(_(),P(rm,{key:v.id,proposal:v},null,8,["proposal"]))),128)),n(s).length>0?(_(),P(r,{key:0,class:"pagination","items-count":n(s).length,"items-per-page":$t,page:n(i),onPage:n(c)},null,8,["items-count","page","onPage"])):V("",!0),n(s).length===0?(_(),S("div",dm,A(n(e)("no-proposals")),1)):V("",!0)])}}});function Xa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for Prisma proposals"])},"no-proposals":a=>{const{normalize:t}=a;return t(["No proposals could be found."])}}})}typeof Xa=="function"&&Xa(An);const Ze=D(An,[["__scopeId","data-v-bf17230c"]]),pm="https://api.prismamonitor.com/v1",mm=(o,e)=>{var $,T;const a=o.index,t=o.creator,s=o.creator_label??"",i=o.required_weight,l=o.received_weight,c=o.status,p=o.vote_count,m=o.voters,f=o.transaction_hash,r=o.execution_tx,v=o.can_execute_after,g=o.block_number,d=o.block_timestamp,w=o.execution_timestamp?o.execution_timestamp:d+604800,L=o.decode_data,x=(T=($=e==null?void 0:e.data)==null?void 0:$.proposals.find(C=>C.id===a))==null?void 0:T.metadata;return{id:a,metadata:x,proposer:t,proposerLabel:s,weightRequired:i,weightReceived:l,status:c,votes:p,voters:m,tx:f,txExecuted:r,executeAfter:v,block:g,start:d,end:w,script:L}};class vm extends ye{async getProposals(){let e;try{e=await this.fetch("https://api.prismafinance.com/api/v1/proposalVotes")}catch{Je({text:"Failed to fetch metadata for proposals",type:"error"})}return await qe(s=>this.fetch(`${pm}/dao/ethereum/ownership/proposals?items=100&page=${s}&order_by=block_timestamp&desc=true`).then(i=>i.proposals.map(l=>mm(l,e))),1,100)}}const _m={class:"proposals"},Pn=I({__name:"Proposals.page",setup(o){const{t:e}=O(),a=new vm(H()),t=F(0),{isFetching:s,data:i}=N({queryKey:["prisma-proposals"],queryFn:()=>a.getProposals().then(f=>f.sort((r,v)=>v.start-r.start)),initialData:[],initialDataUpdatedAt:0}),l=b(()=>i.value.filter(f=>Ce(f)==="active")),c=b(()=>i.value.filter(f=>Ce(f)==="passed")),p=b(()=>i.value.filter(f=>Ce(f)==="denied")),m=b(()=>i.value.filter(f=>Ce(f)==="executed"));return(f,r)=>{const v=ut,g=ct,d=xt;return _(),S("div",_m,[n(s)?V("",!0):(_(),P(g,{key:0,onTab:r[0]||(r[0]=w=>t.value=w.index)},{default:y(()=>[h(v,{header:n(e)("all")},{default:y(()=>[n(t)===0?(_(),P(Ze,{key:0,proposals:n(i)},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),h(v,{header:n(e)("active")},{default:y(()=>[n(t)===1?(_(),P(Ze,{key:0,proposals:n(l)},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),h(v,{header:n(e)("passed")},{default:y(()=>[n(t)===2?(_(),P(Ze,{key:0,proposals:n(c)},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),h(v,{header:n(e)("denied")},{default:y(()=>[n(t)===3?(_(),P(Ze,{key:0,proposals:n(p)},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),h(v,{header:n(e)("executed")},{default:y(()=>[n(t)===4?(_(),P(Ze,{key:0,proposals:n(m)},null,8,["proposals"])):V("",!0)]),_:1},8,["header"])]),_:1})),h(d,{class:U(["spinner",{loading:n(s)}])},null,8,["class"])])}}});function eo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:a=>{const{normalize:t}=a;return t(["All"])},active:a=>{const{normalize:t}=a;return t(["Active"])},passed:a=>{const{normalize:t}=a;return t(["Passed"])},denied:a=>{const{normalize:t}=a;return t(["Denied"])},executed:a=>{const{normalize:t}=a;return t(["Executed"])}}})}typeof eo=="function"&&eo(Pn);const fm=D(Pn,[["__scopeId","data-v-b46d741f"]]),hm=I({__name:"ChartLargePositions",props:{data:{default:()=>[]}},setup(o){const{theme:e}=Z(E()),a=b(()=>ne(e.value,{chart:{id:"largePositions",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:l=>{let c=s.value[l.seriesIndex];c=c.length>10?Y(c):c;const p=l.series[l.seriesIndex];return[`<div><b>${c}</b>:</div><div>${i(p)}</div>`].join("")}},labels:o.data.map(l=>l.label.length>10?Y(l.label):l.label)})),t=b(()=>o.data.map(l=>l.value)),s=b(()=>o.data.map(l=>l.label)),i=l=>`$${J(Math.abs(l),1,"dollar")}${Q(l,"dollar")}`;return(l,c)=>{const p=ie;return _(),P(p,{class:"graph",options:n(a),series:n(t)},null,8,["options","series"])}}}),gm=D(hm,[["__scopeId","data-v-81d8187a"]]),bm={class:"actions"},In=I({__name:"ChartLargePositionsSelector",props:{vault:{default:null}},setup(o){const{t:e}=O(),a=E(),t=new Ie(H(),a.flavor),s=F("collateral"),{isFetching:i,data:l}=N({queryKey:["prisma-large-trove-positions",b(()=>{var c;return(c=o.vault)==null?void 0:c.address}),s],queryFn:({queryKey:[,c,p]})=>c?t.getLargeTrovePositions("ethereum",c,p).then(m=>m.positions):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});return(c,p)=>{const m=st,f=te;return _(),P(f,{class:"chart-container",title:n(e)("title"),loading:n(i)},{actions:y(()=>[u("div",bm,[h(m,{value:"Coll.","model-value":n(s)==="collateral",onClick:p[0]||(p[0]=r=>s.value="collateral")},null,8,["model-value"]),h(m,{value:"Debt","model-value":n(s)==="debt",onClick:p[1]||(p[1]=r=>s.value="debt")},null,8,["model-value"])])]),default:y(()=>[h(gm,{data:n(l)},null,8,["data"])]),_:1},8,["title","loading"])}}});function to(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["5 Largest Troves vs Others"])}}})}typeof to=="function"&&to(In);const ym=D(In,[["__scopeId","data-v-67d35a76"]]),wm=I({__name:"ChartDistribution",props:{data:{default:()=>[]}},setup(o){const{theme:e}=Z(E()),a=b(()=>ne(e.value,{chart:{id:"distribution",type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:s.value,labels:{rotate:-45},tickPlacement:"on"},legend:{inverseOrder:!0},stroke:{width:.5},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0}})),t=b(()=>[{name:"# of troves",data:Object.values(o.data).map(i=>i.value)}]),s=b(()=>o.data.map(i=>i.label));return(i,l)=>{const c=ie;return _(),P(c,{class:"graph",options:n(a),series:n(t)},null,8,["options","series"])}}}),$m=D(wm,[["__scopeId","data-v-11181cf0"]]),Cm={class:"actions"},Dn=I({__name:"ChartDistributionSelector",props:{vault:{default:null}},setup(o){const{t:e}=O(),a=E(),t=new Ie(H(),a.flavor),s=F("collateral"),{isFetching:i,data:l}=N({queryKey:["prisma-trove-distributions",b(()=>{var c;return(c=o.vault)==null?void 0:c.address}),s],queryFn:({queryKey:[,c,p]})=>c?t.getTroveDistribution("ethereum",c,p).then(m=>m.distribution):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});return(c,p)=>{const m=st,f=te;return _(),P(f,{class:"chart-container",title:n(e)("title"),loading:n(i)},{actions:y(()=>[u("div",Cm,[h(m,{value:"Coll.","model-value":n(s)==="collateral",onClick:p[0]||(p[0]=r=>s.value="collateral")},null,8,["model-value"]),h(m,{value:"Debt","model-value":n(s)==="debt",onClick:p[1]||(p[1]=r=>s.value="debt")},null,8,["model-value"])])]),default:y(()=>[h($m,{data:n(l)},null,8,["data"])]),_:1},8,["title","loading"])}}});function ao(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Troves Distribution"])}}})}typeof ao=="function"&&ao(Dn);const km=D(Dn,[["__scopeId","data-v-b434fdd3"]]),Sm={class:"kpis"},Lm=I({__name:"VaultKPIs",props:{vault:{default:null}},setup(o){return(e,a)=>{const t=oe,s=Le;return _(),S("div",Sm,[h(s,{label:"TVL","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),P(t,{key:0,value:e.vault.tvl,precision:2,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(s,{label:"Debt / Debt Cap","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),P(t,{key:0,value:e.vault.debt,precision:1,type:"dollar"},null,8,["value"])):V("",!0),G(" / "),e.vault?(_(),P(t,{key:1,value:e.vault.debt_cap,precision:1,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(s,{label:"Collat Ratio / Min Ratio","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),P(t,{key:0,value:e.vault.cr*100,precision:0,type:"percentage"},null,8,["value"])):V("",!0),G(" / "),e.vault?(_(),P(t,{key:1,value:e.vault.mcr*100,precision:0,type:"percentage"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(s,{label:"Interest rate","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),P(t,{key:0,value:e.vault.rate*100,"show-zero":!0,precision:1,type:"percentage"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(s,{label:"Troves open / total","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),P(t,{key:0,value:e.vault.open_troves,"show-zero":!0,precision:0},null,8,["value"])):V("",!0),G(" / "),e.vault?(_(),P(t,{key:1,value:e.vault.open_troves+e.vault.closed_troves,"show-zero":!0,precision:0},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(s,{label:"Liquidations / Redemptions","has-value":!!e.vault},{default:y(()=>[e.vault?(_(),P(t,{key:0,value:e.vault.liq_troves,"show-zero":!0,precision:0},null,8,["value"])):V("",!0),G(" / "),e.vault?(_(),P(t,{key:1,value:e.vault.red_troves,"show-zero":!0,precision:0},null,8,["value"])):V("",!0)]),_:1},8,["has-value"])])}}}),Tm=D(Lm,[["__scopeId","data-v-da6116fe"]]),xn=I({__name:"ChartSingleVaultCollateralRatio",props:{vault:{default:null}},setup(o){const{t:e}=O();let a;const{theme:t,flavor:s}=Z(E()),{chart:i,chartRef:l}=de(t,f,g=>{a=g.addAreaSeries(r())}),c=new Ie(H(),s.value),{isFetching:p,data:m}=N({queryKey:["prisma-vault-collateral-ratio",b(()=>{var g;return(g=o.vault)==null?void 0:g.address})],queryFn:({queryKey:[,g]})=>g?c.getVaultCollateralRatio("ethereum",g,"1m").then(d=>d.ratio):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});K([m,i],v),K(t,()=>a.applyOptions(r()));function f(g){return ue(g,t.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function r(){return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...t.value.lineChartColors}}function v([g,d]){if(!d||!a)return;const w=W.chain(g).map(L=>({time:L.timestamp,value:L.value*100})).uniqWith((L,x)=>L.time===x.time).orderBy(L=>L.time,"asc").value();w.length>0&&a.setData(w),d.timeScale().fitContent()}return(g,d)=>{const w=te;return _(),P(w,{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function oo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Vault collateral ratio"])}}})}typeof oo=="function"&&oo(xn);const Am=D(xn,[["__scopeId","data-v-8eba1186"]]),zn=I({__name:"ChartSingleVaultOpenTroves",props:{vault:{default:null}},setup(o){const{t:e}=O();let a;const{theme:t,flavor:s}=Z(E()),{chart:i,chartRef:l}=de(t,f,g=>{a=g.addAreaSeries(r())}),c=new Ie(H(),s.value),{isFetching:p,data:m}=N({queryKey:["prisma-vault-trove-count",b(()=>{var g;return(g=o.vault)==null?void 0:g.address})],queryFn:({queryKey:[,g]})=>g?c.getVaultTroveCount("ethereum",g,"1m").then(d=>d.count):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0});K([m,i],v),K(t,()=>a.applyOptions(r()));function f(g){return ue(g,t.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function r(){return{priceFormat:{type:"price",precision:0,minMove:.1},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...t.value.lineChartColors}}function v([g,d]){if(!d||!a)return;const w=W.chain(g).map(L=>({time:L.timestamp,value:L.value})).uniqWith((L,x)=>L.time===x.time).orderBy(L=>L.time,"asc").value();w.length>0&&a.setData(w),d.timeScale().fitContent()}return(g,d)=>{const w=te;return _(),P(w,{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[u("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function no(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Number of open troves"])}}})}typeof no=="function"&&no(zn);const Pm=D(zn,[["__scopeId","data-v-d2a4e33e"]]),Im={class:"vault-overview"},Dm=I({__name:"VaultOverview",props:{vault:{}},setup(o){return(e,a)=>(_(),S("div",Im,[h(Tm,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(km,{vault:e.vault},null,8,["vault"]),h(ym,{vault:e.vault},null,8,["vault"]),h(Am,{vault:e.vault},null,8,["vault"]),h(Pm,{vault:e.vault},null,8,["vault"])]))}}),xm=D(Dm,[["__scopeId","data-v-1aa9d288"]]),zm={class:"actions"},qn=I({__name:"ChartCollateralPrices",props:{vault:{default:null}},setup(o){const{t:e}=O();let a,t;const{theme:s,flavor:i}=Z(E()),{items:l}=Nt(()=>[{id:"oracle",label:"Oracle",color:s.value.colorsArray[0]},{id:"market",label:"Market",color:s.value.colorsArray[1]}]),c=new Rt(H(),i.value),p={oracle:[],market:[]},{isFetching:m,data:f}=N({queryKey:["prisma-stable-distribution",b(()=>{var $;return($=o.vault)==null?void 0:$.collateral})],queryFn:async({queryKey:[,$]})=>{if($){const T=await c.getCollateralPrices("ethereum",$,"7d");return r(T.oracle,T.market)}else return Promise.resolve(p)},initialData:p,initialDataUpdatedAt:0}),r=($,T)=>{const C=Math.max($[0].timestamp,T[0].timestamp),k=Math.min($[$.length-1].timestamp,T[T.length-1].timestamp),z=$.filter(B=>B.timestamp>=C&&B.timestamp<=k),R=T.filter(B=>B.timestamp>=C&&B.timestamp<=k);return z[z.length-1].timestamp<k&&z.push({timestamp:k,value:z[z.length-1].value}),R[R.length-1].timestamp<k&&R.push({timestamp:k,value:R[R.length-1].value}),{oracle:z,market:R}},{chart:v,chartRef:g}=de(s,d,$=>{a=$.addAreaSeries(L()),t=$.addAreaSeries(w())});K([f,v],x),K(s,()=>{a.applyOptions(L()),t.applyOptions(w())});function d($){return ue($,s.value,{height:300,leftPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function w(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:pe.WithSteps,lineColor:s.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function L(){return{priceFormat:{type:"price",precision:2,minMove:.001},lineWidth:2,lineType:pe.WithSteps,lastValueVisible:!1,priceLineVisible:!1,...s.value.lineChartColors}}function x([$,T]){if(!T||!a)return;const C=W.chain($==null?void 0:$.oracle).map(z=>({time:z.timestamp,value:z.value})).uniqWith((z,R)=>z.time===R.time).orderBy(z=>z.time,"asc").value(),k=W.chain($==null?void 0:$.market).map(z=>({time:z.timestamp,value:z.value})).uniqWith((z,R)=>z.time===R.time).orderBy(z=>z.time,"asc").value();k.length>0&&t.setData(k),C.length>0&&a.setData(C),T.timeScale().fitContent()}return($,T)=>{const C=Wt,k=te;return _(),P(k,{class:"chart-container",title:n(e)("title"),loading:n(m)},{actions:y(()=>[u("div",zm,[h(C,{items:n(l)},null,8,["items"])])]),default:y(()=>[u("div",{ref_key:"chartRef",ref:g,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function so(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Oracle & Market price"])}}})}typeof so=="function"&&so(qn);const qm=D(qn,[["__scopeId","data-v-ca5752a8"]]),Vn=I({__name:"ChartCollateralPriceImpact",props:{vault:{default:null}},setup(o){const{t:e}=O(),{theme:a,flavor:t}=Z(E()),s=new Rt(H(),t.value),{isFetching:i,data:l}=N({queryKey:["prisma-collateral-price-impact",b(()=>{var v;return(v=o.vault)==null?void 0:v.collateral})],queryFn:({queryKey:[,v]})=>v?s.getCollateralPriceImpact("ethereum",v).then(g=>g.impact):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),c=b(()=>ne(a.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!1}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},toolbar:{show:!1},xaxis:{categories:m.value,labels:{formatter:v=>f(v)}},yaxis:{seriesName:"impact",labels:{formatter:v=>r(v)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:v=>{if(!o.vault)return"";const g=m.value[v.dataPointIndex],d=f(g*o.vault.price);return`
          <div><b>Collateral sold:</b>:</div>
          <div>${f(g)} ${o.vault.name} ($${d})</div>

          <div><b>Price impact:</b>:</div>
          <div>${r(v.series[0][v.dataPointIndex])}</div>
          `}}})),p=b(()=>[{name:e("priceImpact"),data:Object.values(l.value).map(v=>v.impact)}]),m=b(()=>l.value.map(v=>o.vault?v.amount/o.vault.price:0)),f=v=>`${J(Math.abs(v),1,"dollar")}${Q(v,"dollar")}`,r=v=>`${J(v,2,"percentage")}${Q(v,"percentage")}`;return(v,g)=>{const d=ie;return _(),P(d,{class:"chart",title:n(e)("title"),loading:n(i),options:n(c),series:n(p)},null,8,["title","loading","options","series"])}}});function lo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["On-chain Selling Price Impact"])},priceImpact:a=>{const{normalize:t}=a;return t(["Price impact"])}}})}typeof lo=="function"&&lo(Vn);const Vm=D(Vn,[["__scopeId","data-v-3b221034"]]),Mm={class:"kpis"},Fm=["href"],Rm=I({__name:"CollateralKPIs",props:{vault:{default:null}},setup(o){const e=E(),a=new Rt(H(),e.flavor),{data:t}=N({queryKey:["prisma-collateral-info",b(()=>{var s;return(s=o.vault)==null?void 0:s.address})],queryFn:({queryKey:[,s]})=>s?a.getCollateralInfo("ethereum",s).then(i=>i.info):Promise.resolve(null),initialData:null,initialDataUpdatedAt:0});return(s,i)=>{const l=oe,c=Le;return _(),S("div",Mm,[h(c,{label:"Oracle price","has-value":!!n(t)},{default:y(()=>[n(t)?(_(),P(l,{key:0,value:n(t).price,precision:2,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(c,{label:"Total supply","has-value":!!n(t)},{default:y(()=>[n(t)?(_(),P(l,{key:0,value:n(t).supply,precision:2,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(c,{label:"TVL","has-value":!!n(t)},{default:y(()=>[n(t)?(_(),P(l,{key:0,value:n(t).tvl,precision:1,type:"dollar"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(c,{label:"Share of the collateral market","has-value":!!n(t)},{default:y(()=>[n(t)?(_(),P(l,{key:0,value:n(t).share,precision:1,type:"percentage"},null,8,["value"])):V("",!0)]),_:1},8,["has-value"]),h(c,{label:"Full risk analysis by Prisma Risk team","has-value":!!n(t)},{default:y(()=>[n(t)?(_(),S("a",{key:0,href:n(t).risk}," Risk Report ",8,Fm)):V("",!0)]),_:1},8,["has-value"])])}}}),Bm=D(Rm,[["__scopeId","data-v-83e8991b"]]),Um={class:"collateral"},Om=I({__name:"Collateral",props:{vault:{}},setup(o){return(e,a)=>(_(),S("div",Um,[h(Bm,{style:{"grid-column":"1 / -1"},vault:e.vault},null,8,["vault"]),h(qm,{vault:e.vault},null,8,["vault"]),h(Vm,{vault:e.vault},null,8,["vault"])]))}}),Em=D(Om,[["__scopeId","data-v-f2eb56c3"]]),Km={class:"title"},Wm={style:{display:"flex",gap:"1rem"}},Nm=["href"],Hm=["href"],Gm={class:"number"},jm={class:"number"},Zm={class:"number"},ro=15,Mn=I({__name:"TableLiquidations",props:{vault:{default:null}},setup(o){const{t:e}=O(),a=E(),t=new Bt(H(),a.flavor),{isFetching:s,data:i}=N({queryKey:["prisma-vault-liquidations",b(()=>{var $;return($=o.vault)==null?void 0:$.address})],queryFn:({queryKey:[,$]})=>$?t.getLiquidations("ethereum",$):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=ke(),c=F(""),p=F(null),{sortColumns:m,sortColumn:f,sortOrder:r,onSort:v}=Te(["liquidator","tx","debt","numtroves","timestamp"],"timestamp"),g=b(()=>["Liquidator","Transaction","Debt","# Troves","Time"]),d=b(()=>W.chain(i.value).filter($=>{const T=c.value.toLocaleLowerCase().split(" ");return(k=>T.some(z=>k.toLocaleLowerCase().includes(z)))($.liquidator)}).orderBy($=>{switch(f.value){case"liquidator":return $.liquidator;case"tx":return $.transaction;case"debt":return $.liquidated_collateral_usd;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},r.value).value()),{page:w,rowsPage:L,onPage:x}=$e(d,ro);return($,T)=>{const C=_e,k=we,z=oe,R=re,B=Ae;return _(),S(X,null,[h(R,{class:"datatable-liquidations","columns-header":"1fr 2fr","columns-data":"liquidations-columns-data",loading:n(s),rows:n(L),columns:n(g),sorting:!0,"sorting-columns":n(m),"sorting-columns-enabled":n(m),"sorting-default-column":"timestamp","sorting-default-dir":"desc",onSortColumn:n(v),onSelected:T[3]||(T[3]=M=>p.value=M)},{"header-content":y(()=>[u("div",Km,A(n(e)("title")),1),u("div",Wm,[h(C,{modelValue:n(c),"onUpdate:modelValue":T[0]||(T[0]=M=>ce(c)?c.value=M:null),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"]),h(k,{class:"pagination","items-count":n(d).length,"items-per-page":ro,page:n(w),onPage:n(x)},null,8,["items-count","page","onPage"])])]),row:y(M=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${M.item.liquidator}`,target:"_blank",onClick:T[1]||(T[1]=ae(()=>{},["stop"]))},A(n(Y)(M.item.liquidator)),9,Nm)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${M.item.transaction}`,target:"_blank",onClick:T[2]||(T[2]=ae(()=>{},["stop"]))},A(n(Y)(M.item.transaction)),9,Hm)]),u("div",Gm,[h(z,{type:"dollar",value:Math.round(M.item.liquidated_debt),precision:1/0},null,8,["value"])]),u("div",jm,A(M.item.troves_affected_count),1),u("div",Zm,A(n(l)(M.item.timestamp)),1)]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(B,{show:!!n(p),onClose:T[4]||(T[4]=M=>p.value=null)},{default:y(()=>{var M;return[n(p)?(_(),P(Kt,{key:0,liquidation:n(p),"vault-addr":((M=$.vault)==null?void 0:M.address)??""},null,8,["liquidation","vault-addr"])):V("",!0)]}),_:1},8,["show"])],64)}}});function io(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidations"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof io=="function"&&io(Mn);const Ym=D(Mn,[["__scopeId","data-v-770b6a25"]]),Qm={class:"liquidations"},Jm=I({__name:"Liquidations",props:{vault:{}},setup(o){return(e,a)=>(_(),S("div",Qm,[h(Ym,{vault:e.vault},null,8,["vault"])]))}}),Xm=D(Jm,[["__scopeId","data-v-d6030225"]]),ev={class:"title"},tv={style:{display:"flex",gap:"1rem"}},av=["href"],ov=["href"],nv={class:"number"},sv={class:"number"},lv={class:"number"},co=15,Fn=I({__name:"TableRedemptions",props:{vault:{default:null}},setup(o){const{t:e}=O(),a=E(),t=new Ut(H(),a.flavor),{isFetching:s,data:i}=N({queryKey:["prisma-vault-redemptions",b(()=>{var $;return($=o.vault)==null?void 0:$.address})],queryFn:({queryKey:[,$]})=>$?t.getRedemptions("ethereum",$):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=ke(),c=F(""),p=F(null),{sortColumns:m,sortColumn:f,sortOrder:r,onSort:v}=Te(["redeemer","tx","debt","numtroves","timestamp"],"timestamp"),g=b(()=>["Redeemer","Transaction","Debt","# Troves","Time"]),d=b(()=>W.chain(i.value).filter($=>{const T=c.value.toLocaleLowerCase().split(" ");return(k=>T.some(z=>k.toLocaleLowerCase().includes(z)))($.redeemer)}).orderBy($=>{switch(f.value){case"redeemer":return $.redeemer;case"tx":return $.transaction;case"debt":return $.actual_debt_amount;case"numtroves":return $.troves_affected_count;case"timestamp":return $.timestamp;default:return $.timestamp}},r.value).value()),{page:w,rowsPage:L,onPage:x}=$e(d,co);return($,T)=>{const C=_e,k=we,z=oe,R=re,B=Ae;return _(),S(X,null,[h(R,{class:"datatable-redemptions","columns-header":"1fr 2fr","columns-data":"redemptions-columns-data",loading:n(s),rows:n(L),columns:n(g),sorting:!0,"sorting-columns":n(m),"sorting-columns-enabled":n(m),"sorting-default-column":"timestamp","sorting-default-dir":"desc",onSortColumn:n(v),onSelected:T[3]||(T[3]=M=>p.value=M)},{"header-content":y(()=>[u("div",ev,A(n(e)("title")),1),u("div",tv,[h(C,{modelValue:n(c),"onUpdate:modelValue":T[0]||(T[0]=M=>ce(c)?c.value=M:null),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"]),h(k,{class:"pagination","items-count":n(d).length,"items-per-page":co,page:n(w),onPage:n(x)},null,8,["items-count","page","onPage"])])]),row:y(M=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${M.item.redeemer}`,target:"_blank",onClick:T[1]||(T[1]=ae(()=>{},["stop"]))},A(n(Y)(M.item.redeemer)),9,av)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${M.item.transaction}`,target:"_blank",onClick:T[2]||(T[2]=ae(()=>{},["stop"]))},A(n(Y)(M.item.transaction)),9,ov)]),u("div",nv,[h(z,{type:"dollar",value:Math.round(M.item.actual_debt_amount),precision:1/0},null,8,["value"])]),u("div",sv,A(M.item.troves_affected_count),1),u("div",lv,A(n(l)(M.item.timestamp)),1)]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(B,{show:!!n(p),onClose:T[4]||(T[4]=M=>p.value=null)},{default:y(()=>{var M;return[n(p)?(_(),P(Et,{key:0,redemption:n(p),"vault-addr":((M=$.vault)==null?void 0:M.address)??""},null,8,["redemption","vault-addr"])):V("",!0)]}),_:1},8,["show"])],64)}}});function uo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Redemptions"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof uo=="function"&&uo(Fn);const rv=D(Fn,[["__scopeId","data-v-f5414e4f"]]),iv={class:"redemptions"},cv=I({__name:"Redemptions",props:{vault:{}},setup(o){return(e,a)=>(_(),S("div",iv,[h(rv,{vault:e.vault},null,8,["vault"])]))}}),uv=D(cv,[["__scopeId","data-v-8f90841b"]]),dv={style:{display:"flex",gap:"1rem"}},pv=["href"],mv={class:"number"},vv={class:"number"},po=15,Rn=I({__name:"TableTroves",props:{vault:{default:null}},setup(o){const{t:e}=O(),a=E(),t=new We(H(),a.flavor),{isFetching:s,data:i}=N({queryKey:["prisma-vault-troves",b(()=>{var C;return(C=o.vault)==null?void 0:C.address})],queryFn:({queryKey:[,C]})=>C?t.getTroves("ethereum",C):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=ke(),c=F(""),p=F("Open"),{sortColumns:m,sortColumn:f,sortOrder:r,onSort:v}=Te(["owner","debt","coll","ratio","created","updated"],"updated"),g=b(()=>p.value==="Open"?["Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["Owner","","","","Created At","Last Updated"]),d=b(()=>p.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),w=b(()=>W.chain(i.value).filter(C=>p.value===C.status).filter(C=>{const k=c.value.toLocaleLowerCase().split(" ");return(R=>k.some(B=>R.toLocaleLowerCase().includes(B)))(C.owner)}).orderBy(C=>{switch(f.value){case"owner":return C.owner;case"debt":return C.debt;case"coll":return C.collateral_usd;case"ratio":return C.collateral_ratio;case"created":return C.created_at;case"updated":return C.last_update;default:return C.last_update}},r.value).value()),{page:L,rowsPage:x,onPage:$}=$e(w,po),T=C=>{C===0?p.value="Open":C===1?p.value="Closed":p.value="Open"};return(C,k)=>{const z=ut,R=ct,B=_e,M=we,j=oe,q=re;return _(),P(q,{class:"datatable-troves","columns-header":"1fr 2fr","columns-data":"troves-columns-data",loading:n(s),rows:n(x),columns:n(g),sorting:!0,"sorting-columns":n(m),"sorting-columns-enabled":n(d),"sorting-default-column":"updated","sorting-default-dir":"desc",onSortColumn:n(v)},{"header-content":y(()=>[h(R,{class:"types",onTab:k[0]||(k[0]=se=>T(se.index))},{default:y(()=>[h(z,{header:"Open"}),h(z,{header:"Closed"})]),_:1}),u("div",dv,[h(B,{modelValue:n(c),"onUpdate:modelValue":k[1]||(k[1]=se=>ce(c)?c.value=se:null),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"]),h(M,{class:"pagination","items-count":n(w).length,"items-per-page":po,page:n(L),onPage:n($)},null,8,["items-count","page","onPage"])])]),row:y(se=>[u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${se.item.owner}`,target:"_blank",onClick:k[2]||(k[2]=ae(()=>{},["stop"]))},A(n(Y)(se.item.owner)),9,pv)]),u("div",{class:U(["number",{hide:n(p)==="Closed"}])},[h(j,{type:"dollar",value:Math.round(se.item.debt),precision:1/0},null,8,["value"])],2),u("div",{class:U(["number",{hide:n(p)==="Closed"}])},[h(j,{type:"dollar",value:Math.round(se.item.collateral_usd),precision:1/0},null,8,["value"])],2),u("div",{class:U(["number",{hide:n(p)==="Closed"}])},[h(j,{value:se.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",mv,A(n(l)(se.item.created_at)),1),u("div",vv,A(n(l)(se.item.last_update)),1)]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"])}}});function mo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof mo=="function"&&mo(Rn);const _v=D(Rn,[["__scopeId","data-v-6d30e635"]]),fv={class:"troves"},hv=I({__name:"Troves",props:{vault:{}},setup(o){const e=bt(),a=et(),t=async s=>{e.trove=s,o.vault&&await a.push({name:"prismatrove",params:{troveAddr:s.owner,vaultAddr:o.vault.address}})};return(s,i)=>(_(),S("div",fv,[h(_v,{vault:s.vault,onSelected:t},null,8,["vault"])]))}}),gv=D(hv,[["__scopeId","data-v-5138a005"]]),bv={class:"vault-manager"},yv=I({__name:"VaultManager.page",setup(o){const e=E(),a=gt(),t=bt(),s=Se().getSocket(Ee(e.flavor)),i=new Ne(s,"ethereum"),l=ge(i.overview$,[]),c=Qe("vaultAddr"),p=b(()=>t.vault);be(()=>{var v,g;const r=ze((v=p.value)==null?void 0:v.address)??((g=p.value)==null?void 0:g.name)??"?";a.show=!0,a.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${r}`}]}),K(l,r=>{const v=r.find(g=>g.address===c.value);v&&(t.vault=v)}),K(p,r=>{const v=ze(r==null?void 0:r.address)??(r==null?void 0:r.name)??"?";a.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${v}`}]});const{tabActive:m,tabActiveIndex:f}=hn(["overview","collateral","trove","liquidations","redemptions"],"prismavault",()=>({vaultAddr:c.value}));return(r,v)=>{const g=ut,d=ct;return _(),S("div",bv,[h(d,{active:n(f),onTab:v[0]||(v[0]=w=>f.value=w.index)},{default:y(()=>[h(g,{header:"Overview"},{default:y(()=>[(_(),P(He,null,[n(m)==="overview"?(_(),P(xm,{key:0,vault:n(p)},null,8,["vault"])):V("",!0)],1024))]),_:1}),h(g,{header:"Collateral"},{default:y(()=>[(_(),P(He,null,[n(m)==="collateral"&&n(p)?(_(),P(Em,{key:0,vault:n(p)},null,8,["vault"])):V("",!0)],1024))]),_:1}),h(g,{header:"Troves"},{default:y(()=>[(_(),P(He,null,[n(m)==="trove"&&n(p)?(_(),P(gv,{key:0,vault:n(p)},null,8,["vault"])):V("",!0)],1024))]),_:1}),h(g,{header:"Liquidations"},{default:y(()=>[(_(),P(He,null,[n(m)==="liquidations"&&n(p)?(_(),P(Xm,{key:0,vault:n(p)},null,8,["vault"])):V("",!0)],1024))]),_:1}),h(g,{header:"Redemptions"},{default:y(()=>[(_(),P(He,null,[n(m)==="redemptions"&&n(p)?(_(),P(uv,{key:0,vault:n(p)},null,8,["vault"])):V("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),wv=D(yv,[["__scopeId","data-v-aa795be3"]]),$v=o=>(me("data-v-1adaf732"),o=o(),ve(),o),Cv=$v(()=>u("div",null,[G(" This chart displays that amount of collateral available below different collateral ratios. "),u("br"),G(" It also displays the position of the trove relative to other troves in this vault. "),u("br"),u("br"),G(" This information is useful to estimate a trove's risk of redemption. "),u("br"),G(" Even if the trove's collateral ratio is high in the absolute, a lower ratio relative "),u("br"),G(" to other troves means a higher risk of redemption."),u("br"),u("br"),G(` As such, the lower the "risk rank" displayed, the higher the trove's risk of being redeemed. `)],-1)),Bn=I({__name:"ChartTroveRank",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=O(),{theme:a,flavor:t}=Z(E()),s=new We(H(),t.value),i=F("Trove Relative Position"),l={rank:null,total_positions:0,ratio:null,positions:[]},{isFetching:c,data:p}=N({queryKey:["prisma-trove-rank",b(()=>{var d;return(d=o.vault)==null?void 0:d.address}),b(()=>{var d;return(d=o.trove)==null?void 0:d.owner})],queryFn:async({queryKey:[,d,w]})=>d&&w?await s.getTroveRank("ethereum",d,w):Promise.resolve(l),initialData:l,initialDataUpdatedAt:0}),m=b(()=>{var L,x;const{colors:d}=a.value,w={x:((L=p.value)==null?void 0:L.ratio)??0,borderColor:d.yellow,strokeDashArray:2,label:{borderColor:d.yellow,style:{background:d.yellow,color:"rgb(34, 34, 34)"},position:"top",offsetX:15,text:`This trove: ${g(((x=p.value)==null?void 0:x.ratio)??0,1)}`}};return ne(a.value,{chart:{type:"area",animations:{enabled:!1},toolbar:{show:!0}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.7,opacityTo:0,stops:[0,90,100]}},annotations:{xaxis:p.value.ratio?[w]:[]},toolbar:{show:!1},xaxis:{type:"numeric",categories:r.value,labels:{formatter:$=>g($)}},yaxis:{seriesName:"impact",labels:{formatter:$=>v($)}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:$=>{if(!o.vault)return"";const T=r.value[$.dataPointIndex];return`
          <div><b>Collateral ratio:</b>:</div>
          <div>${$.dataPointIndex===r.value.length-1?"Over 250%":g(T)}</div>

          <div><b>Troves with lower or equal ratio:</b>:</div>
          <div>${p.value.positions[$.dataPointIndex].trove_count}</div>

          <div><b>Collateral value at lower or equal ratio:</b>:</div>
          <div>$${v($.series[0][$.dataPointIndex])}</div>
          `}}})}),f=b(()=>[{name:e("rank"),data:Object.values(p.value.positions).map(d=>d.collateral_usd)}]),r=b(()=>p.value.positions.map(d=>d.ratio)),v=d=>`${J(Math.abs(d),1,"dollar")}${Q(d,"dollar")}`,g=(d,w=0)=>`${J(d,w,"percentage")}${Q(d,"percentage")}`;return K(p,d=>{d&&typeof d.rank=="number"&&(i.value=e("title",{rank:d.rank,total_positions:d.total_positions}))},{immediate:!0}),(d,w)=>{const L=nt,x=Ft,$=te;return _(),P($,{class:"chart-container",title:n(i),loading:n(c)},{actions:y(()=>[h(L,null,{default:y(()=>[Cv]),_:1})]),default:y(()=>[h(x,{class:"chart",options:n(m),series:n(f)},null,8,["options","series"])]),_:1},8,["title","loading"])}}});function vo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t,interpolate:s,named:i}=a;return t(["Trove Relative Position (Risk rank: ",s(i("rank"))," / ",s(i("total_positions")),")"])}}})}typeof vo=="function"&&vo(Bn);const kv=D(Bn,[["__scopeId","data-v-1adaf732"]]),Un=I({__name:"ChartTroveHealth",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=O(),{theme:a,flavor:t}=Z(E()),s=new We(H(),t.value),{isFetching:i,data:l}=N({queryKey:["prisma-trove-snapshots",b(()=>{var r;return(r=o.vault)==null?void 0:r.address}),b(()=>{var r;return(r=o.trove)==null?void 0:r.owner})],queryFn:({queryKey:[,r,v]})=>r&&v?s.getTroveSnapshots("ethereum",r,v).then(g=>g.snapshots):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),c=b(()=>ne(a.value,{chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"collateralUsd",tickAmount:4,opposite:!0,labels:{formatter:r=>m(r)},min:0,max:Math.max(...l.value.map(r=>r.collateral_usd))},{seriesName:"ratio",tickAmount:4,labels:{formatter:r=>f(r)},min:0,max:Math.max(...l.value.map(r=>r.cr??0))}],dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:r=>{const v=r.w.globals.initialSeries[0].data[r.dataPointIndex].y,g=r.w.globals.initialSeries[1].data[r.dataPointIndex]?r.w.globals.initialSeries[1].data[r.dataPointIndex].y:0;return[`<div><b>${e("ratio")}</b>:</div><div>${f(g)}</div>`,`<div><b>${e("collateralUsd")}</b>:</div><div>${m(v)}</div>`].join("")}}})),p=b(()=>[{name:e("collateralUsd"),type:"line",data:l.value.map(r=>({x:r.timestamp*1e3,y:r.collateral_usd}))},{name:e("ratio"),type:"line",data:l.value.map(r=>({x:r.timestamp*1e3,y:r.cr??0}))}]),m=r=>`$${J(r,1,"dollar")}${Q(r,"dollar")}`,f=r=>`${xe(r*100,2)}%`;return(r,v)=>{const g=ie;return _(),P(g,{class:"health",title:n(e)("title"),options:n(c),series:n(p),loading:n(i)},null,8,["title","options","series","loading"])}}});function _o(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Health"])},collateralUsd:a=>{const{normalize:t}=a;return t(["Collateral ($)"])},ratio:a=>{const{normalize:t}=a;return t(["Ratio"])}}})}typeof _o=="function"&&_o(Un);const Sv=D(Un,[["__scopeId","data-v-55059620"]]),Lv={class:"title"},Tv={class:"number"},Av={class:"number"},Pv={class:"number"},Iv={class:"number"},Dv={class:"number"},xv=["href"],zv={class:"number"},On=I({__name:"TableTroveOps",props:{vault:{default:null},trove:{default:null}},setup(o){const{t:e}=O(),a=E(),t=new We(H(),a.flavor),{relativeTime:s}=ke(),i=b(()=>W.orderBy(c.value,m=>m.timestamp,"desc")),{isFetching:l,data:c}=N({queryKey:["prisma-trove-snapshots",b(()=>{var m;return(m=o.vault)==null?void 0:m.address}),b(()=>{var m;return(m=o.trove)==null?void 0:m.owner})],queryFn:({queryKey:[,m,f]})=>m&&f?t.getTroveSnapshots("ethereum",m,f).then(r=>r.snapshots):Promise.resolve([]),initialData:[],initialDataUpdatedAt:0}),p=m=>m.replace(/^_*(.)|_+(.)/g,(f,r,v)=>r?r.toUpperCase():" "+v.toUpperCase());return(m,f)=>{const r=oe,v=re;return _(),P(v,{class:"datatable-trove-ops","columns-header":"1fr 1fr auto","columns-data":"trove-ops-columns-data",loading:n(l),rows:n(i),columns:["Operation","Collateral","Debt","Ratio","Stake","Tx","Time"]},{"header-content":y(()=>[u("div",Lv,A(n(e)("title")),1)]),row:y(g=>[u("div",null,A(p(g.item.operation)),1),u("div",Tv,[g.item.collateral?(_(),P(r,{key:0,value:g.item.collateral,precision:3,"show-symbol":!1,type:"dollar"},null,8,["value"])):V("",!0)]),u("div",Av,[h(r,{type:"dollar",value:Math.round(g.item.debt),precision:1/0},null,8,["value"])]),u("div",Pv,[g.item.cr?(_(),P(r,{key:0,value:g.item.cr*100,precision:2,type:"percentage"},null,8,["value"])):V("",!0)]),u("div",Iv,[g.item.stake?(_(),P(r,{key:0,value:g.item.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])):V("",!0)]),u("div",Dv,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${g.item.hash}`,target:"_blank",onClick:f[0]||(f[0]=ae(()=>{},["stop"]))},A(n(Y)(g.item.hash)),9,xv)]),u("div",zv,A(n(s)(g.item.timestamp)),1)]),_:1},8,["loading","rows"])}}});function fo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Operations"])}}})}typeof fo=="function"&&fo(On);const qv=D(On,[["__scopeId","data-v-85d1638b"]]),Vv={class:"trove"},Mv=I({__name:"Trove.page",setup(o){const e=E(),a=gt(),t=bt(),s=new We(H(),e.flavor),i=Se().getSocket(Ee(e.flavor)),l=new Ne(i,"ethereum"),c=ge(l.overview$,[]),p=Qe("vaultAddr"),m=Qe("troveAddr"),f=b(()=>t.vault),r=b(()=>t.trove);return be(async()=>{var d,w,L;const v=await s.getTroveDetail("ethereum",p.value,m.value);v&&(t.trove=v);const g=ze((d=f.value)==null?void 0:d.address)??((w=f.value)==null?void 0:w.name)??"?";a.show=!0,a.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${g}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((L=r.value)==null?void 0:L.owner)??"?"}`}]}),K(c,v=>{const g=v.find(d=>d.address===p.value);g&&(t.vault=g)}),K(f,v=>{var d;const g=ze(v==null?void 0:v.address)??(v==null?void 0:v.name)??"?";a.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${g}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${((d=r.value)==null?void 0:d.owner)??"?"}`}]}),K(r,v=>{var d,w;const g=ze((d=f.value)==null?void 0:d.address)??((w=f.value)==null?void 0:w.name)??"?";a.crumbs=[{id:"vaults",label:"Vaults",pathName:"vaults"},{id:"vault",label:`Vault: ${g}`,pathName:"prismavault"},{id:"trove",label:`Trove: ${(v==null?void 0:v.owner)??"?"}`}]}),(v,g)=>(_(),S("div",Vv,[h(kv,{class:"graph-rank",vault:n(f),trove:n(r)},null,8,["vault","trove"]),h(Sv,{class:"graph-health",vault:n(f),trove:n(r)},null,8,["vault","trove"]),h(qv,{class:"table-ops",vault:n(f),trove:n(r)},null,8,["vault","trove"])]))}}),Fv=D(Mv,[["__scopeId","data-v-4369d6d5"]]),Rv={class:"title"},Bv={style:{display:"flex",gap:"1rem"}},Uv=["src"],Ov=["href"],Ev=["href"],Kv={class:"number"},Wv={class:"number"},Nv={class:"number"},ho=15,En=I({__name:"TableRedemptions",props:{troves:{default:()=>[]}},setup(o){const e=E(),a=new Ut(H(),e.flavor),{t}=O(),{isFetching:s,data:i}=N({queryKey:["prisma-redemptions",b(()=>o.troves)],queryFn:({queryKey:[,C]})=>Promise.all(W.chain(C).uniq().map(k=>a.getRedemptionsForTrove("ethereum",k)).value()).then(k=>k.flat()),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=ke(),c=F(""),p=F("all"),m=F(null),{sortColumns:f,sortColumn:r,sortOrder:v,onSort:g}=Te(["icon","redeemer","tx","debt","numtroves","timestamp"],"timestamp"),d=b(()=>["","Redeemer","Transaction","Debt","# Troves","Time"]),w=b(()=>["redeemer","tx","debt","numtroves","timestamp"]),L=b(()=>W.chain(i.value).filter(C=>{const k=c.value.toLocaleLowerCase().split(" "),z=B=>k.some(M=>B.toLocaleLowerCase().includes(M)),R=p.value==="all"?!0:C.vault===p.value;return z(C.redeemer)&&R}).orderBy(C=>{switch(r.value){case"redeemer":return C.redeemer;case"tx":return C.transaction;case"debt":return C.actual_debt_amount;case"numtroves":return C.troves_affected_count;case"timestamp":return C.timestamp;default:return C.timestamp}},v.value).value()),{page:x,rowsPage:$,onPage:T}=$e(L,ho);return(C,k)=>{const z=_e,R=we,B=oe,M=re,j=Ae;return _(),S(X,null,[h(M,{class:"datatable-redemptions","columns-header":"1fr 14rem 2fr","columns-data":"redemptions-columns-data",loading:n(s)||C.troves.length===0,rows:n($),columns:n(d),sorting:!0,"sorting-columns":n(f),"sorting-columns-enabled":n(w),"sorting-default-column":"timestamp","sorting-default-dir":"desc",onSortColumn:n(g),onSelected:k[4]||(k[4]=q=>m.value=q)},{"header-content":y(()=>[u("div",Rv,A(n(t)("title")),1),h(yt,{class:"select-vault",vault:n(p),all:!0,onSelectVault:k[0]||(k[0]=q=>p.value=q)},null,8,["vault"]),u("div",Bv,[h(z,{modelValue:n(c),"onUpdate:modelValue":k[1]||(k[1]=q=>ce(c)?c.value=q:null),class:"search",search:!0,placeholder:n(t)("search-placeholder")},null,8,["modelValue","placeholder"]),h(R,{class:"pagination","items-count":n(L).length,"items-per-page":ho,page:n(x),onPage:n(T)},null,8,["items-count","page","onPage"])])]),row:y(q=>[u("img",{src:n(Ve)(q.item.vault)},null,8,Uv),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${q.item.redeemer}`,target:"_blank",onClick:k[2]||(k[2]=ae(()=>{},["stop"]))},A(n(Y)(q.item.redeemer)),9,Ov)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${q.item.transaction}`,target:"_blank",onClick:k[3]||(k[3]=ae(()=>{},["stop"]))},A(n(Y)(q.item.transaction)),9,Ev)]),u("div",Kv,[h(B,{type:"dollar",value:Math.round(q.item.actual_debt_amount),precision:1/0},null,8,["value"])]),u("div",Wv,A(q.item.troves_affected_count),1),u("div",Nv,A(n(l)(q.item.timestamp)),1)]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(j,{show:!!n(m),onClose:k[5]||(k[5]=q=>m.value=null)},{default:y(()=>[n(m)?(_(),P(Et,{key:0,redemption:n(m),"vault-addr":n(m).vault},null,8,["redemption","vault-addr"])):V("",!0)]),_:1},8,["show"])],64)}}});function go(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Redemptions"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof go=="function"&&go(En);const Hv=D(En,[["__scopeId","data-v-832ce6b0"]]),Gv={class:"title"},jv={style:{display:"flex",gap:"1rem"}},Zv=["src"],Yv=["href"],Qv=["href"],Jv={class:"number"},Xv={class:"number"},e_={class:"number"},bo=15,Kn=I({__name:"TableLiquidations",props:{troves:{default:()=>[]}},setup(o){const e=E(),a=new Bt(H(),e.flavor),{t}=O(),{isFetching:s,data:i}=N({queryKey:["prisma-liquidations-troves",b(()=>o.troves)],queryFn:({queryKey:[,C]})=>Promise.all(W.chain(C).uniq().map(k=>a.getLiquidationsForTrove("ethereum",k)).value()).then(k=>k.flat()),initialData:[],initialDataUpdatedAt:0}),{relativeTime:l}=ke(),c=F(""),p=F("all"),m=F(null),{sortColumns:f,sortColumn:r,sortOrder:v,onSort:g}=Te(["icon","liquidator","tx","debt","numtroves","timestamp"],"timestamp"),d=b(()=>["","Liquidator","Transaction","Debt","# Troves","Time"]),w=b(()=>["liquidator","tx","debt","numtroves","timestamp"]),L=b(()=>W.chain(i.value).filter(C=>{const k=c.value.toLocaleLowerCase().split(" "),z=B=>k.some(M=>B.toLocaleLowerCase().includes(M)),R=p.value==="all"?!0:C.vault===p.value;return z(C.liquidator)&&R}).orderBy(C=>{switch(r.value){case"liquidator":return C.liquidator;case"tx":return C.transaction;case"debt":return C.liquidated_collateral_usd;case"numtroves":return C.troves_affected_count;case"timestamp":return C.timestamp;default:return C.timestamp}},v.value).value()),{page:x,rowsPage:$,onPage:T}=$e(L,bo);return(C,k)=>{const z=_e,R=we,B=oe,M=re,j=Ae;return _(),S(X,null,[h(M,{class:"datatable-liquidations","columns-header":"1fr 14rem 2fr","columns-data":"liquidations-columns-data",loading:n(s)||C.troves.length===0,rows:n($),columns:n(d),sorting:!0,"sorting-columns":n(f),"sorting-columns-enabled":n(w),"sorting-default-column":"timestamp","sorting-default-dir":"desc",onSortColumn:n(g),onSelected:k[4]||(k[4]=q=>m.value=q)},{"header-content":y(()=>[u("div",Gv,A(n(t)("title")),1),h(yt,{class:"select-vault",vault:n(p),all:!0,onSelectVault:k[0]||(k[0]=q=>p.value=q)},null,8,["vault"]),u("div",jv,[h(z,{modelValue:n(c),"onUpdate:modelValue":k[1]||(k[1]=q=>ce(c)?c.value=q:null),class:"search",search:!0,placeholder:n(t)("search-placeholder")},null,8,["modelValue","placeholder"]),h(R,{class:"pagination","items-count":n(L).length,"items-per-page":bo,page:n(x),onPage:n(T)},null,8,["items-count","page","onPage"])])]),row:y(q=>[u("img",{src:n(Ve)(q.item.vault)},null,8,Zv),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${q.item.liquidator}`,target:"_blank",onClick:k[2]||(k[2]=ae(()=>{},["stop"]))},A(n(Y)(q.item.liquidator)),9,Yv)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${q.item.transaction}`,target:"_blank",onClick:k[3]||(k[3]=ae(()=>{},["stop"]))},A(n(Y)(q.item.transaction)),9,Qv)]),u("div",Jv,[h(B,{type:"dollar",value:Math.round(q.item.liquidated_debt),precision:1/0},null,8,["value"])]),u("div",Xv,A(q.item.troves_affected_count),1),u("div",e_,A(n(l)(q.item.timestamp)),1)]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"]),h(j,{show:!!n(m),onClose:k[5]||(k[5]=q=>m.value=null)},{default:y(()=>[n(m)?(_(),P(Kt,{key:0,liquidation:n(m),"vault-addr":n(m).vault},null,8,["liquidation","vault-addr"])):V("",!0)]),_:1},8,["show"])],64)}}});function yo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Liquidations"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof yo=="function"&&yo(Kn);const t_=D(Kn,[["__scopeId","data-v-308fbc9e"]]),a_={style:{display:"grid","grid-template-columns":"auto 1fr"}},o_={class:"title"},n_={style:{display:"flex",gap:"1rem","grid-column":"3"}},s_=["src"],l_=["href"],r_={class:"number"},i_={class:"number"},wo=15,Wn=I({__name:"TableTroves",props:{vaults:{default:()=>[]},user:{}},emits:["troves"],setup(o,{emit:e}){const{t:a}=O(),t=E(),s=new We(H(),t.flavor),i=e,{isFetching:l,data:c}=N({queryKey:["prisma-troves",Zt(()=>o.vaults),Zt(()=>o.user)],queryFn:async({queryKey:[,z,R]})=>{if(z.length>0&&R){const B=await Promise.all(z.map(M=>s.getTroves("ethereum",M.address,R).then(j=>j.map(q=>({...q,vault:M.address}))))).then(M=>M.flat());return i("troves",B),B}else return Promise.resolve([])},initialData:[],initialDataUpdatedAt:0}),{relativeTime:p}=ke(),m=F(""),f=F("Open"),{sortColumns:r,sortColumn:v,sortOrder:g,onSort:d}=Te(["","owner","debt","coll","ratio","created","updated"],"updated"),w=b(()=>f.value==="Open"?["","Owner","Debt","Collateral","Ratio","Created At","Last Updated"]:["","Owner","","","","Created At","Last Updated"]),L=b(()=>f.value==="Open"?["owner","debt","coll","ratio","created","updated"]:["owner","created","updated"]),x=b(()=>W.chain(c.value).filter(z=>f.value===z.status).filter(z=>{const R=m.value.toLocaleLowerCase().split(" ");return(M=>R.some(j=>M.toLocaleLowerCase().includes(j)))(z.owner)}).orderBy(z=>{switch(v.value){case"owner":return z.owner;case"debt":return z.debt;case"coll":return z.collateral_usd;case"ratio":return z.collateral_ratio;case"created":return z.created_at;case"updated":return z.last_update;default:return z.last_update}},g.value).value()),{page:$,rowsPage:T,onPage:C}=$e(x,wo),k=z=>{z===0?f.value="Open":z===1?f.value="Closed":f.value="Open"};return(z,R)=>{const B=ut,M=ct,j=_e,q=we,se=oe,Hn=re;return _(),P(Hn,{class:"datatable-troves","columns-header":"1fr 14rem 2fr","columns-data":"troves-columns-data",loading:n(l),rows:n(T),columns:n(w),sorting:!0,"sorting-columns":n(r),"sorting-columns-enabled":n(L),"sorting-default-column":"updated","sorting-default-dir":"desc",onSortColumn:n(d)},{"header-content":y(()=>[u("div",a_,[u("div",o_,A(n(a)("title")),1),h(M,{class:"types",onTab:R[0]||(R[0]=fe=>k(fe.index))},{default:y(()=>[h(B,{header:"Open"}),h(B,{header:"Closed"})]),_:1})]),u("div",n_,[h(j,{modelValue:n(m),"onUpdate:modelValue":R[1]||(R[1]=fe=>ce(m)?m.value=fe:null),class:"search",search:!0,placeholder:n(a)("search-placeholder")},null,8,["modelValue","placeholder"]),h(q,{class:"pagination","items-count":n(x).length,"items-per-page":wo,page:n($),onPage:n(C)},null,8,["items-count","page","onPage"])])]),row:y(fe=>[u("img",{src:n(Ve)(fe.item.vault)},null,8,s_),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${fe.item.owner}`,target:"_blank",onClick:R[2]||(R[2]=ae(()=>{},["stop"]))},A(n(Y)(fe.item.owner)),9,l_)]),u("div",{class:U(["number",{hide:n(f)==="Closed"}])},[h(se,{type:"dollar",value:Math.round(fe.item.debt),precision:1/0},null,8,["value"])],2),u("div",{class:U(["number",{hide:n(f)==="Closed"}])},[h(se,{type:"dollar",value:Math.round(fe.item.collateral_usd),precision:1/0},null,8,["value"])],2),u("div",{class:U(["number",{hide:n(f)==="Closed"}])},[h(se,{value:fe.item.collateral_ratio*100,precision:2,type:"percentage"},null,8,["value"])],2),u("div",r_,A(n(p)(fe.item.created_at)),1),u("div",i_,A(n(p)(fe.item.last_update)),1)]),"row-details":y(()=>[G("   ")]),_:1},8,["loading","rows","columns","sorting-columns","sorting-columns-enabled","onSortColumn"])}}});function $o(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:a=>{const{normalize:t}=a;return t(["Troves"])},"search-placeholder":a=>{const{normalize:t}=a;return t(["Search for..."])}}})}typeof $o=="function"&&$o(Wn);const c_=D(Wn,[["__scopeId","data-v-06fefbfe"]]),u_={class:"profile"},d_={style:{"grid-column":"1 / -1","margin-bottom":"-0.5rem"}},p_=I({__name:"Profile.page",setup(o){const e=E(),a=et(),{address:t}=at(),s=Se().getSocket(Ee(e.flavor)),i=new Ne(s,"ethereum"),l=ge(i.overview$,[]),c=Qe("addr"),p=F(void 0),m=F([]),f=b(()=>m.value.filter(v=>p.value?v.owner.toLocaleLowerCase()===p.value.toLocaleLowerCase():!1).map(v=>v.owner));be(()=>{c.value&&(p.value=c.value)});const r=v=>{m.value=v};return K(t,async()=>{!c.value&&!p.value&&t.value&&await a.push({name:"profile",params:{addr:t.value}})},{immediate:!0}),K(c,v=>{v&&(p.value=v)}),(v,g)=>(_(),S("div",u_,[u("h2",d_," Profile: "+A(n(p)??"?"),1),h(c_,{style:{"z-index":"2"},vaults:n(l),user:n(p),onTroves:r},null,8,["vaults","user"]),h(Hv,{troves:n(f)},null,8,["troves"]),h(t_,{troves:n(f)},null,8,["troves"])]))}}),m_=D(p_,[["__scopeId","data-v-6d130a3e"]]),v_=[{path:"/",redirect:{name:"vaults"}},{path:"/pool",name:"pool",component:Vc},{path:"/stable",name:"stable",component:nu},{path:"/redemptions",name:"redemptions",component:Vu},{path:"/liquidations",name:"liquidations",component:Qu},{path:"/revenue",name:"revenue",component:vd},{path:"/vaults",name:"vaults",component:pc},{path:"/wrappers/:tab?",name:"wrappers",component:Ud},{path:"/veprisma",name:"veprisma",component:ap},{path:"/proposals",name:"proposals",component:fm},{path:"/profile/:addr?",name:"profile",component:m_},{path:"/vault/:vaultAddr/:tab?",name:"prismavault",component:wv},{path:"/vault/:vaultAddr/trove/:troveAddr",name:"prismatrove",component:Fv}],__={titleRoute:"/",menuItems:[{to:"/vaults",label:"Vaults",icon:"fas fa-piggy-bank"},{to:"/stable",label:()=>{const o=E();return ht(o.flavor)},icon:"fas fa-dollar-sign"},{to:"/pool",label:"Stability pool",icon:"fas fa-balance-scale"},{to:"/redemptions",label:"Redemptions",icon:"fas fa-bible"},{to:"/liquidations",label:"Liquidations",icon:"fas fa-book-dead"},{to:"/veprisma",label:"vePRISMA",icon:"fas fa-lock"},{to:"/proposals",label:"Proposals",icon:"fas fa-landmark"},{to:"/wrappers",label:"ve Wrappers",icon:"fas fa-tint"},{to:"/profile",label:"Profile",icon:"fas fa-user"}]},Ht=Cs(Br),f_=ks({legacy:!1,locale:"en",fallbackLocale:"en"});Ht.use(f_);const h_=Ss();Ht.use(h_);const g_=[__],b_=[v_],Nn=Vt();Nn.pages=g_;Nn.routes=b_;const y_=new Ls({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:Ts}},queryCache:new As({onError:(o,e)=>{o.message.includes("Connector not connected")||o.message.includes("connector2.getAccounts is not a function")||o.message.includes("w.getAccounts is not a function")||Je({text:`Failed querying ${e.queryHash} >>> ${o.message}`,type:"error"})}})}),w_=hi();Ht.use(w_).use(Ps).use(Is,{queryClient:y_}).use(Ds).use(xs,{config:gi}).mount("#app");
